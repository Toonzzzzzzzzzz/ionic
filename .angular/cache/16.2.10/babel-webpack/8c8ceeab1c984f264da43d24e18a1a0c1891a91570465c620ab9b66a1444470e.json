{"ast":null,"code":"// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Database variables for CoreCourse service.\n */\nexport const COURSE_STATUS_TABLE = 'course_status';\nexport const COURSE_VIEWED_MODULES_TABLE = 'course_viewed_modules';\nexport const SITE_SCHEMA = {\n  name: 'CoreCourseProvider',\n  version: 2,\n  tables: [{\n    name: COURSE_STATUS_TABLE,\n    columns: [{\n      name: 'id',\n      type: 'INTEGER',\n      primaryKey: true\n    }, {\n      name: 'status',\n      type: 'TEXT',\n      notNull: true\n    }, {\n      name: 'previous',\n      type: 'TEXT'\n    }, {\n      name: 'updated',\n      type: 'INTEGER'\n    }, {\n      name: 'downloadTime',\n      type: 'INTEGER'\n    }, {\n      name: 'previousDownloadTime',\n      type: 'INTEGER'\n    }]\n  }, {\n    name: COURSE_VIEWED_MODULES_TABLE,\n    columns: [{\n      name: 'courseId',\n      type: 'INTEGER'\n    }, {\n      name: 'cmId',\n      type: 'INTEGER'\n    }, {\n      name: 'timeaccess',\n      type: 'INTEGER',\n      notNull: true\n    }, {\n      name: 'sectionId',\n      type: 'INTEGER'\n    }],\n    primaryKeys: ['courseId', 'cmId']\n  }]\n};\n/**\n * Database variables for CoreCourseOffline service.\n */\nexport const MANUAL_COMPLETION_TABLE = 'course_manual_completion';\nexport const OFFLINE_SITE_SCHEMA = {\n  name: 'CoreCourseOfflineProvider',\n  version: 1,\n  tables: [{\n    name: MANUAL_COMPLETION_TABLE,\n    columns: [{\n      name: 'cmid',\n      type: 'INTEGER',\n      primaryKey: true\n    }, {\n      name: 'completed',\n      type: 'INTEGER'\n    }, {\n      name: 'courseid',\n      type: 'INTEGER'\n    }, {\n      name: 'coursename',\n      type: 'TEXT'\n    }, {\n      name: 'timecompleted',\n      type: 'INTEGER'\n    }]\n  }]\n};","map":{"version":3,"names":["COURSE_STATUS_TABLE","COURSE_VIEWED_MODULES_TABLE","SITE_SCHEMA","name","version","tables","columns","type","primaryKey","notNull","primaryKeys","MANUAL_COMPLETION_TABLE","OFFLINE_SITE_SCHEMA"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/course/services/database/course.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { CoreSiteSchema } from '@services/sites';\n\n/**\n * Database variables for CoreCourse service.\n */\nexport const COURSE_STATUS_TABLE = 'course_status';\nexport const COURSE_VIEWED_MODULES_TABLE = 'course_viewed_modules';\nexport const SITE_SCHEMA: CoreSiteSchema = {\n    name: 'CoreCourseProvider',\n    version: 2,\n    tables: [\n        {\n            name: COURSE_STATUS_TABLE,\n            columns: [\n                {\n                    name: 'id',\n                    type: 'INTEGER',\n                    primaryKey: true,\n                },\n                {\n                    name: 'status',\n                    type: 'TEXT',\n                    notNull: true,\n                },\n                {\n                    name: 'previous',\n                    type: 'TEXT',\n                },\n                {\n                    name: 'updated',\n                    type: 'INTEGER',\n                },\n                {\n                    name: 'downloadTime',\n                    type: 'INTEGER',\n                },\n                {\n                    name: 'previousDownloadTime',\n                    type: 'INTEGER',\n                },\n            ],\n        },\n        {\n            name: COURSE_VIEWED_MODULES_TABLE,\n            columns: [\n                {\n                    name: 'courseId',\n                    type: 'INTEGER',\n                },\n                {\n                    name: 'cmId',\n                    type: 'INTEGER',\n                },\n                {\n                    name: 'timeaccess',\n                    type: 'INTEGER',\n                    notNull: true,\n                },\n                {\n                    name: 'sectionId',\n                    type: 'INTEGER',\n                },\n            ],\n            primaryKeys: ['courseId', 'cmId'],\n        },\n    ],\n};\n\n/**\n * Database variables for CoreCourseOffline service.\n */\nexport const MANUAL_COMPLETION_TABLE = 'course_manual_completion';\nexport const OFFLINE_SITE_SCHEMA: CoreSiteSchema = {\n    name: 'CoreCourseOfflineProvider',\n    version: 1,\n    tables: [\n        {\n            name: MANUAL_COMPLETION_TABLE,\n            columns: [\n                {\n                    name: 'cmid',\n                    type: 'INTEGER',\n                    primaryKey: true,\n                },\n                {\n                    name: 'completed',\n                    type: 'INTEGER',\n                },\n                {\n                    name: 'courseid',\n                    type: 'INTEGER',\n                },\n                {\n                    name: 'coursename', // Not used  since 4.0 it can be safely removed.\n                    type: 'TEXT',\n                },\n                {\n                    name: 'timecompleted',\n                    type: 'INTEGER',\n                },\n            ],\n        },\n    ],\n};\n\nexport type CoreCourseStatusDBRecord = {\n    id: number;\n    status: string;\n    previous: string;\n    updated: number;\n    downloadTime: number;\n    previousDownloadTime: number;\n};\n\nexport type CoreCourseViewedModulesDBRecord = {\n    courseId: number;\n    cmId: number;\n    timeaccess: number;\n    sectionId?: number;\n};\n\nexport type CoreCourseManualCompletionDBRecord = {\n    cmid: number;\n    completed: number;\n    courseid: number;\n    timecompleted: number;\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;;AAGA,OAAO,MAAMA,mBAAmB,GAAG,eAAe;AAClD,OAAO,MAAMC,2BAA2B,GAAG,uBAAuB;AAClE,OAAO,MAAMC,WAAW,GAAmB;EACvCC,IAAI,EAAE,oBAAoB;EAC1BC,OAAO,EAAE,CAAC;EACVC,MAAM,EAAE,CACJ;IACIF,IAAI,EAAEH,mBAAmB;IACzBM,OAAO,EAAE,CACL;MACIH,IAAI,EAAE,IAAI;MACVI,IAAI,EAAE,SAAS;MACfC,UAAU,EAAE;KACf,EACD;MACIL,IAAI,EAAE,QAAQ;MACdI,IAAI,EAAE,MAAM;MACZE,OAAO,EAAE;KACZ,EACD;MACIN,IAAI,EAAE,UAAU;MAChBI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,SAAS;MACfI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,cAAc;MACpBI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,sBAAsB;MAC5BI,IAAI,EAAE;KACT;GAER,EACD;IACIJ,IAAI,EAAEF,2BAA2B;IACjCK,OAAO,EAAE,CACL;MACIH,IAAI,EAAE,UAAU;MAChBI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,MAAM;MACZI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,YAAY;MAClBI,IAAI,EAAE,SAAS;MACfE,OAAO,EAAE;KACZ,EACD;MACIN,IAAI,EAAE,WAAW;MACjBI,IAAI,EAAE;KACT,CACJ;IACDG,WAAW,EAAE,CAAC,UAAU,EAAE,MAAM;GACnC;CAER;AAED;;;AAGA,OAAO,MAAMC,uBAAuB,GAAG,0BAA0B;AACjE,OAAO,MAAMC,mBAAmB,GAAmB;EAC/CT,IAAI,EAAE,2BAA2B;EACjCC,OAAO,EAAE,CAAC;EACVC,MAAM,EAAE,CACJ;IACIF,IAAI,EAAEQ,uBAAuB;IAC7BL,OAAO,EAAE,CACL;MACIH,IAAI,EAAE,MAAM;MACZI,IAAI,EAAE,SAAS;MACfC,UAAU,EAAE;KACf,EACD;MACIL,IAAI,EAAE,WAAW;MACjBI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,UAAU;MAChBI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,YAAY;MAClBI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,eAAe;MACrBI,IAAI,EAAE;KACT;GAER;CAER"},"metadata":{},"sourceType":"module","externalDependencies":[]}