{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreLang } from '@services/lang';\nimport { CoreUserProfileFieldDelegate } from '@features/user/services/user-profile-field-delegate';\nimport { CoreUtils } from '@services/utils/utils';\nimport * as i0 from \"@angular/core\";\n/**\n * Directive to render user profile field.\n */\nexport class CoreUserProfileFieldComponent {\n  constructor() {\n    this.signup = false; // True if editing the field in signup. Defaults to false.\n    this.edit = false; // True if editing the field. Defaults to false.\n    this.data = {}; // Data to pass to the component.\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.field) {\n        return;\n      }\n      _this.componentClass = yield CoreUserProfileFieldDelegate.getComponent(_this.field, _this.signup);\n      if ('param1' in _this.field && _this.field.param1) {\n        _this.field.param1 = yield CoreLang.filterMultilang(_this.field.param1);\n      }\n      _this.data.field = _this.field;\n      _this.data.edit = CoreUtils.isTrueOrOne(_this.edit);\n      _this.data.contextLevel = _this.contextLevel;\n      _this.data.contextInstanceId = _this.contextInstanceId;\n      _this.data.courseId = _this.courseId;\n      if (_this.edit) {\n        _this.data.signup = CoreUtils.isTrueOrOne(_this.signup);\n        _this.data.disabled = 'locked' in _this.field && CoreUtils.isTrueOrOne(_this.field.locked);\n        _this.data.form = _this.form;\n        _this.data.registerAuth = _this.registerAuth;\n      }\n    })();\n  }\n}\n_class = CoreUserProfileFieldComponent;\n_class.ɵfac = function CoreUserProfileFieldComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"core-user-profile-field\"]],\n  inputs: {\n    field: \"field\",\n    signup: \"signup\",\n    edit: \"edit\",\n    form: \"form\",\n    registerAuth: \"registerAuth\",\n    contextLevel: \"contextLevel\",\n    contextInstanceId: \"contextInstanceId\",\n    courseId: \"courseId\"\n  },\n  decls: 1,\n  vars: 2,\n  consts: [[3, \"component\", \"data\"]],\n  template: function CoreUserProfileFieldComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"core-dynamic-component\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"component\", ctx.componentClass)(\"data\", ctx.data);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"names":["CoreLang","CoreUserProfileFieldDelegate","CoreUtils","CoreUserProfileFieldComponent","constructor","signup","edit","data","ngOnInit","_this","_asyncToGenerator","field","componentClass","getComponent","param1","filterMultilang","isTrueOrOne","contextLevel","contextInstanceId","courseId","disabled","locked","form","registerAuth","selectors","inputs","decls","vars","consts","template","CoreUserProfileFieldComponent_Template","rf","ctx","i0","ɵɵelement","ɵɵproperty"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/user/components/user-profile-field/user-profile-field.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/user/components/user-profile-field/core-user-profile-field.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input, OnInit, Type } from '@angular/core';\nimport { FormGroup } from '@angular/forms';\nimport { CoreLang } from '@services/lang';\nimport { AuthEmailSignupProfileField } from '@features/login/services/login-helper';\nimport { CoreUserProfileField } from '@features/user/services/user';\nimport { CoreUserProfileFieldDelegate } from '@features/user/services/user-profile-field-delegate';\nimport { CoreUtils } from '@services/utils/utils';\n\n/**\n * Directive to render user profile field.\n */\n@Component({\n    selector: 'core-user-profile-field',\n    templateUrl: 'core-user-profile-field.html',\n})\nexport class CoreUserProfileFieldComponent implements OnInit {\n\n    @Input() field?: AuthEmailSignupProfileField | CoreUserProfileField; // The profile field to be rendered.\n    @Input() signup = false; // True if editing the field in signup. Defaults to false.\n    @Input() edit = false; // True if editing the field. Defaults to false.\n    @Input() form?: FormGroup; // Form where to add the form control. Required if edit=true or signup=true.\n    @Input() registerAuth?: string; // Register auth method. E.g. 'email'.\n    @Input() contextLevel?: string; // The context level.\n    @Input() contextInstanceId?: number; // The instance ID related to the context.\n    @Input() courseId?: number; // Course ID the field belongs to (if any). It can be used to improve performance with filters.\n\n    componentClass?: Type<unknown>; // The class of the component to render.\n    data: CoreUserProfileFieldComponentData = {}; // Data to pass to the component.\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        if (!this.field) {\n            return;\n        }\n\n        this.componentClass = await CoreUserProfileFieldDelegate.getComponent(this.field, this.signup);\n\n        if ('param1' in this.field && this.field.param1) {\n            this.field.param1 = await CoreLang.filterMultilang(this.field.param1);\n        }\n\n        this.data.field = this.field;\n        this.data.edit = CoreUtils.isTrueOrOne(this.edit);\n        this.data.contextLevel = this.contextLevel;\n        this.data.contextInstanceId = this.contextInstanceId;\n        this.data.courseId = this.courseId;\n\n        if (this.edit) {\n            this.data.signup = CoreUtils.isTrueOrOne(this.signup);\n            this.data.disabled = 'locked' in this.field && CoreUtils.isTrueOrOne(this.field.locked);\n            this.data.form = this.form;\n            this.data.registerAuth = this.registerAuth;\n        }\n    }\n\n}\n\nexport type CoreUserProfileFieldComponentData = {\n    field?: AuthEmailSignupProfileField | CoreUserProfileField;\n    edit?: boolean;\n    signup?: boolean;\n    disabled?: boolean;\n    form?: FormGroup;\n    registerAuth?: string;\n    contextLevel?: string;\n    contextInstanceId?: number;\n    courseId?: number;\n};\n","<core-dynamic-component [component]=\"componentClass\" [data]=\"data\" />\n"],"mappings":";;AAgBA,SAASA,QAAQ,QAAQ,gBAAgB;AAGzC,SAASC,4BAA4B,QAAQ,qDAAqD;AAClG,SAASC,SAAS,QAAQ,uBAAuB;;AAEjD;;;AAOA,OAAM,MAAOC,6BAA6B;EAJ1CC,YAAA;IAOa,KAAAC,MAAM,GAAG,KAAK,CAAC,CAAC;IAChB,KAAAC,IAAI,GAAG,KAAK,CAAC,CAAC;IAQvB,KAAAC,IAAI,GAAsC,EAAE,CAAC,CAAC;;EAE9C;;;EAGMC,QAAQA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACV,IAAI,CAACD,KAAI,CAACE,KAAK,EAAE;QACb;;MAGJF,KAAI,CAACG,cAAc,SAASX,4BAA4B,CAACY,YAAY,CAACJ,KAAI,CAACE,KAAK,EAAEF,KAAI,CAACJ,MAAM,CAAC;MAE9F,IAAI,QAAQ,IAAII,KAAI,CAACE,KAAK,IAAIF,KAAI,CAACE,KAAK,CAACG,MAAM,EAAE;QAC7CL,KAAI,CAACE,KAAK,CAACG,MAAM,SAASd,QAAQ,CAACe,eAAe,CAACN,KAAI,CAACE,KAAK,CAACG,MAAM,CAAC;;MAGzEL,KAAI,CAACF,IAAI,CAACI,KAAK,GAAGF,KAAI,CAACE,KAAK;MAC5BF,KAAI,CAACF,IAAI,CAACD,IAAI,GAAGJ,SAAS,CAACc,WAAW,CAACP,KAAI,CAACH,IAAI,CAAC;MACjDG,KAAI,CAACF,IAAI,CAACU,YAAY,GAAGR,KAAI,CAACQ,YAAY;MAC1CR,KAAI,CAACF,IAAI,CAACW,iBAAiB,GAAGT,KAAI,CAACS,iBAAiB;MACpDT,KAAI,CAACF,IAAI,CAACY,QAAQ,GAAGV,KAAI,CAACU,QAAQ;MAElC,IAAIV,KAAI,CAACH,IAAI,EAAE;QACXG,KAAI,CAACF,IAAI,CAACF,MAAM,GAAGH,SAAS,CAACc,WAAW,CAACP,KAAI,CAACJ,MAAM,CAAC;QACrDI,KAAI,CAACF,IAAI,CAACa,QAAQ,GAAG,QAAQ,IAAIX,KAAI,CAACE,KAAK,IAAIT,SAAS,CAACc,WAAW,CAACP,KAAI,CAACE,KAAK,CAACU,MAAM,CAAC;QACvFZ,KAAI,CAACF,IAAI,CAACe,IAAI,GAAGb,KAAI,CAACa,IAAI;QAC1Bb,KAAI,CAACF,IAAI,CAACgB,YAAY,GAAGd,KAAI,CAACc,YAAY;;IAC7C;EACL;;SAxCSpB,6BAA6B;;mBAA7BA,MAA6B;AAAA;;QAA7BA,MAA6B;EAAAqB,SAAA;EAAAC,MAAA;IAAAd,KAAA;IAAAN,MAAA;IAAAC,IAAA;IAAAgB,IAAA;IAAAC,YAAA;IAAAN,YAAA;IAAAC,iBAAA;IAAAC,QAAA;EAAA;EAAAO,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,uCAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MC7B1CE,EAAA,CAAAC,SAAA,gCAAqE;;;MAA7CD,EAAA,CAAAE,UAAA,cAAAH,GAAA,CAAApB,cAAA,CAA4B,SAAAoB,GAAA,CAAAzB,IAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}