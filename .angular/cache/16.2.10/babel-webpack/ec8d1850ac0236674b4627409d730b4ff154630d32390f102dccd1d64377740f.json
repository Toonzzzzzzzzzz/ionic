{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nvar _class;\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { EventEmitter } from '@angular/core';\nimport { CoreEvents } from '@singletons/events';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreTimeUtils } from '@services/utils/time';\nimport { CoreUtils } from '@services/utils/utils';\nimport { AddonCalendar, AddonCalendarProvider } from '../../services/calendar';\nimport { AddonCalendarHelper } from '../../services/calendar-helper';\nimport { AddonCalendarOffline } from '../../services/calendar-offline';\nimport { CoreCourses } from '@features/courses/services/courses';\nimport { CoreNetwork } from '@services/network';\nimport { CoreSwipeSlidesComponent } from '@components/swipe-slides/swipe-slides';\nimport { CoreSwipeSlidesDynamicItemsManagerSource } from '@classes/items-management/swipe-slides-dynamic-items-manager-source';\nimport { CoreSwipeSlidesDynamicItemsManager } from '@classes/items-management/swipe-slides-dynamic-items-manager';\nimport moment from 'moment-timezone';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\nimport { CoreUrlUtils } from '@services/utils/url';\nimport { CoreTime } from '@singletons/time';\nimport { Translate } from '@singletons';\nimport * as i0 from \"@angular/core\";\nfunction AddonCalendarCalendarComponent_core_context_menu_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"core-context-menu-item\", 12);\n    i0.ɵɵlistener(\"action\", function AddonCalendarCalendarComponent_core_context_menu_item_2_Template_core_context_menu_item_action_0_listener() {\n      i0.ɵɵrestoreView(_r6);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.goToCurrentMonth());\n    });\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"priority\", 900)(\"content\", i0.ɵɵpipeBind1(1, 2, \"addon.calendar.currentmonth\"));\n  }\n}\nfunction AddonCalendarCalendarComponent_ion_col_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-col\", 13)(1, \"ion-button\", 14);\n    i0.ɵɵlistener(\"click\", function AddonCalendarCalendarComponent_ion_col_7_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.loadPrevious());\n    });\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelement(3, \"ion-icon\", 15);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(2, 1, \"core.previous\"));\n  }\n}\nfunction AddonCalendarCalendarComponent_ion_spinner_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-spinner\", 16);\n  }\n}\nfunction AddonCalendarCalendarComponent_ion_col_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-col\", 17)(1, \"ion-button\", 14);\n    i0.ɵɵlistener(\"click\", function AddonCalendarCalendarComponent_ion_col_12_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r9.loadNext());\n    });\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelement(3, \"ion-icon\", 18);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(2, 1, \"core.next\"));\n  }\n}\nfunction AddonCalendarCalendarComponent_ng_template_14_ion_col_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-col\", 24)(1, \"span\", 25);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 26);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 27);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const day_r15 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 3, day_r15.fullname));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 5, day_r15.shortname));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 7, day_r15.fullname));\n  }\n}\nfunction AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-col\", 31);\n  }\n}\nfunction AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\");\n  }\n  if (rf & 2) {\n    const type_r24 = ctx.$implicit;\n    i0.ɵɵclassMapInterpolate1(\"calendar_event_type calendar_event_\", type_r24, \"\");\n  }\n}\nfunction AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_ion_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 48);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.notsent\"));\n  }\n}\nfunction AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_ion_icon_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 49);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.deletedoffline\"));\n  }\n}\nfunction AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_span_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const event_r27 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", event_r27.iconTitle, \" \");\n  }\n}\nfunction AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 42);\n    i0.ɵɵlistener(\"ariaButtonClick\", function AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_Template_div_ariaButtonClick_0_listener($event) {\n      i0.ɵɵrestoreView(_r36);\n      const event_r27 = i0.ɵɵnextContext().$implicit;\n      const ctx_r34 = i0.ɵɵnextContext(5);\n      return i0.ɵɵresetView(ctx_r34.eventClicked(event_r27, $event));\n    });\n    i0.ɵɵelement(1, \"span\");\n    i0.ɵɵtemplate(2, AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_ion_icon_2_Template, 2, 3, \"ion-icon\", 43);\n    i0.ɵɵtemplate(3, AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_ion_icon_3_Template, 2, 3, \"ion-icon\", 44);\n    i0.ɵɵelementStart(4, \"span\", 45);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"coreFormatDate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"span\", 25);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵtemplate(10, AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_span_10_Template, 2, 1, \"span\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"span\", 47);\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const event_r27 = i0.ɵɵnextContext().$implicit;\n    const activeView_r12 = i0.ɵɵnextContext(4).active;\n    const ctx_r29 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"addon-calendar-event-past\", event_r27.ispast);\n    i0.ɵɵproperty(\"tabindex\", activeView_r12 ? 0 : -1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"calendar_event_type calendar_event_\", event_r27.formattedType, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", event_r27.offline && !event_r27.deleted);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", event_r27.deleted);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(6, 12, event_r27.timestart * 1000, ctx_r29.timeFormat), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(9, 15, \"addon.calendar.type\" + event_r27.formattedType), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", event_r27.iconTitle);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(event_r27.name);\n  }\n}\nfunction AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_Template, 13, 17, \"div\", 41);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const index_r28 = ctx.index;\n    const day_r21 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", index_r28 < 3 || day_r21.filteredEvents.length === 4);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    $a: a0\n  };\n};\nfunction AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 50)(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const day_r21 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(3, 1, \"core.nummore\", i0.ɵɵpureFunction1(4, _c0, day_r21.filteredEvents.length - 3)));\n  }\n}\nfunction AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38);\n    i0.ɵɵtemplate(1, AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_Template, 2, 1, \"ng-container\", 39);\n    i0.ɵɵpipe(2, \"slice\");\n    i0.ɵɵtemplate(3, AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_p_3_Template, 4, 6, \"p\", 40);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const day_r21 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(2, 2, day_r21.filteredEvents, 0, 4));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", day_r21.filteredEvents.length > 4);\n  }\n}\nconst _c1 = function (a0, a1, a2, a3) {\n  return {\n    \"hasevents\": a0,\n    \"today\": a1,\n    \"weekend\": a2,\n    \"duration_finish\": a3\n  };\n};\nfunction AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r43 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-col\", 32);\n    i0.ɵɵlistener(\"ariaButtonClick\", function AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_Template_ion_col_ariaButtonClick_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r43);\n      const day_r21 = restoredCtx.$implicit;\n      const ctx_r42 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r42.dayClicked(day_r21.mday));\n    });\n    i0.ɵɵelementStart(1, \"p\", 33)(2, \"span\", 34);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"span\", 25);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"p\", 35);\n    i0.ɵɵtemplate(8, AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_span_8_Template, 1, 3, \"span\", 36);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_Template, 4, 6, \"div\", 37);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const day_r21 = ctx.$implicit;\n    const ctx_r44 = i0.ɵɵnextContext(2);\n    const month_r11 = ctx_r44.item;\n    const activeView_r12 = ctx_r44.active;\n    i0.ɵɵclassProp(\"addon-calendar-event-past-day\", month_r11.isPastMonth || day_r21.ispast);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction4(10, _c1, day_r21.hasevents, month_r11.isCurrentMonth && day_r21.istoday, day_r21.isweekend, day_r21.haslastdayofevent))(\"tabindex\", activeView_r12 ? 0 : -1);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(day_r21.mday);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 8, day_r21.periodName));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", day_r21.calendareventtypes);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", day_r21.filteredEvents);\n  }\n}\nfunction AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-col\", 31);\n  }\n}\nfunction AddonCalendarCalendarComponent_ng_template_14_ion_row_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-row\", 28);\n    i0.ɵɵtemplate(1, AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_1_Template, 1, 0, \"ion-col\", 29);\n    i0.ɵɵtemplate(2, AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_Template, 10, 15, \"ion-col\", 30);\n    i0.ɵɵtemplate(3, AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_3_Template, 1, 0, \"ion-col\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const week_r16 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", week_r16.prepadding);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", week_r16.days);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", week_r16.postpadding);\n  }\n}\nfunction AddonCalendarCalendarComponent_ng_template_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-grid\", 19)(1, \"div\", 20)(2, \"ion-row\", 21);\n    i0.ɵɵtemplate(3, AddonCalendarCalendarComponent_ng_template_14_ion_col_3_Template, 10, 9, \"ion-col\", 22);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"div\", 20);\n    i0.ɵɵtemplate(5, AddonCalendarCalendarComponent_ng_template_14_ion_row_5_Template, 4, 3, \"ion-row\", 23);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const month_r11 = ctx.item;\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", month_r11.weekDays);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", month_r11.weeks);\n  }\n}\n/**\n * Component that displays a calendar.\n */\nexport class AddonCalendarCalendarComponent {\n  constructor(differs) {\n    var _this$filter;\n    this.onEventClicked = new EventEmitter();\n    this.onDayClicked = new EventEmitter();\n    this.loaded = false;\n    this.currentSiteId = CoreSites.getCurrentSiteId();\n    // Listen for events \"undeleted\" (offline).\n    this.undeleteEventObserver = CoreEvents.on(AddonCalendarProvider.UNDELETED_EVENT_EVENT, data => {\n      var _this$manager$getSour, _this$manager;\n      if (!data || !data.eventId) {\n        return;\n      }\n      // Mark it as undeleted, no need to refresh.\n      this.undeleteEvent(data.eventId);\n      // Remove it from the list of deleted events if it's there.\n      const index = (_this$manager$getSour = (_this$manager = this.manager) === null || _this$manager === void 0 ? void 0 : _this$manager.getSource().deletedEvents.indexOf(data.eventId)) !== null && _this$manager$getSour !== void 0 ? _this$manager$getSour : -1;\n      if (index != -1) {\n        var _this$manager2;\n        (_this$manager2 = this.manager) === null || _this$manager2 === void 0 || _this$manager2.getSource().deletedEvents.splice(index, 1);\n      }\n    }, this.currentSiteId);\n    this.hiddenDiffer = this.hidden;\n    this.filterDiffer = differs.find((_this$filter = this.filter) !== null && _this$filter !== void 0 ? _this$filter : {}).create();\n    this.logView = CoreTime.once(() => {\n      var _this$manager3, _this$filter2;\n      const month = (_this$manager3 = this.manager) === null || _this$manager3 === void 0 ? void 0 : _this$manager3.getSelectedItem();\n      if (!month) {\n        return;\n      }\n      const params = {\n        course: (_this$filter2 = this.filter) === null || _this$filter2 === void 0 ? void 0 : _this$filter2.courseId,\n        time: month.moment.unix()\n      };\n      CoreAnalytics.logEvent({\n        type: CoreAnalyticsEventType.VIEW_ITEM_LIST,\n        ws: 'core_calendar_get_calendar_monthly_view',\n        name: Translate.instant('addon.calendar.detailedmonthviewtitle', {\n          $a: this.periodName\n        }),\n        data: _objectSpread(_objectSpread({}, params), {}, {\n          category: 'calendar'\n        }),\n        url: CoreUrlUtils.addParamsToUrl('/calendar/view.php?view=month', params)\n      });\n    });\n  }\n  get hiddenAttribute() {\n    return this.hidden ? 'hidden' : null;\n  }\n  /**\n   * Component loaded.\n   */\n  ngOnInit() {\n    this.canNavigate = typeof this.canNavigate == 'undefined' ? true : CoreUtils.isTrueOrOne(this.canNavigate);\n    this.displayNavButtons = typeof this.displayNavButtons == 'undefined' ? true : CoreUtils.isTrueOrOne(this.displayNavButtons);\n    const source = new AddonCalendarMonthSlidesItemsManagerSource(this, moment({\n      year: this.initialYear,\n      month: this.initialMonth ? this.initialMonth - 1 : undefined\n    }).startOf('month'));\n    this.manager = new CoreSwipeSlidesDynamicItemsManager(source);\n    this.managerUnsubscribe = this.manager.addListener({\n      onSelectedItemUpdated: item => {\n        this.onMonthViewed(item);\n      }\n    });\n    this.fetchData();\n  }\n  /**\n   * Detect and act upon changes that Angular can’t or won’t detect on its own (objects and arrays).\n   */\n  ngDoCheck() {\n    var _this$manager4;\n    const items = (_this$manager4 = this.manager) === null || _this$manager4 === void 0 ? void 0 : _this$manager4.getSource().getItems();\n    if (items !== null && items !== void 0 && items.length) {\n      var _this$filter3;\n      // Check if there's any change in the filter object.\n      const changes = this.filterDiffer.diff((_this$filter3 = this.filter) !== null && _this$filter3 !== void 0 ? _this$filter3 : {});\n      if (changes) {\n        items.forEach(month => {\n          if (month.loaded && month.weeks) {\n            var _this$manager5;\n            (_this$manager5 = this.manager) === null || _this$manager5 === void 0 || _this$manager5.getSource().filterEvents(month.weeks, this.filter);\n          }\n        });\n      }\n    }\n    if (this.hiddenDiffer !== this.hidden) {\n      this.hiddenDiffer = this.hidden;\n      if (!this.hidden) {\n        var _this$swipeSlidesComp;\n        (_this$swipeSlidesComp = this.swipeSlidesComponent) === null || _this$swipeSlidesComp === void 0 || _this$swipeSlidesComp.updateSlidesComponent();\n      }\n    }\n  }\n  get timeFormat() {\n    var _this$manager6;\n    return ((_this$manager6 = this.manager) === null || _this$manager6 === void 0 ? void 0 : _this$manager6.getSource().timeFormat) || 'core.strftimetime';\n  }\n  /**\n   * Fetch contacts.\n   *\n   * @returns Promise resolved when done.\n   */\n  fetchData() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        var _this$manager7, _this$manager8, _this$manager9;\n        yield (_this$manager7 = _this.manager) === null || _this$manager7 === void 0 ? void 0 : _this$manager7.getSource().fetchData();\n        yield (_this$manager8 = _this.manager) === null || _this$manager8 === void 0 ? void 0 : _this$manager8.getSource().load((_this$manager9 = _this.manager) === null || _this$manager9 === void 0 ? void 0 : _this$manager9.getSelectedItem());\n        _this.logView();\n      } catch (error) {\n        CoreDomUtils.showErrorModalDefault(error, 'addon.calendar.errorloadevents', true);\n      }\n      _this.loaded = true;\n    })();\n  }\n  /**\n   * Update data related to month being viewed.\n   *\n   * @param month Month being viewed.\n   */\n  onMonthViewed(month) {\n    // Calculate the period name. We don't use the one in result because it's in server's language.\n    this.periodName = CoreTimeUtils.userDate(month.moment.unix() * 1000, 'core.strftimemonthyear');\n  }\n  /**\n   * Refresh events.\n   *\n   * @param afterChange Whether the refresh is done after an event has changed or has been synced.\n   * @returns Promise resolved when done.\n   */\n  refreshData(afterChange = false) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      var _this2$manager, _this2$manager3;\n      const selectedMonth = ((_this2$manager = _this2.manager) === null || _this2$manager === void 0 ? void 0 : _this2$manager.getSelectedItem()) || null;\n      if (afterChange) {\n        var _this2$manager2;\n        (_this2$manager2 = _this2.manager) === null || _this2$manager2 === void 0 || _this2$manager2.getSource().markAllItemsDirty();\n      }\n      yield (_this2$manager3 = _this2.manager) === null || _this2$manager3 === void 0 ? void 0 : _this2$manager3.getSource().invalidateContent(selectedMonth);\n      yield _this2.fetchData();\n    })();\n  }\n  /**\n   * Load next month.\n   */\n  loadNext() {\n    var _this$swipeSlidesComp2;\n    (_this$swipeSlidesComp2 = this.swipeSlidesComponent) === null || _this$swipeSlidesComp2 === void 0 || _this$swipeSlidesComp2.slideNext();\n  }\n  /**\n   * Load previous month.\n   */\n  loadPrevious() {\n    var _this$swipeSlidesComp3;\n    (_this$swipeSlidesComp3 = this.swipeSlidesComponent) === null || _this$swipeSlidesComp3 === void 0 || _this$swipeSlidesComp3.slidePrev();\n  }\n  /**\n   * An event was clicked.\n   *\n   * @param calendarEvent Calendar event..\n   * @param event Mouse event.\n   */\n  eventClicked(calendarEvent, event) {\n    this.onEventClicked.emit(calendarEvent.id);\n    event.stopPropagation();\n  }\n  /**\n   * A day was clicked.\n   *\n   * @param day Day.\n   */\n  dayClicked(day) {\n    var _this$manager10;\n    const selectedMonth = (_this$manager10 = this.manager) === null || _this$manager10 === void 0 ? void 0 : _this$manager10.getSelectedItem();\n    if (!selectedMonth) {\n      return;\n    }\n    this.onDayClicked.emit({\n      day: day,\n      month: selectedMonth.moment.month() + 1,\n      year: selectedMonth.moment.year()\n    });\n  }\n  /**\n   * Go to current month.\n   */\n  goToCurrentMonth() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const currentMoment = moment();\n      yield _this3.viewMonth(currentMoment.month() + 1, currentMoment.year());\n    })();\n  }\n  /**\n   * Check whether selected month is loaded.\n   *\n   * @returns If selected month has been loaded.\n   */\n  selectedMonthLoaded() {\n    var _this$manager11;\n    return !!((_this$manager11 = this.manager) !== null && _this$manager11 !== void 0 && (_this$manager11 = _this$manager11.getSelectedItem()) !== null && _this$manager11 !== void 0 && _this$manager11.loaded);\n  }\n  /**\n   * Check whether selected month is current month.\n   *\n   * @returns If selected month is the current.\n   */\n  selectedMonthIsCurrent() {\n    var _this$manager12;\n    return !!((_this$manager12 = this.manager) !== null && _this$manager12 !== void 0 && (_this$manager12 = _this$manager12.getSelectedItem()) !== null && _this$manager12 !== void 0 && _this$manager12.isCurrentMonth);\n  }\n  /**\n   * Undelete a certain event.\n   *\n   * @param eventId Event ID.\n   */\n  undeleteEvent(eventId) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      var _this4$manager;\n      (_this4$manager = _this4.manager) === null || _this4$manager === void 0 || (_this4$manager = _this4$manager.getSource().getItems()) === null || _this4$manager === void 0 || _this4$manager.some(month => {\n        var _month$weeks;\n        if (!month.loaded) {\n          return false;\n        }\n        return (_month$weeks = month.weeks) === null || _month$weeks === void 0 ? void 0 : _month$weeks.some(week => week.days.some(day => {\n          var _day$eventsFormated;\n          const event = (_day$eventsFormated = day.eventsFormated) === null || _day$eventsFormated === void 0 ? void 0 : _day$eventsFormated.find(event => event.id == eventId);\n          if (event) {\n            event.deleted = false;\n            return true;\n          }\n          return false;\n        }));\n      });\n    })();\n  }\n  /**\n   * View a certain month and year.\n   *\n   * @param month Month.\n   * @param year Year.\n   */\n  viewMonth(month, year) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      const manager = _this5.manager;\n      if (!manager || !_this5.swipeSlidesComponent) {\n        return;\n      }\n      _this5.loaded = false;\n      const item = {\n        moment: moment({\n          year,\n          month: month - 1\n        })\n      };\n      try {\n        // Make sure the day is loaded.\n        yield manager.getSource().loadItem(item);\n        _this5.swipeSlidesComponent.slideToItem(item);\n      } catch (error) {\n        CoreDomUtils.showErrorModalDefault(error, 'addon.calendar.errorloadevents', true);\n      } finally {\n        _this5.loaded = true;\n      }\n    })();\n  }\n  /**\n   * Component destroyed.\n   */\n  ngOnDestroy() {\n    var _this$undeleteEventOb, _this$manager13, _this$managerUnsubscr;\n    (_this$undeleteEventOb = this.undeleteEventObserver) === null || _this$undeleteEventOb === void 0 || _this$undeleteEventOb.off();\n    (_this$manager13 = this.manager) === null || _this$manager13 === void 0 || _this$manager13.destroy();\n    (_this$managerUnsubscr = this.managerUnsubscribe) === null || _this$managerUnsubscr === void 0 || _this$managerUnsubscr.call(this);\n    delete this.manager;\n  }\n}\n/**\n * Helper to manage swiping within months.\n */\n_class = AddonCalendarCalendarComponent;\n_class.ɵfac = function AddonCalendarCalendarComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i0.KeyValueDiffers));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"addon-calendar-calendar\"]],\n  viewQuery: function AddonCalendarCalendarComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(CoreSwipeSlidesComponent, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.swipeSlidesComponent = _t.first);\n    }\n  },\n  hostVars: 1,\n  hostBindings: function AddonCalendarCalendarComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵattribute(\"hidden\", ctx.hiddenAttribute);\n    }\n  },\n  inputs: {\n    initialYear: \"initialYear\",\n    initialMonth: \"initialMonth\",\n    filter: \"filter\",\n    hidden: \"hidden\",\n    canNavigate: \"canNavigate\",\n    displayNavButtons: \"displayNavButtons\"\n  },\n  outputs: {\n    onEventClicked: \"onEventClicked\",\n    onDayClicked: \"onDayClicked\"\n  },\n  decls: 15,\n  vars: 7,\n  consts: [[\"slot\", \"end\", \"prepend\", \"\"], [\"iconAction\", \"fas-calendar-day\", 3, \"priority\", \"content\", \"action\", 4, \"ngIf\"], [3, \"hideUntil\"], [1, \"core-swipe-slides-container\"], [1, \"ion-no-padding\", \"addon-calendar-navigation\"], [1, \"ion-align-items-center\"], [\"class\", \"ion-text-start\", 4, \"ngIf\"], [1, \"ion-text-center\", \"addon-calendar-period\"], [\"id\", \"addon-calendar-monthname\"], [\"class\", \"addon-calendar-loading-month\", 4, \"ngIf\"], [\"class\", \"ion-text-end\", 4, \"ngIf\"], [3, \"manager\"], [\"iconAction\", \"fas-calendar-day\", 3, \"priority\", \"content\", \"action\"], [1, \"ion-text-start\"], [\"fill\", \"clear\", 3, \"click\"], [\"name\", \"fas-chevron-left\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [1, \"addon-calendar-loading-month\"], [1, \"ion-text-end\"], [\"name\", \"fas-chevron-right\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [\"role\", \"table\", \"aria-describedby\", \"addon-calendar-monthname\", 1, \"addon-calendar-months\"], [\"role\", \"rowgroup\"], [\"role\", \"row\"], [\"class\", \"ion-text-center addon-calendar-weekday\", \"role\", \"columnheader\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"addon-calendar-week\", \"role\", \"row\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"columnheader\", 1, \"ion-text-center\", \"addon-calendar-weekday\"], [1, \"sr-only\"], [\"aria-hidden\", \"true\", 1, \"ion-hide-md-up\"], [\"aria-hidden\", \"true\", 1, \"ion-hide-md-down\"], [\"role\", \"row\", 1, \"addon-calendar-week\"], [\"class\", \"dayblank addon-calendar-day\", \"role\", \"cell\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"addon-calendar-day ion-text-center\", \"role\", \"cell\", 3, \"ngClass\", \"addon-calendar-event-past-day\", \"tabindex\", \"ariaButtonClick\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"cell\", 1, \"dayblank\", \"addon-calendar-day\"], [\"role\", \"cell\", 1, \"addon-calendar-day\", \"ion-text-center\", 3, \"ngClass\", \"tabindex\", \"ariaButtonClick\"], [1, \"addon-calendar-day-number\"], [\"aria-hidden\", \"true\"], [1, \"ion-hide-md-up\", \"addon-calendar-dot-types\"], [3, \"class\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"ion-hide-md-down addon-calendar-day-events\", 4, \"ngIf\"], [1, \"ion-hide-md-down\", \"addon-calendar-day-events\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"addon-calendar-day-more\", 4, \"ngIf\"], [\"class\", \"addon-calendar-event\", 3, \"addon-calendar-event-past\", \"tabindex\", \"ariaButtonClick\", 4, \"ngIf\"], [1, \"addon-calendar-event\", 3, \"tabindex\", \"ariaButtonClick\"], [\"name\", \"fas-clock\", 4, \"ngIf\"], [\"name\", \"fas-trash\", 4, \"ngIf\"], [1, \"addon-calendar-event-time\"], [\"class\", \"sr-only\", 4, \"ngIf\"], [1, \"addon-calendar-event-name\"], [\"name\", \"fas-clock\"], [\"name\", \"fas-trash\"], [1, \"addon-calendar-day-more\"]],\n  template: function AddonCalendarCalendarComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"core-navbar-buttons\", 0)(1, \"core-context-menu\");\n      i0.ɵɵtemplate(2, AddonCalendarCalendarComponent_core_context_menu_item_2_Template, 2, 4, \"core-context-menu-item\", 1);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(3, \"core-loading\", 2)(4, \"div\", 3)(5, \"ion-grid\", 4)(6, \"ion-row\", 5);\n      i0.ɵɵtemplate(7, AddonCalendarCalendarComponent_ion_col_7_Template, 4, 3, \"ion-col\", 6);\n      i0.ɵɵelementStart(8, \"ion-col\", 7)(9, \"h2\", 8);\n      i0.ɵɵtext(10);\n      i0.ɵɵtemplate(11, AddonCalendarCalendarComponent_ion_spinner_11_Template, 1, 0, \"ion-spinner\", 9);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(12, AddonCalendarCalendarComponent_ion_col_12_Template, 4, 3, \"ion-col\", 10);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(13, \"core-swipe-slides\", 11);\n      i0.ɵɵtemplate(14, AddonCalendarCalendarComponent_ng_template_14_Template, 6, 2, \"ng-template\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.canNavigate && !ctx.selectedMonthIsCurrent() && ctx.displayNavButtons);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hideUntil\", ctx.loaded);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", ctx.canNavigate);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate1(\" \", ctx.periodName, \" \");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.selectedMonthLoaded());\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.canNavigate);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"manager\", ctx.manager);\n    }\n  },\n  styles: [\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n[_nghost-%COMP%] {\\n  --addon-calendar-blank-day-background-color: var(--light);\\n}\\n[_nghost-%COMP%]   .core-swipe-slides-container[_ngcontent-%COMP%]   ion-grid[_ngcontent-%COMP%] {\\n  flex: none;\\n  width: 100%;\\n}\\n[_nghost-%COMP%]   .addon-calendar-navigation[_ngcontent-%COMP%] {\\n  padding-top: 5px;\\n  padding-left: 10px;\\n  padding-right: 10px;\\n}\\n[_nghost-%COMP%]   .addon-calendar-months[_ngcontent-%COMP%] {\\n  background-color: var(--contrast-background);\\n  padding: 0;\\n  font-size: var(--text-size);\\n}\\n[_nghost-%COMP%]   .addon-calendar-day[_ngcontent-%COMP%] {\\n  border-bottom: 1px solid var(--addon-calendar-border-color);\\n  -webkit-border-end: 1px solid var(--addon-calendar-border-color);\\n  border-inline-end: 1px solid var(--addon-calendar-border-color);\\n  overflow: hidden;\\n  min-height: 60px;\\n}\\n[_nghost-%COMP%]   .addon-calendar-day[_ngcontent-%COMP%]:first-child {\\n  -webkit-padding-start: 10px;\\n  padding-inline-start: 10px;\\n}\\n[_nghost-%COMP%]   .addon-calendar-day[_ngcontent-%COMP%]:last-child {\\n  -webkit-border-end: 0;\\n  border-inline-end: 0;\\n  -webkit-padding-start: 8px;\\n  padding-inline-start: 8px;\\n}\\n[_nghost-%COMP%]   .addon-calendar-day.addon-calendar-event-past-day[_ngcontent-%COMP%]    > .addon-calendar-dot-types[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-calendar-day.addon-calendar-event-past-day[_ngcontent-%COMP%]    > .addon-calendar-day-events[_ngcontent-%COMP%] {\\n  opacity: 0.5;\\n}\\n[_nghost-%COMP%]   .addon-calendar-day[_ngcontent-%COMP%]   .addon-calendar-day-number[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n[_nghost-%COMP%]   .addon-calendar-day[_ngcontent-%COMP%]   .addon-calendar-day-number[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  line-height: 24px;\\n  font-weight: 500;\\n  display: inline-block;\\n  margin: 3px;\\n  width: -webkit-max-content;\\n  width: max-content;\\n  width: 24px;\\n  height: 24px;\\n  text-align: center;\\n}\\n@media (min-width: 768px) {\\n  [_nghost-%COMP%]   .addon-calendar-day[_ngcontent-%COMP%]   .addon-calendar-day-number[_ngcontent-%COMP%] {\\n    text-align: start;\\n  }\\n}\\n[_nghost-%COMP%]   .addon-calendar-day.today[_ngcontent-%COMP%]   .addon-calendar-day-number[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  border: 2px solid var(--addon-calendar-today-border-color);\\n  line-height: 20px;\\n  border-radius: 50%;\\n}\\n[_nghost-%COMP%]   .addon-calendar-day.dayblank[_ngcontent-%COMP%] {\\n  cursor: auto;\\n  background-color: var(--addon-calendar-blank-day-background-color);\\n}\\n[_nghost-%COMP%]   .addon-calendar-day[_ngcontent-%COMP%]   .addon-calendar-event[_ngcontent-%COMP%] {\\n  margin-top: 0.6em;\\n  margin-bottom: 0.6em;\\n  overflow: hidden;\\n  white-space: nowrap;\\n  color: var(--text-color);\\n  min-height: auto;\\n}\\n[_nghost-%COMP%]   .addon-calendar-day[_ngcontent-%COMP%]   .addon-calendar-event.addon-calendar-event-past[_ngcontent-%COMP%] {\\n  opacity: 0.5;\\n}\\n[_nghost-%COMP%]   .addon-calendar-day[_ngcontent-%COMP%]   .addon-calendar-event[_ngcontent-%COMP%]   .addon-calendar-event-name[_ngcontent-%COMP%] {\\n  font-weight: 500;\\n}\\n[_nghost-%COMP%]   .addon-calendar-day[_ngcontent-%COMP%]   .addon-calendar-day-more[_ngcontent-%COMP%] {\\n  -webkit-margin-start: 4px;\\n  margin-inline-start: 4px;\\n  margin-top: 0.6em;\\n  margin-bottom: 0.6em;\\n}\\n[_nghost-%COMP%]   .addon-calendar-day[_ngcontent-%COMP%]   .addon-calendar-dot-types[_ngcontent-%COMP%] {\\n  margin: 0;\\n}\\n[_nghost-%COMP%]   .addon-calendar-period[_ngcontent-%COMP%] {\\n  flex-grow: 3;\\n}\\n[_nghost-%COMP%]   .addon-calendar-period[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin-top: 10px;\\n  font-size: 1.2rem;\\n}\\n[_nghost-%COMP%]   .addon-calendar-period[_ngcontent-%COMP%]   .addon-calendar-loading-month[_ngcontent-%COMP%] {\\n  height: 20px;\\n}\\n[_nghost-%COMP%]   .addon-calendar-weekday[_ngcontent-%COMP%] {\\n  border-bottom: 1px solid var(--addon-calendar-border-color);\\n  font-weight: bold;\\n}\\n[_nghost-%COMP%]   .addon-calendar-day-events[_ngcontent-%COMP%] {\\n  text-align: start;\\n}\\n[_nghost-%COMP%]   .addon-calendar-day-events[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] {\\n  -webkit-margin-end: 2px;\\n  margin-inline-end: 2px;\\n  font-size: 1em;\\n}\\n[_nghost-%COMP%]   .addon-calendar-event[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-calendar-day-number[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-calendar-day-more[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n[_nghost-%COMP%]   .calendar_event_type[_ngcontent-%COMP%] {\\n  display: inline-block;\\n  width: 8px;\\n  height: 8px;\\n  border-radius: 50%;\\n  border: 1px solid white;\\n  margin-right: 1px;\\n  margin-left: 1px;\\n}\\n[_nghost-%COMP%]   .calendar_event_type.calendar_event_category[_ngcontent-%COMP%] {\\n  background-color: #8e24aa;\\n}\\n[_nghost-%COMP%]   .calendar_event_type.calendar_event_course[_ngcontent-%COMP%] {\\n  background-color: #ca3120;\\n}\\n[_nghost-%COMP%]   .calendar_event_type.calendar_event_group[_ngcontent-%COMP%] {\\n  background-color: #f0ad4e;\\n}\\n[_nghost-%COMP%]   .calendar_event_type.calendar_event_user[_ngcontent-%COMP%] {\\n  background-color: #0f6cbf;\\n}\\n[_nghost-%COMP%]   .calendar_event_type.calendar_event_site[_ngcontent-%COMP%] {\\n  background-color: #357a32;\\n}\\n[_nghost-%COMP%]   swiper-slide[_ngcontent-%COMP%] {\\n  display: block;\\n  font-size: inherit;\\n  justify-content: start;\\n  align-items: start;\\n  text-align: start;\\n}\\n\\nhtml.dark[_nghost-%COMP%], html.dark   [_nghost-%COMP%] {\\n  --addon-calendar-blank-day-background-color: var(--gray-900);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuc3RyaW5nLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2lvbmljLm1peGlucy5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2hlbHBlcnMvaW9uaWMuY29tcG9uZW50cy5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2N1c3RvbS5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLmN1c3RvbS5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2dsb2JhbHMudmFyaWFibGVzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvYWRkb25zL2NhbGVuZGFyL2NvbXBvbmVudHMvY2FsZW5kYXIvY2FsZW5kYXIuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBO0FDQUE7Ozs7O0VBQUE7QUNBQTs7Ozs7RUFBQTtBQ0FBOzs7OztFQUFBO0FDQUE7Ozs7OztFQUFBO0FDRUE7Ozs7RUFBQTtBQTRHQTs7RUFBQTtBQzlHQTs7OztFQUFBO0FDQUE7Ozs7RUFBQTtBQStEQTs7OztFQUFBO0FDN0RBO0VBQ0kseURBQUE7QUFvREo7QUFsREk7RUFDSSxVQUFBO0VBQ0EsV0FBQTtBQW9EUjtBQWpESTtFQUNJLGdCQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtBQW1EUjtBQWhESTtFQUNJLDRDQUFBO0VBQ0EsVUFBQTtFQUNBLDJCQUFBO0FBa0RSO0FBL0NJO0VBQ0ksMkRBQUE7RUxnU0osZ0VFM0wyQztFRjRMM0MsK0RFNUwyQztFR25HdkMsZ0JBQUE7RUFDQSxnQkFBQTtBQWtEUjtBQWhEUTtFTHlSSiwyQkt4Um9DO0VMeVJwQywwQkt6Um9DO0FBbUR4QztBQWpEUTtFTHdSSixxQkUzTDJDO0VGNEwzQyxvQkU1TDJDO0VGeUwzQywwQktwUm9DO0VMcVJwQyx5QktyUm9DO0FBcUR4QztBQWxEUTtFQUVJLFlBQUE7QUFtRFo7QUFoRFE7RUFDSSxTQUFBO0FBa0RaO0FBaERZO0VBQ0ksaUJBQUE7RUFDQSxnQkFBQTtFQUNBLHFCQUFBO0VBQ0EsV0FBQTtFQUNBLDBCQUFBO0VBQUEsa0JBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0FBa0RoQjtBTCtCSTtFSzVFUTtJQUNJLGlCQUFBO0VBZ0RkO0FBQ0Y7QUE3Q1E7RUFDSSwwREFBQTtFQUNBLGlCQUFBO0VBQ0Esa0JBQUE7QUErQ1o7QUE3Q1E7RUFDSSxZQUFBO0VBQ0Esa0VBQUE7QUErQ1o7QUE1Q1E7RUFDSSxpQkFBQTtFQUNBLG9CQUFBO0VBQ0EsZ0JBQUE7RUFDQSxtQkFBQTtFQUNBLHdCQUFBO0VBQ0EsZ0JBQUE7QUE4Q1o7QUE1Q1k7RUFDSSxZQUFBO0FBOENoQjtBQTNDWTtFQUNJLGdCQUFBO0FBNkNoQjtBQXpDUTtFTDROSix5QkszTjRDO0VMNE41Qyx3Qks1TjRDO0VMNE85QyxpQks1TzBCO0VMNk8xQixvQks3T3VDO0FBOEN6QztBQTNDUTtFQUNJLFNBQUE7QUE2Q1o7QUF6Q0k7RUFDSSxZQUFBO0FBMkNSO0FBMUNRO0VBQ0ksZ0JBQUE7RUFDQSxpQkFBQTtBQTRDWjtBQXpDUTtFQUNJLFlBQUE7QUEyQ1o7QUF2Q0k7RUFDSSwyREFBQTtFQUNBLGlCQUFBO0FBeUNSO0FBdENJO0VBQ0ksaUJBQUE7QUF3Q1I7QUF0Q1E7RUxpTUosdUJLaE15QztFTGlNekMsc0JLak15QztFQUNqQyxjQUFBO0FBeUNaO0FBckNJO0VBQ0ksZUFBQTtBQXVDUjtBQXBDSTtFQUNJLHFCQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7RUFDQSxrQkFBQTtFQUNBLHVCQUFBO0VBQ0EsaUJBQUE7RUFDQSxnQkFBQTtBQXNDUjtBQW5DWTtFQUNJLHlCRE5pQjtBQzJDakM7QUF0Q1k7RUFDSSx5QkROaUI7QUM4Q2pDO0FBekNZO0VBQ0kseUJETmlCO0FDaURqQztBQTVDWTtFQUNJLHlCRE5pQjtBQ29EakM7QUEvQ1k7RUFDSSx5QkROaUI7QUN1RGpDO0FBNUNJO0VBQ0ksY0FBQTtFQUNBLGtCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FBOENSOztBQTFDQTtFQUNJLDREQUFBO0FBNkNKIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBcHAgR2xvYmFsIHZhcmlhYmxlcyBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQbGFjZSBoZXJlIHRoZSBkaWZmZXJlbnQgZmlsZXMgeW91IHNob3VsZCBpbXBvcnQgdG8gdXNlIGdsb2JhbCB2YXJpYWJsZXMuXG4gKi9cblxuJGZvbnQtcGF0aDogXCIuLi9hc3NldHMvZm9udHNcIjtcbiRhc3NldHMtcGF0aDogXCIuLi9hc3NldHNcIjtcblxuQGltcG9ydCBcIi4vaGVscGVycy9oZWxwZXJzLnNjc3NcIjtcbkBpbXBvcnQgXCIuL2dsb2JhbHMuY3VzdG9tLnNjc3NcIjtcbkBpbXBvcnQgXCIuL2dsb2JhbHMudmFyaWFibGVzLnNjc3NcIjtcbiIsIi8qKlxuICogSW1wb3J0ZWQgaW9uaWMgc3RyaW5nIGZ1bmN0aW9ucyBmb3IgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRXh0cmFjdGVkIGZyb21cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy90aGVtZXMvaW9uaWMuZnVuY3Rpb25zLnN0cmluZy5zY3NzXG4gKi9cblxuXG4vLyBTdHJpbmcgVXRpbGl0eSBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIFN0cmluZyBSZXBsYWNlIEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gc3RyLXJlcGxhY2UoJHN0cmluZywgJHNlYXJjaCwgJHJlcGxhY2U6IFwiXCIpIHtcbiAgJGluZGV4OiBzdHItaW5kZXgoJHN0cmluZywgJHNlYXJjaCk7XG5cbiAgQGlmICRpbmRleCB7XG4gICAgQHJldHVybiBzdHItc2xpY2UoJHN0cmluZywgMSwgJGluZGV4IC0gMSkgKyAkcmVwbGFjZSArIHN0ci1yZXBsYWNlKHN0ci1zbGljZSgkc3RyaW5nLCAkaW5kZXggKyBzdHItbGVuZ3RoKCRzZWFyY2gpKSwgJHNlYXJjaCwgJHJlcGxhY2UpO1xuICB9XG5cbiAgQHJldHVybiAkc3RyaW5nO1xufVxuXG4vLyBTdHJpbmcgU3BsaXQgRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuQGZ1bmN0aW9uIHN0ci1zcGxpdCgkc3RyaW5nLCAkc2VwYXJhdG9yKSB7XG4gIC8vIGVtcHR5IGFycmF5L2xpc3RcbiAgJHNwbGl0LWFycjogKCk7XG4gIC8vIGZpcnN0IGluZGV4IG9mIHNlcGFyYXRvciBpbiBzdHJpbmdcbiAgJGluZGV4OiBzdHItaW5kZXgoJHN0cmluZywgJHNlcGFyYXRvcik7XG4gIC8vIGxvb3AgdGhyb3VnaCBzdHJpbmdcbiAgQHdoaWxlICRpbmRleCAhPSBudWxsIHtcbiAgICAvLyBnZXQgdGhlIHN1YnN0cmluZyBmcm9tIHRoZSBmaXJzdCBjaGFyYWN0ZXIgdG8gdGhlIHNlcGFyYXRvclxuICAgICRpdGVtOiBzdHItc2xpY2UoJHN0cmluZywgMSwgJGluZGV4IC0gMSk7XG4gICAgLy8gcHVzaCBpdGVtIHRvIGFycmF5XG4gICAgJHNwbGl0LWFycjogYXBwZW5kKCRzcGxpdC1hcnIsICRpdGVtKTtcbiAgICAvLyByZW1vdmUgaXRlbSBhbmQgc2VwYXJhdG9yIGZyb20gc3RyaW5nXG4gICAgJHN0cmluZzogc3RyLXNsaWNlKCRzdHJpbmcsICRpbmRleCArIDEpO1xuICAgIC8vIGZpbmQgbmV3IGluZGV4IG9mIHNlcGFyYXRvclxuICAgICRpbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzZXBhcmF0b3IpO1xuICB9XG4gIC8vIGFkZCB0aGUgcmVtYWluaW5nIHN0cmluZyB0byBsaXN0ICh0aGUgbGFzdCBpdGVtKVxuICAkc3BsaXQtYXJyOiBhcHBlbmQoJHNwbGl0LWFyciwgJHN0cmluZyk7XG5cbiAgQHJldHVybiAkc3BsaXQtYXJyO1xufVxuXG5cbi8vIFN0cmluZyBFeHRyYWN0IEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gc3RyLWV4dHJhY3QoJHN0cmluZywgJHN0YXJ0LCAkZW5kKSB7XG4gICRzdGFydC1pbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzdGFydCk7XG5cbiAgQGlmICRzdGFydC1pbmRleCB7XG4gICAgJHBvc3Q6IHN0ci1zbGljZSgkc3RyaW5nLCAkc3RhcnQtaW5kZXggKyBzdHItbGVuZ3RoKCRzdGFydCkpO1xuICAgICRlbmQtaW5kZXg6IHN0ci1pbmRleCgkcG9zdCwgJGVuZCk7XG5cbiAgICBAaWYgJGVuZC1pbmRleCB7XG4gICAgICBAcmV0dXJuIHN0ci1zbGljZSgkcG9zdCwgMSwgJGVuZC1pbmRleCAtIDEpO1xuICAgIH1cbiAgfVxuXG4gIEByZXR1cm4gbnVsbDtcbn1cblxuXG4vLyBTdHJpbmcgQ29udGFpbnMgRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBmdW5jdGlvbiBzdHItY29udGFpbnMoJHN0cmluZywgJG5lZWRsZSkge1xuICBAaWYgKHR5cGUtb2YoJHN0cmluZykgPT0gc3RyaW5nKSB7XG4gICAgQHJldHVybiBzdHItaW5kZXgoJHN0cmluZywgJG5lZWRsZSkgIT0gbnVsbDtcbiAgfVxuXG4gIEByZXR1cm4gZmFsc2U7XG59XG5cblxuLy8gVVJMIEVuY29kZSBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIHVybC1lbmNvZGUoJHZhbCkge1xuICAkc3BhY2VzOiBzdHItcmVwbGFjZSgkdmFsLCBcIiBcIiwgXCIlMjBcIik7XG4gICRlbmNvZGVkOiBzdHItcmVwbGFjZSgkc3BhY2VzLCBcIiNcIiwgXCIlMjNcIik7XG4gIEByZXR1cm4gJGVuY29kZWQ7XG59XG5cblxuLy8gQWRkIFJvb3QgU2VsZWN0b3Jcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBZGRzIGEgcm9vdCBzZWxlY3RvciB1c2luZyBob3N0IGJhc2VkIG9uIHRoZSBzZWxlY3RvciBwYXNzZWRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBmdW5jdGlvbiBhZGQtcm9vdC1zZWxlY3Rvcigkcm9vdCwgJGFkZEhvc3RTZWxlY3Rvcikge1xuICAkc2VsZWN0b3JzOiBzdHItc3BsaXQoJHJvb3QsIFwiLFwiKTtcblxuICAkbGlzdDogKCk7XG5cbiAgQGVhY2ggJHNlbGVjdG9yIGluICRzZWxlY3RvcnMge1xuICAgIC8vIElmIHRoZSBzZWxlY3RvciBjb250YWlucyA6aG9zdCggaXQgbWVhbnMgaXQgaXMgdGFyZ2V0aW5nIGEgY2xhc3Mgb24gdGhlIGhvc3RcbiAgICAvLyBlbGVtZW50IHNvIHdlIG5lZWQgdG8gY2hhbmdlIGhvdyB3ZSB0YXJnZXQgaXQ6XG4gICAgLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCI6aG9zdCguZml4ZWQpXCIsIFwiW2Rpcj1ydGxdXCIpXG4gICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5maXhlZClcbiAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLmZpeGVkXG4gICAgQGlmIHN0ci1jb250YWlucygkc2VsZWN0b3IsIFwiOmhvc3QoXCIpIHtcbiAgICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3QoLmZpeGVkKVwiLCBcIltkaXI9cnRsXVwiKVxuICAgICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5maXhlZClcbiAgICAgICRzaGFkb3ctZWxlbWVudDogc3RyLXJlcGxhY2UoJHNlbGVjdG9yLCBcIjpob3N0KFwiLCBcIjpob3N0LWNvbnRleHQoI3skYWRkSG9zdFNlbGVjdG9yfSk6aG9zdChcIik7XG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCAkc2hhZG93LWVsZW1lbnQsIGNvbW1hKTtcblxuICAgICAgJG5ldy1lbGVtZW50OiAoKTtcbiAgICAgICRlbGVtZW50czogc3RyLXNwbGl0KCRzZWxlY3RvciwgXCIgXCIpO1xuXG4gICAgICBAZWFjaCAkZWxlbWVudCBpbiAkZWxlbWVudHMge1xuICAgICAgICBAaWYgc3RyLWNvbnRhaW5zKCRlbGVtZW50LCBcIjpob3N0KFwiKSB7XG4gICAgICAgICAgJHNjb3BlZC1lbGVtZW50OiAkZWxlbWVudDtcblxuICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIDpob3N0KCBhbmQgKSBzbyBhbGwgd2UgaGF2ZSBsZWZ0IGlzIHRoZSBjbGFzc1xuICAgICAgICAgIC8vIGluc2lkZSBvZiBpdDpcbiAgICAgICAgICAvLyA6aG9zdCguZml4ZWQpIC0+IC5maXhlZFxuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJHNjb3BlZC1lbGVtZW50LCBcIilcIiwgXCJcIik7XG4gICAgICAgICAgJHNjb3BlZC1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2NvcGVkLWVsZW1lbnQsIFwiOmhvc3QoXCIsIFwiXCIpO1xuXG4gICAgICAgICAgLy8gQWRkIHRoZSBjbGFzcyBiYWNrIGluc2lkZSBvZiBob3N0IHdpdGggdGhlIHJ0bCBzZWxlY3RvcjpcbiAgICAgICAgICAvLyAuZml4ZWQgLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLmZpeGVkXG4gICAgICAgICAgJHNjb3BlZC1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2NvcGVkLWVsZW1lbnQsICRzY29wZWQtZWxlbWVudCwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pI3skc2NvcGVkLWVsZW1lbnR9XCIpO1xuXG4gICAgICAgICAgLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCI6aG9zdCguZml4ZWQpXCIsIFwiW2Rpcj1ydGxdXCIpXG4gICAgICAgICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5maXhlZFxuICAgICAgICAgICRuZXctZWxlbWVudDogYXBwZW5kKCRuZXctZWxlbWVudCwgJHNjb3BlZC1lbGVtZW50LCBzcGFjZSk7XG4gICAgICAgIH0gQGVsc2Uge1xuICAgICAgICAgIC8vIEFkZCBiYWNrIGFueSBzZWxlY3RvcnMgdGhhdCBmb2xsb3dlZCB0aGUgaG9zdCBhZnRlciB0cmFuc2Zvcm1pbmcgdGhlXG4gICAgICAgICAgLy8gZmlyc3Qgc2VsZWN0b3I6XG4gICAgICAgICAgLy8gOmhvc3QoLmZpeGVkKSA6OnNsb3R0ZWQoaW9uLWljb24pXG4gICAgICAgICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5maXhlZCkgOjpzbG90dGVkKGlvbi1pY29uKVxuICAgICAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkuZml4ZWQgOjpzbG90dGVkKGlvbi1pY29uKVxuICAgICAgICAgICRuZXctZWxlbWVudDogYXBwZW5kKCRuZXctZWxlbWVudCwgJGVsZW1lbnQsIHNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCAkbmV3LWVsZW1lbnQsIGNvbW1hKTtcbiAgICAvLyBJZiB0aGUgc2VsZWN0b3IgY29udGFpbnMgOmhvc3Qgd2l0aG91dCBhIHBhcmFudGhlc2VzXG4gICAgLy8gaXQgbWVhbnMgaXQgaXMgdGFyZ2V0aW5nIGp1c3QgdGhlIGhvc3RcbiAgICAvLyBlbGVtZW50IHNvIHdlIGNhbiBjaGFuZ2UgaXQgdG8gbG9vayBmb3IgaG9zdC1jb250ZXh0XG4gICAgLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCI6aG9zdFwiLCBcIltkaXI9cnRsXVwiKVxuICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSlcbiAgICAvLyAtLT4gOmhvc3Q6ZGlyKHJ0bClcbiAgICB9IEBlbHNlIGlmIHN0ci1jb250YWlucygkc2VsZWN0b3IsIFwiOmhvc3RcIikge1xuICAgICAgJG5ldy1lbGVtZW50OiAoKTtcbiAgICAgICRlbGVtZW50czogc3RyLXNwbGl0KCRzZWxlY3RvciwgXCIgXCIpO1xuXG4gICAgICBAZWFjaCAkZWxlbWVudCBpbiAkZWxlbWVudHMge1xuICAgICAgICBAaWYgc3RyLWNvbnRhaW5zKCRlbGVtZW50LCBcIjpob3N0XCIpIHtcbiAgICAgICAgICAvLyBSZXBsYWNlIHRoZSA6aG9zdCB3aXRoIHRoZSBhZGRIb3N0U2VsZWN0b3I6XG4gICAgICAgICAgLy8gOmhvc3QgLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pXG4gICAgICAgICAgJHVwZGF0ZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJGVsZW1lbnQsIFwiOmhvc3RcIiwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pXCIpO1xuXG4gICAgICAgICAgLy8gQWRkIHRoZSBmaW5hbCBzZWxlY3RvciBhZnRlciBhbGwgdHJhbnNmb3JtYXRpb25zOlxuICAgICAgICAgIC8vIDpob3N0IC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKVxuICAgICAgICAgICRuZXctZWxlbWVudDogYXBwZW5kKCRuZXctZWxlbWVudCwgJHVwZGF0ZWQtZWxlbWVudCwgc3BhY2UpO1xuICAgICAgICB9IEBlbHNlIHtcbiAgICAgICAgICAvLyBBZGQgYmFjayBhbnkgc2VsZWN0b3JzIHRoYXQgZm9sbG93ZWQgdGhlIGhvc3QgYWZ0ZXIgdHJhbnNmb3JtaW5nIHRoZVxuICAgICAgICAgIC8vIGZpcnN0IHNlbGVjdG9yOlxuICAgICAgICAgIC8vIDpob3N0IDo6c2xvdHRlZChpb24taWNvbikgLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pIDo6c2xvdHRlZChpb24taWNvbilcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICRlbGVtZW50LCBzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJG5ldy1lbGVtZW50LCBjb21tYSk7XG4gICAgLy8gSWYgdGhlIHNlbGVjdG9yIGRvZXMgbm90IGNvbnRhaW4gaG9zdCBhdCBhbGwgaXQgaXMgZWl0aGVyIGEgc2hhZG93XG4gICAgLy8gb3Igbm9ybWFsIGVsZW1lbnQgc28gYXBwZW5kIGJvdGggdGhlIGFkZEhvc3RTZWxlY3RvciBhbmQgaG9zdC1jb250ZXh0XG4gICAgLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCJpb24tY29tcG9uZW50XCIsIFwiW2Rpcj1ydGxdXCIpXG4gICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSBpb24tY29tcG9uZW50XG4gICAgLy8gLS0+IFtkaXI9cnRsXSBpb24tY29tcG9uZW50XG4gICAgfSBAZWxzZSB7XG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCBcIiN7JGFkZEhvc3RTZWxlY3Rvcn0gI3skc2VsZWN0b3J9XCIsIGNvbW1hKTtcbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KSAjeyRzZWxlY3Rvcn1cIiwgY29tbWEpO1xuICAgIH1cbiAgfVxuXG4gIEByZXR1cm4gJGxpc3Q7XG59XG4iLCIvKipcbiAqIEltcG9ydGVkIGlvbmljIGNvbG9yIGZ1bmN0aW9ucyBmb3IgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRXh0cmFjdGVkIGZyb21cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy90aGVtZXMvaW9uaWMuZnVuY3Rpb25zLmNvbG9yLnNjc3NcbiAqL1xuXG4vLyBHZXRzIHRoZSBhY3RpdmUgY29sb3IncyBjc3MgdmFyaWFibGUgZnJvbSBhIHZhcmlhdGlvbi4gQWxwaGEgaXMgb3B0aW9uYWwuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXhhbXBsZSB1c2FnZTpcbi8vIGN1cnJlbnQtY29sb3IoYmFzZSkgPT4gdmFyKC0taW9uLWNvbG9yLWJhc2UpXG4vLyBjdXJyZW50LWNvbG9yKGNvbnRyYXN0LCAwLjEpID0+IHJnYmEodmFyKC0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYiksIDAuMSlcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gY3VycmVudC1jb2xvcigkdmFyaWF0aW9uLCAkYWxwaGE6IG51bGwpIHtcbiAgQGlmICRhbHBoYSA9PSBudWxsIHtcbiAgICBAcmV0dXJuIHZhcigtLWlvbi1jb2xvci0jeyR2YXJpYXRpb259KTtcbiAgfSBAZWxzZSB7XG4gICAgQHJldHVybiByZ2JhKHZhcigtLWlvbi1jb2xvci0jeyR2YXJpYXRpb259LXJnYiksICN7JGFscGhhfSk7XG4gIH1cbn1cblxuLy8gR2V0cyB0aGUgc3BlY2lmaWMgY29sb3IncyBjc3MgdmFyaWFibGUgZnJvbSB0aGUgbmFtZSBhbmQgdmFyaWF0aW9uLiBBbHBoYS9yZ2IgYXJlIG9wdGlvbmFsLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEV4YW1wbGUgdXNhZ2U6XG4vLyBpb24tY29sb3IocHJpbWFyeSwgYmFzZSkgPT4gdmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpXG4vLyBpb24tY29sb3Ioc2Vjb25kYXJ5LCBjb250cmFzdCkgPT4gdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeS1jb250cmFzdClcbi8vIGlvbi1jb2xvcihwcmltYXJ5LCBiYXNlLCAwLjUpID0+IHJnYmEodmFyKC0taW9uLWNvbG9yLXByaW1hcnktcmdiLCA1NiwgMTI4LCAyNTUpLCAwLjUpXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGlvbi1jb2xvcigkbmFtZSwgJHZhcmlhdGlvbiwgJGFscGhhOiBudWxsLCAkcmdiOiBudWxsKSB7XG4gICR2YWx1ZXM6IG1hcC1nZXQoJGNvbG9ycywgJG5hbWUpO1xuICAkdmFsdWU6IG1hcC1nZXQoJHZhbHVlcywgJHZhcmlhdGlvbik7XG4gICR2YXJpYWJsZTogLS1pb24tY29sb3ItI3skbmFtZX0tI3skdmFyaWF0aW9ufTtcblxuICBAaWYgKCR2YXJpYXRpb24gPT0gYmFzZSkge1xuICAgICR2YXJpYWJsZTogLS1pb24tY29sb3ItI3skbmFtZX07XG4gIH1cblxuICBAaWYgKCRhbHBoYSkge1xuICAgICR2YWx1ZTogY29sb3ItdG8tcmdiLWxpc3QoJHZhbHVlKTtcbiAgICBAcmV0dXJuIHJnYmEodmFyKCN7JHZhcmlhYmxlfS1yZ2IsICR2YWx1ZSksICRhbHBoYSk7XG4gIH1cbiAgQGlmICgkcmdiKSB7XG4gICAgJHZhbHVlOiBjb2xvci10by1yZ2ItbGlzdCgkdmFsdWUpO1xuICAgICR2YXJpYWJsZTogI3skdmFyaWFibGV9LXJnYjtcbiAgfVxuXG4gIEByZXR1cm4gdmFyKCN7JHZhcmlhYmxlfSwgJHZhbHVlKTtcbn1cblxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIGJsYWNrIHRvIGNyZWF0ZSBpdHMgc2hhZGUuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGdldC1jb2xvci1zaGFkZSgkY29sb3IpIHtcbiAgQHJldHVybiBtaXgoIzAwMCwgJGNvbG9yLCAxMiUpO1xufVxuXG4vLyBNaXhlcyBhIGNvbG9yIHdpdGggd2hpdGUgdG8gY3JlYXRlIGl0cyB0aW50LlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBnZXQtY29sb3ItdGludCgkY29sb3IpIHtcbiAgQHJldHVybiBtaXgoI2ZmZiwgJGNvbG9yLCAxMCUpO1xufVxuXG4vLyBDb252ZXJ0cyBhIGNvbG9yIHRvIGEgY29tbWEgc2VwYXJhdGVkIHJnYi5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gY29sb3ItdG8tcmdiLWxpc3QoJGNvbG9yKSB7XG4gIEByZXR1cm4gI3tyZWQoJGNvbG9yKX0sI3tncmVlbigkY29sb3IpfSwje2JsdWUoJGNvbG9yKX07XG59XG4iLCIvKipcbiAqIEltcG9ydGVkIGlvbmljIG1peGlucyBmb3IgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRXh0cmFjdGVkIGZyb21cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy90aGVtZXMvaW9uaWMubWl4aW5zLnNjc3NcbiAqL1xuXG5AbWl4aW4gaW5wdXQtY292ZXIoKSB7XG4gIEBpbmNsdWRlIHBvc2l0aW9uKDAsIG51bGwsIG51bGwsIDApO1xuICBAaW5jbHVkZSBtYXJnaW4oMCk7XG5cbiAgcG9zaXRpb246IGFic29sdXRlO1xuXG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG5cbiAgYm9yZGVyOiAwO1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuXG4gIGFwcGVhcmFuY2U6IG5vbmU7XG4gIG91dGxpbmU6IG5vbmU7XG5cbiAgJjo6LW1vei1mb2N1cy1pbm5lciB7XG4gICAgYm9yZGVyOiAwO1xuICB9XG59XG5cbkBtaXhpbiB2aXN1YWxseS1oaWRkZW4oKSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG5cbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcblxuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG5cbiAgYm9yZGVyOiAwO1xuICBvdXRsaW5lOiAwO1xuICBjbGlwOiByZWN0KDAgMCAwIDApO1xuXG4gIG9wYWNpdHk6IDA7XG4gIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XG59XG5cbkBtaXhpbiB0ZXh0LWluaGVyaXQoKSB7XG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICBmb250LXNpemU6IGluaGVyaXQ7XG4gIGZvbnQtc3R5bGU6IGluaGVyaXQ7XG4gIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xuICBsZXR0ZXItc3BhY2luZzogaW5oZXJpdDtcbiAgdGV4dC1kZWNvcmF0aW9uOiBpbmhlcml0O1xuICB0ZXh0LWluZGVudDogaW5oZXJpdDtcbiAgdGV4dC1vdmVyZmxvdzogaW5oZXJpdDtcbiAgdGV4dC10cmFuc2Zvcm06IGluaGVyaXQ7XG4gIHRleHQtYWxpZ246IGluaGVyaXQ7XG4gIHdoaXRlLXNwYWNlOiBpbmhlcml0O1xuICBjb2xvcjogaW5oZXJpdDtcbn1cblxuQG1peGluIGJ1dHRvbi1zdGF0ZSgpIHtcbiAgQGluY2x1ZGUgcG9zaXRpb24oMCwgMCwgMCwgMCk7XG5cbiAgcG9zaXRpb246IGFic29sdXRlO1xuXG4gIGNvbnRlbnQ6IFwiXCI7XG5cbiAgb3BhY2l0eTogMDtcbn1cblxuLy8gRm9udCBzbW9vdGhpbmdcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBtaXhpbiBmb250LXNtb290aGluZygpIHtcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XG59XG5cbi8vIEdldCB0aGUga2V5IGZyb20gYSBtYXAgYmFzZWQgb24gdGhlIGluZGV4XG5AZnVuY3Rpb24gaW5kZXgtdG8ta2V5KCRtYXAsICRpbmRleCkge1xuICAka2V5czogbWFwLWtleXMoJG1hcCk7XG5cbiAgQHJldHVybiBudGgoJGtleXMsICRpbmRleCk7XG59XG5cblxuLy8gQnJlYWtwb2ludCBNaXhpbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBCcmVha3BvaW50IHZpZXdwb3J0IHNpemVzIGFuZCBtZWRpYSBxdWVyaWVzLlxuLy9cbi8vIEJyZWFrcG9pbnRzIGFyZSBkZWZpbmVkIGFzIGEgbWFwIG9mIChuYW1lOiBtaW5pbXVtIHdpZHRoKSwgb3JkZXIgZnJvbSBzbWFsbCB0byBsYXJnZTpcbi8vXG4vLyAgICAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpXG4vL1xuLy8gVGhlIG1hcCBkZWZpbmVkIGluIHRoZSBgJHNjcmVlbi1icmVha3BvaW50c2AgZ2xvYmFsIHZhcmlhYmxlIGlzIHVzZWQgYXMgdGhlIGAkYnJlYWtwb2ludHNgIGFyZ3VtZW50IGJ5IGRlZmF1bHQuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBNaW5pbXVtIGJyZWFrcG9pbnQgd2lkdGguIE51bGwgZm9yIHRoZSBzbWFsbGVzdCAoZmlyc3QpIGJyZWFrcG9pbnQuXG4vL1xuLy8gICAgPj4gYnJlYWtwb2ludC1taW4oc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICA1NzZweFxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbWluKCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgJG1pbjogbWFwLWdldCgkYnJlYWtwb2ludHMsICRuYW1lKTtcblxuICBAcmV0dXJuIGlmKCRuYW1lICE9IGluZGV4LXRvLWtleSgkYnJlYWtwb2ludHMsIDEpLCAkbWluLCBudWxsKTtcbn1cblxuLy8gUmV0dXJucyBhIGJsYW5rIHN0cmluZyBpZiBzbWFsbGVzdCBicmVha3BvaW50LCBvdGhlcndpc2UgcmV0dXJucyB0aGUgbmFtZSB3aXRoIGEgZGFzaCBpbmZyb250LlxuLy8gVXNlZnVsIGZvciBtYWtpbmcgcmVzcG9uc2l2ZSB1dGlsaXRpZXMuXG4vL1xuLy8gICAgPj4gYnJlYWtwb2ludC1pbmZpeCh4cywgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcbi8vICAgIFwiXCIgIChSZXR1cm5zIGEgYmxhbmsgc3RyaW5nKVxuLy8gICAgPj4gYnJlYWtwb2ludC1pbmZpeChzbSwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcbi8vICAgIFwiLXNtXCJcbkBmdW5jdGlvbiBicmVha3BvaW50LWluZml4KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgQHJldHVybiBpZihicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzKSA9PSBudWxsLCBcIlwiLCBcIi0jeyRuYW1lfVwiKTtcbn1cblxuLy8gTWVkaWEgb2YgYXQgbGVhc3QgdGhlIG1pbmltdW0gYnJlYWtwb2ludCB3aWR0aC4gTm8gcXVlcnkgZm9yIHRoZSBzbWFsbGVzdCBicmVha3BvaW50LlxuLy8gTWFrZXMgdGhlIEBjb250ZW50IGFwcGx5IHRvIHRoZSBnaXZlbiBicmVha3BvaW50IGFuZCB3aWRlci5cbkBtaXhpbiBtZWRpYS1icmVha3BvaW50LXVwKCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgJG1pbjogYnJlYWtwb2ludC1taW4oJG5hbWUsICRicmVha3BvaW50cyk7XG4gIEBpZiAkbWluIHtcbiAgICBAbWVkaWEgKG1pbi13aWR0aDogJG1pbikge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuXG4vLyBOYW1lIG9mIHRoZSBuZXh0IGJyZWFrcG9pbnQsIG9yIG51bGwgZm9yIHRoZSBsYXN0IGJyZWFrcG9pbnQuXG4vL1xuLy8gICAgPj4gYnJlYWtwb2ludC1uZXh0KHNtKVxuLy8gICAgbWRcbi8vICAgID4+IGJyZWFrcG9pbnQtbmV4dChzbSwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcbi8vICAgIG1kXG4vLyAgICA+PiBicmVha3BvaW50LW5leHQoc20sICRicmVha3BvaW50LW5hbWVzOiAoeHMgc20gbWQgbGcgeGwpKVxuLy8gICAgbWRcbkBmdW5jdGlvbiBicmVha3BvaW50LW5leHQoJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cywgJGJyZWFrcG9pbnQtbmFtZXM6IG1hcC1rZXlzKCRicmVha3BvaW50cykpIHtcbiAgJG46IGluZGV4KCRicmVha3BvaW50LW5hbWVzLCAkbmFtZSk7XG4gIEByZXR1cm4gaWYoJG4gPCBsZW5ndGgoJGJyZWFrcG9pbnQtbmFtZXMpLCBudGgoJGJyZWFrcG9pbnQtbmFtZXMsICRuICsgMSksIG51bGwpO1xufVxuXG4vLyBNYXhpbXVtIGJyZWFrcG9pbnQgd2lkdGguIE51bGwgZm9yIHRoZSBzbWFsbGVzdCAoZmlyc3QpIGJyZWFrcG9pbnQuXG4vLyBUaGUgbWF4aW11bSB2YWx1ZSBpcyByZWR1Y2VkIGJ5IDAuMDJweCB0byB3b3JrIGFyb3VuZCB0aGUgbGltaXRhdGlvbnMgb2Zcbi8vIGBtaW4tYCBhbmQgYG1heC1gIHByZWZpeGVzIGFuZCB2aWV3cG9ydHMgd2l0aCBmcmFjdGlvbmFsIHdpZHRocy5cbi8vXG4vLyBTZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL21lZGlhcXVlcmllcy00LyNtcS1taW4tbWF4XG4vLyBVc2VzIDAuMDJweCByYXRoZXIgdGhhbiAwLjAxcHggdG8gd29yayBhcm91bmQgYSBjdXJyZW50IHJvdW5kaW5nIGJ1ZyBpbiBTYWZhcmkuXHQvLyBVc2VzIDAuMDJweCByYXRoZXIgdGhhbiAwLjAxcHggdG8gd29yayBhcm91bmQgYSBjdXJyZW50IHJvdW5kaW5nIGJ1ZyBpbiBTYWZhcmkuXG4vLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE3ODI2MVx0Ly8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNzgyNjFcbi8vXG4vLyAgICA+PiBicmVha3BvaW50LW1heChtZCwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcbi8vICAgIDc2Ny45OHB4XG5AZnVuY3Rpb24gYnJlYWtwb2ludC1tYXgoJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xuICAkbWF4OiBtYXAtZ2V0KCRicmVha3BvaW50cywgJG5hbWUpO1xuICBAcmV0dXJuIGlmKCRtYXggYW5kICRtYXggPiAwLCAkbWF4IC0gLjAyLCBudWxsKTtcbn1cblxuLy8gTWVkaWEgb2YgYXQgbW9zdCB0aGUgbWF4aW11bSBicmVha3BvaW50IHdpZHRoLiBObyBxdWVyeSBmb3IgdGhlIGxhcmdlc3QgYnJlYWtwb2ludC5cbi8vIE1ha2VzIHRoZSBAY29udGVudCBhcHBseSB0byB0aGUgZ2l2ZW4gYnJlYWtwb2ludCBhbmQgbmFycm93ZXIuXG5AbWl4aW4gbWVkaWEtYnJlYWtwb2ludC1kb3duKCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgJG1heDogYnJlYWtwb2ludC1tYXgoJG5hbWUsICRicmVha3BvaW50cyk7XG4gIEBpZiAkbWF4IHtcbiAgICBAbWVkaWEgKG1heC13aWR0aDogJG1heCkge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuXG5cbi8vIFRleHQgRGlyZWN0aW9uIC0gbHRyIC8gcnRsXG4vL1xuLy8gQ1NTIGRlZmF1bHRzIHRvIHVzZSB0aGUgbHRyIGNzcywgYW5kIGFkZHMgW2Rpcj1ydGxdIHNlbGVjdG9yc1xuLy8gdG8gb3ZlcnJpZGUgbHRyIGRlZmF1bHRzLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gbXVsdGktZGlyKCkge1xuICBAY29udGVudDtcblxuICAvLyAkcm9vdDogI3smfTtcbiAgLy8gQGF0LXJvb3QgW2Rpcl0ge1xuICAvLyAgICN7JHJvb3R9IHtcbiAgLy8gICAgIEBjb250ZW50O1xuICAvLyAgIH1cbiAgLy8gfVxufVxuXG5AbWl4aW4gcnRsKCkge1xuICAkcm9vdDogI3smfTtcblxuICAkcm9vdFNwbGl0OiBzdHItc3BsaXQoJHJvb3QsIFwiLFwiKTtcbiAgJHNlbGVjdG9yczogI3thZGQtcm9vdC1zZWxlY3Rvcigkcm9vdCwgXCJbZGlyPXJ0bF1cIil9O1xuICAkc2VsZWN0b3JzU3BsaXQ6IHN0ci1zcGxpdCgkc2VsZWN0b3JzLCBcIixcIik7XG5cbiAgJGhvc3RDb250ZXh0U2VsZWN0b3JzOiAoKTtcbiAgJHJlc3RTZWxlY3RvcnM6ICgpO1xuICAkZGlyU2VsZWN0b3JzOiAoKTtcblxuICAvLyBTZWxlY3RvcnMgbXVzdCBiZSBzcGxpdCBpbnRvIGluZGl2aWR1YWwgc2VsZWN0b3JzIGluIGNhc2UgdGhlIGJyb3dzZXJcbiAgLy8gZG9lc24ndCBzdXBwb3J0IGEgc3BlY2lmaWMgc2VsZWN0b3IuXG4gIC8vIEZvciBleGFtcGxlLCBGaXJlZm94IGFuZCBTYWZhcmkgZG9lc24ndCBzdXBwb3J0IGA6aG9zdC1jb250ZXh0KClgLlxuICAvLyBJZiBhbiBpbnZhbGlkIHNlbGVjdG9yIGlzIHVzZWQsIHRoZW4gdGhlIGVudGlyZSBncm91cCBvZiBzZWxlY3RvcnNcbiAgLy8gd2lsbCBiZSBpZ25vcmVkLlxuICAvLyBAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLTMvI2dyb3VwaW5nXG4gIEBlYWNoICRzZWxlY3RvciBpbiAkc2VsZWN0b3JzU3BsaXQge1xuICAgIC8vIEdyb3VwIHRoZSBzZWxlY3RvcnMgYmFjayBpbnRvIGEgc2luZ2xlIHNlbGVjdG9yIHRvIG9wdGltaXplIHRoZSBvdXRwdXQuXG4gICAgQGlmIHN0ci1pbmRleCgkc2VsZWN0b3IsIFwiOmhvc3QtY29udGV4dFwiKSB7XG4gICAgICAkaG9zdENvbnRleHRTZWxlY3RvcnM6IGFwcGVuZCgkaG9zdENvbnRleHRTZWxlY3RvcnMsICRzZWxlY3RvciwgY29tbWEpO1xuICAgIH0gQGVsc2Uge1xuICAgICAgLy8gR3JvdXAgdGhlIHNlbGVjdG9ycyBiYWNrIGludG8gYSBzaW5nbGUgc2VsZWN0b3IgdG8gb3B0aW1pemUgdGhlIG91dHB1dC5cbiAgICAgICRyZXN0U2VsZWN0b3JzOiBhcHBlbmQoJHJlc3RTZWxlY3RvcnMsICRzZWxlY3RvciwgY29tbWEpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFN1cHBvcnRlZCBieSBDaHJvbWUuXG4gIEBpZiBsZW5ndGgoJGhvc3RDb250ZXh0U2VsZWN0b3JzKSA+IDAge1xuICAgIEBhdC1yb290ICN7JGhvc3RDb250ZXh0U2VsZWN0b3JzfSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cblxuICAvLyBTdXBwb3J0ZWQgYnkgYWxsIGJyb3dzZXJzLlxuICBAaWYgbGVuZ3RoKCRyZXN0U2VsZWN0b3JzKSA+IDAge1xuICAgIEBhdC1yb290ICN7JHJlc3RTZWxlY3RvcnN9IHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIGJyb3dzZXIgY2FuIHN1cHBvcnQgYDpkaXIoKWAsIHRoZW4gYWRkIHRoZSBgOmRpcigpYCBzZWxlY3RvcnMuXG4gIC8vIEBzdXBwb3J0cyBzZWxlY3Rvcig6ZGlyKHJ0bCkpIHsgLy8gQCBJTVBPVEFOVCBOT1RFOiBUaGlzIGhhcyBiZWVuIHJlbW92ZWQgYmVjYXVzZSBzZWxlY3RvciBmdW5jdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIGN1cnJlbnQgU0NTU1xuICAvLyBBZGRpbmcgOmRpcigpIGluIGNhc2UgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGA6aG9zdC1jb250ZXh0KClgIGFuZCBkb2VzIHN1cHBvcnQgYDpkaXIoKWAuXG4gIC8vIGA6aG9zdC1jb250ZXh0KClgIGlzIGFkZGVkOlxuICAvLyAtIHRocm91Z2ggdGhlIGBhZGQtcm9vdC1zZWxlY3RvcigpYCBmdW5jdGlvbi5cbiAgLy8gLSBmaXJzdCBzbyB0aGF0IGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgOmRpcigpYC5cbiAgLy8gRm9yIGV4YW1wbGUsXG4gIC8vIC0gRmlyZWZveCBkb2Vzbid0IHN1cHBvcnQgYDpob3N0LWNvbnRleHQoKWAsIGJ1dCBkb2VzIHN1cHBvcnQgYDpkaXIoKWAuXG4gIC8vIC0gU2FmYXJpIGRvZXNuJ3Qgc3VwcG9ydCBgOmhvc3QtY29udGV4dCgpYCwgYnV0IFNhZmFyaSAxNi40KyBzdXBwb3J0cyBgOmRpcigpYFxuICAvLyBAbGluayBodHRwczovL3dlYmtpdC5vcmcvYmxvZy8xMzk2Ni93ZWJraXQtZmVhdHVyZXMtaW4tc2FmYXJpLTE2LTQvXG4gIEBlYWNoICRzZWxlY3RvciBpbiAkcm9vdFNwbGl0IHtcbiAgICAkZGlyU2VsZWN0b3I6IFwiI3skc2VsZWN0b3J9OmRpcihydGwpXCI7XG4gICAgLy8gR3JvdXAgdGhlIHNlbGVjdG9ycyBiYWNrIGludG8gYSBzaW5nbGUgc2VsZWN0b3IgdG8gb3B0aW1pemUgdGhlIG91dHB1dC5cbiAgICAkZGlyU2VsZWN0b3JzOiBhcHBlbmQoJGRpclNlbGVjdG9ycywgJGRpclNlbGVjdG9yLCBjb21tYSk7XG4gIH1cblxuICAvLyBTdXBwb3J0ZWQgYnkgRmlyZWZveC5cbiAgQGlmIGxlbmd0aCgkZGlyU2VsZWN0b3JzKSA+IDAge1xuICAgIEBhdC1yb290ICN7JGRpclNlbGVjdG9yc30ge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9XG4gIC8vfVxufVxuXG5AbWl4aW4gbHRyKCkge1xuICBAY29udGVudDtcbn1cblxuXG4vLyBTVkcgQmFja2dyb3VuZCBJbWFnZSBNaXhpblxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdmdcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBzdmctYmFja2dyb3VuZC1pbWFnZSgkc3ZnLCAkZmxpcC1ydGw6IGZhbHNlKSB7XG4gICR1cmw6IHVybC1lbmNvZGUoJHN2Zyk7XG4gICR2aWV3Qm94OiBzdHItc3BsaXQoc3RyLWV4dHJhY3QoJHN2ZywgXCJ2aWV3Qm94PSdcIiwgXCInXCIpLCBcIiBcIik7XG5cbiAgQGlmICRmbGlwLXJ0bCAhPSB0cnVlIG9yICR2aWV3Qm94ID09IG51bGwge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCN7JHVybH1cIik7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICAkdHJhbnNmb3JtOiBcInRyYW5zZm9ybT0ndHJhbnNsYXRlKCN7bnRoKCR2aWV3Qm94LCAzKX0sIDApIHNjYWxlKC0xLCAxKSdcIjtcbiAgICAkZmxpcHBlZC11cmw6ICRzdmc7XG4gICAgJGZsaXBwZWQtdXJsOiBzdHItcmVwbGFjZSgkZmxpcHBlZC11cmwsIFwiPHBhdGhcIiwgXCI8cGF0aCAjeyR0cmFuc2Zvcm19XCIpO1xuICAgICRmbGlwcGVkLXVybDogc3RyLXJlcGxhY2UoJGZsaXBwZWQtdXJsLCBcIjxsaW5lXCIsIFwiPGxpbmUgI3skdHJhbnNmb3JtfVwiKTtcbiAgICAkZmxpcHBlZC11cmw6IHN0ci1yZXBsYWNlKCRmbGlwcGVkLXVybCwgXCI8cG9seWdvblwiLCBcIjxwb2x5Z29uICN7JHRyYW5zZm9ybX1cIik7XG4gICAgJGZsaXBwZWQtdXJsOiB1cmwtZW5jb2RlKCRmbGlwcGVkLXVybCk7XG5cbiAgICBAaW5jbHVkZSBsdHIgKCkge1xuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsI3skdXJsfVwiKTtcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsI3skZmxpcHBlZC11cmx9XCIpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBBZGQgcHJvcGVydHkgaG9yaXpvbnRhbFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwcm9wZXJ0eS1ob3Jpem9udGFsKCRwcm9wLCAkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xuICBAaWYgJHN0YXJ0ID09IDAgYW5kICRlbmQgPT0gMCB7XG4gICAgI3skcHJvcH0tbGVmdDogJHN0YXJ0O1xuICAgICN7JHByb3B9LXJpZ2h0OiAkZW5kO1xuXG4gIH0gQGVsc2Uge1xuICAgIC13ZWJraXQtI3skcHJvcH0tc3RhcnQ6ICRzdGFydDtcbiAgICAjeyRwcm9wfS1pbmxpbmUtc3RhcnQ6ICRzdGFydDtcbiAgICAtd2Via2l0LSN7JHByb3B9LWVuZDogJGVuZDtcbiAgICAjeyRwcm9wfS1pbmxpbmUtZW5kOiAkZW5kO1xuICB9XG59XG5cbi8vIEFkZCBwcm9wZXJ0eSBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkcHJvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gQHBhcmFtIHtib29sZWFufSAkY29udGVudCBpbmNsdWRlIGNvbnRlbnQgb3IgdXNlIGRlZmF1bHRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwcm9wZXJ0eSgkcHJvcCwgJHRvcCwgJGVuZDogJHRvcCwgJGJvdHRvbTogJHRvcCwgJHN0YXJ0OiAkZW5kKSB7XG4gIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwoJHByb3AsICRzdGFydCwgJGVuZCk7XG4gICN7JHByb3B9LXRvcDogJHRvcDtcbiAgI3skcHJvcH0tYm90dG9tOiAkYm90dG9tO1xufVxuXG4vLyBBZGQgcGFkZGluZyBob3Jpem9udGFsXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHBhZGRpbmctaG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKHBhZGRpbmcsICRzdGFydCwgJGVuZCk7XG59XG5cbi8vIEFkZCBwYWRkaW5nIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHBhZGRpbmcoJHRvcCwgJGVuZDogJHRvcCwgJGJvdHRvbTogJHRvcCwgJHN0YXJ0OiAkZW5kKSB7XG4gIEBpbmNsdWRlIHByb3BlcnR5KHBhZGRpbmcsICR0b3AsICRlbmQsICRib3R0b20sICRzdGFydCk7XG59XG5cbi8vIEFkZCBtYXJnaW4gaG9yaXpvbnRhbFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBtYXJnaW4taG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKG1hcmdpbiwgJHN0YXJ0LCAkZW5kKTtcbn1cblxuLy8gQWRkIG1hcmdpbiBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBtYXJnaW4oJHRvcCwgJGVuZDogJHRvcCwgJGJvdHRvbTogJHRvcCwgJHN0YXJ0OiAkZW5kKSB7XG4gIEBpbmNsdWRlIHByb3BlcnR5KG1hcmdpbiwgJHRvcCwgJGVuZCwgJGJvdHRvbSwgJHN0YXJ0KTtcbn1cblxuLy8gQWRkIHBvc2l0aW9uIGhvcml6b250YWxcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnQgLSBhbW91bnQgdG8gcG9zaXRpb24gc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kIC0gYW1vdW50IHRvIGxlZnQ6IDA7IGVuZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHBvc2l0aW9uLWhvcml6b250YWwoJHN0YXJ0OiBudWxsLCAkZW5kOiBudWxsKSB7XG4gIEBpZiAkc3RhcnQgPT0gJGVuZCB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgbGVmdDogJHN0YXJ0O1xuICAgICAgcmlnaHQ6ICRlbmQ7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAYXQtcm9vdCB7XG4gICAgICBAc3VwcG9ydHMgKGluc2V0LWlubGluZS1zdGFydDogMCkge1xuICAgICAgICAmIHtcbiAgICAgICAgICBpbnNldC1pbmxpbmUtc3RhcnQ6ICRzdGFydDtcbiAgICAgICAgICBpbnNldC1pbmxpbmUtZW5kOiAkZW5kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETyBGVy0zNzY2XG4gICAgQGF0LXJvb3Qge1xuICAgICAgQHN1cHBvcnRzIG5vdCAoaW5zZXQtaW5saW5lLXN0YXJ0OiAwKSB7XG4gICAgICAgICYge1xuICAgICAgICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgICAgICAgIGxlZnQ6ICRzdGFydDtcbiAgICAgICAgICAgIHJpZ2h0OiAkZW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICAgICAgICBsZWZ0OiB1bnNldDtcbiAgICAgICAgICAgIHJpZ2h0OiB1bnNldDtcblxuICAgICAgICAgICAgbGVmdDogJGVuZDtcbiAgICAgICAgICAgIHJpZ2h0OiAkc3RhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIEFkZCBwb3NpdGlvbiBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwb3NpdGlvbigkdG9wOiBudWxsLCAkZW5kOiBudWxsLCAkYm90dG9tOiBudWxsLCAkc3RhcnQ6IG51bGwpIHtcbiAgQGluY2x1ZGUgcG9zaXRpb24taG9yaXpvbnRhbCgkc3RhcnQsICRlbmQpO1xuICB0b3A6ICR0b3A7XG4gIGJvdHRvbTogJGJvdHRvbTtcbn1cblxuLy8gQWRkIGJvcmRlciBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBib3JkZXIoJHRvcCwgJGVuZDogJHRvcCwgJGJvdHRvbTogJHRvcCwgJHN0YXJ0OiAkZW5kKSB7XG4gIEBpbmNsdWRlIHByb3BlcnR5KGJvcmRlciwgJHRvcCwgJGVuZCwgJGJvdHRvbSwgJHN0YXJ0KTtcbn1cblxuLy8gQWRkIGJvcmRlciByYWRpdXMgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcC1zdGFydFxuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3AtZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbS1lbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tLXN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gYm9yZGVyLXJhZGl1cygkdG9wLXN0YXJ0LCAkdG9wLWVuZDogJHRvcC1zdGFydCwgJGJvdHRvbS1lbmQ6ICR0b3Atc3RhcnQsICRib3R0b20tc3RhcnQ6ICR0b3AtZW5kKSB7XG4gIEBpZiAkdG9wLXN0YXJ0ID09ICR0b3AtZW5kIGFuZCAkdG9wLXN0YXJ0ID09ICRib3R0b20tZW5kIGFuZCAkdG9wLXN0YXJ0ID09ICRib3R0b20tc3RhcnQge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIGJvcmRlci1yYWRpdXM6ICR0b3Atc3RhcnQ7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAkdG9wLXN0YXJ0O1xuICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6ICR0b3AtZW5kO1xuICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6ICRib3R0b20tZW5kO1xuICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogJGJvdHRvbS1zdGFydDtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAkdG9wLWVuZDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAkdG9wLXN0YXJ0O1xuICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6ICRib3R0b20tc3RhcnQ7XG4gICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAkYm90dG9tLWVuZDtcbiAgICB9XG4gIH1cbn1cblxuLy8gQWRkIGRpcmVjdGlvbiBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZGlyIC0gRGlyZWN0aW9uIG9uIExUUlxuQG1peGluIGRpcmVjdGlvbigkZGlyKSB7XG4gICRvdGhlci1kaXI6IG51bGw7XG5cbiAgQGlmICRkaXIgPT0gbHRyIHtcbiAgICAkb3RoZXItZGlyOiBydGw7XG4gIH0gQGVsc2Uge1xuICAgICRvdGhlci1kaXI6IGx0cjtcbiAgfVxuXG4gIEBpbmNsdWRlIGx0cigpIHtcbiAgICBkaXJlY3Rpb246ICRkaXI7XG4gIH1cbiAgQGluY2x1ZGUgcnRsKCkge1xuICAgIGRpcmVjdGlvbjogJG90aGVyLWRpcjtcbiAgfVxufVxuXG4vLyBBZGQgZmxvYXQgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHNpZGVcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZGVjb3JhdG9yIC0gIWltcG9ydGFudFxuQG1peGluIGZsb2F0KCRzaWRlLCAkZGVjb3JhdG9yOiBudWxsKSB7XG4gIEBpZiAkc2lkZSA9PSBzdGFydCB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgZmxvYXQ6IGxlZnQgJGRlY29yYXRvcjtcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgZmxvYXQ6IHJpZ2h0ICRkZWNvcmF0b3I7XG4gICAgfVxuICB9IEBlbHNlIGlmICRzaWRlID09IGVuZCB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgZmxvYXQ6IHJpZ2h0ICRkZWNvcmF0b3I7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGZsb2F0OiBsZWZ0ICRkZWNvcmF0b3I7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBmbG9hdDogJHNpZGUgJGRlY29yYXRvcjtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIGJhY2tncm91bmQtcG9zaXRpb24oJGhvcml6b250YWwsICRob3Jpem9udGFsLWFtb3VudDogbnVsbCwgJHZlcnRpY2FsOiBudWxsLCAkdmVydGljYWwtYW1vdW50OiBudWxsKSB7XG4gIEBpZiAkaG9yaXpvbnRhbCA9PSBzdGFydCBvciAkaG9yaXpvbnRhbCA9PSBlbmQge1xuICAgICRob3Jpem9udGFsLWx0cjogbnVsbDtcbiAgICAkaG9yaXpvbnRhbC1ydGw6IG51bGw7XG4gICAgQGlmICRob3Jpem9udGFsID09IHN0YXJ0IHtcbiAgICAgICRob3Jpem9udGFsLWx0cjogbGVmdDtcbiAgICAgICRob3Jpem9udGFsLXJ0bDogcmlnaHQ7XG4gICAgfSBAZWxzZSB7XG4gICAgICAkaG9yaXpvbnRhbC1sdHI6IHJpZ2h0O1xuICAgICAgJGhvcml6b250YWwtcnRsOiBsZWZ0O1xuICAgIH1cblxuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246ICRob3Jpem9udGFsLWx0ciAkaG9yaXpvbnRhbC1hbW91bnQgJHZlcnRpY2FsICR2ZXJ0aWNhbC1hbW91bnQ7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246ICRob3Jpem9udGFsLXJ0bCAkaG9yaXpvbnRhbC1hbW91bnQgJHZlcnRpY2FsICR2ZXJ0aWNhbC1hbW91bnQ7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAkaG9yaXpvbnRhbCAkaG9yaXpvbnRhbC1hbW91bnQgJHZlcnRpY2FsICR2ZXJ0aWNhbC1hbW91bnQ7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiB0cmFuc2Zvcm0tb3JpZ2luKCR4LWF4aXMsICR5LWF4aXM6IG51bGwpIHtcbiAgQGlmICR4LWF4aXMgPT0gc3RhcnQge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgJHktYXhpcztcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgJHktYXhpcztcbiAgICB9XG4gIH0gQGVsc2UgaWYgJHgtYXhpcyA9PSBlbmQge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0ICR5LWF4aXM7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgJHktYXhpcztcbiAgICB9XG4gIH0gQGVsc2UgaWYgJHgtYXhpcyA9PSBsZWZ0IG9yICR4LWF4aXMgPT0gcmlnaHQge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46ICR4LWF4aXMgJHktYXhpcztcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46ICR4LWF4aXMgJHktYXhpcztcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogY2FsYygxMDAlIC0gI3skeC1heGlzfSkgJHktYXhpcztcbiAgICB9XG4gIH1cbn1cblxuLy8gQWRkIHRyYW5zZm9ybSBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdHJhbnNmb3JtcyAtIGNvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIHRyYW5zZm9ybXNcbkBtaXhpbiB0cmFuc2Zvcm0oJHRyYW5zZm9ybXMuLi4pIHtcbiAgJGV4dHJhOiBudWxsO1xuXG4gICR4OiBudWxsO1xuICAkbHRyLXRyYW5zbGF0ZTogbnVsbDtcbiAgJHJ0bC10cmFuc2xhdGU6IG51bGw7XG5cbiAgQGVhY2ggJHRyYW5zZm9ybSBpbiAkdHJhbnNmb3JtcyB7XG4gICAgQGlmIChzdHItaW5kZXgoJHRyYW5zZm9ybSwgdHJhbnNsYXRlM2QpKSB7XG4gICAgICAkdHJhbnNmb3JtOiBzdHItcmVwbGFjZSgkdHJhbnNmb3JtLCAndHJhbnNsYXRlM2QoJyk7XG4gICAgICAkdHJhbnNmb3JtOiBzdHItcmVwbGFjZSgkdHJhbnNmb3JtLCAnKScpO1xuXG4gICAgICAkY29vcmRpbmF0ZXM6IHN0ci1zcGxpdCgkdHJhbnNmb3JtLCAnLCcpO1xuXG4gICAgICAkeDogbnRoKCRjb29yZGluYXRlcywgMSk7XG4gICAgICAkeTogbnRoKCRjb29yZGluYXRlcywgMik7XG4gICAgICAkejogbnRoKCRjb29yZGluYXRlcywgMyk7XG5cbiAgICAgICRsdHItdHJhbnNsYXRlOiB0cmFuc2xhdGUzZCgkeCwgJHksICR6KTtcbiAgICAgICRydGwtdHJhbnNsYXRlOiB0cmFuc2xhdGUzZChjYWxjKC0xICogI3skeH0pLCAkeSwgJHopO1xuICAgIH0gQGVsc2Uge1xuICAgICAgQGlmICRleHRyYSA9PSBudWxsIHtcbiAgICAgICAgJGV4dHJhOiAkdHJhbnNmb3JtO1xuICAgICAgfSBAZWxzZSB7XG4gICAgICAgICRleHRyYTogJGV4dHJhICR0cmFuc2Zvcm07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQGlmICR4ID09ICcwJyBvciAkeCA9PSBudWxsIHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICB0cmFuc2Zvcm06ICRsdHItdHJhbnNsYXRlICRleHRyYTtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIHRyYW5zZm9ybTogJGx0ci10cmFuc2xhdGUgJGV4dHJhO1xuICAgIH1cblxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIHRyYW5zZm9ybTogJHJ0bC10cmFuc2xhdGUgJGV4dHJhO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBJbXBvcnRlZCBpb25pYyBtaXhpbnMgZm9yIFNDU1MgZnJvbSBkaWZmZXJlbnQgY29tcG9uZW50c1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRXh0cmFjdGVkIGZyb21cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy9jb21wb25lbnRzL2dyaWQvZ3JpZC5taXhpbnMuc2Nzc1xuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL2NvbXBvbmVudHMvaXRlbS9pdGVtLm1peGlucy5zY3NzXG4gKi9cblxuLy8gUmVzcG9uc2l2ZSBNaXhpbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuLy8gQ3JlYXRlcyBhIGZpeGVkIHdpZHRoIGZvciB0aGUgZ3JpZCBiYXNlZCBvbiB0aGUgc2NyZWVuIHNpemVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gbWFrZS1ncmlkLXdpZHRocygkd2lkdGhzOiAkZ3JpZC13aWR0aHMsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xuICBAZWFjaCAkYnJlYWtwb2ludCwgJHdpZHRoIGluICR3aWR0aHMge1xuICAgIEBpbmNsdWRlIG1lZGlhLWJyZWFrcG9pbnQtdXAoJGJyZWFrcG9pbnQsICRicmVha3BvaW50cykge1xuICAgICAgd2lkdGg6ICR3aWR0aDtcbiAgICB9XG4gIH1cblxuICBtYXgtd2lkdGg6IDEwMCU7XG59XG5cblxuLy8gQWRkcyBwYWRkaW5nIHRvIHRoZSBlbGVtZW50IGJhc2VkIG9uIGJyZWFrcG9pbnRzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIG1ha2UtYnJlYWtwb2ludC1wYWRkaW5nKCRwYWRkaW5ncykge1xuICBAZWFjaCAkYnJlYWtwb2ludCBpbiBtYXAta2V5cygkcGFkZGluZ3MpIHtcbiAgICBAaW5jbHVkZSBtZWRpYS1icmVha3BvaW50LXVwKCRicmVha3BvaW50KSB7XG4gICAgICAkcGFkZGluZzogbWFwLWdldCgkcGFkZGluZ3MsICRicmVha3BvaW50KTtcblxuICAgICAgQGluY2x1ZGUgcGFkZGluZygkcGFkZGluZyk7XG4gICAgfVxuICB9XG59XG5cblxuLy8gSXRlbSBNaXhpbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBtaXhpbiBpdGVtLXB1c2gtc3ZnLXVybCgkZmlsbCkge1xuICAkaXRlbS1kZXRhaWwtcHVzaC1zdmc6IFwiPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMiAyMCc+PHBhdGggZD0nTTIsMjBsLTItMmw4LThMMCwybDItMmwxMCwxMEwyLDIweicgZmlsbD0nI3skZmlsbH0nLz48L3N2Zz5cIjtcblxuICBAaW5jbHVkZSBzdmctYmFja2dyb3VuZC1pbWFnZSgkaXRlbS1kZXRhaWwtcHVzaC1zdmcsIHRydWUpO1xufVxuIiwiQHVzZSBcInNhc3M6bWF0aFwiIGFzIG1hdGg7XG5cbi8qKlxuICogQXBwIGN1c3RvbSBtaXhpbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBsYWNlIGhlcmUgb3VyIGN1c3RvbSBtaXhpbnMuXG4gKi9cblxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIGJsYWNrIHRvIGNyZWF0ZSBpdHMgc2hhZGUuXG4vLyBEZWZhdWx0IHRvIGJvb3RzdHJhcCBsZXZlbCA2LlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBnZXQtY29sb3Itc2hhZGUtcGVyY2VudCgkY29sb3IsICRwZXJjZW50OiA0OCUpIHtcbiAgICBAcmV0dXJuIG1peCgjMDAwLCAkY29sb3IsICRwZXJjZW50KTtcbn1cblxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIHdoaXRlIHRvIGNyZWF0ZSBpdHMgdGludC5cbi8vIERlZmF1bHQgdG8gYm9vdHN0cmFwIGxldmVsIC0xMC5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXRpbnQtcGVyY2VudCgkY29sb3IsICRwZXJjZW50OiA4MCUpIHtcbiAgICBAcmV0dXJuIG1peCgjZmZmLCAkY29sb3IsICRwZXJjZW50KTtcbn1cblxuLy8gSW9uaWMgQ29sb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gR2VuZXJhdGVzIHRoZSBjb2xvciBjbGFzc2VzIGFuZCB2YXJpYWJsZXMgYmFzZWQgb24gdGhlXG4vLyBjb2xvcnMgbWFwXG5cbkBtaXhpbiBnZW5lcmF0ZS1jb2xvcigkY29sb3ItbmFtZSwgJGNvbG9ycywgJHRoZW1lKSB7XG4gICAgJGNvbG9yLXRoZW1lczogbWFwLWdldCgkY29sb3JzLCAkY29sb3ItbmFtZSk7XG4gICAgJGJhc2U6IG1hcC1nZXQoJGNvbG9yLXRoZW1lcywgJHRoZW1lKTtcblxuICAgIEBpZiAkdGhlbWUgPT0gJ2RhcmsnIHtcbiAgICAgICAgJGJhc2U6IG1peChtYXAtZ2V0KCRjb2xvci10aGVtZXMsICdsaWdodCcpLCB3aGl0ZSwgODAlKSAhZGVmYXVsdDtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBnZW5lcmF0ZS1jb2xvci12YXJpYW50cygkY29sb3ItbmFtZSwgJGJhc2UpO1xufVxuXG5AbWl4aW4gZ2VuZXJhdGUtY29sb3ItdmFyaWFudHMoJGNvbG9yLW5hbWUsICRiYXNlKSB7XG4gICAgJGNvbnRyYXN0OiBnZXRfY29udHJhc3RfY29sb3IoJGJhc2UpO1xuICAgICRzaGFkZTogZ2V0LWNvbG9yLXNoYWRlLXBlcmNlbnQoJGJhc2UpO1xuICAgICR0aW50OiBnZXQtY29sb3ItdGludC1wZXJjZW50KCRiYXNlKTtcblxuICAgIC0tI3skY29sb3ItbmFtZX06ICN7JGJhc2V9O1xuICAgIC0tI3skY29sb3ItbmFtZX0tc2hhZGU6ICN7JHNoYWRlfTtcbiAgICAtLSN7JGNvbG9yLW5hbWV9LXRpbnQ6ICN7JHRpbnR9O1xuICAgIC0tI3skY29sb3ItbmFtZX0tY29udHJhc3Q6ICN7JGNvbnRyYXN0fTtcblxuICAgIC8vIEludGVybmFsIGlvbmljIHVzZSBvbmx5LlxuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9OiB2YXIoLS0jeyRjb2xvci1uYW1lfSk7XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tYmFzZTogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9KTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1yZ2I6ICN7Y29sb3ItdG8tcmdiLWxpc3QoJGJhc2UpfTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdDogI3skY29udHJhc3R9O1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0LXJnYjogI3tjb2xvci10by1yZ2ItbGlzdCgkY29udHJhc3QpfTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1zaGFkZTogI3skc2hhZGV9O1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXRpbnQ6ICN7JHRpbnR9O1xuXG4gICAgLmlvbi1jb2xvci0jeyRjb2xvci1uYW1lfSB7XG4gICAgICAgIC0taW9uLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0pO1xuICAgICAgICAtLWlvbi1jb2xvci1iYXNlOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tYmFzZSk7XG4gICAgICAgIC0taW9uLWNvbG9yLXJnYjogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXJnYik7XG4gICAgICAgIC0taW9uLWNvbG9yLWNvbnRyYXN0OiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3QpO1xuICAgICAgICAtLWlvbi1jb2xvci1jb250cmFzdC1yZ2I6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdC1yZ2IpO1xuICAgICAgICAtLWlvbi1jb2xvci1zaGFkZTogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXNoYWRlKTtcbiAgICAgICAgLS1pb24tY29sb3ItdGludDogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXRpbnQpO1xuICAgIH1cbn1cblxuQG1peGluIGNvcmUtZm9jdXMoKSB7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgJjo6YWZ0ZXIge1xuICAgICAgICBAaW5jbHVkZSBwb3NpdGlvbigwLCAwLCAwLCAwKTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICBAaW5jbHVkZSBjb3JlLWZvY3VzLXN0eWxlKCk7XG4gICAgfVxufVxuXG5AbWl4aW4gY29yZS1mb2N1cy1zdHlsZSgpIHtcbiAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgdmFyKC0tYTExeS1mb2N1cy13aWR0aCkgMXB4IHZhcigtLWExMXktZm9jdXMtY29sb3IpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpO1xuICAgIC8vIFRoaWNrZXIgb3B0aW9uOlxuICAgIC8vIGJvcmRlcjogdmFyKC0tYTExeS1mb2N1cy13aWR0aCkgc29saWQgdmFyKC0tYTExeS1mb2N1cy1jb2xvcik7XG59XG5cbkBtaXhpbiBjb3JlLXRyYW5zaXRpb24oJHByb3BlcnRpZXM6IGFsbCwgJGR1cmF0aW9uOiA1MDBtcywgJHRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQpIHtcbiAgICAkdHJhbnNpdGlvbnM6ICgpO1xuICAgIEBlYWNoICRwcm9wZXJ0eSBpbiAkcHJvcGVydGllcyB7XG4gICAgICAkdHJhbnNpdGlvbnM6IGFwcGVuZCgkdHJhbnNpdGlvbnMsICRwcm9wZXJ0eSAkZHVyYXRpb24gJHRpbWluZy1mdW5jdGlvbiwgY29tbWEpO1xuICAgIH1cblxuICAgIC13ZWJraXQtdHJhbnNpdGlvbjogJHRyYW5zaXRpb25zO1xuICAgIHRyYW5zaXRpb246ICR0cmFuc2l0aW9ucztcbn1cblxuQG1peGluIHNyLW9ubHkoKSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHdpZHRoOiAxcHg7XG4gICAgaGVpZ2h0OiAxcHg7XG4gICAgcGFkZGluZzogMDtcbiAgICBtYXJnaW46IC0xcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBjbGlwOiByZWN0KDAsIDAsIDAsIDApO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgYm9yZGVyOiAwO1xufVxuXG4vKipcbiAqIFNhbWUgYXMgaXRlbS1wdXNoLXN2Zy11cmwgYnV0IGFkbWl0cyBmbGlwLXJ0bFxuICovXG5AbWl4aW4gcHVzaC1hcnJvdy1jb2xvcigkZmlsbDogNjI2MjYyLCAkZmxpcC1ydGw6IGZhbHNlKSB7XG4gICAgJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnOiBcIjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTIgMjAnPjxwYXRoIGQ9J00yLDIwbC0yLTJsOC04TDAsMmwyLTJsMTAsMTBMMiwyMHonIGZpbGw9JyN7JGZpbGx9Jy8+PC9zdmc+XCI7XG5cbiAgICBAaW5jbHVkZSBzdmctYmFja2dyb3VuZC1pbWFnZSgkaXRlbS1kZXRhaWwtcHVzaC1zdmcsICRmbGlwLXJ0bCk7XG59XG5cbkBtaXhpbiBib3JkZXItc3RhcnQoJHB4LCAkdHlwZTogbnVsbCwgJGNvbG9yOiBudWxsKSB7XG4gICAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChib3JkZXIsICRweCAkdHlwZSAkY29sb3IsIG51bGwpO1xufVxuXG5AbWl4aW4gYm9yZGVyLWVuZCgkcHgsICR0eXBlOiBudWxsLCAkY29sb3I6IG51bGwpIHtcbiAgICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKGJvcmRlciwgbnVsbCwgJHB4ICR0eXBlICRjb2xvcik7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtYm9yZGVyLXN0YXJ0KCRweCwgJHR5cGUsICRjb2xvcikge1xuICAgICRzYWZlLWFyZWEtcG9zaXRpb246IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHB4fSk7XG5cbiAgICBAaW5jbHVkZSBib3JkZXItc3RhcnQoJHNhZmUtYXJlYS1wb3NpdGlvbiwgJHR5cGUsICRjb2xvcik7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtYm9yZGVyLWVuZCgkcHgsICR0eXBlLCAkY29sb3IpIHtcbiAgICAkc2FmZS1hcmVhLXBvc2l0aW9uOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skcHh9KTtcblxuICAgIEBpbmNsdWRlIGJvcmRlci1lbmQoJHNhZmUtYXJlYS1wb3NpdGlvbiwgJHR5cGUsICRjb2xvcik7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtbWFyZ2luLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgICAkc2FmZS1hcmVhLWVuZDogbnVsbDtcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBudWxsO1xuXG4gICAgQGlmICgkZW5kKSB7XG4gICAgICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XG4gICAgfVxuICAgIEBpZiAoJHN0YXJ0KSB7XG4gICAgICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLW1hcmdpbi1zdGFydCgkc3RhcnQsICRlbmQpIHtcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xuXG4gICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJGVuZCk7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtbWFyZ2luLWVuZCgkc3RhcnQsICRlbmQpIHtcbiAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuXG4gICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwoJHN0YXJ0LCAkc2FmZS1hcmVhLWVuZCk7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtcGFkZGluZy1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IG51bGw7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogbnVsbDtcblxuICAgIEBpZiAoJGVuZCkge1xuICAgICAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuICAgIH1cbiAgICBAaWYgKCRzdGFydCkge1xuICAgICAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xuICAgIH1cblxuICAgIEBpbmNsdWRlIHBhZGRpbmctaG9yaXpvbnRhbCgkc2FmZS1hcmVhLXN0YXJ0LCAkc2FmZS1hcmVhLWVuZCk7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtcGFkZGluZy1zdGFydCgkc3RhcnQsICRlbmQpIHtcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xuXG4gICAgQGluY2x1ZGUgcGFkZGluZy1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRlbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBhZGRpbmctZW5kKCRzdGFydCwgJGVuZCkge1xuICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XG5cbiAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoJHN0YXJ0LCAkc2FmZS1hcmVhLWVuZCk7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtcG9zaXRpb24oJHRvcDogbnVsbCwgJGVuZDogbnVsbCwgJGJvdHRvbTogbnVsbCwgJHN0YXJ0OiBudWxsKSB7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcbiAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuXG4gICAgQGluY2x1ZGUgcG9zaXRpb24oJHRvcCwgJHNhZmUtYXJlYS1lbmQsICRib3R0b20sICRzYWZlLWFyZWEtc3RhcnQpO1xufVxuXG5AbWl4aW4gY29yZS1oZWFkaW5ncygpIHtcbiAgICBoMSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMjZweDtcbiAgICB9XG4gICAgaDIsIC5pdGVtLWhlYWRpbmcge1xuICAgICAgICBmb250LXNpemU6IDI0cHg7XG4gICAgfVxuICAgIGgzIHtcbiAgICAgICAgZm9udC1zaXplOiAyMnB4O1xuICAgIH1cbiAgICBoNCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICB9XG4gICAgaDUge1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgfVxuICAgIGg2IHtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgIH1cbn1cblxuQG1peGluIGRhcmttb2RlKCkge1xuICAgICRyb290OiAjeyZ9O1xuXG4gICAgQGF0LXJvb3QgI3thZGQtcm9vdC1zZWxlY3Rvcigkcm9vdCwgXCJodG1sLmRhcmtcIil9IHtcbiAgICAgICAgQGNvbnRlbnQ7XG4gICAgfVxufVxuXG5AbWl4aW4gaG9yaXpvbnRhbF9zY3JvbGxfaXRlbSgkd2lkdGgsICRtaW4td2lkdGgsICRtYXgtd2lkdGgpIHtcbiAgICBmbGV4OiAwIDAgJHdpZHRoO1xuICAgIG1pbi13aWR0aDogJG1pbi13aWR0aDtcbiAgICBtYXgtd2lkdGg6ICRtYXgtd2lkdGg7XG4gICAgYWxpZ24tc2VsZjogc3RyZXRjaDtcbiAgICBkaXNwbGF5OiBibG9jaztcblxuICAgIGlvbi1jYXJkIHtcbiAgICAgICAgLS12ZXJ0aWNhbC1tYXJnaW46IDEwcHg7XG4gICAgICAgIC0taG9yaXpvbnRhbC1tYXJnaW46IDEwcHg7XG5cbiAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIHZhcigtLWhvcml6b250YWwtbWFyZ2luKSAtIHZhcigtLWhvcml6b250YWwtbWFyZ2luKSk7XG4gICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gdmFyKC0tdmVydGljYWwtbWFyZ2luKSAtIHZhcigtLXZlcnRpY2FsLW1hcmdpbikpO1xuICAgICAgICBtYXJnaW46IHZhcigtLXZlcnRpY2FsLW1hcmdpbikgdmFyKC0taG9yaXpvbnRhbC1tYXJnaW4pO1xuXG4gICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiAzNjBweCkge1xuICAgICAgICAgICAgLS1ob3Jpem9udGFsLW1hcmdpbjogNnB4O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBDb2xvciBtaXhpbnMuXG5AZnVuY3Rpb24gZ2V0X2JyaWdodG5lc3MoJGNvbG9yKSB7XG4gICAgQHJldHVybiBtYXRoLmRpdihyZWQoJGNvbG9yKSArIGdyZWVuKCRjb2xvcikgKyBibHVlKCRjb2xvciksIDMpO1xufVxuXG4vLyBHZXQgdGhlIGJldHRlciBjb2xvciBjb250cmFzdCB1c2luZyBXQ0FHIGFsZ29yeXRobS5cbkBmdW5jdGlvbiBnZXRfY29udHJhc3RfY29sb3IoJGNvbG9yKSB7XG4gICAgJGx1bWlhbmNlOiBsdW1pbmFuY2UoJGNvbG9yKTtcblxuICAgIC8vIFdoaXRlIGx1bWlhbmNlIGlzIDEuXG4gICAgJHdoaXRlQ29udHJhc3Q6IG1hdGguZGl2KCRsdW1pYW5jZSArIDAuMDUsIDEgKyAwLjA1KTtcbiAgICAvLyBXaGl0ZSBsdW1pYW5jZSBpcyAwLlxuICAgICRibGFja0NvbnRyYXN0OiBtYXRoLmRpdigwLjA1LCAkbHVtaWFuY2UgKyAwLjA1KTtcblxuICAgIEByZXR1cm4gaWYoJHdoaXRlQ29udHJhc3QgPCAkYmxhY2tDb250cmFzdCwgd2hpdGUsIGJsYWNrKTtcbn1cblxuLy8gQ29sb3IgY29udHJhc3QgdXNpbmcgeWlxIGFwcm94aW1hdGlvbiB3aXRoIDE1MCB0aHJlc2hvbGQuXG5AZnVuY3Rpb24gZ2V0X2NvbnRyYXN0X2NvbG9yX3lpcSgkY29sb3IsICRkYXJrOiBibGFjaywgJGxpZ2h0OiB3aGl0ZSkge1xuICAgICRyOiByZWQoJGNvbG9yKTtcbiAgICAkZzogZ3JlZW4oJGNvbG9yKTtcbiAgICAkYjogYmx1ZSgkY29sb3IpO1xuXG4gICAgJHlpcTogbWF0aC5kaXYoKCRyICogMjk5KSArICgkZyAqIDU4NykgKyAoJGIgKiAxMTQpLCAxMDAwKTtcblxuICAgIEByZXR1cm4gaWYoJHlpcSA+PSAxMjgsICRkYXJrLCAkbGlnaHQpO1xufVxuXG4vLyBXQ0FHIGNvbnRyYXN0IGFsZ29yaXRobVxuQGZ1bmN0aW9uIGNoZWNrLWNvbnRyYXN0KCRmb3JlZ3JvdW5kLCAkYmFja2dyb3VuZCkge1xuICAgICRmb3JlZ3JvdW5kTHVtaWFuY2U6IGx1bWluYW5jZSgkZm9yZWdyb3VuZCk7XG4gICAgJGJhY2tncm91bmRMdW1pbmFuY2U6IGx1bWluYW5jZSgkYmFja2dyb3VuZCk7XG5cbiAgICBAaWYgKCRiYWNrZ3JvdW5kTHVtaW5hbmNlIDwgJGZvcmVncm91bmRMdW1pYW5jZSkge1xuICAgICAgICBAcmV0dXJuIG1hdGguZGl2KCRiYWNrZ3JvdW5kTHVtaW5hbmNlICsgMC4wNSwgJGZvcmVncm91bmRMdW1pYW5jZSArIDAuMDUpO1xuICAgIH0gQGVsc2Uge1xuICAgICAgICBAcmV0dXJuIG1hdGguZGl2KCRmb3JlZ3JvdW5kTHVtaWFuY2UgKyAwLjA1LCAkYmFja2dyb3VuZEx1bWluYW5jZSArIDAuMDUpO1xuICAgIH1cbn1cblxuQGZ1bmN0aW9uIGx1bWluYW5jZSgkY29sb3IpIHtcbiAgICAkcjogcmVkKCRjb2xvcik7XG4gICAgJGc6IGdyZWVuKCRjb2xvcik7XG4gICAgJGI6IGJsdWUoJGNvbG9yKTtcblxuICAgICRyOiBjb21wb25lbnQtbHVtaW5hbmNlKCRyKTtcbiAgICAkZzogY29tcG9uZW50LWx1bWluYW5jZSgkZyk7XG4gICAgJGI6IGNvbXBvbmVudC1sdW1pbmFuY2UoJGIpO1xuXG4gICAgQHJldHVybiAkciAqIDAuMjEyNiArICRnICogMC43MTUyICsgJGIgKiAwLjA3MjI7XG59XG5cbkBmdW5jdGlvbiBjb21wb25lbnQtbHVtaW5hbmNlKCR2YWx1ZSkge1xuICAgICR2YWx1ZTogbWF0aC5kaXYoJHZhbHVlLCAyNTUpO1xuXG4gICAgQGlmICgkdmFsdWUgPD0gMC4wMzkyOCkge1xuICAgICAgICBAcmV0dXJuIG1hdGguZGl2KCR2YWx1ZSwgMTIuOTIpO1xuICAgIH0gQGVsc2Uge1xuICAgICAgICBAcmV0dXJuIG1hdGgucG93KG1hdGguZGl2KCR2YWx1ZSArIDAuMDU1LCAxLjA1NSksIDIuNCk7XG4gICAgfVxufVxuIiwiLypcbiAqIEFwcCBDdXN0b20gQXBwIHZhcmlhYmxlcyBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQbGFjZSBoZXJlIGFsbCBjdXN0b20gYXBwIHZhcmlhYmxlcy5cbiAqL1xuIiwiLypcbiAqIEFwcCBHbG9iYWwgdmFyaWFibGVzIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBsYWNlIGhlcmUgYWxsIGdsb2JhbCB2YXJpYWJsZXMuXG4gKi9cblxuJHdoaXRlOiAgICAgICAjZmZmZmZmICFkZWZhdWx0O1xuJGdyYXktMTAwOiAgICAjZjhmOWZhICFkZWZhdWx0O1xuJGdyYXktMjAwOiAgICAjZTllY2VmICFkZWZhdWx0O1xuJGdyYXktMzAwOiAgICAjZGVlMmU2ICFkZWZhdWx0OyAvLyBTdHJva2VcbiRncmF5LTQwMDogICAgI2NlZDRkYSAhZGVmYXVsdDtcbiRncmF5LTUwMDogICAgIzhmOTU5ZSAhZGVmYXVsdDsgLy8gU3Ryb2tlIG9uIGlucHV0c1xuJGdyYXktNjAwOiAgICAjNmE3MzdiICFkZWZhdWx0O1xuJGdyYXktNzAwOiAgICAjNDk1MDU3ICFkZWZhdWx0O1xuJGdyYXktODAwOiAgICAjMzQzYTQwICFkZWZhdWx0O1xuJGdyYXktOTAwOiAgICAjMjgyODI4ICFkZWZhdWx0OyAvLyBDb3B5IHRleHRcbiRibGFjazogICAgICAgIzAwMDAwMCAhZGVmYXVsdDsgLy8gQXZvaWQgdXNhZ2VcblxuJGJsdWU6ICAgICAgICAjMGY2Y2JmICFkZWZhdWx0O1xuJGN5YW46ICAgICAgICAjMDA4MTk2ICFkZWZhdWx0OyAvLyBOb3QgdXNlZC5cbiRncmVlbjogICAgICAgIzM1N2EzMiAhZGVmYXVsdDtcbiRyZWQ6ICAgICAgICAgI2NhMzEyMCAhZGVmYXVsdDtcbiR5ZWxsb3c6ICAgICAgI2YwYWQ0ZSAhZGVmYXVsdDtcblxuJGJyYW5kLWNvbG9yOiAjZjk4MDEyICFkZWZhdWx0O1xuXG4kdGV4dC1jb2xvcjogICAgICAgICAgICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7XG4kdGV4dC1jb2xvci1yZ2I6ICAgICAgICAgICBjb2xvci10by1yZ2ItbGlzdCgkdGV4dC1jb2xvcikgIWRlZmF1bHQ7XG4kdGV4dC1jb2xvci1kYXJrOiAgICAgICAgICAkd2hpdGUgIWRlZmF1bHQ7XG4kdGV4dC1jb2xvci1kYXJrLXJnYjogICAgICBjb2xvci10by1yZ2ItbGlzdCgkdGV4dC1jb2xvci1kYXJrKSAhZGVmYXVsdDtcblxuJGJhY2tncm91bmQtY29sb3I6ICAgICAgICAgICR3aGl0ZSAhZGVmYXVsdDtcbiRiYWNrZ3JvdW5kLWNvbG9yLXJnYjogICAgICBjb2xvci10by1yZ2ItbGlzdCgkYmFja2dyb3VuZC1jb2xvcikgIWRlZmF1bHQ7XG4kYmFja2dyb3VuZC1jb2xvci1kYXJrOiAgICAgJGdyYXktOTAwICFkZWZhdWx0OyAvLyAjMWExYTFhXG4kYmFja2dyb3VuZC1jb2xvci1kYXJrLXJnYjogY29sb3ItdG8tcmdiLWxpc3QoJGJhY2tncm91bmQtY29sb3ItZGFyaykgIWRlZmF1bHQ7XG5cbiRpb24taXRlbS1iYWNrZ3JvdW5kOiAgICAgICR3aGl0ZSAhZGVmYXVsdDtcbiRpb24taXRlbS1iYWNrZ3JvdW5kLXJnYjogIGNvbG9yLXRvLXJnYi1saXN0KCRpb24taXRlbS1iYWNrZ3JvdW5kKSAhZGVmYXVsdDtcbiRpb24taXRlbS1iYWNrZ3JvdW5kLWRhcms6ICRncmF5LTkwMCAhZGVmYXVsdDtcbiRpb24taXRlbS1iYWNrZ3JvdW5kLWRhcmstcmdiOiBjb2xvci10by1yZ2ItbGlzdCgkaW9uLWl0ZW0tYmFja2dyb3VuZC1kYXJrKSAhZGVmYXVsdDtcblxuJHByaW1hcnk6ICAgICRicmFuZC1jb2xvciAhZGVmYXVsdDtcbiRzZWNvbmRhcnk6ICAkZ3JheS0zMDAgIWRlZmF1bHQ7XG4kZGFuZ2VyOiAgICAgJHJlZCAhZGVmYXVsdDtcbiR3YXJuaW5nOiAgICAkeWVsbG93ICFkZWZhdWx0O1xuJHN1Y2Nlc3M6ICAgICRncmVlbiAhZGVmYXVsdDtcbiRpbmZvOiAgICAgICAkYmx1ZSAhZGVmYXVsdDtcbiRsaWdodDogICAgICAkZ3JheS0xMDAgIWRlZmF1bHQ7XG4kbWVkaXVtOiAgICAgJGdyYXktNzAwICFkZWZhdWx0O1xuJGRhcms6ICAgICAgICRncmF5LTkwMCAhZGVmYXVsdDtcblxuJGNvbG9yczogIChcbiAgICBwcmltYXJ5OiAobGlnaHQ6ICRwcmltYXJ5LCBkYXJrOiAkcHJpbWFyeSksXG4gICAgc2Vjb25kYXJ5OiAobGlnaHQ6ICRzZWNvbmRhcnksIGRhcms6ICRncmF5LTcwMCksXG4gICAgc3VjY2VzczogKGxpZ2h0OiAkc3VjY2VzcyksXG4gICAgd2FybmluZzogKGxpZ2h0OiAkd2FybmluZyksXG4gICAgZGFuZ2VyOiAgKGxpZ2h0OiAkZGFuZ2VyKSxcbiAgICBpbmZvOiAobGlnaHQ6ICRpbmZvKSxcbiAgICBsaWdodDogKGxpZ2h0OiAkbGlnaHQsIGRhcms6ICRkYXJrKSxcbiAgICBtZWRpdW06IChsaWdodDogJG1lZGl1bSwgZGFyazogJGdyYXktMjAwKSxcbiAgICBkYXJrOiAobGlnaHQ6ICRkYXJrLCBkYXJrOiAkbGlnaHQpLFxuKSAhZGVmYXVsdDtcblxuLyoqXG4gKiBMYXlvdXQgQnJlYWtwb2ludHNcbiAqXG4gKiBodHRwczovL2lvbmljZnJhbWV3b3JrLmNvbS9kb2NzL2xheW91dC9ncmlkI2RlZmF1bHQtYnJlYWtwb2ludHNcbiAqL1xuXG4vLyBUaGUgbWluaW11bSBkaW1lbnNpb25zIGF0IHdoaWNoIHlvdXIgbGF5b3V0IHdpbGwgY2hhbmdlLFxuLy8gYWRhcHRpbmcgdG8gZGlmZmVyZW50IHNjcmVlbiBzaXplcywgZm9yIHVzZSBpbiBtZWRpYSBxdWVyaWVzXG4kc2NyZWVuLWJyZWFrcG9pbnRzOiAoXG4gICAgeHM6IDBweCxcbiAgICBzbTogNTc2cHgsXG4gICAgbWQ6IDc2OHB4LFxuICAgIGxnOiA5OTJweCxcbiAgICB0YWJsZXQ6IDk5MnB4LFxuICAgIHhsOiAxMjAwcHhcbikgIWRlZmF1bHQ7XG5cbiRjb3JlLWNvdXJzZS1pbWFnZS1iYWNrZ3JvdW5kOiAjODFlY2VjLCAjNzRiOWZmLCAjYTI5YmZlLCAjZGZlNmU5LCAjMDBiODk0LCAjMDk4NGUzLCAjYjJiZWMzLCAjZmRjYjZlLCAjZmQ3OWE4LCAjNmM1Y2U3ICFkZWZhdWx0O1xuJGNvcmUtZGQtcXVlc3Rpb24tY29sb3JzOiAjRkZGRkZGLCAjQjBDNERFLCAjRENEQ0RDLCAjRDhCRkQ4LCAjODdDRUZBLCAjREFBNTIwLCAjRkZENzAwLCAjRjBFNjhDICFkZWZhdWx0O1xuJGNvcmUtdGV4dC1oaWdodGxpZ2h0LWJhY2tncm91bmQtY29sb3I6IGxpZ2h0ZW4oJGJsdWUsIDQwJSkgIWRlZmF1bHQ7XG5cbiRjb3JlLWZpeGVkLXVybDogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1kYXNoYm9hcmQtbG9nbzogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1hbHdheXMtc2hvdy1tYWluLW1lbnU6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtZm9ybWF0LXRleHQtbmV2ZXItc2hvcnRlbjogZmFsc2UgIWRlZmF1bHQ7XG5cbiRjb3JlLWhpZGUtY291cnNlaW1hZ2Utb24tY291cnNlOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWhpZGUtcHJvZ3Jlc3Mtb24tY291cnNlOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWhpZGUtcHJvZ3Jlc3Mtb24tc2VjdGlvbi1zZWxlY3RvcjogZmFsc2UgIWRlZmF1bHQ7XG5cbiRjb3JlLWNvdXJzZS1oaWRlLXRodW1iLW9uLWNhcmRzOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWNvdXJzZS10aHVtYi1vbi1jYXJkcy1iYWNrZ3JvdW5kOiBudWxsICFkZWZhdWx0O1xuJGNvcmUtY291cnNlLWhpZGUtcHJvZ3Jlc3Mtb24tY2FyZHM6IGZhbHNlICFkZWZhdWx0O1xuXG4vLyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIGxvZ2luIHBhZ2UuXG4kY29yZS1sb2dpbi1idXR0b24tb3V0bGluZTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1idXR0b24tb3V0bGluZS1kYXJrOiAkY29yZS1sb2dpbi1idXR0b24tb3V0bGluZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWxvYWRpbmctY29sb3I6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbG9naW4tbG9hZGluZy1jb2xvci1kYXJrOiAkdGV4dC1jb2xvci1kYXJrICFkZWZhdWx0O1xuJGNvcmUtbG9naW4taGlkZS1mb3Jnb3QtcGFzc3dvcmQ6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbG9naW4taGlkZS1uZWVkLWhlbHA6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbG9naW4taGlkZS1xcmNvZGU6IGZhbHNlICFkZWZhdWx0O1xuXG4vLyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIG1vcmUgcGFnZS4gKGRlcHJlY2F0ZWQgb24gNC4wKVxuJGNvcmUtbW9yZS1oaWRlLXNpdGVpbmZvOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLW1vcmUtaGlkZS1zaXRlbmFtZTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1tb3JlLWhpZGUtc2l0ZXVybDogZmFsc2UgIWRlZmF1bHQ7XG5cbi8vIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdXNlciBwYWdlLlxuJGNvcmUtdXNlci1oaWRlLXNpdGVpbmZvOiAkY29yZS1tb3JlLWhpZGUtc2l0ZWluZm8gIWRlZmF1bHQ7XG4kY29yZS11c2VyLWhpZGUtc2l0ZW5hbWU6ICRjb3JlLW1vcmUtaGlkZS1zaXRlbmFtZSAhZGVmYXVsdDtcbiRjb3JlLXVzZXItaGlkZS1zaXRldXJsOiAkY29yZS1tb3JlLWhpZGUtc2l0ZXVybCAhZGVmYXVsdDtcblxuLy8gQWN0aXZpdHkgaWNvbiBiYWNrZ3JvdW5kIGNvbG9ycy5cbiRhY3Rpdml0eS1pY29uLWNvbG9yczogKFxuICAgIGFkbWluaXN0cmF0aW9uOiAjNWQ2M2Y2LFxuICAgIGFzc2Vzc21lbnQ6ICNlYjY2YTIsXG4gICAgY29sbGFib3JhdGlvbjogI2Y3NjM0ZCxcbiAgICBjb21tdW5pY2F0aW9uOiAjMTFhNjc2LFxuICAgIGNvbnRlbnQ6ICMzOTliZTIsXG4gICAgaW50ZXJmYWNlOiAjYTM3OGZmXG4pICFkZWZhdWx0O1xuXG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY2F0ZWdvcnk6ICM4ZTI0YWEgIWRlZmF1bHQ7XG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY291cnNlOiAkcmVkICFkZWZhdWx0O1xuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWdyb3VwOiAkeWVsbG93ICFkZWZhdWx0O1xuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXVzZXI6ICRibHVlICFkZWZhdWx0O1xuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXNpdGU6ICRncmVlbiAhZGVmYXVsdDtcblxuLy8gQ2FsZW5kYXIgZXZlbnQgY2F0ZWdvcnkgYmFja2dyb3VuZCBjb2xvcnMuXG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY29sb3JzOiAoXG4gICAgY2F0ZWdvcnk6ICRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jYXRlZ29yeSxcbiAgICBjb3Vyc2U6ICRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jb3Vyc2UsXG4gICAgZ3JvdXA6ICRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1ncm91cCxcbiAgICB1c2VyOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktdXNlcixcbiAgICBzaXRlOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktc2l0ZSxcbikgIWRlZmF1bHQ7XG4iLCJAdXNlIFwidGhlbWUvZ2xvYmFsc1wiIGFzICo7XG5cbjpob3N0IHtcbiAgICAtLWFkZG9uLWNhbGVuZGFyLWJsYW5rLWRheS1iYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1saWdodCk7XG5cbiAgICAuY29yZS1zd2lwZS1zbGlkZXMtY29udGFpbmVyIGlvbi1ncmlkIHtcbiAgICAgICAgZmxleDogbm9uZTtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgfVxuXG4gICAgLmFkZG9uLWNhbGVuZGFyLW5hdmlnYXRpb24ge1xuICAgICAgICBwYWRkaW5nLXRvcDogNXB4O1xuICAgICAgICBwYWRkaW5nLWxlZnQ6IDEwcHg7XG4gICAgICAgIHBhZGRpbmctcmlnaHQ6IDEwcHg7XG4gICAgfVxuXG4gICAgLmFkZG9uLWNhbGVuZGFyLW1vbnRocyB7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbnRyYXN0LWJhY2tncm91bmQpO1xuICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICBmb250LXNpemU6IHZhcigtLXRleHQtc2l6ZSk7XG4gICAgfVxuXG4gICAgLmFkZG9uLWNhbGVuZGFyLWRheSB7XG4gICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1hZGRvbi1jYWxlbmRhci1ib3JkZXItY29sb3IpO1xuICAgICAgICBAaW5jbHVkZSBib3JkZXItZW5kKDFweCwgc29saWQgdmFyKC0tYWRkb24tY2FsZW5kYXItYm9yZGVyLWNvbG9yKSk7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIG1pbi1oZWlnaHQ6IDYwcHg7XG5cbiAgICAgICAgJjpmaXJzdC1jaGlsZCB7XG4gICAgICAgICAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoMTBweCwgbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgJjpsYXN0LWNoaWxkIHtcbiAgICAgICAgICAgIEBpbmNsdWRlIGJvcmRlci1lbmQoMCk7XG4gICAgICAgICAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoOHB4LCBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgICYuYWRkb24tY2FsZW5kYXItZXZlbnQtcGFzdC1kYXkgPiAuYWRkb24tY2FsZW5kYXItZG90LXR5cGVzLFxuICAgICAgICAmLmFkZG9uLWNhbGVuZGFyLWV2ZW50LXBhc3QtZGF5ID4gLmFkZG9uLWNhbGVuZGFyLWRheS1ldmVudHMge1xuICAgICAgICAgICAgb3BhY2l0eTogMC41O1xuICAgICAgICB9XG5cbiAgICAgICAgLmFkZG9uLWNhbGVuZGFyLWRheS1udW1iZXIge1xuICAgICAgICAgICAgbWFyZ2luOiAwO1xuXG4gICAgICAgICAgICBzcGFuIHtcbiAgICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMjRweDtcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgICAgICBtYXJnaW46IDNweDtcbiAgICAgICAgICAgICAgICB3aWR0aDogbWF4LWNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDI0cHg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEBpbmNsdWRlIG1lZGlhLWJyZWFrcG9pbnQtdXAobWQpIHtcbiAgICAgICAgICAgIC5hZGRvbi1jYWxlbmRhci1kYXktbnVtYmVyIHtcbiAgICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBzdGFydDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgICYudG9kYXkgLmFkZG9uLWNhbGVuZGFyLWRheS1udW1iZXIgc3BhbiB7XG4gICAgICAgICAgICBib3JkZXI6IDJweCBzb2xpZCB2YXIoLS1hZGRvbi1jYWxlbmRhci10b2RheS1ib3JkZXItY29sb3IpO1xuICAgICAgICAgICAgbGluZS1oZWlnaHQ6IDIwcHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgIH1cbiAgICAgICAgJi5kYXlibGFuayB7XG4gICAgICAgICAgICBjdXJzb3I6IGF1dG87XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1hZGRvbi1jYWxlbmRhci1ibGFuay1kYXktYmFja2dyb3VuZC1jb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICAuYWRkb24tY2FsZW5kYXItZXZlbnQge1xuICAgICAgICAgICAgbWFyZ2luLXRvcDogMC42ZW07XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwLjZlbTtcbiAgICAgICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgICAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpO1xuICAgICAgICAgICAgbWluLWhlaWdodDogYXV0bztcblxuICAgICAgICAgICAgJi5hZGRvbi1jYWxlbmRhci1ldmVudC1wYXN0IHtcbiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwLjU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5hZGRvbi1jYWxlbmRhci1ldmVudC1uYW1lIHtcbiAgICAgICAgICAgICAgICBmb250LXdlaWdodDogNTAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLmFkZG9uLWNhbGVuZGFyLWRheS1tb3JlIHtcbiAgICAgICAgICAgIEBpbmNsdWRlIG1hcmdpbigwLjZlbSwgbnVsbCwgMC42ZW0sIDRweCk7XG4gICAgICAgIH1cblxuICAgICAgICAuYWRkb24tY2FsZW5kYXItZG90LXR5cGVzIHtcbiAgICAgICAgICAgIG1hcmdpbjogMDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5hZGRvbi1jYWxlbmRhci1wZXJpb2Qge1xuICAgICAgICBmbGV4LWdyb3c6IDM7XG4gICAgICAgIGgyIHtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEwcHg7XG4gICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTtcbiAgICAgICAgfVxuXG4gICAgICAgIC5hZGRvbi1jYWxlbmRhci1sb2FkaW5nLW1vbnRoIHtcbiAgICAgICAgICAgIGhlaWdodDogMjBweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5hZGRvbi1jYWxlbmRhci13ZWVrZGF5IHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWFkZG9uLWNhbGVuZGFyLWJvcmRlci1jb2xvcik7XG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIH1cblxuICAgIC5hZGRvbi1jYWxlbmRhci1kYXktZXZlbnRzIHtcbiAgICAgICAgdGV4dC1hbGlnbjogc3RhcnQ7XG5cbiAgICAgICAgaW9uLWljb24ge1xuICAgICAgICAgICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwobnVsbCwgMnB4KTtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmFkZG9uLWNhbGVuZGFyLWV2ZW50LCAuYWRkb24tY2FsZW5kYXItZGF5LW51bWJlciwgLmFkZG9uLWNhbGVuZGFyLWRheS1tb3JlIHtcbiAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xuICAgIH1cblxuICAgIC5jYWxlbmRhcl9ldmVudF90eXBlIHtcbiAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICB3aWR0aDogOHB4O1xuICAgICAgICBoZWlnaHQ6IDhweDtcbiAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlO1xuICAgICAgICBib3JkZXI6IDFweCBzb2xpZCB3aGl0ZTtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAxcHg7XG4gICAgICAgIG1hcmdpbi1sZWZ0OiAxcHg7XG5cbiAgICAgICAgQGVhY2ggJGNhdGVnb3J5LCAkdmFsdWUgaW4gJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvbG9ycyB7XG4gICAgICAgICAgICAmLmNhbGVuZGFyX2V2ZW50XyN7JGNhdGVnb3J5fSB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3dpcGVyLXNsaWRlIHtcbiAgICAgICAgZGlzcGxheTogYmxvY2s7XG4gICAgICAgIGZvbnQtc2l6ZTogaW5oZXJpdDtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzdGFydDtcbiAgICAgICAgYWxpZ24taXRlbXM6IHN0YXJ0O1xuICAgICAgICB0ZXh0LWFsaWduOiBzdGFydDtcbiAgICB9XG59XG5cbjpob3N0LWNvbnRleHQoaHRtbC5kYXJrKSB7XG4gICAgLS1hZGRvbi1jYWxlbmRhci1ibGFuay1kYXktYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tZ3JheS05MDApO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nclass AddonCalendarMonthSlidesItemsManagerSource extends CoreSwipeSlidesDynamicItemsManagerSource {\n  constructor(component, initialMoment) {\n    super({\n      moment: initialMoment\n    });\n    // Offline events classified in month & day.\n    this.offlineEvents = {};\n    this.offlineEditedEventsIds = []; // IDs of events edited in offline.\n    this.deletedEvents = []; // Events deleted in offline.\n    this.calendarComponent = component;\n  }\n  /**\n   * Fetch data.\n   *\n   * @returns Promise resolved when done.\n   */\n  fetchData() {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      yield Promise.all([_this6.loadCategories(), _this6.loadOfflineEvents(), _this6.loadOfflineDeletedEvents(), _this6.loadTimeFormat()]);\n    })();\n  }\n  /**\n   * Filter events based on the filter popover.\n   *\n   * @param weeks Weeks with the events to filter.\n   * @param filter Filter to apply.\n   */\n  filterEvents(weeks, filter) {\n    weeks.forEach(week => {\n      week.days.forEach(day => {\n        day.filteredEvents = AddonCalendarHelper.getFilteredEvents(day.eventsFormated || [], filter, this.categories || {});\n        // Re-calculate some properties.\n        AddonCalendarHelper.calculateDayData(day, day.filteredEvents);\n      });\n    });\n  }\n  /**\n   * Load categories to be able to filter events.\n   *\n   * @returns Promise resolved when done.\n   */\n  loadCategories() {\n    var _this7 = this;\n    return _asyncToGenerator(function* () {\n      if (_this7.categories) {\n        // Already retrieved, stop.\n        return;\n      }\n      try {\n        const categories = yield CoreCourses.getCategories(0, true);\n        // Index categories by ID.\n        _this7.categories = CoreUtils.arrayToObject(categories, 'id');\n      } catch (_unused) {\n        // Ignore errors.\n      }\n    })();\n  }\n  /**\n   * Load events created or edited in offline.\n   *\n   * @returns Promise resolved when done.\n   */\n  loadOfflineEvents() {\n    var _this8 = this;\n    return _asyncToGenerator(function* () {\n      // Get offline events.\n      const events = yield AddonCalendarOffline.getAllEditedEvents();\n      // Classify them by month.\n      _this8.offlineEvents = AddonCalendarHelper.classifyIntoMonths(events);\n      // Get the IDs of events edited in offline.\n      _this8.offlineEditedEventsIds = events.filter(event => event.id > 0).map(event => event.id);\n    })();\n  }\n  /**\n   * Load events deleted in offline.\n   *\n   * @returns Promise resolved when done.\n   */\n  loadOfflineDeletedEvents() {\n    var _this9 = this;\n    return _asyncToGenerator(function* () {\n      _this9.deletedEvents = yield AddonCalendarOffline.getAllDeletedEventsIds();\n    })();\n  }\n  /**\n   * Load time format.\n   *\n   * @returns Promise resolved when done.\n   */\n  loadTimeFormat() {\n    var _this10 = this;\n    return _asyncToGenerator(function* () {\n      _this10.timeFormat = yield AddonCalendar.getCalendarTimeFormat();\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  getItemId(item) {\n    return AddonCalendarHelper.getMonthId(item.moment);\n  }\n  /**\n   * @inheritdoc\n   */\n  getPreviousItem(item) {\n    return {\n      moment: item.moment.clone().subtract(1, 'month')\n    };\n  }\n  /**\n   * @inheritdoc\n   */\n  getNextItem(item) {\n    return {\n      moment: item.moment.clone().add(1, 'month')\n    };\n  }\n  /**\n   * @inheritdoc\n   */\n  loadItemData(month, preload = false) {\n    var _this11 = this;\n    return _asyncToGenerator(function* () {\n      // Load or preload the weeks.\n      let result;\n      const year = month.moment.year();\n      const monthNumber = month.moment.month() + 1;\n      if (preload) {\n        result = yield AddonCalendarHelper.getOfflineMonthWeeks(year, monthNumber);\n      } else {\n        try {\n          // Don't pass courseId and categoryId, we'll filter them locally.\n          result = yield AddonCalendar.getMonthlyEvents(year, monthNumber);\n        } catch (error) {\n          if (!CoreNetwork.isOnline()) {\n            // Allow navigating to non-cached months in offline (behave as if using emergency cache).\n            result = yield AddonCalendarHelper.getOfflineMonthWeeks(year, monthNumber);\n          } else {\n            throw error;\n          }\n        }\n      }\n      const weekDays = AddonCalendar.getWeekDays(result.daynames[0].dayno);\n      const weeks = result.weeks;\n      const currentDay = moment().date();\n      const currentTime = CoreTimeUtils.timestamp();\n      const dayMoment = moment(month.moment);\n      const preloadedMonth = _objectSpread(_objectSpread({}, month), {}, {\n        weeks,\n        weekDays,\n        isCurrentMonth: month.moment.isSame(moment(), 'month'),\n        isPastMonth: month.moment.isBefore(moment(), 'month')\n      });\n      yield Promise.all(weeks.map( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (week) {\n          yield Promise.all(week.days.map( /*#__PURE__*/function () {\n            var _ref2 = _asyncToGenerator(function* (day) {\n              day.periodName = CoreTimeUtils.userDate(dayMoment.date(day.mday).unix() * 1000, 'core.strftimedaydate');\n              day.eventsFormated = day.eventsFormated || [];\n              day.filteredEvents = day.filteredEvents || [];\n              // Format online events.\n              const onlineEventsFormatted = yield Promise.all(day.events.map(event => AddonCalendarHelper.formatEventData(event)));\n              day.eventsFormated = day.eventsFormated.concat(onlineEventsFormatted);\n              if (preloadedMonth.isCurrentMonth) {\n                day.istoday = day.mday == currentDay;\n                day.ispast = preloadedMonth.isPastMonth || day.mday < currentDay;\n                if (day.istoday) {\n                  var _day$eventsFormated2;\n                  (_day$eventsFormated2 = day.eventsFormated) === null || _day$eventsFormated2 === void 0 || _day$eventsFormated2.forEach(event => {\n                    event.ispast = _this11.isEventPast(event, currentTime);\n                  });\n                }\n              }\n            });\n            return function (_x2) {\n              return _ref2.apply(this, arguments);\n            };\n          }()));\n        });\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }()));\n      if (!preload) {\n        // Merge the online events with offline data.\n        _this11.mergeEvents(month, weeks);\n        // Filter events by course.\n        _this11.filterEvents(weeks, _this11.calendarComponent.filter);\n      }\n      return preloadedMonth;\n    })();\n  }\n  /**\n   * Merge online events with the offline events of that period.\n   *\n   * @param month Month.\n   * @param weeks Weeks with the events to filter.\n   */\n  mergeEvents(month, weeks) {\n    const monthOfflineEvents = this.offlineEvents[AddonCalendarHelper.getMonthId(month.moment)];\n    weeks.forEach(week => {\n      week.days.forEach(day => {\n        if (this.deletedEvents.length) {\n          var _day$eventsFormated3;\n          // Mark as deleted the events that were deleted in offline.\n          (_day$eventsFormated3 = day.eventsFormated) === null || _day$eventsFormated3 === void 0 || _day$eventsFormated3.forEach(event => {\n            event.deleted = this.deletedEvents.indexOf(event.id) != -1;\n          });\n        }\n        if (this.offlineEditedEventsIds.length) {\n          // Remove the online events that were modified in offline.\n          day.events = day.events.filter(event => this.offlineEditedEventsIds.indexOf(event.id) == -1);\n        }\n        if (monthOfflineEvents && monthOfflineEvents[day.mday] && day.eventsFormated) {\n          // Add the offline events (either new or edited).\n          day.eventsFormated = AddonCalendarHelper.sortEvents(day.eventsFormated.concat(monthOfflineEvents[day.mday]));\n        }\n      });\n    });\n  }\n  /**\n   * Returns if the event is in the past or not.\n   *\n   * @param event Event object.\n   * @param currentTime Current time.\n   * @returns True if it's in the past.\n   */\n  isEventPast(event, currentTime) {\n    return event.timestart + event.timeduration < currentTime;\n  }\n  /**\n   * Invalidate content.\n   *\n   * @param selectedMonth The current selected month.\n   * @returns Promise resolved when done.\n   */\n  invalidateContent(selectedMonth) {\n    var _this12 = this;\n    return _asyncToGenerator(function* () {\n      const promises = [];\n      if (selectedMonth) {\n        promises.push(AddonCalendar.invalidateMonthlyEvents(selectedMonth.moment.year(), selectedMonth.moment.month() + 1));\n      }\n      promises.push(CoreCourses.invalidateCategories(0, true));\n      promises.push(AddonCalendar.invalidateTimeFormat());\n      _this12.categories = undefined; // Get categories again.\n      if (selectedMonth) {\n        selectedMonth.dirty = true;\n      }\n      yield Promise.all(promises);\n    })();\n  }\n}","map":{"version":3,"names":["EventEmitter","CoreEvents","CoreSites","CoreDomUtils","CoreTimeUtils","CoreUtils","AddonCalendar","AddonCalendarProvider","AddonCalendarHelper","AddonCalendarOffline","CoreCourses","CoreNetwork","CoreSwipeSlidesComponent","CoreSwipeSlidesDynamicItemsManagerSource","CoreSwipeSlidesDynamicItemsManager","moment","CoreAnalytics","CoreAnalyticsEventType","CoreUrlUtils","CoreTime","Translate","i0","ɵɵelementStart","ɵɵlistener","AddonCalendarCalendarComponent_core_context_menu_item_2_Template_core_context_menu_item_action_0_listener","ɵɵrestoreView","_r6","ctx_r5","ɵɵnextContext","ɵɵresetView","goToCurrentMonth","ɵɵelementEnd","ɵɵproperty","ɵɵpipeBind1","AddonCalendarCalendarComponent_ion_col_7_Template_ion_button_click_1_listener","_r8","ctx_r7","loadPrevious","ɵɵelement","ɵɵadvance","ɵɵattribute","AddonCalendarCalendarComponent_ion_col_12_Template_ion_button_click_1_listener","_r10","ctx_r9","loadNext","ɵɵtext","ɵɵtextInterpolate","day_r15","fullname","shortname","ɵɵclassMapInterpolate1","type_r24","ɵɵtextInterpolate1","event_r27","iconTitle","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_Template_div_ariaButtonClick_0_listener","$event","_r36","$implicit","ctx_r34","eventClicked","ɵɵtemplate","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_ion_icon_2_Template","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_ion_icon_3_Template","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_span_10_Template","ɵɵclassProp","ispast","activeView_r12","formattedType","offline","deleted","ɵɵpipeBind2","timestart","ctx_r29","timeFormat","name","ɵɵelementContainerStart","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_div_1_Template","ɵɵelementContainerEnd","index_r28","day_r21","filteredEvents","length","ɵɵpureFunction1","_c0","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_ng_container_1_Template","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_p_3_Template","ɵɵpipeBind3","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_Template_ion_col_ariaButtonClick_0_listener","restoredCtx","_r43","ctx_r42","dayClicked","mday","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_span_8_Template","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_div_9_Template","month_r11","isPastMonth","ɵɵpureFunction4","_c1","hasevents","isCurrentMonth","istoday","isweekend","haslastdayofevent","periodName","calendareventtypes","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_1_Template","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_2_Template","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_ion_col_3_Template","week_r16","prepadding","days","postpadding","AddonCalendarCalendarComponent_ng_template_14_ion_col_3_Template","AddonCalendarCalendarComponent_ng_template_14_ion_row_5_Template","weekDays","weeks","AddonCalendarCalendarComponent","constructor","differs","_this$filter","onEventClicked","onDayClicked","loaded","currentSiteId","getCurrentSiteId","undeleteEventObserver","on","UNDELETED_EVENT_EVENT","data","_this$manager$getSour","_this$manager","eventId","undeleteEvent","index","manager","getSource","deletedEvents","indexOf","_this$manager2","splice","hiddenDiffer","hidden","filterDiffer","find","filter","create","logView","once","_this$manager3","_this$filter2","month","getSelectedItem","params","course","courseId","time","unix","logEvent","type","VIEW_ITEM_LIST","ws","instant","$a","_objectSpread","category","url","addParamsToUrl","hiddenAttribute","ngOnInit","canNavigate","isTrueOrOne","displayNavButtons","source","AddonCalendarMonthSlidesItemsManagerSource","year","initialYear","initialMonth","undefined","startOf","managerUnsubscribe","addListener","onSelectedItemUpdated","item","onMonthViewed","fetchData","ngDoCheck","_this$manager4","items","getItems","_this$filter3","changes","diff","forEach","_this$manager5","filterEvents","_this$swipeSlidesComp","swipeSlidesComponent","updateSlidesComponent","_this$manager6","_this","_asyncToGenerator","_this$manager7","_this$manager8","_this$manager9","load","error","showErrorModalDefault","userDate","refreshData","afterChange","_this2","_this2$manager","_this2$manager3","selectedMonth","_this2$manager2","markAllItemsDirty","invalidateContent","_this$swipeSlidesComp2","slideNext","_this$swipeSlidesComp3","slidePrev","calendarEvent","event","emit","id","stopPropagation","day","_this$manager10","_this3","currentMoment","viewMonth","selectedMonthLoaded","_this$manager11","selectedMonthIsCurrent","_this$manager12","_this4","_this4$manager","some","_month$weeks","week","_day$eventsFormated","eventsFormated","_this5","loadItem","slideToItem","ngOnDestroy","_this$undeleteEventOb","_this$manager13","_this$managerUnsubscr","off","destroy","call","_class","ɵɵdirectiveInject","KeyValueDiffers","selectors","viewQuery","AddonCalendarCalendarComponent_Query","rf","ctx","AddonCalendarCalendarComponent_core_context_menu_item_2_Template","AddonCalendarCalendarComponent_ion_col_7_Template","AddonCalendarCalendarComponent_ion_spinner_11_Template","AddonCalendarCalendarComponent_ion_col_12_Template","AddonCalendarCalendarComponent_ng_template_14_Template","component","initialMoment","offlineEvents","offlineEditedEventsIds","calendarComponent","_this6","Promise","all","loadCategories","loadOfflineEvents","loadOfflineDeletedEvents","loadTimeFormat","getFilteredEvents","categories","calculateDayData","_this7","getCategories","arrayToObject","_unused","_this8","events","getAllEditedEvents","classifyIntoMonths","map","_this9","getAllDeletedEventsIds","_this10","getCalendarTimeFormat","getItemId","getMonthId","getPreviousItem","clone","subtract","getNextItem","add","loadItemData","preload","_this11","result","monthNumber","getOfflineMonthWeeks","getMonthlyEvents","isOnline","getWeekDays","daynames","dayno","currentDay","date","currentTime","timestamp","dayMoment","preloadedMonth","isSame","isBefore","_ref","_ref2","onlineEventsFormatted","formatEventData","concat","_day$eventsFormated2","isEventPast","_x2","apply","arguments","_x","mergeEvents","monthOfflineEvents","_day$eventsFormated3","sortEvents","timeduration","_this12","promises","push","invalidateMonthlyEvents","invalidateCategories","invalidateTimeFormat","dirty"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/calendar/components/calendar/calendar.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/addons/calendar/components/calendar/addon-calendar-calendar.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport {\n    Component,\n    OnDestroy,\n    OnInit,\n    Input,\n    DoCheck,\n    Output,\n    EventEmitter,\n    KeyValueDiffers,\n    KeyValueDiffer,\n    ViewChild,\n    HostBinding,\n} from '@angular/core';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreTimeUtils } from '@services/utils/time';\nimport { CoreUtils } from '@services/utils/utils';\nimport {\n    AddonCalendar,\n    AddonCalendarProvider,\n    AddonCalendarWeek,\n    AddonCalendarWeekDaysTranslationKeys,\n    AddonCalendarEventToDisplay,\n    AddonCalendarDayName,\n} from '../../services/calendar';\nimport { AddonCalendarFilter, AddonCalendarHelper } from '../../services/calendar-helper';\nimport { AddonCalendarOffline } from '../../services/calendar-offline';\nimport { CoreCategoryData, CoreCourses } from '@features/courses/services/courses';\nimport { CoreNetwork } from '@services/network';\nimport { CoreSwipeSlidesComponent } from '@components/swipe-slides/swipe-slides';\nimport {\n    CoreSwipeSlidesDynamicItem,\n    CoreSwipeSlidesDynamicItemsManagerSource,\n} from '@classes/items-management/swipe-slides-dynamic-items-manager-source';\nimport { CoreSwipeSlidesDynamicItemsManager } from '@classes/items-management/swipe-slides-dynamic-items-manager';\nimport moment from 'moment-timezone';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\nimport { CoreUrlUtils } from '@services/utils/url';\nimport { CoreTime } from '@singletons/time';\nimport { Translate } from '@singletons';\n\n/**\n * Component that displays a calendar.\n */\n@Component({\n    selector: 'addon-calendar-calendar',\n    templateUrl: 'addon-calendar-calendar.html',\n    styleUrls: ['calendar.scss'],\n})\nexport class AddonCalendarCalendarComponent implements OnInit, DoCheck, OnDestroy {\n\n    @ViewChild(CoreSwipeSlidesComponent) swipeSlidesComponent?: CoreSwipeSlidesComponent<PreloadedMonth>;\n\n    @Input() initialYear?: number; // Initial year to load.\n    @Input() initialMonth?: number; // Initial month to load.\n    @Input() filter?: AddonCalendarFilter; // Filter to apply.\n    @Input() hidden?: boolean; // Whether the component is hidden.\n    @Input() canNavigate?: string | boolean; // Whether to include arrows to change the month. Defaults to true.\n    @Input() displayNavButtons?: string | boolean; // Whether to display nav buttons created by this component. Defaults to true.\n    @Output() onEventClicked = new EventEmitter<number>();\n    @Output() onDayClicked = new EventEmitter<{day: number; month: number; year: number}>();\n\n    periodName?: string;\n    manager?: CoreSwipeSlidesDynamicItemsManager<PreloadedMonth, AddonCalendarMonthSlidesItemsManagerSource>;\n    loaded = false;\n\n    protected currentSiteId: string;\n    protected hiddenDiffer?: boolean; // To detect changes in the hidden input.\n    protected filterDiffer: KeyValueDiffer<unknown, unknown>; // To detect changes in the filters input.\n    // Observers and listeners.\n    protected undeleteEventObserver: CoreEventObserver;\n    protected managerUnsubscribe?: () => void;\n    protected logView: () => void;\n\n    constructor(differs: KeyValueDiffers) {\n        this.currentSiteId = CoreSites.getCurrentSiteId();\n\n        // Listen for events \"undeleted\" (offline).\n        this.undeleteEventObserver = CoreEvents.on(\n            AddonCalendarProvider.UNDELETED_EVENT_EVENT,\n            (data) => {\n                if (!data || !data.eventId) {\n                    return;\n                }\n\n                // Mark it as undeleted, no need to refresh.\n                this.undeleteEvent(data.eventId);\n\n                // Remove it from the list of deleted events if it's there.\n                const index = this.manager?.getSource().deletedEvents.indexOf(data.eventId) ?? -1;\n                if (index != -1) {\n                    this.manager?.getSource().deletedEvents.splice(index, 1);\n                }\n            },\n            this.currentSiteId,\n        );\n\n        this.hiddenDiffer = this.hidden;\n        this.filterDiffer = differs.find(this.filter ?? {}).create();\n\n        this.logView = CoreTime.once(() => {\n            const month = this.manager?.getSelectedItem();\n            if (!month) {\n                return;\n            }\n\n            const params = {\n                course: this.filter?.courseId,\n                time: month.moment.unix(),\n            };\n\n            CoreAnalytics.logEvent({\n                type: CoreAnalyticsEventType.VIEW_ITEM_LIST,\n                ws: 'core_calendar_get_calendar_monthly_view',\n                name: Translate.instant('addon.calendar.detailedmonthviewtitle', { $a: this.periodName }),\n                data: {\n                    ...params,\n                    category: 'calendar',\n                },\n                url: CoreUrlUtils.addParamsToUrl('/calendar/view.php?view=month', params),\n            });\n        });\n    }\n\n    @HostBinding('attr.hidden') get hiddenAttribute(): string | null {\n        return this.hidden ? 'hidden' : null;\n    }\n\n    /**\n     * Component loaded.\n     */\n    ngOnInit(): void {\n        this.canNavigate = typeof this.canNavigate == 'undefined' ? true : CoreUtils.isTrueOrOne(this.canNavigate);\n        this.displayNavButtons = typeof this.displayNavButtons == 'undefined' ? true :\n            CoreUtils.isTrueOrOne(this.displayNavButtons);\n\n        const source = new AddonCalendarMonthSlidesItemsManagerSource(this, moment({\n            year: this.initialYear,\n            month: this.initialMonth ? this.initialMonth - 1 : undefined,\n        }).startOf('month'));\n        this.manager = new CoreSwipeSlidesDynamicItemsManager(source);\n        this.managerUnsubscribe = this.manager.addListener({\n            onSelectedItemUpdated: (item) => {\n                this.onMonthViewed(item);\n            },\n        });\n\n        this.fetchData();\n    }\n\n    /**\n     * Detect and act upon changes that Angular can’t or won’t detect on its own (objects and arrays).\n     */\n    ngDoCheck(): void {\n        const items = this.manager?.getSource().getItems();\n\n        if (items?.length) {\n            // Check if there's any change in the filter object.\n            const changes = this.filterDiffer.diff(this.filter ?? {});\n            if (changes) {\n                items.forEach((month) => {\n                    if (month.loaded && month.weeks) {\n                        this.manager?.getSource().filterEvents(month.weeks, this.filter);\n                    }\n                });\n            }\n        }\n\n        if (this.hiddenDiffer !== this.hidden) {\n            this.hiddenDiffer = this.hidden;\n\n            if (!this.hidden) {\n                this.swipeSlidesComponent?.updateSlidesComponent();\n            }\n        }\n    }\n\n    get timeFormat(): string {\n        return this.manager?.getSource().timeFormat || 'core.strftimetime';\n    }\n\n    /**\n     * Fetch contacts.\n     *\n     * @returns Promise resolved when done.\n     */\n    async fetchData(): Promise<void> {\n        try {\n            await this.manager?.getSource().fetchData();\n\n            await this.manager?.getSource().load(this.manager?.getSelectedItem());\n\n            this.logView();\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'addon.calendar.errorloadevents', true);\n        }\n\n        this.loaded = true;\n    }\n\n    /**\n     * Update data related to month being viewed.\n     *\n     * @param month Month being viewed.\n     */\n    onMonthViewed(month: MonthBasicData): void {\n        // Calculate the period name. We don't use the one in result because it's in server's language.\n        this.periodName = CoreTimeUtils.userDate(\n            month.moment.unix() * 1000,\n            'core.strftimemonthyear',\n        );\n    }\n\n    /**\n     * Refresh events.\n     *\n     * @param afterChange Whether the refresh is done after an event has changed or has been synced.\n     * @returns Promise resolved when done.\n     */\n    async refreshData(afterChange = false): Promise<void> {\n        const selectedMonth = this.manager?.getSelectedItem() || null;\n\n        if (afterChange) {\n            this.manager?.getSource().markAllItemsDirty();\n        }\n\n        await this.manager?.getSource().invalidateContent(selectedMonth);\n\n        await this.fetchData();\n    }\n\n    /**\n     * Load next month.\n     */\n    loadNext(): void {\n        this.swipeSlidesComponent?.slideNext();\n    }\n\n    /**\n     * Load previous month.\n     */\n    loadPrevious(): void {\n        this.swipeSlidesComponent?.slidePrev();\n    }\n\n    /**\n     * An event was clicked.\n     *\n     * @param calendarEvent Calendar event..\n     * @param event Mouse event.\n     */\n    eventClicked(calendarEvent: AddonCalendarEventToDisplay, event: Event): void {\n        this.onEventClicked.emit(calendarEvent.id);\n        event.stopPropagation();\n    }\n\n    /**\n     * A day was clicked.\n     *\n     * @param day Day.\n     */\n    dayClicked(day: number): void {\n        const selectedMonth = this.manager?.getSelectedItem();\n        if (!selectedMonth) {\n            return;\n        }\n\n        this.onDayClicked.emit({ day: day, month: selectedMonth.moment.month() + 1, year: selectedMonth.moment.year() });\n    }\n\n    /**\n     * Go to current month.\n     */\n    async goToCurrentMonth(): Promise<void> {\n        const currentMoment = moment();\n\n        await this.viewMonth(currentMoment.month() + 1, currentMoment.year());\n    }\n\n    /**\n     * Check whether selected month is loaded.\n     *\n     * @returns If selected month has been loaded.\n     */\n    selectedMonthLoaded(): boolean {\n        return !!this.manager?.getSelectedItem()?.loaded;\n    }\n\n    /**\n     * Check whether selected month is current month.\n     *\n     * @returns If selected month is the current.\n     */\n    selectedMonthIsCurrent(): boolean {\n        return !!this.manager?.getSelectedItem()?.isCurrentMonth;\n    }\n\n    /**\n     * Undelete a certain event.\n     *\n     * @param eventId Event ID.\n     */\n    protected async undeleteEvent(eventId: number): Promise<void> {\n        this.manager?.getSource().getItems()?.some((month) => {\n            if (!month.loaded) {\n                return false;\n            }\n\n            return month.weeks?.some((week) => week.days.some((day) => {\n                const event = day.eventsFormated?.find((event) => event.id == eventId);\n\n                if (event) {\n                    event.deleted = false;\n\n                    return true;\n                }\n\n                return false;\n            }));\n        });\n    }\n\n    /**\n     * View a certain month and year.\n     *\n     * @param month Month.\n     * @param year Year.\n     */\n    async viewMonth(month: number, year: number): Promise<void> {\n        const manager = this.manager;\n        if (!manager || !this.swipeSlidesComponent) {\n            return;\n        }\n\n        this.loaded = false;\n        const item = {\n            moment: moment({\n                year,\n                month: month - 1,\n            }),\n        };\n\n        try {\n            // Make sure the day is loaded.\n            await manager.getSource().loadItem(item);\n\n            this.swipeSlidesComponent.slideToItem(item);\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'addon.calendar.errorloadevents', true);\n        } finally {\n            this.loaded = true;\n        }\n    }\n\n    /**\n     * Component destroyed.\n     */\n    ngOnDestroy(): void {\n        this.undeleteEventObserver?.off();\n        this.manager?.destroy();\n        this.managerUnsubscribe?.();\n\n        delete this.manager;\n    }\n\n}\n\n/**\n * Basic data to identify a month.\n */\ntype MonthBasicData = {\n    moment: moment.Moment;\n};\n\n/**\n * Preloaded month.\n */\ntype PreloadedMonth = MonthBasicData & CoreSwipeSlidesDynamicItem & {\n    weekDays?: AddonCalendarWeekDaysTranslationKeys[];\n    weeks?: AddonCalendarWeek[];\n    isCurrentMonth?: boolean;\n    isPastMonth?: boolean;\n};\n\n/**\n * Helper to manage swiping within months.\n */\nclass AddonCalendarMonthSlidesItemsManagerSource extends CoreSwipeSlidesDynamicItemsManagerSource<PreloadedMonth> {\n\n    categories?: { [id: number]: CoreCategoryData };\n    // Offline events classified in month & day.\n    offlineEvents: { [monthId: string]: { [day: number]: AddonCalendarEventToDisplay[] } } = {};\n    offlineEditedEventsIds: number[] = []; // IDs of events edited in offline.\n    deletedEvents: number[] = []; // Events deleted in offline.\n    timeFormat?: string;\n\n    protected calendarComponent: AddonCalendarCalendarComponent;\n\n    constructor(component: AddonCalendarCalendarComponent, initialMoment: moment.Moment) {\n        super({ moment: initialMoment });\n\n        this.calendarComponent = component;\n    }\n\n    /**\n     * Fetch data.\n     *\n     * @returns Promise resolved when done.\n     */\n    async fetchData(): Promise<void> {\n        await Promise.all([\n            this.loadCategories(),\n            this.loadOfflineEvents(),\n            this.loadOfflineDeletedEvents(),\n            this.loadTimeFormat(),\n        ]);\n    }\n\n    /**\n     * Filter events based on the filter popover.\n     *\n     * @param weeks Weeks with the events to filter.\n     * @param filter Filter to apply.\n     */\n    filterEvents(weeks: AddonCalendarWeek[], filter?: AddonCalendarFilter): void {\n        weeks.forEach((week) => {\n            week.days.forEach((day) => {\n                day.filteredEvents = AddonCalendarHelper.getFilteredEvents(\n                    day.eventsFormated || [],\n                    filter,\n                    this.categories || {},\n                );\n\n                // Re-calculate some properties.\n                AddonCalendarHelper.calculateDayData(day, day.filteredEvents);\n            });\n        });\n    }\n\n    /**\n     * Load categories to be able to filter events.\n     *\n     * @returns Promise resolved when done.\n     */\n    async loadCategories(): Promise<void> {\n        if (this.categories) {\n            // Already retrieved, stop.\n            return;\n        }\n\n        try {\n            const categories = await CoreCourses.getCategories(0, true);\n\n            // Index categories by ID.\n            this.categories = CoreUtils.arrayToObject(categories, 'id');\n        } catch {\n            // Ignore errors.\n        }\n    }\n\n    /**\n     * Load events created or edited in offline.\n     *\n     * @returns Promise resolved when done.\n     */\n    async loadOfflineEvents(): Promise<void> {\n        // Get offline events.\n        const events = await AddonCalendarOffline.getAllEditedEvents();\n\n        // Classify them by month.\n        this.offlineEvents = AddonCalendarHelper.classifyIntoMonths(events);\n\n        // Get the IDs of events edited in offline.\n        this.offlineEditedEventsIds = events.filter((event) => event.id > 0).map((event) => event.id);\n    }\n\n    /**\n     * Load events deleted in offline.\n     *\n     * @returns Promise resolved when done.\n     */\n    async loadOfflineDeletedEvents(): Promise<void> {\n        this.deletedEvents = await AddonCalendarOffline.getAllDeletedEventsIds();\n    }\n\n    /**\n     * Load time format.\n     *\n     * @returns Promise resolved when done.\n     */\n    async loadTimeFormat(): Promise<void> {\n        this.timeFormat = await AddonCalendar.getCalendarTimeFormat();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getItemId(item: MonthBasicData): string | number {\n        return AddonCalendarHelper.getMonthId(item.moment);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getPreviousItem(item: MonthBasicData): MonthBasicData | null {\n        return {\n            moment: item.moment.clone().subtract(1, 'month'),\n        };\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getNextItem(item: MonthBasicData): MonthBasicData | null {\n        return {\n            moment: item.moment.clone().add(1, 'month'),\n        };\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async loadItemData(month: MonthBasicData, preload = false): Promise<PreloadedMonth | null> {\n        // Load or preload the weeks.\n        let result: { daynames: Partial<AddonCalendarDayName>[]; weeks: Partial<AddonCalendarWeek>[] };\n        const year = month.moment.year();\n        const monthNumber = month.moment.month() + 1;\n\n        if (preload) {\n            result = await AddonCalendarHelper.getOfflineMonthWeeks(year, monthNumber);\n        } else {\n            try {\n                // Don't pass courseId and categoryId, we'll filter them locally.\n                result = await AddonCalendar.getMonthlyEvents(year, monthNumber);\n            } catch (error) {\n                if (!CoreNetwork.isOnline()) {\n                    // Allow navigating to non-cached months in offline (behave as if using emergency cache).\n                    result = await AddonCalendarHelper.getOfflineMonthWeeks(year, monthNumber);\n                } else {\n                    throw error;\n                }\n            }\n        }\n\n        const weekDays = AddonCalendar.getWeekDays(result.daynames[0].dayno);\n        const weeks = result.weeks as AddonCalendarWeek[];\n        const currentDay = moment().date();\n        const currentTime = CoreTimeUtils.timestamp();\n        const dayMoment = moment(month.moment);\n\n        const preloadedMonth: PreloadedMonth = {\n            ...month,\n            weeks,\n            weekDays,\n            isCurrentMonth: month.moment.isSame(moment(), 'month'),\n            isPastMonth: month.moment.isBefore(moment(), 'month'),\n        };\n\n        await Promise.all(weeks.map(async (week) => {\n            await Promise.all(week.days.map(async (day) => {\n                day.periodName = CoreTimeUtils.userDate(\n                    dayMoment.date(day.mday).unix() * 1000,\n                    'core.strftimedaydate',\n                );\n                day.eventsFormated = day.eventsFormated || [];\n                day.filteredEvents = day.filteredEvents || [];\n                // Format online events.\n                const onlineEventsFormatted = await Promise.all(\n                    day.events.map((event) => AddonCalendarHelper.formatEventData(event)),\n                );\n\n                day.eventsFormated = day.eventsFormated.concat(onlineEventsFormatted);\n\n                if (preloadedMonth.isCurrentMonth) {\n                    day.istoday = day.mday == currentDay;\n                    day.ispast = preloadedMonth.isPastMonth || day.mday < currentDay;\n\n                    if (day.istoday) {\n                        day.eventsFormated?.forEach((event) => {\n                            event.ispast = this.isEventPast(event, currentTime);\n                        });\n                    }\n                }\n            }));\n        }));\n\n        if (!preload) {\n            // Merge the online events with offline data.\n            this.mergeEvents(month, weeks);\n            // Filter events by course.\n            this.filterEvents(weeks, this.calendarComponent.filter);\n        }\n\n        return preloadedMonth;\n    }\n\n    /**\n     * Merge online events with the offline events of that period.\n     *\n     * @param month Month.\n     * @param weeks Weeks with the events to filter.\n     */\n    mergeEvents(month: MonthBasicData, weeks: AddonCalendarWeek[]): void {\n        const monthOfflineEvents: { [day: number]: AddonCalendarEventToDisplay[] } =\n            this.offlineEvents[AddonCalendarHelper.getMonthId(month.moment)];\n\n        weeks.forEach((week) => {\n            week.days.forEach((day) => {\n                if (this.deletedEvents.length) {\n                    // Mark as deleted the events that were deleted in offline.\n                    day.eventsFormated?.forEach((event) => {\n                        event.deleted = this.deletedEvents.indexOf(event.id) != -1;\n                    });\n                }\n\n                if (this.offlineEditedEventsIds.length) {\n                    // Remove the online events that were modified in offline.\n                    day.events = day.events.filter((event) => this.offlineEditedEventsIds.indexOf(event.id) == -1);\n                }\n\n                if (monthOfflineEvents && monthOfflineEvents[day.mday] && day.eventsFormated) {\n                    // Add the offline events (either new or edited).\n                    day.eventsFormated =\n                        AddonCalendarHelper.sortEvents(day.eventsFormated.concat(monthOfflineEvents[day.mday]));\n                }\n            });\n        });\n    }\n\n    /**\n     * Returns if the event is in the past or not.\n     *\n     * @param event Event object.\n     * @param currentTime Current time.\n     * @returns True if it's in the past.\n     */\n    isEventPast(event: { timestart: number; timeduration: number}, currentTime: number): boolean {\n        return (event.timestart + event.timeduration) < currentTime;\n    }\n\n    /**\n     * Invalidate content.\n     *\n     * @param selectedMonth The current selected month.\n     * @returns Promise resolved when done.\n     */\n    async invalidateContent(selectedMonth: PreloadedMonth | null): Promise<void> {\n        const promises: Promise<void>[] = [];\n\n        if (selectedMonth) {\n            promises.push(AddonCalendar.invalidateMonthlyEvents(selectedMonth.moment.year(), selectedMonth.moment.month() + 1));\n        }\n        promises.push(CoreCourses.invalidateCategories(0, true));\n        promises.push(AddonCalendar.invalidateTimeFormat());\n\n        this.categories = undefined; // Get categories again.\n\n        if (selectedMonth) {\n            selectedMonth.dirty = true;\n        }\n\n        await Promise.all(promises);\n    }\n\n}\n","<!-- Add buttons to the nav bar. -->\n<core-navbar-buttons slot=\"end\" prepend>\n    <core-context-menu>\n        <core-context-menu-item *ngIf=\"canNavigate && !selectedMonthIsCurrent() && displayNavButtons\" [priority]=\"900\"\n            [content]=\"'addon.calendar.currentmonth' | translate\" iconAction=\"fas-calendar-day\" (action)=\"goToCurrentMonth()\" />\n    </core-context-menu>\n</core-navbar-buttons>\n\n<core-loading [hideUntil]=\"loaded\">\n    <div class=\"core-swipe-slides-container\">\n        <!-- Period name and arrows to navigate. -->\n        <ion-grid class=\"ion-no-padding addon-calendar-navigation\">\n            <ion-row class=\"ion-align-items-center\">\n                <ion-col class=\"ion-text-start\" *ngIf=\"canNavigate\">\n                    <ion-button fill=\"clear\" (click)=\"loadPrevious()\" [attr.aria-label]=\"'core.previous' | translate\">\n                        <ion-icon name=\"fas-chevron-left\" slot=\"icon-only\" aria-hidden=\"true\" />\n                    </ion-button>\n                </ion-col>\n                <ion-col class=\"ion-text-center addon-calendar-period\">\n                    <h2 id=\"addon-calendar-monthname\">\n                        {{ periodName }}\n                        <ion-spinner *ngIf=\"!selectedMonthLoaded()\" class=\"addon-calendar-loading-month\" />\n                    </h2>\n                </ion-col>\n                <ion-col class=\"ion-text-end\" *ngIf=\"canNavigate\">\n                    <ion-button fill=\"clear\" (click)=\"loadNext()\" [attr.aria-label]=\"'core.next' | translate\">\n                        <ion-icon name=\"fas-chevron-right\" slot=\"icon-only\" aria-hidden=\"true\" />\n                    </ion-button>\n                </ion-col>\n            </ion-row>\n        </ion-grid>\n\n        <core-swipe-slides [manager]=\"manager\">\n            <ng-template let-month=\"item\" let-activeView=\"active\">\n                <!-- Calendar view. -->\n                <ion-grid class=\"addon-calendar-months\" role=\"table\" aria-describedby=\"addon-calendar-monthname\">\n                    <div role=\"rowgroup\">\n                        <!-- List of days. -->\n                        <ion-row role=\"row\">\n                            <ion-col class=\"ion-text-center addon-calendar-weekday\" *ngFor=\"let day of month.weekDays\" role=\"columnheader\">\n                                <span class=\"sr-only\">{{ day.fullname | translate }}</span>\n                                <span class=\"ion-hide-md-up\" aria-hidden=\"true\">{{ day.shortname | translate }}</span>\n                                <span class=\"ion-hide-md-down\" aria-hidden=\"true\">{{ day.fullname | translate }}</span>\n                            </ion-col>\n                        </ion-row>\n                    </div>\n                    <div role=\"rowgroup\">\n                        <!-- Weeks. -->\n                        <ion-row *ngFor=\"let week of month.weeks\" class=\"addon-calendar-week\" role=\"row\">\n                            <!-- Empty slots (first week). -->\n                            <ion-col *ngFor=\"let value of week.prepadding\" class=\"dayblank addon-calendar-day\" role=\"cell\" />\n                            <ion-col *ngFor=\"let day of week.days\" class=\"addon-calendar-day ion-text-center\" [ngClass]='{\n                                    \"hasevents\": day.hasevents,\n                                    \"today\": month.isCurrentMonth && day.istoday,\n                                    \"weekend\": day.isweekend,\n                                    \"duration_finish\": day.haslastdayofevent\n                                }' [class.addon-calendar-event-past-day]=\"month.isPastMonth || day.ispast\" role=\"cell\"\n                                (ariaButtonClick)=\"dayClicked(day.mday)\" [tabindex]=\"activeView ? 0 : -1\">\n                                <p class=\"addon-calendar-day-number\">\n                                    <span aria-hidden=\"true\">{{ day.mday }}</span>\n                                    <span class=\"sr-only\">{{ day.periodName | translate }}</span>\n                                </p>\n\n                                <!-- In phone, display some dots to indicate the type of events. -->\n                                <p class=\"ion-hide-md-up addon-calendar-dot-types\"><span *ngFor=\"let type of day.calendareventtypes\"\n                                        class=\"calendar_event_type calendar_event_{{type}}\"></span></p>\n\n                                <!-- In tablet, display list of events. -->\n                                <div class=\"ion-hide-md-down addon-calendar-day-events\" *ngIf=\"day.filteredEvents\">\n                                    <ng-container *ngFor=\"let event of day.filteredEvents | slice:0:4; let index = index\">\n                                        <div *ngIf=\"index < 3 || day.filteredEvents.length === 4\" class=\"addon-calendar-event\"\n                                            [class.addon-calendar-event-past]=\"event.ispast\" (ariaButtonClick)=\"eventClicked(event, $event)\"\n                                            [tabindex]=\"activeView ? 0 : -1\">\n                                            <span class=\"calendar_event_type calendar_event_{{event.formattedType}}\"></span>\n                                            <ion-icon *ngIf=\"event.offline && !event.deleted\" name=\"fas-clock\"\n                                                [attr.aria-label]=\"'core.notsent' | translate\" />\n                                            <ion-icon *ngIf=\"event.deleted\" name=\"fas-trash\"\n                                                [attr.aria-label]=\"'core.deletedoffline' | translate\" />\n                                            <span class=\"addon-calendar-event-time\">\n                                                {{ event.timestart * 1000 | coreFormatDate: timeFormat }}\n                                            </span>\n                                            <!-- Add the icon title so accessibility tools read it. -->\n                                            <span class=\"sr-only\">\n                                                {{ 'addon.calendar.type' + event.formattedType | translate }}\n                                                <span class=\"sr-only\" *ngIf=\"event.iconTitle\">\n                                                    {{ event.iconTitle }}\n                                                </span>\n                                            </span>\n                                            <span class=\"addon-calendar-event-name\">{{event.name}}</span>\n                                        </div>\n                                    </ng-container>\n                                    <p *ngIf=\"day.filteredEvents.length > 4\" class=\"addon-calendar-day-more\">\n                                        <strong>{{ 'core.nummore' | translate:{$a: day.filteredEvents.length - 3} }}</strong>\n                                    </p>\n                                </div>\n                            </ion-col>\n                            <!-- Empty slots (last week). -->\n                            <ion-col *ngFor=\"let value of week.postpadding\" class=\"dayblank addon-calendar-day\" role=\"cell\" />\n                        </ion-row>\n                    </div>\n                </ion-grid>\n            </ng-template>\n        </core-swipe-slides>\n    </div>\n\n</core-loading>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}