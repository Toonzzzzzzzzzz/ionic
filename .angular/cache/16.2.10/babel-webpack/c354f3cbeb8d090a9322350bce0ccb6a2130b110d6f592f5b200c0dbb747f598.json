{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreBlockBaseComponent } from '../../classes/base-block-component';\nimport * as i0 from \"@angular/core\";\nfunction CoreBlockPreRenderedComponent_ion_item_divider_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item-divider\", 4)(1, \"ion-label\")(2, \"h2\");\n    i0.ɵɵelement(3, \"core-format-text\", 5);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"sticky\", true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"text\", i0.ɵɵpipeBind1(4, 4, ctx_r0.title))(\"contextInstanceId\", ctx_r0.block.instanceid)(\"courseId\", ctx_r0.courseId);\n  }\n}\nfunction CoreBlockPreRenderedComponent_ion_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 6)(1, \"ion-label\");\n    i0.ɵɵelement(2, \"core-format-text\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"text\", ctx_r1.block.contents == null ? null : ctx_r1.block.contents.content)(\"contextInstanceId\", ctx_r1.block.instanceid)(\"courseId\", ctx_r1.courseId);\n  }\n}\nfunction CoreBlockPreRenderedComponent_ion_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 7)(1, \"ion-label\");\n    i0.ɵɵelement(2, \"core-format-text\", 5);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"text\", ctx_r2.block.contents == null ? null : ctx_r2.block.contents.footer)(\"contextInstanceId\", ctx_r2.block.instanceid)(\"courseId\", ctx_r2.courseId);\n  }\n}\n/**\n * Component to render blocks with pre-rendered HTML.\n */\nexport class CoreBlockPreRenderedComponent extends CoreBlockBaseComponent {\n  constructor() {\n    super('CoreBlockPreRenderedComponent');\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    var _superprop_getNgOnInit = () => super.ngOnInit,\n      _this = this;\n    return _asyncToGenerator(function* () {\n      var _this$block$contents;\n      yield _superprop_getNgOnInit().call(_this);\n      _this.courseId = _this.contextLevel == 'course' ? _this.instanceId : undefined;\n      _this.fetchContentDefaultError = 'Error getting ' + ((_this$block$contents = _this.block.contents) === null || _this$block$contents === void 0 ? void 0 : _this$block$contents.title) + ' data.';\n      _this.id = `block-${_this.block.instanceid}`;\n    })();\n  }\n}\n_class = CoreBlockPreRenderedComponent;\n_class.ɵfac = function CoreBlockPreRenderedComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"core-block-pre-rendered\"]],\n  hostVars: 1,\n  hostBindings: function CoreBlockPreRenderedComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵattribute(\"id\", ctx.id);\n    }\n  },\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 4,\n  vars: 5,\n  consts: [[\"class\", \"ion-text-wrap\", 3, \"sticky\", 4, \"ngIf\"], [3, \"hideUntil\", \"fullscreen\"], [\"class\", \"ion-text-wrap core-block-content\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap core-block-footer\", 4, \"ngIf\"], [1, \"ion-text-wrap\", 3, \"sticky\"], [\"contextLevel\", \"block\", 3, \"text\", \"contextInstanceId\", \"courseId\"], [1, \"ion-text-wrap\", \"core-block-content\"], [1, \"ion-text-wrap\", \"core-block-footer\"]],\n  template: function CoreBlockPreRenderedComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CoreBlockPreRenderedComponent_ion_item_divider_0_Template, 5, 6, \"ion-item-divider\", 0);\n      i0.ɵɵelementStart(1, \"core-loading\", 1);\n      i0.ɵɵtemplate(2, CoreBlockPreRenderedComponent_ion_item_2_Template, 3, 3, \"ion-item\", 2);\n      i0.ɵɵtemplate(3, CoreBlockPreRenderedComponent_ion_item_3_Template, 3, 3, \"ion-item\", 3);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.title);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hideUntil\", ctx.loaded)(\"fullscreen\", false);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.block.contents == null ? null : ctx.block.contents.content);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.block.contents == null ? null : ctx.block.contents.footer);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"names":["CoreBlockBaseComponent","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵproperty","ɵɵadvance","ɵɵpipeBind1","ctx_r0","title","block","instanceid","courseId","ctx_r1","contents","content","ctx_r2","footer","CoreBlockPreRenderedComponent","constructor","ngOnInit","_superprop_getNgOnInit","_this","_asyncToGenerator","_this$block$contents","call","contextLevel","instanceId","undefined","fetchContentDefaultError","id","selectors","hostVars","hostBindings","CoreBlockPreRenderedComponent_HostBindings","rf","ctx","ɵɵtemplate","CoreBlockPreRenderedComponent_ion_item_divider_0_Template","CoreBlockPreRenderedComponent_ion_item_2_Template","CoreBlockPreRenderedComponent_ion_item_3_Template","loaded"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/block/components/pre-rendered-block/pre-rendered-block.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/block/components/pre-rendered-block/core-block-pre-rendered.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { OnInit, Component, HostBinding } from '@angular/core';\nimport { CoreBlockBaseComponent } from '../../classes/base-block-component';\n\n/**\n * Component to render blocks with pre-rendered HTML.\n */\n@Component({\n    selector: 'core-block-pre-rendered',\n    templateUrl: 'core-block-pre-rendered.html',\n})\nexport class CoreBlockPreRenderedComponent extends CoreBlockBaseComponent implements OnInit {\n\n    courseId?: number;\n\n    @HostBinding('attr.id') id?: string;\n\n    constructor() {\n        super('CoreBlockPreRenderedComponent');\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        await super.ngOnInit();\n\n        this.courseId = this.contextLevel == 'course' ? this.instanceId : undefined;\n\n        this.fetchContentDefaultError = 'Error getting ' + this.block.contents?.title + ' data.';\n\n        this.id = `block-${this.block.instanceid}`;\n    }\n\n}\n","<ion-item-divider class=\"ion-text-wrap\" *ngIf=\"title\" [sticky]=\"true\">\n    <ion-label>\n        <h2>\n            <core-format-text [text]=\"title | translate\" contextLevel=\"block\" [contextInstanceId]=\"block.instanceid\"\n                [courseId]=\"courseId\" />\n        </h2>\n    </ion-label>\n</ion-item-divider>\n<core-loading [hideUntil]=\"loaded\" [fullscreen]=\"false\">\n    <ion-item *ngIf=\"block.contents?.content\" class=\"ion-text-wrap core-block-content\">\n        <ion-label>\n            <core-format-text [text]=\"block.contents?.content\" contextLevel=\"block\" [contextInstanceId]=\"block.instanceid\"\n                [courseId]=\"courseId\" />\n        </ion-label>\n    </ion-item>\n    <ion-item *ngIf=\"block.contents?.footer\" class=\"ion-text-wrap core-block-footer\">\n        <ion-label>\n            <core-format-text [text]=\"block.contents?.footer\" contextLevel=\"block\" [contextInstanceId]=\"block.instanceid\"\n                [courseId]=\"courseId\" />\n        </ion-label>\n    </ion-item>\n</core-loading>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}