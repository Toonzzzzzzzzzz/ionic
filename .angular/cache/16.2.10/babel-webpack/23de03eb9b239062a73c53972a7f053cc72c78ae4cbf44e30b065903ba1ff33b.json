{"ast":null,"code":"var _class;\nimport { CoreUserProfileFieldBaseComponent } from '@features/user/classes/base-profilefield-component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../../../../core/components/input-errors/input-errors\";\nimport * as i3 from \"../../../../core/components/mark-required/mark-required\";\nimport * as i4 from \"../../../../core/directives/format-text\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@ionic/angular\";\nimport * as i7 from \"@ngx-translate/core\";\nfunction AddonUserProfileFieldMenuComponent_ion_item_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\")(2, \"p\", 2);\n    i0.ɵɵelement(3, \"core-format-text\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"p\");\n    i0.ɵɵelement(5, \"core-format-text\", 3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"text\", ctx_r0.field.name)(\"contextLevel\", ctx_r0.contextLevel)(\"contextInstanceId\", ctx_r0.contextInstanceId)(\"courseId\", ctx_r0.courseId)(\"wsNotFiltered\", true);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"text\", ctx_r0.value)(\"contextLevel\", ctx_r0.contextLevel)(\"contextInstanceId\", ctx_r0.contextInstanceId)(\"courseId\", ctx_r0.courseId)(\"wsNotFiltered\", ctx_r0.valueNotFiltered);\n  }\n}\nfunction AddonUserProfileFieldMenuComponent_ion_item_1_ion_select_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r3 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(option_r3);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    header: a0\n  };\n};\nfunction AddonUserProfileFieldMenuComponent_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 4)(1, \"ion-label\", 5)(2, \"span\", 6);\n    i0.ɵɵelement(3, \"core-format-text\", 3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"ion-select\", 7);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementStart(7, \"ion-select-option\", 8);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, AddonUserProfileFieldMenuComponent_ion_item_1_ion_select_option_10_Template, 2, 2, \"ion-select-option\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(11, \"core-input-errors\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r1.form);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"core-mark-required\", ctx_r1.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"text\", ctx_r1.field.name)(\"contextLevel\", ctx_r1.contextLevel)(\"contextInstanceId\", ctx_r1.contextInstanceId)(\"courseId\", ctx_r1.courseId)(\"wsNotFiltered\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControlName\", ctx_r1.modelName)(\"placeholder\", i0.ɵɵpipeBind1(5, 14, \"core.choosedots\"))(\"cancelText\", i0.ɵɵpipeBind1(6, 16, \"core.cancel\"))(\"interfaceOptions\", i0.ɵɵpureFunction1(20, _c0, ctx_r1.field.name));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(9, 18, \"core.choosedots\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.options);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"control\", ctx_r1.form.controls[ctx_r1.modelName]);\n  }\n}\n/**\n * Directive to render a menu user profile field.\n */\nexport class AddonUserProfileFieldMenuComponent extends CoreUserProfileFieldBaseComponent {\n  /**\n   * Init the data when the field is meant to be displayed for editing.\n   *\n   * @param field Field to render.\n   */\n  initForEdit(field) {\n    super.initForEdit(field);\n    // Parse options.\n    if (field.param1) {\n      this.options = field.param1.split(/\\r\\n|\\r|\\n/g);\n    } else {\n      this.options = [];\n    }\n  }\n}\n_class = AddonUserProfileFieldMenuComponent;\n_class.ɵfac = /*@__PURE__*/function () {\n  let ɵAddonUserProfileFieldMenuComponent_BaseFactory;\n  return function AddonUserProfileFieldMenuComponent_Factory(t) {\n    return (ɵAddonUserProfileFieldMenuComponent_BaseFactory || (ɵAddonUserProfileFieldMenuComponent_BaseFactory = i0.ɵɵgetInheritedFactory(_class)))(t || _class);\n  };\n}();\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"addon-user-profile-field-menu\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 2,\n  vars: 2,\n  consts: [[4, \"ngIf\"], [\"class\", \"ion-text-wrap\", 3, \"formGroup\", 4, \"ngIf\"], [1, \"item-heading\"], [3, \"text\", \"contextLevel\", \"contextInstanceId\", \"courseId\", \"wsNotFiltered\"], [1, \"ion-text-wrap\", 3, \"formGroup\"], [\"position\", \"stacked\"], [3, \"core-mark-required\"], [\"interface\", \"action-sheet\", 3, \"formControlName\", \"placeholder\", \"cancelText\", \"interfaceOptions\"], [\"value\", \"\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"control\"], [3, \"value\"]],\n  template: function AddonUserProfileFieldMenuComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, AddonUserProfileFieldMenuComponent_ion_item_0_Template, 6, 10, \"ion-item\", 0);\n      i0.ɵɵtemplate(1, AddonUserProfileFieldMenuComponent_ion_item_1_Template, 12, 22, \"ion-item\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", !ctx.edit && ctx.field && ctx.field.name);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.edit && ctx.field && ctx.field.shortname && ctx.form);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.CoreInputErrorsComponent, i3.CoreMarkRequiredComponent, i4.CoreFormatTextDirective, i5.NgControlStatus, i5.NgControlStatusGroup, i6.IonItem, i6.IonLabel, i6.IonSelect, i6.IonSelectOption, i6.SelectValueAccessor, i5.FormGroupDirective, i5.FormControlName, i7.TranslatePipe],\n  styles: [\".item-heading[_ngcontent-%COMP%] {\\n  white-space: normal;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hZGRvbnMvdXNlcnByb2ZpbGVmaWVsZC9tZW51L2NvbXBvbmVudC9tZW51LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxtQkFBQTtBQUNKIiwic291cmNlc0NvbnRlbnQiOlsiLml0ZW0taGVhZGluZyB7XG4gICAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["CoreUserProfileFieldBaseComponent","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ctx_r0","field","name","contextLevel","contextInstanceId","courseId","value","valueNotFiltered","ɵɵtext","option_r3","ɵɵtextInterpolate","ɵɵtemplate","AddonUserProfileFieldMenuComponent_ion_item_1_ion_select_option_10_Template","ctx_r1","form","required","modelName","ɵɵpipeBind1","ɵɵpureFunction1","_c0","options","controls","AddonUserProfileFieldMenuComponent","initForEdit","param1","split","t","selectors","features","ɵɵInheritDefinitionFeature","decls","vars","consts","template","AddonUserProfileFieldMenuComponent_Template","rf","ctx","AddonUserProfileFieldMenuComponent_ion_item_0_Template","AddonUserProfileFieldMenuComponent_ion_item_1_Template","edit","shortname"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/userprofilefield/menu/component/menu.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/addons/userprofilefield/menu/component/addon-user-profile-field-menu.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component } from '@angular/core';\n\nimport { AuthEmailSignupProfileField } from '@features/login/services/login-helper';\nimport { CoreUserProfileFieldBaseComponent } from '@features/user/classes/base-profilefield-component';\n\n/**\n * Directive to render a menu user profile field.\n */\n@Component({\n    selector: 'addon-user-profile-field-menu',\n    templateUrl: 'addon-user-profile-field-menu.html',\n    styleUrls: ['./menu.scss'],\n})\nexport class AddonUserProfileFieldMenuComponent extends CoreUserProfileFieldBaseComponent {\n\n    options?: string[];\n\n    /**\n     * Init the data when the field is meant to be displayed for editing.\n     *\n     * @param field Field to render.\n     */\n    protected initForEdit(field: AuthEmailSignupProfileField): void {\n        super.initForEdit(field);\n\n        // Parse options.\n        if (field.param1) {\n            this.options = field.param1.split(/\\r\\n|\\r|\\n/g);\n        } else {\n            this.options = [];\n        }\n    }\n\n}\n","<!-- Render (no edit). -->\n<ion-item *ngIf=\"!edit && field && field.name\">\n    <ion-label>\n        <p class=\"item-heading\">\n            <core-format-text [text]=\"field.name\" [contextLevel]=\"contextLevel\" [contextInstanceId]=\"contextInstanceId\"\n                [courseId]=\"courseId\" [wsNotFiltered]=\"true\" />\n        </p>\n        <p>\n            <core-format-text [text]=\"value\" [contextLevel]=\"contextLevel\" [contextInstanceId]=\"contextInstanceId\" [courseId]=\"courseId\"\n                [wsNotFiltered]=\"valueNotFiltered\" />\n        </p>\n    </ion-label>\n</ion-item>\n\n<!-- Edit. -->\n<ion-item *ngIf=\"edit && field && field.shortname && form\" class=\"ion-text-wrap\" [formGroup]=\"form\">\n    <ion-label position=\"stacked\">\n        <span [core-mark-required]=\"required\">\n            <core-format-text [text]=\"field.name\" [contextLevel]=\"contextLevel\" [contextInstanceId]=\"contextInstanceId\"\n                [courseId]=\"courseId\" [wsNotFiltered]=\"true\" />\n        </span>\n    </ion-label>\n    <ion-select [formControlName]=\"modelName\" [placeholder]=\"'core.choosedots' | translate\" interface=\"action-sheet\"\n        [cancelText]=\"'core.cancel' | translate\" [interfaceOptions]=\"{header: field.name}\">\n        <ion-select-option value=\"\">{{ 'core.choosedots' | translate }}</ion-select-option>\n        <ion-select-option *ngFor=\"let option of options\" [value]=\"option\">{{option}}</ion-select-option>\n    </ion-select>\n    <core-input-errors [control]=\"form.controls[modelName]\" />\n</ion-item>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}