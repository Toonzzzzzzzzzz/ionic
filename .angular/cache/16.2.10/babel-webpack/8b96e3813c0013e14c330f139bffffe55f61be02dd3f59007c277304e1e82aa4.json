{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { AddonUserProfileFieldSocialComponent } from '../../component/social';\nimport { CoreTextUtils } from '@services/utils/text';\nimport { makeSingleton } from '@singletons';\nimport * as i0 from \"@angular/core\";\n/**\n * Social user profile field handlers.\n */\nexport class AddonUserProfileFieldSocialHandlerService {\n  constructor() {\n    this.name = 'AddonUserProfileFieldSocial';\n    this.type = 'social';\n  }\n  /**\n   * Whether or not the handler is enabled on a site level.\n   *\n   * @returns True or promise resolved with true if enabled.\n   */\n  isEnabled() {\n    return _asyncToGenerator(function* () {\n      return true;\n    })();\n  }\n  /**\n   * Get the data to send for the field based on the input data.\n   *\n   * @param field User field to get the data for.\n   * @param signup True if user is in signup page.\n   * @param registerAuth Register auth method. E.g. 'email'.\n   * @param formValues Form Values.\n   * @returns Data to send for the field.\n   */\n  getData(field, signup, registerAuth, formValues) {\n    return _asyncToGenerator(function* () {\n      const name = 'profile_field_' + field.shortname;\n      return {\n        type: 'social',\n        name: name,\n        value: CoreTextUtils.cleanTags(formValues[name])\n      };\n    })();\n  }\n  /**\n   * Return the Component to use to display the user profile field.\n   * It's recommended to return the class of the component, but you can also return an instance of the component.\n   *\n   * @returns The component (or promise resolved with component) to use, undefined if not found.\n   */\n  getComponent() {\n    return AddonUserProfileFieldSocialComponent;\n  }\n}\n_class = AddonUserProfileFieldSocialHandlerService;\n_class.ɵfac = function AddonUserProfileFieldSocialHandlerService_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});\nexport const AddonUserProfileFieldSocialHandler = makeSingleton(AddonUserProfileFieldSocialHandlerService);","map":{"version":3,"names":["AddonUserProfileFieldSocialComponent","CoreTextUtils","makeSingleton","AddonUserProfileFieldSocialHandlerService","constructor","name","type","isEnabled","_asyncToGenerator","getData","field","signup","registerAuth","formValues","shortname","value","cleanTags","getComponent","factory","ɵfac","providedIn","AddonUserProfileFieldSocialHandler"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/userprofilefield/social/services/handlers/social.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Injectable, Type } from '@angular/core';\n\nimport { CoreUserProfileFieldHandler, CoreUserProfileFieldHandlerData } from '@features/user/services/user-profile-field-delegate';\nimport { AddonUserProfileFieldSocialComponent } from '../../component/social';\nimport { CoreTextUtils } from '@services/utils/text';\nimport { AuthEmailSignupProfileField } from '@features/login/services/login-helper';\nimport { CoreUserProfileField } from '@features/user/services/user';\nimport { makeSingleton } from '@singletons';\nimport { CoreFormFields } from '@singletons/form';\n\n/**\n * Social user profile field handlers.\n */\n@Injectable({ providedIn: 'root' })\nexport class AddonUserProfileFieldSocialHandlerService implements CoreUserProfileFieldHandler {\n\n    name = 'AddonUserProfileFieldSocial';\n    type = 'social';\n\n    /**\n     * Whether or not the handler is enabled on a site level.\n     *\n     * @returns True or promise resolved with true if enabled.\n     */\n    async isEnabled(): Promise<boolean> {\n        return true;\n    }\n\n    /**\n     * Get the data to send for the field based on the input data.\n     *\n     * @param field User field to get the data for.\n     * @param signup True if user is in signup page.\n     * @param registerAuth Register auth method. E.g. 'email'.\n     * @param formValues Form Values.\n     * @returns Data to send for the field.\n     */\n    async getData(\n        field: AuthEmailSignupProfileField | CoreUserProfileField,\n        signup: boolean,\n        registerAuth: string,\n        formValues: CoreFormFields,\n    ): Promise<CoreUserProfileFieldHandlerData | undefined> {\n        const name = 'profile_field_' + field.shortname;\n\n        return {\n            type: 'social',\n            name: name,\n            value: CoreTextUtils.cleanTags(<string> formValues[name]),\n        };\n    }\n\n    /**\n     * Return the Component to use to display the user profile field.\n     * It's recommended to return the class of the component, but you can also return an instance of the component.\n     *\n     * @returns The component (or promise resolved with component) to use, undefined if not found.\n     */\n    getComponent(): Type<unknown> | Promise<Type<unknown>> {\n        return AddonUserProfileFieldSocialComponent;\n    }\n\n}\n\nexport const AddonUserProfileFieldSocialHandler = makeSingleton(AddonUserProfileFieldSocialHandlerService);\n"],"mappings":";;AAiBA,SAASA,oCAAoC,QAAQ,wBAAwB;AAC7E,SAASC,aAAa,QAAQ,sBAAsB;AAGpD,SAASC,aAAa,QAAQ,aAAa;;AAG3C;;;AAIA,OAAM,MAAOC,yCAAyC;EADtDC,YAAA;IAGI,KAAAC,IAAI,GAAG,6BAA6B;IACpC,KAAAC,IAAI,GAAG,QAAQ;;EAEf;;;;;EAKMC,SAASA,CAAA;IAAA,OAAAC,iBAAA;MACX,OAAO,IAAI;IAAC;EAChB;EAEA;;;;;;;;;EASMC,OAAOA,CACTC,KAAyD,EACzDC,MAAe,EACfC,YAAoB,EACpBC,UAA0B;IAAA,OAAAL,iBAAA;MAE1B,MAAMH,IAAI,GAAG,gBAAgB,GAAGK,KAAK,CAACI,SAAS;MAE/C,OAAO;QACHR,IAAI,EAAE,QAAQ;QACdD,IAAI,EAAEA,IAAI;QACVU,KAAK,EAAEd,aAAa,CAACe,SAAS,CAAUH,UAAU,CAACR,IAAI,CAAC;OAC3D;IAAC;EACN;EAEA;;;;;;EAMAY,YAAYA,CAAA;IACR,OAAOjB,oCAAoC;EAC/C;;SA9CSG,yCAAyC;;mBAAzCA,MAAyC;AAAA;;SAAzCA,MAAyC;EAAAe,OAAA,EAAzCf,MAAyC,CAAAgB,IAAA;EAAAC,UAAA,EAD5B;AAAM;AAmDhC,OAAO,MAAMC,kCAAkC,GAAGnB,aAAa,CAACC,yCAAyC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}