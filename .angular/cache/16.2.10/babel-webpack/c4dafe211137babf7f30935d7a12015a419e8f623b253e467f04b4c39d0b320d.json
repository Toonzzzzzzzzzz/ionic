{"ast":null,"code":"var _class;\nimport { ModalController } from '@singletons';\nimport { AddonModBookNumbering } from '../../services/book';\nimport * as i0 from \"@angular/core\";\nfunction AddonModBookTocComponent_ion_item_13_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const chapter_r1 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\"\", chapter_r1.indexNumber, \" \");\n  }\n}\nfunction AddonModBookTocComponent_ion_item_13_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 10);\n    i0.ɵɵtext(1, \"\\u2022 \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AddonModBookTocComponent_ion_item_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r6 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 4);\n    i0.ɵɵlistener(\"click\", function AddonModBookTocComponent_ion_item_13_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r6);\n      const chapter_r1 = restoredCtx.$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.loadChapter(chapter_r1.id));\n    });\n    i0.ɵɵelementStart(1, \"ion-label\")(2, \"p\", 5);\n    i0.ɵɵtemplate(3, AddonModBookTocComponent_ion_item_13_span_3_Template, 2, 1, \"span\", 6);\n    i0.ɵɵtemplate(4, AddonModBookTocComponent_ion_item_13_span_4_Template, 2, 0, \"span\", 7);\n    i0.ɵɵelement(5, \"core-format-text\", 8);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const chapter_r1 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"item-dimmed\", chapter_r1.hidden);\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵattribute(\"aria-current\", ctx_r0.selected === chapter_r1.id ? \"page\" : \"false\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵclassProp(\"ion-padding-start\", ctx_r0.addPadding && chapter_r1.level === 1 ? true : null);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showNumbers);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.showBullets);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"text\", chapter_r1.title)(\"contextInstanceId\", ctx_r0.moduleId)(\"courseId\", ctx_r0.courseId);\n  }\n}\n/**\n * Modal to display the TOC of a book.\n */\nexport class AddonModBookTocComponent {\n  constructor() {\n    this.chapters = [];\n    this.showNumbers = true;\n    this.addPadding = true;\n    this.showBullets = false;\n  }\n  /**\n   * Component loaded.\n   */\n  ngOnInit() {\n    if (this.book) {\n      this.showNumbers = this.book.numbering == 1 /* AddonModBookNumbering.NUMBERS */;\n      this.showBullets = this.book.numbering == 2 /* AddonModBookNumbering.BULLETS */;\n      this.addPadding = this.book.numbering != 0 /* AddonModBookNumbering.NONE */;\n    }\n  }\n  /**\n   * Function called when a course is clicked.\n   *\n   * @param id ID of the clicked chapter.\n   */\n  loadChapter(id) {\n    ModalController.dismiss(id);\n  }\n  /**\n   * Close modal.\n   */\n  closeModal() {\n    ModalController.dismiss();\n  }\n}\n_class = AddonModBookTocComponent;\n_class.ɵfac = function AddonModBookTocComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"addon-mod-book-toc\"]],\n  inputs: {\n    moduleId: \"moduleId\",\n    chapters: \"chapters\",\n    selected: \"selected\",\n    courseId: \"courseId\",\n    book: \"book\"\n  },\n  decls: 14,\n  vars: 7,\n  consts: [[\"slot\", \"end\"], [\"fill\", \"clear\", 3, \"click\"], [\"name\", \"fas-xmark\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [\"class\", \"ion-text-wrap\", \"button\", \"\", 3, \"item-dimmed\", \"detail\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"button\", \"\", 1, \"ion-text-wrap\", 3, \"detail\", \"click\"], [1, \"item-heading\"], [\"class\", \"addon-mod-book-number\", 4, \"ngIf\"], [\"class\", \"addon-mod-book-bullet\", 4, \"ngIf\"], [\"contextLevel\", \"module\", 3, \"text\", \"contextInstanceId\", \"courseId\"], [1, \"addon-mod-book-number\"], [1, \"addon-mod-book-bullet\"]],\n  template: function AddonModBookTocComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\")(3, \"h1\");\n      i0.ɵɵtext(4);\n      i0.ɵɵpipe(5, \"translate\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"ion-buttons\", 0)(7, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function AddonModBookTocComponent_Template_ion_button_click_7_listener() {\n        return ctx.closeModal();\n      });\n      i0.ɵɵpipe(8, \"translate\");\n      i0.ɵɵelement(9, \"ion-icon\", 2);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(10, \"ion-content\")(11, \"nav\")(12, \"ion-list\");\n      i0.ɵɵtemplate(13, AddonModBookTocComponent_ion_item_13_Template, 6, 11, \"ion-item\", 3);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 3, \"addon.mod_book.toc\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(8, 5, \"core.close\"));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngForOf\", ctx.chapters);\n    }\n  },\n  styles: [\".addon-mod-book-bullet[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  font-size: 1.5em;\\n  margin-right: 3px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hZGRvbnMvbW9kL2Jvb2svY29tcG9uZW50cy90b2MvdG9jLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxpQkFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbIi5hZGRvbi1tb2QtYm9vay1idWxsZXQge1xuICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgIGZvbnQtc2l6ZTogMS41ZW07XG4gICAgbWFyZ2luLXJpZ2h0OiAzcHg7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["ModalController","AddonModBookNumbering","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","chapter_r1","indexNumber","ɵɵlistener","AddonModBookTocComponent_ion_item_13_Template_ion_item_click_0_listener","restoredCtx","ɵɵrestoreView","_r6","$implicit","ctx_r5","ɵɵnextContext","ɵɵresetView","loadChapter","id","ɵɵtemplate","AddonModBookTocComponent_ion_item_13_span_3_Template","AddonModBookTocComponent_ion_item_13_span_4_Template","ɵɵelement","ɵɵclassProp","hidden","ɵɵproperty","ɵɵattribute","ctx_r0","selected","addPadding","level","showNumbers","showBullets","title","moduleId","courseId","AddonModBookTocComponent","constructor","chapters","ngOnInit","book","numbering","dismiss","closeModal","selectors","inputs","decls","vars","consts","template","AddonModBookTocComponent_Template","rf","ctx","AddonModBookTocComponent_Template_ion_button_click_7_listener","AddonModBookTocComponent_ion_item_13_Template","ɵɵtextInterpolate","ɵɵpipeBind1"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/book/components/toc/toc.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/book/components/toc/toc.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input, OnInit } from '@angular/core';\nimport { ModalController } from '@singletons';\nimport { AddonModBookTocChapter, AddonModBookBookWSData, AddonModBookNumbering } from '../../services/book';\n\n/**\n * Modal to display the TOC of a book.\n */\n@Component({\n    selector: 'addon-mod-book-toc',\n    templateUrl: 'toc.html',\n    styleUrls: ['toc.scss'],\n})\nexport class AddonModBookTocComponent implements OnInit {\n\n    @Input() moduleId?: number;\n    @Input() chapters: AddonModBookTocChapter[] = [];\n    @Input() selected?: number;\n    @Input() courseId?: number;\n    showNumbers = true;\n    addPadding = true;\n    showBullets = false;\n\n    @Input() book?: AddonModBookBookWSData;\n\n    /**\n     * Component loaded.\n     */\n    ngOnInit(): void {\n        if (this.book) {\n            this.showNumbers = this.book.numbering == AddonModBookNumbering.NUMBERS;\n            this.showBullets = this.book.numbering == AddonModBookNumbering.BULLETS;\n            this.addPadding = this.book.numbering != AddonModBookNumbering.NONE;\n        }\n    }\n\n    /**\n     * Function called when a course is clicked.\n     *\n     * @param id ID of the clicked chapter.\n     */\n    loadChapter(id: number): void {\n        ModalController.dismiss(id);\n    }\n\n    /**\n     * Close modal.\n     */\n    closeModal(): void {\n        ModalController.dismiss();\n    }\n\n}\n","<ion-header>\n    <ion-toolbar>\n        <ion-title>\n            <h1>{{ 'addon.mod_book.toc' | translate }}</h1>\n        </ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-button fill=\"clear\" (click)=\"closeModal()\" [attr.aria-label]=\"'core.close' | translate\">\n                <ion-icon name=\"fas-xmark\" slot=\"icon-only\" aria-hidden=true />\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <nav>\n        <ion-list>\n            <ion-item class=\"ion-text-wrap\" *ngFor=\"let chapter of chapters\" (click)=\"loadChapter(chapter.id)\"\n                [attr.aria-current]=\"selected === chapter.id ? 'page' : 'false'\" button [class.item-dimmed]=\"chapter.hidden\"\n                [detail]=\"false\">\n                <ion-label>\n                    <p [class.ion-padding-start]=\"addPadding && chapter.level === 1 ? true : null\" class=\"item-heading\">\n                        <span *ngIf=\"showNumbers\" class=\"addon-mod-book-number\">{{chapter.indexNumber}} </span>\n                        <span *ngIf=\"showBullets\" class=\"addon-mod-book-bullet\">&bull; </span>\n                        <core-format-text [text]=\"chapter.title\" contextLevel=\"module\" [contextInstanceId]=\"moduleId\"\n                            [courseId]=\"courseId\" />\n                    </p>\n                </ion-label>\n            </ion-item>\n        </ion-list>\n    </nav>\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}