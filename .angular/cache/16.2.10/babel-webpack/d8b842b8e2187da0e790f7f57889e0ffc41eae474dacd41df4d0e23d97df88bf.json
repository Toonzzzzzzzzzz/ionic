{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { EventEmitter } from '@angular/core';\nimport { CoreCourseHelper } from '@features/course/services/course-helper';\nimport { CoreUser } from '@features/user/services/user';\nimport { Translate } from '@singletons';\nimport { CoreEvents } from '@singletons/events';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../../../../directives/fa-icon\";\nimport * as i3 from \"../../../../directives/update-non-reactive-attributes\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"@ngx-translate/core\";\nfunction CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_1_ion_icon_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 6);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.course.manualcompletionnotsynced\"));\n  }\n}\nfunction CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 3);\n    i0.ɵɵlistener(\"click\", function CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_1_Template_ion_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r6.completionClicked($event));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 4);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵtemplate(4, CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_1_ion_icon_4_Template, 2, 3, \"ion-icon\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(3);\n    i0.ɵɵattribute(\"aria-label\", ctx_r3.accessibleDescription);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 3, \"core.course.completion_manual:done\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.completion == null ? null : ctx_r3.completion.offline);\n  }\n}\nfunction CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_2_ion_icon_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 6);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.course.manualcompletionnotsynced\"));\n  }\n}\nfunction CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 7);\n    i0.ɵɵlistener(\"click\", function CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_2_Template_ion_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r9.completionClicked($event));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵtemplate(3, CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_2_ion_icon_3_Template, 2, 3, \"ion-icon\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(3);\n    i0.ɵɵattribute(\"aria-label\", ctx_r4.accessibleDescription);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 3, \"core.course.completion_manual:markdone\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.completion == null ? null : ctx_r4.completion.offline);\n  }\n}\nfunction CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_1_Template, 5, 5, \"ion-button\", 1);\n    i0.ɵɵtemplate(2, CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_2_Template, 4, 5, \"ion-button\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.completion.state);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.completion.state);\n  }\n}\nfunction CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-button\", 8);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"core.course.completion_manual:markdone\"), \" \");\n  }\n}\nfunction CoreCourseModuleManualCompletionComponent_ng_container_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_Template, 3, 2, \"ng-container\", 0);\n    i0.ɵɵtemplate(2, CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_2_Template, 4, 3, \"ng-container\", 0);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.completion.istrackeduser);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.completion.istrackeduser);\n  }\n}\n/**\n * Component to display a button for manual completion.\n *\n * @deprecated since 4.3. Not used anymore.\n */\nexport class CoreCourseModuleManualCompletionComponent {\n  constructor() {\n    this.completionChanged = new EventEmitter(); // Notify when completion changes.\n    this.accessibleDescription = null;\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    this.completionObserver = CoreEvents.on(CoreEvents.MANUAL_COMPLETION_CHANGED, data => {\n      if (!this.completion || this.completion.cmid != data.completion.cmid) {\n        return;\n      }\n      this.completion = data.completion;\n      this.calculateData();\n      this.completionChanged.emit(this.completion);\n    });\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnChanges(changes) {\n    if (changes.completion && this.completion) {\n      this.calculateData();\n    }\n  }\n  /**\n   * @inheritdoc\n   */\n  calculateData() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.completion || _this.completion.isautomatic) {\n        return;\n      }\n      // Set an accessible description for manual completions with overridden completion state.\n      if (_this.completion.overrideby) {\n        const fullName = yield CoreUser.getUserFullNameWithDefault(_this.completion.overrideby, _this.completion.courseId);\n        const setByData = {\n          $a: {\n            activityname: _this.moduleName,\n            setby: fullName\n          }\n        };\n        const setByLangKey = _this.completion.state ? 'completion_setby:manual:done' : 'completion_setby:manual:markdone';\n        _this.accessibleDescription = Translate.instant('core.course.' + setByLangKey, setByData);\n      } else {\n        const langKey = _this.completion.state ? 'completion_manual:aria:done' : 'completion_manual:aria:markdone';\n        _this.accessibleDescription = Translate.instant('core.course.' + langKey, {\n          $a: _this.moduleName\n        });\n      }\n    })();\n  }\n  /**\n   * Completion clicked.\n   *\n   * @param event The click event.\n   */\n  completionClicked(event) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this2.completion) {\n        return;\n      }\n      event.stopPropagation();\n      event.preventDefault();\n      yield CoreCourseHelper.changeManualCompletion(_this2.completion);\n      CoreEvents.trigger(CoreEvents.MANUAL_COMPLETION_CHANGED, {\n        completion: _this2.completion\n      });\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnDestroy() {\n    var _this$completionObser;\n    (_this$completionObser = this.completionObserver) === null || _this$completionObser === void 0 || _this$completionObser.off();\n  }\n}\n_class = CoreCourseModuleManualCompletionComponent;\n_class.ɵfac = function CoreCourseModuleManualCompletionComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"core-course-module-manual-completion\"]],\n  inputs: {\n    completion: \"completion\",\n    moduleName: \"moduleName\"\n  },\n  outputs: {\n    completionChanged: \"completionChanged\"\n  },\n  features: [i0.ɵɵNgOnChangesFeature],\n  decls: 1,\n  vars: 1,\n  consts: [[4, \"ngIf\"], [\"color\", \"success\", \"class\", \"ion-text-wrap chip\", 3, \"click\", 4, \"ngIf\"], [\"fill\", \"outline\", \"class\", \"ion-text-wrap chip\", 3, \"click\", 4, \"ngIf\"], [\"color\", \"success\", 1, \"ion-text-wrap\", \"chip\", 3, \"click\"], [\"name\", \"fas-check\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [\"name\", \"fas-arrows-rotate\", \"slot\", \"end\", 4, \"ngIf\"], [\"name\", \"fas-arrows-rotate\", \"slot\", \"end\"], [\"fill\", \"outline\", 1, \"ion-text-wrap\", \"chip\", 3, \"click\"], [\"disabled\", \"true\", \"fill\", \"outline\", 1, \"ion-text-wrap\", \"chip\"]],\n  template: function CoreCourseModuleManualCompletionComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CoreCourseModuleManualCompletionComponent_ng_container_0_Template, 3, 2, \"ng-container\", 0);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.completion && !ctx.completion.isautomatic);\n    }\n  },\n  dependencies: [i1.NgIf, i2.CoreFaIconDirective, i3.CoreUpdateNonReactiveAttributesDirective, i4.IonButton, i4.IonIcon, i5.TranslatePipe],\n  encapsulation: 2\n});","map":{"version":3,"names":["EventEmitter","CoreCourseHelper","CoreUser","Translate","CoreEvents","i0","ɵɵelement","ɵɵattribute","ɵɵpipeBind1","ɵɵelementStart","ɵɵlistener","CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_1_Template_ion_button_click_0_listener","$event","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","completionClicked","ɵɵtext","ɵɵtemplate","CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_1_ion_icon_4_Template","ɵɵelementEnd","ctx_r3","accessibleDescription","ɵɵadvance","ɵɵtextInterpolate1","ɵɵproperty","completion","offline","CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_2_Template_ion_button_click_0_listener","_r10","ctx_r9","CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_2_ion_icon_3_Template","ctx_r4","ɵɵelementContainerStart","CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_1_Template","CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_ion_button_2_Template","ɵɵelementContainerEnd","ctx_r1","state","CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_1_Template","CoreCourseModuleManualCompletionComponent_ng_container_0_ng_container_2_Template","ctx_r0","istrackeduser","CoreCourseModuleManualCompletionComponent","constructor","completionChanged","ngOnInit","completionObserver","on","MANUAL_COMPLETION_CHANGED","data","cmid","calculateData","emit","ngOnChanges","changes","_this","_asyncToGenerator","isautomatic","overrideby","fullName","getUserFullNameWithDefault","courseId","setByData","$a","activityname","moduleName","setby","setByLangKey","instant","langKey","event","_this2","stopPropagation","preventDefault","changeManualCompletion","trigger","ngOnDestroy","_this$completionObser","off","selectors","inputs","outputs","features","ɵɵNgOnChangesFeature","decls","vars","consts","template","CoreCourseModuleManualCompletionComponent_Template","rf","ctx","CoreCourseModuleManualCompletionComponent_ng_container_0_Template"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/course/components/module-manual-completion/module-manual-completion.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/course/components/module-manual-completion/core-course-module-manual-completion.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, EventEmitter, Input, OnChanges, OnDestroy, OnInit, Output, SimpleChange } from '@angular/core';\nimport { CoreCourseHelper, CoreCourseModuleCompletionData } from '@features/course/services/course-helper';\nimport { CoreUser } from '@features/user/services/user';\nimport { Translate } from '@singletons';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\n\n/**\n * Component to display a button for manual completion.\n *\n * @deprecated since 4.3. Not used anymore.\n */\n@Component({\n    selector: 'core-course-module-manual-completion',\n    templateUrl: 'core-course-module-manual-completion.html',\n})\nexport class CoreCourseModuleManualCompletionComponent implements OnInit, OnChanges, OnDestroy {\n\n    @Input() completion?: CoreCourseModuleCompletionData; // The completion status.\n    @Input() moduleName?: string; // The name of the module this completion affects.\n    @Output() completionChanged = new EventEmitter<CoreCourseModuleCompletionData>(); // Notify when completion changes.\n\n    accessibleDescription: string | null = null;\n\n    protected completionObserver?: CoreEventObserver;\n\n    /**\n     * @inheritdoc\n     */\n    ngOnInit(): void {\n        this.completionObserver = CoreEvents.on(CoreEvents.MANUAL_COMPLETION_CHANGED, (data) => {\n            if (!this.completion || this.completion.cmid != data.completion.cmid) {\n                return;\n            }\n\n            this.completion = data.completion;\n            this.calculateData();\n            this.completionChanged.emit(this.completion);\n        });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnChanges(changes: { [name: string]: SimpleChange }): void {\n        if (changes.completion && this.completion) {\n            this.calculateData();\n        }\n    }\n\n    /**\n     * @inheritdoc\n     */\n    protected async calculateData(): Promise<void> {\n        if (!this.completion || this.completion.isautomatic) {\n            return;\n        }\n\n        // Set an accessible description for manual completions with overridden completion state.\n        if (this.completion.overrideby) {\n            const fullName = await CoreUser.getUserFullNameWithDefault(this.completion.overrideby, this.completion.courseId);\n\n            const setByData = {\n                $a: {\n                    activityname: this.moduleName,\n                    setby: fullName,\n                },\n            };\n            const setByLangKey = this.completion.state ? 'completion_setby:manual:done' : 'completion_setby:manual:markdone';\n            this.accessibleDescription = Translate.instant('core.course.' + setByLangKey, setByData);\n        } else {\n            const langKey = this.completion.state ? 'completion_manual:aria:done' : 'completion_manual:aria:markdone';\n            this.accessibleDescription = Translate.instant('core.course.' + langKey, { $a: this.moduleName });\n        }\n    }\n\n    /**\n     * Completion clicked.\n     *\n     * @param event The click event.\n     */\n    async completionClicked(event: Event): Promise<void> {\n        if (!this.completion) {\n            return;\n        }\n\n        event.stopPropagation();\n        event.preventDefault();\n\n        await CoreCourseHelper.changeManualCompletion(this.completion);\n\n        CoreEvents.trigger(CoreEvents.MANUAL_COMPLETION_CHANGED, { completion: this.completion });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        this.completionObserver?.off();\n    }\n\n}\n","<ng-container *ngIf=\"completion && !completion.isautomatic\">\n    <ng-container *ngIf=\"completion.istrackeduser\">\n        <ion-button *ngIf=\"completion.state\" color=\"success\" [attr.aria-label]=\"accessibleDescription\" (click)=\"completionClicked($event)\"\n            class=\"ion-text-wrap chip\">\n            <ion-icon name=\"fas-check\" slot=\"start\" aria-hidden=\"true\" />\n            {{ 'core.course.completion_manual:done' | translate }}\n            <ion-icon *ngIf=\"completion?.offline\" name=\"fas-arrows-rotate\"\n                [attr.aria-label]=\"'core.course.manualcompletionnotsynced' | translate\" slot=\"end\" />\n        </ion-button>\n        <ion-button *ngIf=\"!completion.state\" fill=\"outline\" [attr.aria-label]=\"accessibleDescription\" (click)=\"completionClicked($event)\"\n            class=\"ion-text-wrap chip\">\n            {{ 'core.course.completion_manual:markdone' | translate }}\n            <ion-icon *ngIf=\"completion?.offline\" name=\"fas-arrows-rotate\"\n                [attr.aria-label]=\"'core.course.manualcompletionnotsynced' | translate\" slot=\"end\" />\n        </ion-button>\n    </ng-container>\n\n    <ng-container *ngIf=\"!completion.istrackeduser\">\n        <ion-button disabled=\"true\" fill=\"outline\" class=\"ion-text-wrap chip\">\n            {{ 'core.course.completion_manual:markdone' | translate }}\n        </ion-button>\n    </ng-container>\n</ng-container>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}