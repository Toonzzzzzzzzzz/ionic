{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { Validators } from '@angular/forms';\nimport { debounceTime } from 'rxjs/operators';\nimport { CoreApp } from '@services/app';\nimport { CoreNetwork } from '@services/network';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreLoginHelper } from '@features/login/services/login-helper';\nimport { Translate } from '@singletons';\nimport { CoreEvents } from '@singletons/events';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreForms } from '@singletons/form';\nimport { CoreUserSupport } from '@features/user/services/support';\nimport { CoreUserGuestSupportConfig } from '@features/user/classes/support/guest-support-config';\nimport { CorePlatform } from '@services/platform';\nimport { CoreSitesFactory } from '@services/sites-factory';\nimport { EMAIL_SIGNUP_FEATURE_NAME, FORGOTTEN_PASSWORD_FEATURE_NAME } from '@features/login/constants';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../../components/empty-box/empty-box\";\nimport * as i4 from \"../../../../components/loading/loading\";\nimport * as i5 from \"../../../../components/show-password/show-password\";\nimport * as i6 from \"../../../../directives/fa-icon\";\nimport * as i7 from \"../../../../directives/format-text\";\nimport * as i8 from \"../../../../directives/content\";\nimport * as i9 from \"../../../../directives/update-non-reactive-attributes\";\nimport * as i10 from \"@ionic/angular\";\nimport * as i11 from \"@features/login/components/exceeded-attempts/exceeded-attempts\";\nimport * as i12 from \"../../components/login-methods/login-methods\";\nimport * as i13 from \"@ngx-translate/core\";\nconst _c0 = [\"credentialsForm\"];\nfunction CoreLoginCredentialsPage_ng_container_18_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵelement(1, \"img\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"src\", ctx_r2.logoUrl, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction CoreLoginCredentialsPage_ng_container_18_h2_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\", 22);\n    i0.ɵɵelement(1, \"core-format-text\", 23);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"text\", ctx_r3.siteName)(\"filter\", false);\n  }\n}\nfunction CoreLoginCredentialsPage_ng_container_18_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r4.site.siteUrl);\n  }\n}\nfunction CoreLoginCredentialsPage_ng_container_18_core_login_exceeded_attempts_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"core-login-exceeded-attempts\", 25);\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelementStart(2, \"div\", 26);\n    i0.ɵɵlistener(\"click\", function CoreLoginCredentialsPage_ng_container_18_core_login_exceeded_attempts_6_Template_div_click_2_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r10.exceededAttemptsClicked($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"supportConfig\", ctx_r5.supportConfig)(\"supportSubject\", i0.ɵɵpipeBind1(1, 3, \"core.login.exceededloginattemptssupportsubject\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", ctx_r5.exceededAttemptsHTML, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction CoreLoginCredentialsPage_ng_container_18_form_8_ion_button_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 37);\n    i0.ɵɵlistener(\"click\", function CoreLoginCredentialsPage_ng_container_18_form_8_ion_button_19_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r14.forgottenPassword());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"core.login.forgotaccount\"), \" \");\n  }\n}\nfunction CoreLoginCredentialsPage_ng_container_18_form_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"form\", 27, 28);\n    i0.ɵɵlistener(\"ngSubmit\", function CoreLoginCredentialsPage_ng_container_18_form_8_Template_form_ngSubmit_0_listener($event) {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.login($event));\n    });\n    i0.ɵɵelementStart(2, \"ion-item\")(3, \"ion-label\", 29);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"ion-input\", 30);\n    i0.ɵɵpipe(7, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"ion-item\", 31)(9, \"ion-label\", 29);\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"core-show-password\", 32);\n    i0.ɵɵelement(13, \"ion-input\", 33);\n    i0.ɵɵpipe(14, \"translate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"ion-button\", 34);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(18, \"input\", 35);\n    i0.ɵɵtemplate(19, CoreLoginCredentialsPage_ng_container_18_form_8_ion_button_19_Template, 3, 3, \"ion-button\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"formGroup\", ctx_r6.credForm);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 9, \"core.login.username\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(7, 11, \"core.login.username\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(11, 13, \"core.login.password\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"placeholder\", i0.ɵɵpipeBind1(14, 15, \"core.login.password\"));\n    i0.ɵɵproperty(\"clearOnEdit\", false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"disabled\", !ctx_r6.credForm.valid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(17, 17, \"core.login.loginbutton\"), \" \");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.showForgottenPassword);\n  }\n}\nfunction CoreLoginCredentialsPage_ng_container_18_ng_container_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-button\", 38);\n    i0.ɵɵlistener(\"click\", function CoreLoginCredentialsPage_ng_container_18_ng_container_9_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r18.openBrowserSSO());\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelement(4, \"ion-icon\", 39);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\", 40);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, \"core.login.loginbutton\"), \" \");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(7, 4, \"core.openinbrowserdescription\"));\n  }\n}\nfunction CoreLoginCredentialsPage_ng_container_18_core_login_methods_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-login-methods\", 41);\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"siteConfig\", ctx_r8.siteConfig)(\"siteUrl\", ctx_r8.site.siteUrl);\n  }\n}\nfunction CoreLoginCredentialsPage_ng_container_18_div_11_core_format_text_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-format-text\", 23);\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"text\", ctx_r20.authInstructions)(\"filter\", false);\n  }\n}\nfunction CoreLoginCredentialsPage_ng_container_18_div_11_ion_button_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r23 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 46);\n    i0.ɵɵlistener(\"click\", function CoreLoginCredentialsPage_ng_container_18_div_11_ion_button_7_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r23);\n      const ctx_r22 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r22.openEmailSignup());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"core.login.startsignup\"), \" \");\n  }\n}\nfunction CoreLoginCredentialsPage_ng_container_18_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 42)(1, \"h2\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-item\", 43)(5, \"ion-label\");\n    i0.ɵɵtemplate(6, CoreLoginCredentialsPage_ng_container_18_div_11_core_format_text_6_Template, 1, 2, \"core-format-text\", 44);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, CoreLoginCredentialsPage_ng_container_18_div_11_ion_button_7_Template, 3, 3, \"ion-button\", 45);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 3, \"core.login.firsttime\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.authInstructions);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.canSignup);\n  }\n}\nfunction CoreLoginCredentialsPage_ng_container_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"div\", 10)(2, \"div\", 11);\n    i0.ɵɵtemplate(3, CoreLoginCredentialsPage_ng_container_18_div_3_Template, 2, 1, \"div\", 12);\n    i0.ɵɵtemplate(4, CoreLoginCredentialsPage_ng_container_18_h2_4_Template, 2, 2, \"h2\", 13);\n    i0.ɵɵtemplate(5, CoreLoginCredentialsPage_ng_container_18_p_5_Template, 2, 1, \"p\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, CoreLoginCredentialsPage_ng_container_18_core_login_exceeded_attempts_6_Template, 3, 5, \"core-login-exceeded-attempts\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"div\", 16);\n    i0.ɵɵtemplate(8, CoreLoginCredentialsPage_ng_container_18_form_8_Template, 20, 19, \"form\", 17);\n    i0.ɵɵtemplate(9, CoreLoginCredentialsPage_ng_container_18_ng_container_9_Template, 8, 6, \"ng-container\", 8);\n    i0.ɵɵtemplate(10, CoreLoginCredentialsPage_ng_container_18_core_login_methods_10_Template, 1, 2, \"core-login-methods\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, CoreLoginCredentialsPage_ng_container_18_div_11_Template, 8, 5, \"div\", 19);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.logoUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.siteName);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.displaySiteUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.exceededAttemptsHTML && ctx_r0.supportConfig && ctx_r0.loginAttempts >= 3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isBrowserSSO);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isBrowserSSO);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.siteConfig);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.isBrowserSSO && (ctx_r0.canSignup || ctx_r0.authInstructions));\n  }\n}\nfunction CoreLoginCredentialsPage_core_empty_box_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r25 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"core-empty-box\", 47)(1, \"ion-button\", 48);\n    i0.ɵɵlistener(\"click\", function CoreLoginCredentialsPage_core_empty_box_19_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r25);\n      const ctx_r24 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r24.checkSite());\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"message\", ctx_r1.siteCheckError);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, \"core.tryagain\"), \" \");\n  }\n}\n/**\n * Page to enter the user credentials.\n */\nexport class CoreLoginCredentialsPage {\n  constructor(fb) {\n    this.fb = fb;\n    this.pageLoaded = false;\n    this.isBrowserSSO = false;\n    this.showForgottenPassword = true;\n    this.showScanQR = false;\n    this.loginAttempts = 0;\n    this.siteCheckError = '';\n    this.displaySiteUrl = false;\n    this.eventThrown = false;\n    this.viewLeft = false;\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        var _this$siteCheck, _this$siteCheck2;\n        _this.siteCheck = CoreNavigator.getRouteParam('siteCheck');\n        const siteUrl = ((_this$siteCheck = _this.siteCheck) === null || _this$siteCheck === void 0 ? void 0 : _this$siteCheck.siteUrl) || CoreNavigator.getRequiredRouteParam('siteUrl');\n        if ((_this$siteCheck2 = _this.siteCheck) !== null && _this$siteCheck2 !== void 0 && _this$siteCheck2.config) {\n          _this.siteConfig = _this.siteCheck.config;\n        }\n        _this.site = CoreSitesFactory.makeUnauthenticatedSite(siteUrl, _this.siteConfig);\n        _this.logoUrl = _this.site.getLogoUrl(_this.siteConfig);\n        _this.urlToOpen = CoreNavigator.getRouteParam('urlToOpen');\n        _this.supportConfig = _this.siteConfig && new CoreUserGuestSupportConfig(_this.site, _this.siteConfig);\n        _this.displaySiteUrl = _this.site.shouldDisplayInformativeLinks();\n        _this.siteName = yield _this.site.getSiteName();\n      } catch (error) {\n        CoreDomUtils.showErrorModal(error);\n        return CoreNavigator.back();\n      }\n      _this.credForm = _this.fb.group({\n        username: [CoreNavigator.getRouteParam('username') || '', Validators.required],\n        password: ['', Validators.required]\n      });\n      yield _this.checkSite();\n      if (_this.isBrowserSSO && CoreLoginHelper.shouldSkipCredentialsScreenOnSSO()) {\n        _this.openBrowserSSO();\n      }\n      if (CorePlatform.isIOS() && !_this.isBrowserSSO) {\n        // Make iOS auto-fill work. The field that isn't focused doesn't get updated, do it manually.\n        // Debounce it to prevent triggering this function too often when the user is typing.\n        _this.valueChangeSubscription = _this.credForm.valueChanges.pipe(debounceTime(1000)).subscribe(changes => {\n          if (!_this.formElement || !_this.formElement.nativeElement) {\n            return;\n          }\n          const usernameInput = _this.formElement.nativeElement.querySelector('input[name=\"username\"]');\n          const passwordInput = _this.formElement.nativeElement.querySelector('input[name=\"password\"]');\n          const usernameValue = usernameInput === null || usernameInput === void 0 ? void 0 : usernameInput.value;\n          const passwordValue = passwordInput === null || passwordInput === void 0 ? void 0 : passwordInput.value;\n          if (usernameValue !== undefined && usernameValue !== changes.username) {\n            var _this$credForm$get;\n            (_this$credForm$get = _this.credForm.get('username')) === null || _this$credForm$get === void 0 || _this$credForm$get.setValue(usernameValue);\n          }\n          if (passwordValue !== undefined && passwordValue !== changes.password) {\n            var _this$credForm$get2;\n            (_this$credForm$get2 = _this.credForm.get('password')) === null || _this$credForm$get2 === void 0 || _this$credForm$get2.setValue(passwordValue);\n          }\n        });\n      }\n    })();\n  }\n  /**\n   * Show help modal.\n   */\n  showHelp() {\n    CoreUserSupport.showHelp(Translate.instant('core.login.credentialshelp'), Translate.instant('core.login.credentialssupportsubject'), this.supportConfig);\n  }\n  /**\n   * Get site config and check if it requires SSO login.\n   * This should be used only if a fixed URL is set, otherwise this check is already performed in CoreLoginSitePage.\n   *\n   * @returns Promise resolved when done.\n   */\n  checkSite() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.pageLoaded = false;\n      // If the site is configured with http:// protocol we force that one, otherwise we use default mode.\n      const protocol = _this2.site.siteUrl.indexOf('http://') === 0 ? 'http://' : undefined;\n      try {\n        if (!_this2.siteCheck) {\n          _this2.siteCheck = yield CoreSites.checkSite(_this2.site.siteUrl, protocol);\n          _this2.siteCheck.config && _this2.site.setPublicConfig(_this2.siteCheck.config);\n        }\n        _this2.site.setURL(_this2.siteCheck.siteUrl);\n        _this2.siteConfig = _this2.siteCheck.config;\n        _this2.supportConfig = _this2.siteConfig && new CoreUserGuestSupportConfig(_this2.site, _this2.siteConfig);\n        yield _this2.treatSiteConfig();\n        _this2.siteCheckError = '';\n        // Check if user needs to authenticate in a browser.\n        _this2.isBrowserSSO = CoreLoginHelper.isSSOLoginNeeded(_this2.siteCheck.code);\n      } catch (error) {\n        _this2.siteCheckError = CoreDomUtils.getErrorMessage(error) || 'Error loading site';\n        CoreDomUtils.showErrorModal(error);\n      } finally {\n        _this2.pageLoaded = true;\n      }\n    })();\n  }\n  /**\n   * Treat the site configuration (if it exists).\n   */\n  treatSiteConfig() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      var _this3$supportConfig;\n      if (!_this3.siteConfig) {\n        _this3.authInstructions = undefined;\n        _this3.canSignup = false;\n        return;\n      }\n      if (_this3.site.isDemoModeSite()) {\n        _this3.showScanQR = false;\n      } else {\n        _this3.siteName = _this3.siteConfig.sitename;\n        _this3.logoUrl = _this3.site.getLogoUrl(_this3.siteConfig);\n        _this3.showScanQR = yield CoreLoginHelper.displayQRInCredentialsScreen(_this3.siteConfig.tool_mobile_qrcodetype);\n      }\n      _this3.canSignup = _this3.siteConfig.registerauth == 'email' && !_this3.site.isFeatureDisabled(EMAIL_SIGNUP_FEATURE_NAME);\n      _this3.showForgottenPassword = !_this3.site.isFeatureDisabled(FORGOTTEN_PASSWORD_FEATURE_NAME);\n      _this3.exceededAttemptsHTML = CoreLoginHelper.buildExceededAttemptsHTML(!!((_this3$supportConfig = _this3.supportConfig) !== null && _this3$supportConfig !== void 0 && _this3$supportConfig.canContactSupport()), _this3.showForgottenPassword);\n      _this3.authInstructions = _this3.siteConfig.authinstructions || (_this3.canSignup ? Translate.instant('core.login.loginsteps') : '');\n      if (!_this3.eventThrown && !_this3.viewLeft) {\n        _this3.eventThrown = true;\n        CoreEvents.trigger(CoreEvents.LOGIN_SITE_CHECKED, {\n          config: _this3.siteConfig\n        });\n      }\n    })();\n  }\n  /**\n   * Tries to authenticate the user using the browser.\n   *\n   * @param e Event.\n   * @returns Promise resolved when done.\n   */\n  openBrowserSSO(e) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      var _this4$siteCheck$conf;\n      e === null || e === void 0 || e.preventDefault();\n      e === null || e === void 0 || e.stopPropagation();\n      // Check that there's no SSO authentication ongoing and the view hasn't changed.\n      if (CoreApp.isSSOAuthenticationOngoing() || _this4.viewLeft || !_this4.siteCheck) {\n        return;\n      }\n      CoreLoginHelper.openBrowserForSSOLogin(_this4.siteCheck.siteUrl, _this4.siteCheck.code, _this4.siteCheck.service, (_this4$siteCheck$conf = _this4.siteCheck.config) === null || _this4$siteCheck$conf === void 0 ? void 0 : _this4$siteCheck$conf.launchurl);\n    })();\n  }\n  /**\n   * Tries to authenticate the user.\n   *\n   * @param e Event.\n   * @returns Promise resolved when done.\n   */\n  login(e) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      e === null || e === void 0 || e.preventDefault();\n      e === null || e === void 0 || e.stopPropagation();\n      CoreApp.closeKeyboard();\n      // Get input data.\n      const siteUrl = _this5.site.getURL();\n      const username = _this5.credForm.value.username;\n      const password = _this5.credForm.value.password;\n      if (!username) {\n        CoreDomUtils.showErrorModal('core.login.usernamerequired', true);\n        return;\n      }\n      if (!password) {\n        CoreDomUtils.showErrorModal('core.login.passwordrequired', true);\n        return;\n      }\n      if (!CoreNetwork.isOnline()) {\n        CoreDomUtils.showErrorModal('core.networkerrormsg', true);\n        return;\n      }\n      const modal = yield CoreDomUtils.showModalLoading();\n      // Start the authentication process.\n      try {\n        const data = yield CoreSites.getUserToken(siteUrl, username, password);\n        const id = yield CoreSites.newSite(data.siteUrl, data.token, data.privateToken);\n        // Reset fields so the data is not in the view anymore.\n        _this5.credForm.controls['username'].reset();\n        _this5.credForm.controls['password'].reset();\n        _this5.siteId = id;\n        yield CoreNavigator.navigateToSiteHome({\n          params: {\n            urlToOpen: _this5.urlToOpen\n          }\n        });\n      } catch (error) {\n        CoreLoginHelper.treatUserTokenError(siteUrl, error, username, password);\n        if (error.loggedout) {\n          CoreNavigator.navigate('/login/sites', {\n            reset: true\n          });\n        } else if (error.errorcode == 'forcepasswordchangenotice') {\n          // Reset password field.\n          _this5.credForm.controls.password.reset();\n        } else if (error.errorcode === 'invalidlogin') {\n          _this5.loginAttempts++;\n        }\n      } finally {\n        modal.dismiss();\n        CoreForms.triggerFormSubmittedEvent(_this5.formElement, true);\n      }\n    })();\n  }\n  /**\n   * Exceeded attempts message clicked.\n   *\n   * @param event Click event.\n   */\n  exceededAttemptsClicked(event) {\n    event.preventDefault();\n    if (!(event.target instanceof HTMLAnchorElement)) {\n      return;\n    }\n    this.forgottenPassword();\n  }\n  /**\n   * Forgotten password button clicked.\n   */\n  forgottenPassword() {\n    CoreLoginHelper.forgottenPasswordClicked(this.site.getURL(), this.credForm.value.username, this.siteConfig);\n  }\n  /**\n   * Open email signup page.\n   */\n  openEmailSignup() {\n    CoreNavigator.navigate('/login/emailsignup', {\n      params: {\n        siteUrl: this.site.getURL()\n      }\n    });\n  }\n  /**\n   * Open settings page.\n   */\n  openSettings() {\n    CoreNavigator.navigate('/settings');\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnDestroy() {\n    var _this$valueChangeSubs;\n    this.viewLeft = true;\n    CoreEvents.trigger(CoreEvents.LOGIN_SITE_UNCHECKED, {\n      config: this.siteConfig,\n      loginSuccessful: !!this.siteId\n    }, this.siteId);\n    (_this$valueChangeSubs = this.valueChangeSubscription) === null || _this$valueChangeSubs === void 0 || _this$valueChangeSubs.unsubscribe();\n  }\n}\n_class = CoreLoginCredentialsPage;\n_class.ɵfac = function CoreLoginCredentialsPage_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"page-core-login-credentials\"]],\n  viewQuery: function CoreLoginCredentialsPage_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.formElement = _t.first);\n    }\n  },\n  decls: 20,\n  vars: 15,\n  consts: [[\"slot\", \"start\"], [3, \"text\"], [\"slot\", \"end\"], [\"fill\", \"clear\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"fas-gear\", \"aria-hidden\", \"true\"], [\"slot\", \"icon-only\", \"name\", \"far-circle-question\", \"aria-hidden\", \"true\"], [1, \"ion-padding\", \"limited-width\"], [3, \"hideUntil\"], [4, \"ngIf\"], [\"icon\", \"fas-circle-exclamation\", 3, \"message\", 4, \"ngIf\"], [1, \"ion-text-wrap\", \"ion-text-center\", \"core-login-info-box\"], [1, \"core-login-site\"], [\"class\", \"core-login-site-logo\", 4, \"ngIf\"], [\"class\", \"ion-margin-top ion-no-padding core-sitename\", 4, \"ngIf\"], [\"class\", \"core-siteurl\", 4, \"ngIf\"], [3, \"supportConfig\", \"supportSubject\", 4, \"ngIf\"], [1, \"core-login-methods\"], [\"class\", \"core-login-form\", 3, \"formGroup\", \"ngSubmit\", 4, \"ngIf\"], [3, \"siteConfig\", \"siteUrl\", 4, \"ngIf\"], [\"class\", \"core-login-sign-up\", 4, \"ngIf\"], [1, \"core-login-site-logo\"], [\"role\", \"presentation\", \"alt\", \"\", \"onError\", \"this.src='assets/img/login_logo.png'\", 3, \"src\"], [1, \"ion-margin-top\", \"ion-no-padding\", \"core-sitename\"], [3, \"text\", \"filter\"], [1, \"core-siteurl\"], [3, \"supportConfig\", \"supportSubject\"], [3, \"innerHTML\", \"click\"], [1, \"core-login-form\", 3, \"formGroup\", \"ngSubmit\"], [\"credentialsForm\", \"\"], [1, \"sr-only\"], [\"type\", \"text\", \"name\", \"username\", \"formControlName\", \"username\", \"autocapitalize\", \"none\", \"autocorrect\", \"off\", \"autocomplete\", \"username\", \"enterkeyhint\", \"next\", \"required\", \"true\", 3, \"placeholder\"], [1, \"ion-margin-bottom\"], [\"name\", \"password\"], [\"name\", \"password\", \"type\", \"password\", \"formControlName\", \"password\", \"autocomplete\", \"current-password\", \"enterkeyhint\", \"go\", \"required\", \"true\", 3, \"placeholder\", \"clearOnEdit\"], [\"expand\", \"block\", \"type\", \"submit\", 1, \"ion-margin\", \"core-login-login-button\", \"ion-text-wrap\", 3, \"disabled\"], [\"type\", \"submit\", 1, \"core-submit-hidden-enter\"], [\"expand\", \"block\", \"fill\", \"clear\", \"class\", \"core-login-forgotten-password core-button-as-link ion-text-wrap\", 3, \"click\", 4, \"ngIf\"], [\"expand\", \"block\", \"fill\", \"clear\", 1, \"core-login-forgotten-password\", \"core-button-as-link\", \"ion-text-wrap\", 3, \"click\"], [\"expand\", \"block\", 1, \"ion-margin\", \"core-login-login-inbrowser-button\", \"ion-text-wrap\", 3, \"click\"], [\"name\", \"fas-up-right-from-square\", \"slot\", \"end\", \"aria-hidden\", \"true\"], [1, \"text-center\", \"core-login-inbrowser\"], [3, \"siteConfig\", \"siteUrl\"], [1, \"core-login-sign-up\"], [1, \"ion-text-wrap\", \"ion-no-padding\", \"core-login-instructions\"], [3, \"text\", \"filter\", 4, \"ngIf\"], [\"expand\", \"block\", \"class\", \"ion-margin ion-text-wrap\", \"fill\", \"outline\", 3, \"click\", 4, \"ngIf\"], [\"expand\", \"block\", \"fill\", \"outline\", 1, \"ion-margin\", \"ion-text-wrap\", 3, \"click\"], [\"icon\", \"fas-circle-exclamation\", 3, \"message\"], [\"expand\", \"block\", \"fill\", \"outline\", 3, \"click\"]],\n  template: function CoreLoginCredentialsPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n      i0.ɵɵelement(3, \"ion-back-button\", 1);\n      i0.ɵɵpipe(4, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ion-title\")(6, \"h1\");\n      i0.ɵɵtext(7);\n      i0.ɵɵpipe(8, \"translate\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"ion-buttons\", 2)(10, \"ion-button\", 3);\n      i0.ɵɵlistener(\"click\", function CoreLoginCredentialsPage_Template_ion_button_click_10_listener() {\n        return ctx.openSettings();\n      });\n      i0.ɵɵpipe(11, \"translate\");\n      i0.ɵɵelement(12, \"ion-icon\", 4);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"ion-button\", 3);\n      i0.ɵɵlistener(\"click\", function CoreLoginCredentialsPage_Template_ion_button_click_13_listener() {\n        return ctx.showHelp();\n      });\n      i0.ɵɵpipe(14, \"translate\");\n      i0.ɵɵelement(15, \"ion-icon\", 5);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(16, \"ion-content\", 6)(17, \"core-loading\", 7);\n      i0.ɵɵtemplate(18, CoreLoginCredentialsPage_ng_container_18_Template, 12, 8, \"ng-container\", 8);\n      i0.ɵɵtemplate(19, CoreLoginCredentialsPage_core_empty_box_19_Template, 4, 4, \"core-empty-box\", 9);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"text\", i0.ɵɵpipeBind1(4, 7, \"core.back\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 9, \"core.login.login\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(11, 11, \"core.settings.appsettings\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(14, 13, \"core.help\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"hideUntil\", ctx.pageLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.siteCheckError && ctx.site && ctx.credForm);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.siteCheckError);\n    }\n  },\n  dependencies: [i2.NgIf, i3.CoreEmptyBoxComponent, i4.CoreLoadingComponent, i5.CoreShowPasswordComponent, i6.CoreFaIconDirective, i7.CoreFormatTextDirective, i8.CoreContentDirective, i9.CoreUpdateNonReactiveAttributesDirective, i1.ɵNgNoValidate, i1.NgControlStatus, i1.NgControlStatusGroup, i1.RequiredValidator, i10.IonButton, i10.IonButtons, i10.IonContent, i10.IonHeader, i10.IonIcon, i10.IonInput, i10.IonItem, i10.IonLabel, i10.IonTitle, i10.IonToolbar, i10.TextValueAccessor, i10.IonBackButton, i1.FormGroupDirective, i1.FormControlName, i11.CoreLoginExceededAttemptsComponent, i12.CoreLoginMethodsComponent, i13.TranslatePipe],\n  styles: [\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-list[_ngcontent-%COMP%] {\\n  --background: var(--core-login-background);\\n  --ion-item-background: var(--core-login-background);\\n  --color: var(--core-login-text-color);\\n}\\n[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%] {\\n  --color: var(--core-login-text-color);\\n}\\n[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   .core-oauth-icon[_ngcontent-%COMP%] {\\n  color: var(--color);\\n}\\n[_nghost-%COMP%]   ion-button.core-button-as-link[_ngcontent-%COMP%] {\\n  --color: var(--core-login-text-color);\\n  -webkit-text-decoration-color: var(--core-login-text-color);\\n          text-decoration-color: var(--core-login-text-color);\\n}\\n[_nghost-%COMP%]   ion-button.core-button-as-link[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%] {\\n  color: var(--core-login-text-color);\\n}\\n[_nghost-%COMP%]   .core-login-reconnect-warning[_ngcontent-%COMP%] {\\n  margin: 0px 0px 32px 0px;\\n}\\n[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%] {\\n  margin-bottom: 32px;\\n}\\n[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%]   .core-login-site-logo[_ngcontent-%COMP%] {\\n  width: 90%;\\n  max-width: 300px;\\n  margin: 0px auto;\\n}\\n[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%]   .core-login-site-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  max-width: 100%;\\n  max-height: 104px;\\n}\\n[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%]   .core-sitename[_ngcontent-%COMP%] {\\n  font-size: 1.2rem;\\n  margin-bottom: 8px;\\n}\\n[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%]   .core-siteurl[_ngcontent-%COMP%] {\\n  margin-top: 8px;\\n  margin-bottom: 0px;\\n}\\n[_nghost-%COMP%]   .core-login-info-box[_ngcontent-%COMP%]   .core-login-site[_ngcontent-%COMP%]    + .core-login-user[_ngcontent-%COMP%] {\\n  margin-top: 24px;\\n}\\n[_nghost-%COMP%]   core-user-avatar.large-avatar[_ngcontent-%COMP%] {\\n  --core-avatar-size: var(--core-large-avatar-size);\\n}\\n[_nghost-%COMP%]   .core-login-fullname[_ngcontent-%COMP%] {\\n  margin-top: 8px;\\n  margin-bottom: 0px;\\n}\\n[_nghost-%COMP%]   .core-login-methods[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item.item-input[_ngcontent-%COMP%] {\\n  margin-bottom: 16px;\\n}\\n[_nghost-%COMP%]   .core-login-methods[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-login-methods[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%] {\\n  --background: var(--core-login-input-background);\\n  --color: var(--core-login-input-color);\\n}\\n[_nghost-%COMP%]   ion-button[_ngcontent-%COMP%] {\\n  margin-left: 0px;\\n  margin-right: 0px;\\n}\\n[_nghost-%COMP%]   .core-login-forgotten-password[_ngcontent-%COMP%] {\\n  text-decoration: underline;\\n}\\n[_nghost-%COMP%]   .core-login-methods-separator[_ngcontent-%COMP%] {\\n  position: relative;\\n  padding: 8px 0;\\n}\\n[_nghost-%COMP%]   .core-login-methods-separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  background: var(--core-login-background);\\n  padding: 0 8px;\\n}\\n[_nghost-%COMP%]   .core-login-methods-separator[_ngcontent-%COMP%]::before {\\n  height: 1px;\\n  position: absolute;\\n  top: 50%;\\n  left: 0px;\\n  right: 0px;\\n  border-bottom: 1px solid var(--gray-300);\\n  content: \\\"\\\";\\n  z-index: -1;\\n}\\n[_nghost-%COMP%]   .core-login-login-button[_ngcontent-%COMP%] {\\n  margin-top: 32px;\\n}\\n[_nghost-%COMP%]   .core-login-login-inbrowser-button[_ngcontent-%COMP%] {\\n  margin-bottom: 8px;\\n}\\n[_nghost-%COMP%]   p.core-login-inbrowser[_ngcontent-%COMP%] {\\n  font-size: 12px;\\n  margin-top: 8px;\\n  margin-bottom: 8px;\\n}\\n[_nghost-%COMP%]   .core-login-sign-up[_ngcontent-%COMP%] {\\n  margin-top: 8px;\\n  border-top: 1px solid var(--gray-300);\\n}\\n[_nghost-%COMP%]   .core-login-identity-providers[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%], [_nghost-%COMP%]   .core-login-sign-up[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin-top: 16px;\\n  margin-bottom: 8px;\\n  font-size: 16px;\\n}\\n\\nhtml.dark[_nghost-%COMP%]   core-loading[_ngcontent-%COMP%], html.dark   [_nghost-%COMP%]   core-loading[_ngcontent-%COMP%] {\\n  --loading-background: var(--core-login-background-dark);\\n  --loading-text-color: #ffffff;\\n  --loading-spinner: #ffffff;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuc3RyaW5nLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2lvbmljLm1peGlucy5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2hlbHBlcnMvaW9uaWMuY29tcG9uZW50cy5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2N1c3RvbS5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLmN1c3RvbS5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2dsb2JhbHMudmFyaWFibGVzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvY29yZS9mZWF0dXJlcy9sb2dpbi9sb2dpbi5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0VBQUE7QUNBQTs7Ozs7RUFBQTtBQ0FBOzs7OztFQUFBO0FDQUE7Ozs7O0VBQUE7QUNBQTs7Ozs7O0VBQUE7QUNFQTs7OztFQUFBO0FBNEdBOztFQUFBO0FDOUdBOzs7O0VBQUE7QUNBQTs7OztFQUFBO0FBK0RBOzs7O0VBQUE7QUM1REk7O0VBRUksMENBQUE7RUFDQSxtREFBQTtFQUNBLHFDQUFBO0FBbURSO0FBaERJO0VBQ0kscUNBQUE7QUFrRFI7QUFoRFE7RUFDSSxtQkFBQTtBQWtEWjtBQTlDSTtFQUNJLHFDQUFBO0VBQ0EsMkRBQUE7VUFBQSxtREFBQTtBQWdEUjtBQTlDUTtFQUNJLG1DQUFBO0FBZ0RaO0FBMUNJO0VBQ0ksd0JBQUE7QUE0Q1I7QUF6Q0k7RUFDSSxtQkFBQTtBQTJDUjtBQXhDWTtFQUNJLFVBQUE7RUFDQSxnQkFBQTtFQUNBLGdCQUFBO0FBMENoQjtBQXhDZ0I7RUFDSSxlQUFBO0VBQ0EsaUJBQUE7QUEwQ3BCO0FBdENZO0VBQ0ksaUJBQUE7RUFDQSxrQkFBQTtBQXdDaEI7QUFyQ1k7RUFDSSxlQUFBO0VBQ0Esa0JBQUE7QUF1Q2hCO0FBbkNRO0VBQ0ksZ0JBQUE7QUFxQ1o7QUFqQ0k7RUFDSSxpREFBQTtBQW1DUjtBQWhDSTtFQUNJLGVBQUE7RUFDQSxrQkFBQTtBQWtDUjtBQTlCUTtFQUNJLG1CQUFBO0FBZ0NaO0FBN0JROztFQUVJLGdEQUFBO0VBQ0Esc0NBQUE7QUErQlo7QUEzQkk7RUFDSSxnQkFBQTtFQUNBLGlCQUFBO0FBNkJSO0FBMUJJO0VBQ0ksMEJBQUE7QUE0QlI7QUFFSTtFQUNJLGtCQUFBO0VBQ0EsY0FBQTtBQUFSO0FBRVE7RUFDSSx3Q0FBQTtFQUNBLGNBQUE7QUFBWjtBQUdRO0VBQ0ksV0FBQTtFQUNBLGtCQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxVQUFBO0VBQ0Esd0NBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtBQURaO0FBYUk7RUFDSSxnQkFBQTtBQVhSO0FBY0k7RUFDSSxrQkFBQTtBQVpSO0FBZUk7RUFDSSxlQUFBO0VBQ0EsZUFBQTtFQUNBLGtCQUFBO0FBYlI7QUFnQkk7RUFDSSxlQUFBO0VBQ0EscUNBQUE7QUFkUjtBQWlCSTs7RUFFSSxnQkFBQTtFQUNBLGtCQUFBO0VBQ0EsZUFBQTtBQWZSOztBQTZCUTtFQUNJLHVEQUFBO0VBQ0EsNkJBQUE7RUFDQSwwQkFBQTtBQTFCWiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXBwIEdsb2JhbCB2YXJpYWJsZXMgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUGxhY2UgaGVyZSB0aGUgZGlmZmVyZW50IGZpbGVzIHlvdSBzaG91bGQgaW1wb3J0IHRvIHVzZSBnbG9iYWwgdmFyaWFibGVzLlxuICovXG5cbiRmb250LXBhdGg6IFwiLi4vYXNzZXRzL2ZvbnRzXCI7XG4kYXNzZXRzLXBhdGg6IFwiLi4vYXNzZXRzXCI7XG5cbkBpbXBvcnQgXCIuL2hlbHBlcnMvaGVscGVycy5zY3NzXCI7XG5AaW1wb3J0IFwiLi9nbG9iYWxzLmN1c3RvbS5zY3NzXCI7XG5AaW1wb3J0IFwiLi9nbG9iYWxzLnZhcmlhYmxlcy5zY3NzXCI7XG4iLCIvKipcbiAqIEltcG9ydGVkIGlvbmljIHN0cmluZyBmdW5jdGlvbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLmZ1bmN0aW9ucy5zdHJpbmcuc2Nzc1xuICovXG5cblxuLy8gU3RyaW5nIFV0aWxpdHkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBTdHJpbmcgUmVwbGFjZSBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIHN0ci1yZXBsYWNlKCRzdHJpbmcsICRzZWFyY2gsICRyZXBsYWNlOiBcIlwiKSB7XG4gICRpbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzZWFyY2gpO1xuXG4gIEBpZiAkaW5kZXgge1xuICAgIEByZXR1cm4gc3RyLXNsaWNlKCRzdHJpbmcsIDEsICRpbmRleCAtIDEpICsgJHJlcGxhY2UgKyBzdHItcmVwbGFjZShzdHItc2xpY2UoJHN0cmluZywgJGluZGV4ICsgc3RyLWxlbmd0aCgkc2VhcmNoKSksICRzZWFyY2gsICRyZXBsYWNlKTtcbiAgfVxuXG4gIEByZXR1cm4gJHN0cmluZztcbn1cblxuLy8gU3RyaW5nIFNwbGl0IEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbkBmdW5jdGlvbiBzdHItc3BsaXQoJHN0cmluZywgJHNlcGFyYXRvcikge1xuICAvLyBlbXB0eSBhcnJheS9saXN0XG4gICRzcGxpdC1hcnI6ICgpO1xuICAvLyBmaXJzdCBpbmRleCBvZiBzZXBhcmF0b3IgaW4gc3RyaW5nXG4gICRpbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzZXBhcmF0b3IpO1xuICAvLyBsb29wIHRocm91Z2ggc3RyaW5nXG4gIEB3aGlsZSAkaW5kZXggIT0gbnVsbCB7XG4gICAgLy8gZ2V0IHRoZSBzdWJzdHJpbmcgZnJvbSB0aGUgZmlyc3QgY2hhcmFjdGVyIHRvIHRoZSBzZXBhcmF0b3JcbiAgICAkaXRlbTogc3RyLXNsaWNlKCRzdHJpbmcsIDEsICRpbmRleCAtIDEpO1xuICAgIC8vIHB1c2ggaXRlbSB0byBhcnJheVxuICAgICRzcGxpdC1hcnI6IGFwcGVuZCgkc3BsaXQtYXJyLCAkaXRlbSk7XG4gICAgLy8gcmVtb3ZlIGl0ZW0gYW5kIHNlcGFyYXRvciBmcm9tIHN0cmluZ1xuICAgICRzdHJpbmc6IHN0ci1zbGljZSgkc3RyaW5nLCAkaW5kZXggKyAxKTtcbiAgICAvLyBmaW5kIG5ldyBpbmRleCBvZiBzZXBhcmF0b3JcbiAgICAkaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc2VwYXJhdG9yKTtcbiAgfVxuICAvLyBhZGQgdGhlIHJlbWFpbmluZyBzdHJpbmcgdG8gbGlzdCAodGhlIGxhc3QgaXRlbSlcbiAgJHNwbGl0LWFycjogYXBwZW5kKCRzcGxpdC1hcnIsICRzdHJpbmcpO1xuXG4gIEByZXR1cm4gJHNwbGl0LWFycjtcbn1cblxuXG4vLyBTdHJpbmcgRXh0cmFjdCBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIHN0ci1leHRyYWN0KCRzdHJpbmcsICRzdGFydCwgJGVuZCkge1xuICAkc3RhcnQtaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc3RhcnQpO1xuXG4gIEBpZiAkc3RhcnQtaW5kZXgge1xuICAgICRwb3N0OiBzdHItc2xpY2UoJHN0cmluZywgJHN0YXJ0LWluZGV4ICsgc3RyLWxlbmd0aCgkc3RhcnQpKTtcbiAgICAkZW5kLWluZGV4OiBzdHItaW5kZXgoJHBvc3QsICRlbmQpO1xuXG4gICAgQGlmICRlbmQtaW5kZXgge1xuICAgICAgQHJldHVybiBzdHItc2xpY2UoJHBvc3QsIDEsICRlbmQtaW5kZXggLSAxKTtcbiAgICB9XG4gIH1cblxuICBAcmV0dXJuIG51bGw7XG59XG5cblxuLy8gU3RyaW5nIENvbnRhaW5zIEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gc3RyLWNvbnRhaW5zKCRzdHJpbmcsICRuZWVkbGUpIHtcbiAgQGlmICh0eXBlLW9mKCRzdHJpbmcpID09IHN0cmluZykge1xuICAgIEByZXR1cm4gc3RyLWluZGV4KCRzdHJpbmcsICRuZWVkbGUpICE9IG51bGw7XG4gIH1cblxuICBAcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8vIFVSTCBFbmNvZGUgRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBmdW5jdGlvbiB1cmwtZW5jb2RlKCR2YWwpIHtcbiAgJHNwYWNlczogc3RyLXJlcGxhY2UoJHZhbCwgXCIgXCIsIFwiJTIwXCIpO1xuICAkZW5jb2RlZDogc3RyLXJlcGxhY2UoJHNwYWNlcywgXCIjXCIsIFwiJTIzXCIpO1xuICBAcmV0dXJuICRlbmNvZGVkO1xufVxuXG5cbi8vIEFkZCBSb290IFNlbGVjdG9yXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQWRkcyBhIHJvb3Qgc2VsZWN0b3IgdXNpbmcgaG9zdCBiYXNlZCBvbiB0aGUgc2VsZWN0b3IgcGFzc2VkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gYWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsICRhZGRIb3N0U2VsZWN0b3IpIHtcbiAgJHNlbGVjdG9yczogc3RyLXNwbGl0KCRyb290LCBcIixcIik7XG5cbiAgJGxpc3Q6ICgpO1xuXG4gIEBlYWNoICRzZWxlY3RvciBpbiAkc2VsZWN0b3JzIHtcbiAgICAvLyBJZiB0aGUgc2VsZWN0b3IgY29udGFpbnMgOmhvc3QoIGl0IG1lYW5zIGl0IGlzIHRhcmdldGluZyBhIGNsYXNzIG9uIHRoZSBob3N0XG4gICAgLy8gZWxlbWVudCBzbyB3ZSBuZWVkIHRvIGNoYW5nZSBob3cgd2UgdGFyZ2V0IGl0OlxuICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3QoLmZpeGVkKVwiLCBcIltkaXI9cnRsXVwiKVxuICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpXG4gICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5maXhlZFxuICAgIEBpZiBzdHItY29udGFpbnMoJHNlbGVjdG9yLCBcIjpob3N0KFwiKSB7XG4gICAgICAvLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcIjpob3N0KC5maXhlZClcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpXG4gICAgICAkc2hhZG93LWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzZWxlY3RvciwgXCI6aG9zdChcIiwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pOmhvc3QoXCIpO1xuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJHNoYWRvdy1lbGVtZW50LCBjb21tYSk7XG5cbiAgICAgICRuZXctZWxlbWVudDogKCk7XG4gICAgICAkZWxlbWVudHM6IHN0ci1zcGxpdCgkc2VsZWN0b3IsIFwiIFwiKTtcblxuICAgICAgQGVhY2ggJGVsZW1lbnQgaW4gJGVsZW1lbnRzIHtcbiAgICAgICAgQGlmIHN0ci1jb250YWlucygkZWxlbWVudCwgXCI6aG9zdChcIikge1xuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogJGVsZW1lbnQ7XG5cbiAgICAgICAgICAvLyBSZXBsYWNlIHRoZSA6aG9zdCggYW5kICkgc28gYWxsIHdlIGhhdmUgbGVmdCBpcyB0aGUgY2xhc3NcbiAgICAgICAgICAvLyBpbnNpZGUgb2YgaXQ6XG4gICAgICAgICAgLy8gOmhvc3QoLmZpeGVkKSAtPiAuZml4ZWRcbiAgICAgICAgICAkc2NvcGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzY29wZWQtZWxlbWVudCwgXCIpXCIsIFwiXCIpO1xuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJHNjb3BlZC1lbGVtZW50LCBcIjpob3N0KFwiLCBcIlwiKTtcblxuICAgICAgICAgIC8vIEFkZCB0aGUgY2xhc3MgYmFjayBpbnNpZGUgb2YgaG9zdCB3aXRoIHRoZSBydGwgc2VsZWN0b3I6XG4gICAgICAgICAgLy8gLmZpeGVkIC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5maXhlZFxuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJHNjb3BlZC1lbGVtZW50LCAkc2NvcGVkLWVsZW1lbnQsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KSN7JHNjb3BlZC1lbGVtZW50fVwiKTtcblxuICAgICAgICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3QoLmZpeGVkKVwiLCBcIltkaXI9cnRsXVwiKVxuICAgICAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkuZml4ZWRcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICRzY29wZWQtZWxlbWVudCwgc3BhY2UpO1xuICAgICAgICB9IEBlbHNlIHtcbiAgICAgICAgICAvLyBBZGQgYmFjayBhbnkgc2VsZWN0b3JzIHRoYXQgZm9sbG93ZWQgdGhlIGhvc3QgYWZ0ZXIgdHJhbnNmb3JtaW5nIHRoZVxuICAgICAgICAgIC8vIGZpcnN0IHNlbGVjdG9yOlxuICAgICAgICAgIC8vIDpob3N0KC5maXhlZCkgOjpzbG90dGVkKGlvbi1pY29uKVxuICAgICAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpIDo6c2xvdHRlZChpb24taWNvbilcbiAgICAgICAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLmZpeGVkIDo6c2xvdHRlZChpb24taWNvbilcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICRlbGVtZW50LCBzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJG5ldy1lbGVtZW50LCBjb21tYSk7XG4gICAgLy8gSWYgdGhlIHNlbGVjdG9yIGNvbnRhaW5zIDpob3N0IHdpdGhvdXQgYSBwYXJhbnRoZXNlc1xuICAgIC8vIGl0IG1lYW5zIGl0IGlzIHRhcmdldGluZyBqdXN0IHRoZSBob3N0XG4gICAgLy8gZWxlbWVudCBzbyB3ZSBjYW4gY2hhbmdlIGl0IHRvIGxvb2sgZm9yIGhvc3QtY29udGV4dFxuICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3RcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pXG4gICAgLy8gLS0+IDpob3N0OmRpcihydGwpXG4gICAgfSBAZWxzZSBpZiBzdHItY29udGFpbnMoJHNlbGVjdG9yLCBcIjpob3N0XCIpIHtcbiAgICAgICRuZXctZWxlbWVudDogKCk7XG4gICAgICAkZWxlbWVudHM6IHN0ci1zcGxpdCgkc2VsZWN0b3IsIFwiIFwiKTtcblxuICAgICAgQGVhY2ggJGVsZW1lbnQgaW4gJGVsZW1lbnRzIHtcbiAgICAgICAgQGlmIHN0ci1jb250YWlucygkZWxlbWVudCwgXCI6aG9zdFwiKSB7XG4gICAgICAgICAgLy8gUmVwbGFjZSB0aGUgOmhvc3Qgd2l0aCB0aGUgYWRkSG9zdFNlbGVjdG9yOlxuICAgICAgICAgIC8vIDpob3N0IC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKVxuICAgICAgICAgICR1cGRhdGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRlbGVtZW50LCBcIjpob3N0XCIsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KVwiKTtcblxuICAgICAgICAgIC8vIEFkZCB0aGUgZmluYWwgc2VsZWN0b3IgYWZ0ZXIgYWxsIHRyYW5zZm9ybWF0aW9uczpcbiAgICAgICAgICAvLyA6aG9zdCAtPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSlcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICR1cGRhdGVkLWVsZW1lbnQsIHNwYWNlKTtcbiAgICAgICAgfSBAZWxzZSB7XG4gICAgICAgICAgLy8gQWRkIGJhY2sgYW55IHNlbGVjdG9ycyB0aGF0IGZvbGxvd2VkIHRoZSBob3N0IGFmdGVyIHRyYW5zZm9ybWluZyB0aGVcbiAgICAgICAgICAvLyBmaXJzdCBzZWxlY3RvcjpcbiAgICAgICAgICAvLyA6aG9zdCA6OnNsb3R0ZWQoaW9uLWljb24pIC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSA6OnNsb3R0ZWQoaW9uLWljb24pXG4gICAgICAgICAgJG5ldy1lbGVtZW50OiBhcHBlbmQoJG5ldy1lbGVtZW50LCAkZWxlbWVudCwgc3BhY2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsICRuZXctZWxlbWVudCwgY29tbWEpO1xuICAgIC8vIElmIHRoZSBzZWxlY3RvciBkb2VzIG5vdCBjb250YWluIGhvc3QgYXQgYWxsIGl0IGlzIGVpdGhlciBhIHNoYWRvd1xuICAgIC8vIG9yIG5vcm1hbCBlbGVtZW50IHNvIGFwcGVuZCBib3RoIHRoZSBhZGRIb3N0U2VsZWN0b3IgYW5kIGhvc3QtY29udGV4dFxuICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiaW9uLWNvbXBvbmVudFwiLCBcIltkaXI9cnRsXVwiKVxuICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgaW9uLWNvbXBvbmVudFxuICAgIC8vIC0tPiBbZGlyPXJ0bF0gaW9uLWNvbXBvbmVudFxuICAgIH0gQGVsc2Uge1xuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgXCIjeyRhZGRIb3N0U2VsZWN0b3J9ICN7JHNlbGVjdG9yfVwiLCBjb21tYSk7XG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCBcIjpob3N0LWNvbnRleHQoI3skYWRkSG9zdFNlbGVjdG9yfSkgI3skc2VsZWN0b3J9XCIsIGNvbW1hKTtcbiAgICB9XG4gIH1cblxuICBAcmV0dXJuICRsaXN0O1xufVxuIiwiLyoqXG4gKiBJbXBvcnRlZCBpb25pYyBjb2xvciBmdW5jdGlvbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLmZ1bmN0aW9ucy5jb2xvci5zY3NzXG4gKi9cblxuLy8gR2V0cyB0aGUgYWN0aXZlIGNvbG9yJ3MgY3NzIHZhcmlhYmxlIGZyb20gYSB2YXJpYXRpb24uIEFscGhhIGlzIG9wdGlvbmFsLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEV4YW1wbGUgdXNhZ2U6XG4vLyBjdXJyZW50LWNvbG9yKGJhc2UpID0+IHZhcigtLWlvbi1jb2xvci1iYXNlKVxuLy8gY3VycmVudC1jb2xvcihjb250cmFzdCwgMC4xKSA9PiByZ2JhKHZhcigtLWlvbi1jb2xvci1jb250cmFzdC1yZ2IpLCAwLjEpXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGN1cnJlbnQtY29sb3IoJHZhcmlhdGlvbiwgJGFscGhhOiBudWxsKSB7XG4gIEBpZiAkYWxwaGEgPT0gbnVsbCB7XG4gICAgQHJldHVybiB2YXIoLS1pb24tY29sb3ItI3skdmFyaWF0aW9ufSk7XG4gIH0gQGVsc2Uge1xuICAgIEByZXR1cm4gcmdiYSh2YXIoLS1pb24tY29sb3ItI3skdmFyaWF0aW9ufS1yZ2IpLCAjeyRhbHBoYX0pO1xuICB9XG59XG5cbi8vIEdldHMgdGhlIHNwZWNpZmljIGNvbG9yJ3MgY3NzIHZhcmlhYmxlIGZyb20gdGhlIG5hbWUgYW5kIHZhcmlhdGlvbi4gQWxwaGEvcmdiIGFyZSBvcHRpb25hbC5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFeGFtcGxlIHVzYWdlOlxuLy8gaW9uLWNvbG9yKHByaW1hcnksIGJhc2UpID0+IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LCAjMzg4MGZmKVxuLy8gaW9uLWNvbG9yKHNlY29uZGFyeSwgY29udHJhc3QpID0+IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnktY29udHJhc3QpXG4vLyBpb24tY29sb3IocHJpbWFyeSwgYmFzZSwgMC41KSA9PiByZ2JhKHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LXJnYiwgNTYsIDEyOCwgMjU1KSwgMC41KVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBpb24tY29sb3IoJG5hbWUsICR2YXJpYXRpb24sICRhbHBoYTogbnVsbCwgJHJnYjogbnVsbCkge1xuICAkdmFsdWVzOiBtYXAtZ2V0KCRjb2xvcnMsICRuYW1lKTtcbiAgJHZhbHVlOiBtYXAtZ2V0KCR2YWx1ZXMsICR2YXJpYXRpb24pO1xuICAkdmFyaWFibGU6IC0taW9uLWNvbG9yLSN7JG5hbWV9LSN7JHZhcmlhdGlvbn07XG5cbiAgQGlmICgkdmFyaWF0aW9uID09IGJhc2UpIHtcbiAgICAkdmFyaWFibGU6IC0taW9uLWNvbG9yLSN7JG5hbWV9O1xuICB9XG5cbiAgQGlmICgkYWxwaGEpIHtcbiAgICAkdmFsdWU6IGNvbG9yLXRvLXJnYi1saXN0KCR2YWx1ZSk7XG4gICAgQHJldHVybiByZ2JhKHZhcigjeyR2YXJpYWJsZX0tcmdiLCAkdmFsdWUpLCAkYWxwaGEpO1xuICB9XG4gIEBpZiAoJHJnYikge1xuICAgICR2YWx1ZTogY29sb3ItdG8tcmdiLWxpc3QoJHZhbHVlKTtcbiAgICAkdmFyaWFibGU6ICN7JHZhcmlhYmxlfS1yZ2I7XG4gIH1cblxuICBAcmV0dXJuIHZhcigjeyR2YXJpYWJsZX0sICR2YWx1ZSk7XG59XG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCBibGFjayB0byBjcmVhdGUgaXRzIHNoYWRlLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBnZXQtY29sb3Itc2hhZGUoJGNvbG9yKSB7XG4gIEByZXR1cm4gbWl4KCMwMDAsICRjb2xvciwgMTIlKTtcbn1cblxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIHdoaXRlIHRvIGNyZWF0ZSBpdHMgdGludC5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXRpbnQoJGNvbG9yKSB7XG4gIEByZXR1cm4gbWl4KCNmZmYsICRjb2xvciwgMTAlKTtcbn1cblxuLy8gQ29udmVydHMgYSBjb2xvciB0byBhIGNvbW1hIHNlcGFyYXRlZCByZ2IuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGNvbG9yLXRvLXJnYi1saXN0KCRjb2xvcikge1xuICBAcmV0dXJuICN7cmVkKCRjb2xvcil9LCN7Z3JlZW4oJGNvbG9yKX0sI3tibHVlKCRjb2xvcil9O1xufVxuIiwiLyoqXG4gKiBJbXBvcnRlZCBpb25pYyBtaXhpbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLm1peGlucy5zY3NzXG4gKi9cblxuQG1peGluIGlucHV0LWNvdmVyKCkge1xuICBAaW5jbHVkZSBwb3NpdGlvbigwLCBudWxsLCBudWxsLCAwKTtcbiAgQGluY2x1ZGUgbWFyZ2luKDApO1xuXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuXG4gIGJvcmRlcjogMDtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcblxuICBhcHBlYXJhbmNlOiBub25lO1xuICBvdXRsaW5lOiBub25lO1xuXG4gICY6Oi1tb3otZm9jdXMtaW5uZXIge1xuICAgIGJvcmRlcjogMDtcbiAgfVxufVxuXG5AbWl4aW4gdmlzdWFsbHktaGlkZGVuKCkge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuXG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG5cbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuXG4gIGJvcmRlcjogMDtcbiAgb3V0bGluZTogMDtcbiAgY2xpcDogcmVjdCgwIDAgMCAwKTtcblxuICBvcGFjaXR5OiAwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xufVxuXG5AbWl4aW4gdGV4dC1pbmhlcml0KCkge1xuICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgZm9udC1zaXplOiBpbmhlcml0O1xuICBmb250LXN0eWxlOiBpbmhlcml0O1xuICBmb250LXdlaWdodDogaW5oZXJpdDtcbiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7XG4gIHRleHQtZGVjb3JhdGlvbjogaW5oZXJpdDtcbiAgdGV4dC1pbmRlbnQ6IGluaGVyaXQ7XG4gIHRleHQtb3ZlcmZsb3c6IGluaGVyaXQ7XG4gIHRleHQtdHJhbnNmb3JtOiBpbmhlcml0O1xuICB0ZXh0LWFsaWduOiBpbmhlcml0O1xuICB3aGl0ZS1zcGFjZTogaW5oZXJpdDtcbiAgY29sb3I6IGluaGVyaXQ7XG59XG5cbkBtaXhpbiBidXR0b24tc3RhdGUoKSB7XG4gIEBpbmNsdWRlIHBvc2l0aW9uKDAsIDAsIDAsIDApO1xuXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICBjb250ZW50OiBcIlwiO1xuXG4gIG9wYWNpdHk6IDA7XG59XG5cbi8vIEZvbnQgc21vb3RoaW5nXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gZm9udC1zbW9vdGhpbmcoKSB7XG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xufVxuXG4vLyBHZXQgdGhlIGtleSBmcm9tIGEgbWFwIGJhc2VkIG9uIHRoZSBpbmRleFxuQGZ1bmN0aW9uIGluZGV4LXRvLWtleSgkbWFwLCAkaW5kZXgpIHtcbiAgJGtleXM6IG1hcC1rZXlzKCRtYXApO1xuXG4gIEByZXR1cm4gbnRoKCRrZXlzLCAkaW5kZXgpO1xufVxuXG5cbi8vIEJyZWFrcG9pbnQgTWl4aW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gQnJlYWtwb2ludCB2aWV3cG9ydCBzaXplcyBhbmQgbWVkaWEgcXVlcmllcy5cbi8vXG4vLyBCcmVha3BvaW50cyBhcmUgZGVmaW5lZCBhcyBhIG1hcCBvZiAobmFtZTogbWluaW11bSB3aWR0aCksIG9yZGVyIGZyb20gc21hbGwgdG8gbGFyZ2U6XG4vL1xuLy8gICAgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KVxuLy9cbi8vIFRoZSBtYXAgZGVmaW5lZCBpbiB0aGUgYCRzY3JlZW4tYnJlYWtwb2ludHNgIGdsb2JhbCB2YXJpYWJsZSBpcyB1c2VkIGFzIHRoZSBgJGJyZWFrcG9pbnRzYCBhcmd1bWVudCBieSBkZWZhdWx0LlxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gTWluaW11bSBicmVha3BvaW50IHdpZHRoLiBOdWxsIGZvciB0aGUgc21hbGxlc3QgKGZpcnN0KSBicmVha3BvaW50LlxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtbWluKHNtLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxuLy8gICAgNTc2cHhcbkBmdW5jdGlvbiBicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtaW46IG1hcC1nZXQoJGJyZWFrcG9pbnRzLCAkbmFtZSk7XG5cbiAgQHJldHVybiBpZigkbmFtZSAhPSBpbmRleC10by1rZXkoJGJyZWFrcG9pbnRzLCAxKSwgJG1pbiwgbnVsbCk7XG59XG5cbi8vIFJldHVybnMgYSBibGFuayBzdHJpbmcgaWYgc21hbGxlc3QgYnJlYWtwb2ludCwgb3RoZXJ3aXNlIHJldHVybnMgdGhlIG5hbWUgd2l0aCBhIGRhc2ggaW5mcm9udC5cbi8vIFVzZWZ1bCBmb3IgbWFraW5nIHJlc3BvbnNpdmUgdXRpbGl0aWVzLlxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtaW5maXgoeHMsICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICBcIlwiICAoUmV0dXJucyBhIGJsYW5rIHN0cmluZylcbi8vICAgID4+IGJyZWFrcG9pbnQtaW5maXgoc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICBcIi1zbVwiXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1pbmZpeCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gIEByZXR1cm4gaWYoYnJlYWtwb2ludC1taW4oJG5hbWUsICRicmVha3BvaW50cykgPT0gbnVsbCwgXCJcIiwgXCItI3skbmFtZX1cIik7XG59XG5cbi8vIE1lZGlhIG9mIGF0IGxlYXN0IHRoZSBtaW5pbXVtIGJyZWFrcG9pbnQgd2lkdGguIE5vIHF1ZXJ5IGZvciB0aGUgc21hbGxlc3QgYnJlYWtwb2ludC5cbi8vIE1ha2VzIHRoZSBAY29udGVudCBhcHBseSB0byB0aGUgZ2l2ZW4gYnJlYWtwb2ludCBhbmQgd2lkZXIuXG5AbWl4aW4gbWVkaWEtYnJlYWtwb2ludC11cCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtaW46IGJyZWFrcG9pbnQtbWluKCRuYW1lLCAkYnJlYWtwb2ludHMpO1xuICBAaWYgJG1pbiB7XG4gICAgQG1lZGlhIChtaW4td2lkdGg6ICRtaW4pIHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cblxuLy8gTmFtZSBvZiB0aGUgbmV4dCBicmVha3BvaW50LCBvciBudWxsIGZvciB0aGUgbGFzdCBicmVha3BvaW50LlxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtbmV4dChzbSlcbi8vICAgIG1kXG4vLyAgICA+PiBicmVha3BvaW50LW5leHQoc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICBtZFxuLy8gICAgPj4gYnJlYWtwb2ludC1uZXh0KHNtLCAkYnJlYWtwb2ludC1uYW1lczogKHhzIHNtIG1kIGxnIHhsKSlcbi8vICAgIG1kXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1uZXh0KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMsICRicmVha3BvaW50LW5hbWVzOiBtYXAta2V5cygkYnJlYWtwb2ludHMpKSB7XG4gICRuOiBpbmRleCgkYnJlYWtwb2ludC1uYW1lcywgJG5hbWUpO1xuICBAcmV0dXJuIGlmKCRuIDwgbGVuZ3RoKCRicmVha3BvaW50LW5hbWVzKSwgbnRoKCRicmVha3BvaW50LW5hbWVzLCAkbiArIDEpLCBudWxsKTtcbn1cblxuLy8gTWF4aW11bSBicmVha3BvaW50IHdpZHRoLiBOdWxsIGZvciB0aGUgc21hbGxlc3QgKGZpcnN0KSBicmVha3BvaW50LlxuLy8gVGhlIG1heGltdW0gdmFsdWUgaXMgcmVkdWNlZCBieSAwLjAycHggdG8gd29yayBhcm91bmQgdGhlIGxpbWl0YXRpb25zIG9mXG4vLyBgbWluLWAgYW5kIGBtYXgtYCBwcmVmaXhlcyBhbmQgdmlld3BvcnRzIHdpdGggZnJhY3Rpb25hbCB3aWR0aHMuXG4vL1xuLy8gU2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9tZWRpYXF1ZXJpZXMtNC8jbXEtbWluLW1heFxuLy8gVXNlcyAwLjAycHggcmF0aGVyIHRoYW4gMC4wMXB4IHRvIHdvcmsgYXJvdW5kIGEgY3VycmVudCByb3VuZGluZyBidWcgaW4gU2FmYXJpLlx0Ly8gVXNlcyAwLjAycHggcmF0aGVyIHRoYW4gMC4wMXB4IHRvIHdvcmsgYXJvdW5kIGEgY3VycmVudCByb3VuZGluZyBidWcgaW4gU2FmYXJpLlxuLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNzgyNjFcdC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTc4MjYxXG4vL1xuLy8gICAgPj4gYnJlYWtwb2ludC1tYXgobWQsICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICA3NjcuOThweFxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbWF4KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgJG1heDogbWFwLWdldCgkYnJlYWtwb2ludHMsICRuYW1lKTtcbiAgQHJldHVybiBpZigkbWF4IGFuZCAkbWF4ID4gMCwgJG1heCAtIC4wMiwgbnVsbCk7XG59XG5cbi8vIE1lZGlhIG9mIGF0IG1vc3QgdGhlIG1heGltdW0gYnJlYWtwb2ludCB3aWR0aC4gTm8gcXVlcnkgZm9yIHRoZSBsYXJnZXN0IGJyZWFrcG9pbnQuXG4vLyBNYWtlcyB0aGUgQGNvbnRlbnQgYXBwbHkgdG8gdGhlIGdpdmVuIGJyZWFrcG9pbnQgYW5kIG5hcnJvd2VyLlxuQG1peGluIG1lZGlhLWJyZWFrcG9pbnQtZG93bigkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtYXg6IGJyZWFrcG9pbnQtbWF4KCRuYW1lLCAkYnJlYWtwb2ludHMpO1xuICBAaWYgJG1heCB7XG4gICAgQG1lZGlhIChtYXgtd2lkdGg6ICRtYXgpIHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cblxuXG4vLyBUZXh0IERpcmVjdGlvbiAtIGx0ciAvIHJ0bFxuLy9cbi8vIENTUyBkZWZhdWx0cyB0byB1c2UgdGhlIGx0ciBjc3MsIGFuZCBhZGRzIFtkaXI9cnRsXSBzZWxlY3RvcnNcbi8vIHRvIG92ZXJyaWRlIGx0ciBkZWZhdWx0cy5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIG11bHRpLWRpcigpIHtcbiAgQGNvbnRlbnQ7XG5cbiAgLy8gJHJvb3Q6ICN7Jn07XG4gIC8vIEBhdC1yb290IFtkaXJdIHtcbiAgLy8gICAjeyRyb290fSB7XG4gIC8vICAgICBAY29udGVudDtcbiAgLy8gICB9XG4gIC8vIH1cbn1cblxuQG1peGluIHJ0bCgpIHtcbiAgJHJvb3Q6ICN7Jn07XG5cbiAgJHJvb3RTcGxpdDogc3RyLXNwbGl0KCRyb290LCBcIixcIik7XG4gICRzZWxlY3RvcnM6ICN7YWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsIFwiW2Rpcj1ydGxdXCIpfTtcbiAgJHNlbGVjdG9yc1NwbGl0OiBzdHItc3BsaXQoJHNlbGVjdG9ycywgXCIsXCIpO1xuXG4gICRob3N0Q29udGV4dFNlbGVjdG9yczogKCk7XG4gICRyZXN0U2VsZWN0b3JzOiAoKTtcbiAgJGRpclNlbGVjdG9yczogKCk7XG5cbiAgLy8gU2VsZWN0b3JzIG11c3QgYmUgc3BsaXQgaW50byBpbmRpdmlkdWFsIHNlbGVjdG9ycyBpbiBjYXNlIHRoZSBicm93c2VyXG4gIC8vIGRvZXNuJ3Qgc3VwcG9ydCBhIHNwZWNpZmljIHNlbGVjdG9yLlxuICAvLyBGb3IgZXhhbXBsZSwgRmlyZWZveCBhbmQgU2FmYXJpIGRvZXNuJ3Qgc3VwcG9ydCBgOmhvc3QtY29udGV4dCgpYC5cbiAgLy8gSWYgYW4gaW52YWxpZCBzZWxlY3RvciBpcyB1c2VkLCB0aGVuIHRoZSBlbnRpcmUgZ3JvdXAgb2Ygc2VsZWN0b3JzXG4gIC8vIHdpbGwgYmUgaWdub3JlZC5cbiAgLy8gQGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy0zLyNncm91cGluZ1xuICBAZWFjaCAkc2VsZWN0b3IgaW4gJHNlbGVjdG9yc1NwbGl0IHtcbiAgICAvLyBHcm91cCB0aGUgc2VsZWN0b3JzIGJhY2sgaW50byBhIHNpbmdsZSBzZWxlY3RvciB0byBvcHRpbWl6ZSB0aGUgb3V0cHV0LlxuICAgIEBpZiBzdHItaW5kZXgoJHNlbGVjdG9yLCBcIjpob3N0LWNvbnRleHRcIikge1xuICAgICAgJGhvc3RDb250ZXh0U2VsZWN0b3JzOiBhcHBlbmQoJGhvc3RDb250ZXh0U2VsZWN0b3JzLCAkc2VsZWN0b3IsIGNvbW1hKTtcbiAgICB9IEBlbHNlIHtcbiAgICAgIC8vIEdyb3VwIHRoZSBzZWxlY3RvcnMgYmFjayBpbnRvIGEgc2luZ2xlIHNlbGVjdG9yIHRvIG9wdGltaXplIHRoZSBvdXRwdXQuXG4gICAgICAkcmVzdFNlbGVjdG9yczogYXBwZW5kKCRyZXN0U2VsZWN0b3JzLCAkc2VsZWN0b3IsIGNvbW1hKTtcbiAgICB9XG4gIH1cblxuICAvLyBTdXBwb3J0ZWQgYnkgQ2hyb21lLlxuICBAaWYgbGVuZ3RoKCRob3N0Q29udGV4dFNlbGVjdG9ycykgPiAwIHtcbiAgICBAYXQtcm9vdCAjeyRob3N0Q29udGV4dFNlbGVjdG9yc30ge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9XG5cbiAgLy8gU3VwcG9ydGVkIGJ5IGFsbCBicm93c2Vycy5cbiAgQGlmIGxlbmd0aCgkcmVzdFNlbGVjdG9ycykgPiAwIHtcbiAgICBAYXQtcm9vdCAjeyRyZXN0U2VsZWN0b3JzfSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cblxuICAvLyBJZiBicm93c2VyIGNhbiBzdXBwb3J0IGA6ZGlyKClgLCB0aGVuIGFkZCB0aGUgYDpkaXIoKWAgc2VsZWN0b3JzLlxuICAvLyBAc3VwcG9ydHMgc2VsZWN0b3IoOmRpcihydGwpKSB7IC8vIEAgSU1QT1RBTlQgTk9URTogVGhpcyBoYXMgYmVlbiByZW1vdmVkIGJlY2F1c2Ugc2VsZWN0b3IgZnVuY3Rpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBjdXJyZW50IFNDU1NcbiAgLy8gQWRkaW5nIDpkaXIoKSBpbiBjYXNlIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBgOmhvc3QtY29udGV4dCgpYCBhbmQgZG9lcyBzdXBwb3J0IGA6ZGlyKClgLlxuICAvLyBgOmhvc3QtY29udGV4dCgpYCBpcyBhZGRlZDpcbiAgLy8gLSB0aHJvdWdoIHRoZSBgYWRkLXJvb3Qtc2VsZWN0b3IoKWAgZnVuY3Rpb24uXG4gIC8vIC0gZmlyc3Qgc28gdGhhdCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYDpkaXIoKWAuXG4gIC8vIEZvciBleGFtcGxlLFxuICAvLyAtIEZpcmVmb3ggZG9lc24ndCBzdXBwb3J0IGA6aG9zdC1jb250ZXh0KClgLCBidXQgZG9lcyBzdXBwb3J0IGA6ZGlyKClgLlxuICAvLyAtIFNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgYDpob3N0LWNvbnRleHQoKWAsIGJ1dCBTYWZhcmkgMTYuNCsgc3VwcG9ydHMgYDpkaXIoKWBcbiAgLy8gQGxpbmsgaHR0cHM6Ly93ZWJraXQub3JnL2Jsb2cvMTM5NjYvd2Via2l0LWZlYXR1cmVzLWluLXNhZmFyaS0xNi00L1xuICBAZWFjaCAkc2VsZWN0b3IgaW4gJHJvb3RTcGxpdCB7XG4gICAgJGRpclNlbGVjdG9yOiBcIiN7JHNlbGVjdG9yfTpkaXIocnRsKVwiO1xuICAgIC8vIEdyb3VwIHRoZSBzZWxlY3RvcnMgYmFjayBpbnRvIGEgc2luZ2xlIHNlbGVjdG9yIHRvIG9wdGltaXplIHRoZSBvdXRwdXQuXG4gICAgJGRpclNlbGVjdG9yczogYXBwZW5kKCRkaXJTZWxlY3RvcnMsICRkaXJTZWxlY3RvciwgY29tbWEpO1xuICB9XG5cbiAgLy8gU3VwcG9ydGVkIGJ5IEZpcmVmb3guXG4gIEBpZiBsZW5ndGgoJGRpclNlbGVjdG9ycykgPiAwIHtcbiAgICBAYXQtcm9vdCAjeyRkaXJTZWxlY3RvcnN9IHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfVxuICAvL31cbn1cblxuQG1peGluIGx0cigpIHtcbiAgQGNvbnRlbnQ7XG59XG5cblxuLy8gU1ZHIEJhY2tncm91bmQgSW1hZ2UgTWl4aW5cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3ZnXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gc3ZnLWJhY2tncm91bmQtaW1hZ2UoJHN2ZywgJGZsaXAtcnRsOiBmYWxzZSkge1xuICAkdXJsOiB1cmwtZW5jb2RlKCRzdmcpO1xuICAkdmlld0JveDogc3RyLXNwbGl0KHN0ci1leHRyYWN0KCRzdmcsIFwidmlld0JveD0nXCIsIFwiJ1wiKSwgXCIgXCIpO1xuXG4gIEBpZiAkZmxpcC1ydGwgIT0gdHJ1ZSBvciAkdmlld0JveCA9PSBudWxsIHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwjeyR1cmx9XCIpO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgJHRyYW5zZm9ybTogXCJ0cmFuc2Zvcm09J3RyYW5zbGF0ZSgje250aCgkdmlld0JveCwgMyl9LCAwKSBzY2FsZSgtMSwgMSknXCI7XG4gICAgJGZsaXBwZWQtdXJsOiAkc3ZnO1xuICAgICRmbGlwcGVkLXVybDogc3RyLXJlcGxhY2UoJGZsaXBwZWQtdXJsLCBcIjxwYXRoXCIsIFwiPHBhdGggI3skdHJhbnNmb3JtfVwiKTtcbiAgICAkZmxpcHBlZC11cmw6IHN0ci1yZXBsYWNlKCRmbGlwcGVkLXVybCwgXCI8bGluZVwiLCBcIjxsaW5lICN7JHRyYW5zZm9ybX1cIik7XG4gICAgJGZsaXBwZWQtdXJsOiBzdHItcmVwbGFjZSgkZmxpcHBlZC11cmwsIFwiPHBvbHlnb25cIiwgXCI8cG9seWdvbiAjeyR0cmFuc2Zvcm19XCIpO1xuICAgICRmbGlwcGVkLXVybDogdXJsLWVuY29kZSgkZmxpcHBlZC11cmwpO1xuXG4gICAgQGluY2x1ZGUgbHRyICgpIHtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCN7JHVybH1cIik7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCN7JGZsaXBwZWQtdXJsfVwiKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gQWRkIHByb3BlcnR5IGhvcml6b250YWxcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcHJvcGVydHktaG9yaXpvbnRhbCgkcHJvcCwgJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgQGlmICRzdGFydCA9PSAwIGFuZCAkZW5kID09IDAge1xuICAgICN7JHByb3B9LWxlZnQ6ICRzdGFydDtcbiAgICAjeyRwcm9wfS1yaWdodDogJGVuZDtcblxuICB9IEBlbHNlIHtcbiAgICAtd2Via2l0LSN7JHByb3B9LXN0YXJ0OiAkc3RhcnQ7XG4gICAgI3skcHJvcH0taW5saW5lLXN0YXJ0OiAkc3RhcnQ7XG4gICAgLXdlYmtpdC0jeyRwcm9wfS1lbmQ6ICRlbmQ7XG4gICAgI3skcHJvcH0taW5saW5lLWVuZDogJGVuZDtcbiAgfVxufVxuXG4vLyBBZGQgcHJvcGVydHkgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHByb3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7Ym9vbGVhbn0gJGNvbnRlbnQgaW5jbHVkZSBjb250ZW50IG9yIHVzZSBkZWZhdWx0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcHJvcGVydHkoJHByb3AsICR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKCRwcm9wLCAkc3RhcnQsICRlbmQpO1xuICAjeyRwcm9wfS10b3A6ICR0b3A7XG4gICN7JHByb3B9LWJvdHRvbTogJGJvdHRvbTtcbn1cblxuLy8gQWRkIHBhZGRpbmcgaG9yaXpvbnRhbFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwYWRkaW5nLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChwYWRkaW5nLCAkc3RhcnQsICRlbmQpO1xufVxuXG4vLyBBZGQgcGFkZGluZyBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwYWRkaW5nKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eShwYWRkaW5nLCAkdG9wLCAkZW5kLCAkYm90dG9tLCAkc3RhcnQpO1xufVxuXG4vLyBBZGQgbWFyZ2luIGhvcml6b250YWxcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gbWFyZ2luLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChtYXJnaW4sICRzdGFydCwgJGVuZCk7XG59XG5cbi8vIEFkZCBtYXJnaW4gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gbWFyZ2luKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eShtYXJnaW4sICR0b3AsICRlbmQsICRib3R0b20sICRzdGFydCk7XG59XG5cbi8vIEFkZCBwb3NpdGlvbiBob3Jpem9udGFsXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0IC0gYW1vdW50IHRvIHBvc2l0aW9uIHN0YXJ0XG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZCAtIGFtb3VudCB0byBsZWZ0OiAwOyBlbmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwb3NpdGlvbi1ob3Jpem9udGFsKCRzdGFydDogbnVsbCwgJGVuZDogbnVsbCkge1xuICBAaWYgJHN0YXJ0ID09ICRlbmQge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIGxlZnQ6ICRzdGFydDtcbiAgICAgIHJpZ2h0OiAkZW5kO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGF0LXJvb3Qge1xuICAgICAgQHN1cHBvcnRzIChpbnNldC1pbmxpbmUtc3RhcnQ6IDApIHtcbiAgICAgICAgJiB7XG4gICAgICAgICAgaW5zZXQtaW5saW5lLXN0YXJ0OiAkc3RhcnQ7XG4gICAgICAgICAgaW5zZXQtaW5saW5lLWVuZDogJGVuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE8gRlctMzc2NlxuICAgIEBhdC1yb290IHtcbiAgICAgIEBzdXBwb3J0cyBub3QgKGluc2V0LWlubGluZS1zdGFydDogMCkge1xuICAgICAgICAmIHtcbiAgICAgICAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICAgICAgICBsZWZ0OiAkc3RhcnQ7XG4gICAgICAgICAgICByaWdodDogJGVuZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgICAgICAgbGVmdDogdW5zZXQ7XG4gICAgICAgICAgICByaWdodDogdW5zZXQ7XG5cbiAgICAgICAgICAgIGxlZnQ6ICRlbmQ7XG4gICAgICAgICAgICByaWdodDogJHN0YXJ0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBBZGQgcG9zaXRpb24gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcG9zaXRpb24oJHRvcDogbnVsbCwgJGVuZDogbnVsbCwgJGJvdHRvbTogbnVsbCwgJHN0YXJ0OiBudWxsKSB7XG4gIEBpbmNsdWRlIHBvc2l0aW9uLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kKTtcbiAgdG9wOiAkdG9wO1xuICBib3R0b206ICRib3R0b207XG59XG5cbi8vIEFkZCBib3JkZXIgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gYm9yZGVyKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eShib3JkZXIsICR0b3AsICRlbmQsICRib3R0b20sICRzdGFydCk7XG59XG5cbi8vIEFkZCBib3JkZXIgcmFkaXVzIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Atc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wLWVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b20tZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbS1zdGFydFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIGJvcmRlci1yYWRpdXMoJHRvcC1zdGFydCwgJHRvcC1lbmQ6ICR0b3Atc3RhcnQsICRib3R0b20tZW5kOiAkdG9wLXN0YXJ0LCAkYm90dG9tLXN0YXJ0OiAkdG9wLWVuZCkge1xuICBAaWYgJHRvcC1zdGFydCA9PSAkdG9wLWVuZCBhbmQgJHRvcC1zdGFydCA9PSAkYm90dG9tLWVuZCBhbmQgJHRvcC1zdGFydCA9PSAkYm90dG9tLXN0YXJ0IHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBib3JkZXItcmFkaXVzOiAkdG9wLXN0YXJ0O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogJHRvcC1zdGFydDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAkdG9wLWVuZDtcbiAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAkYm90dG9tLWVuZDtcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICRib3R0b20tc3RhcnQ7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogJHRvcC1lbmQ7XG4gICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogJHRvcC1zdGFydDtcbiAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAkYm90dG9tLXN0YXJ0O1xuICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogJGJvdHRvbS1lbmQ7XG4gICAgfVxuICB9XG59XG5cbi8vIEFkZCBkaXJlY3Rpb24gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJGRpciAtIERpcmVjdGlvbiBvbiBMVFJcbkBtaXhpbiBkaXJlY3Rpb24oJGRpcikge1xuICAkb3RoZXItZGlyOiBudWxsO1xuXG4gIEBpZiAkZGlyID09IGx0ciB7XG4gICAgJG90aGVyLWRpcjogcnRsO1xuICB9IEBlbHNlIHtcbiAgICAkb3RoZXItZGlyOiBsdHI7XG4gIH1cblxuICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgZGlyZWN0aW9uOiAkZGlyO1xuICB9XG4gIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICBkaXJlY3Rpb246ICRvdGhlci1kaXI7XG4gIH1cbn1cblxuLy8gQWRkIGZsb2F0IGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICRzaWRlXG4vLyBAcGFyYW0ge3N0cmluZ30gJGRlY29yYXRvciAtICFpbXBvcnRhbnRcbkBtaXhpbiBmbG9hdCgkc2lkZSwgJGRlY29yYXRvcjogbnVsbCkge1xuICBAaWYgJHNpZGUgPT0gc3RhcnQge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIGZsb2F0OiBsZWZ0ICRkZWNvcmF0b3I7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGZsb2F0OiByaWdodCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgfSBAZWxzZSBpZiAkc2lkZSA9PSBlbmQge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIGZsb2F0OiByaWdodCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBmbG9hdDogbGVmdCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgZmxvYXQ6ICRzaWRlICRkZWNvcmF0b3I7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBiYWNrZ3JvdW5kLXBvc2l0aW9uKCRob3Jpem9udGFsLCAkaG9yaXpvbnRhbC1hbW91bnQ6IG51bGwsICR2ZXJ0aWNhbDogbnVsbCwgJHZlcnRpY2FsLWFtb3VudDogbnVsbCkge1xuICBAaWYgJGhvcml6b250YWwgPT0gc3RhcnQgb3IgJGhvcml6b250YWwgPT0gZW5kIHtcbiAgICAkaG9yaXpvbnRhbC1sdHI6IG51bGw7XG4gICAgJGhvcml6b250YWwtcnRsOiBudWxsO1xuICAgIEBpZiAkaG9yaXpvbnRhbCA9PSBzdGFydCB7XG4gICAgICAkaG9yaXpvbnRhbC1sdHI6IGxlZnQ7XG4gICAgICAkaG9yaXpvbnRhbC1ydGw6IHJpZ2h0O1xuICAgIH0gQGVsc2Uge1xuICAgICAgJGhvcml6b250YWwtbHRyOiByaWdodDtcbiAgICAgICRob3Jpem9udGFsLXJ0bDogbGVmdDtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAkaG9yaXpvbnRhbC1sdHIgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAkaG9yaXpvbnRhbC1ydGwgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogJGhvcml6b250YWwgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gdHJhbnNmb3JtLW9yaWdpbigkeC1heGlzLCAkeS1heGlzOiBudWxsKSB7XG4gIEBpZiAkeC1heGlzID09IHN0YXJ0IHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0ICR5LWF4aXM7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0ICR5LWF4aXM7XG4gICAgfVxuICB9IEBlbHNlIGlmICR4LWF4aXMgPT0gZW5kIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCAkeS1heGlzO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0ICR5LWF4aXM7XG4gICAgfVxuICB9IEBlbHNlIGlmICR4LWF4aXMgPT0gbGVmdCBvciAkeC1heGlzID09IHJpZ2h0IHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAkeC1heGlzICR5LWF4aXM7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAkeC1heGlzICR5LWF4aXM7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGNhbGMoMTAwJSAtICN7JHgtYXhpc30pICR5LWF4aXM7XG4gICAgfVxuICB9XG59XG5cbi8vIEFkZCB0cmFuc2Zvcm0gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRyYW5zZm9ybXMgLSBjb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiB0cmFuc2Zvcm1zXG5AbWl4aW4gdHJhbnNmb3JtKCR0cmFuc2Zvcm1zLi4uKSB7XG4gICRleHRyYTogbnVsbDtcblxuICAkeDogbnVsbDtcbiAgJGx0ci10cmFuc2xhdGU6IG51bGw7XG4gICRydGwtdHJhbnNsYXRlOiBudWxsO1xuXG4gIEBlYWNoICR0cmFuc2Zvcm0gaW4gJHRyYW5zZm9ybXMge1xuICAgIEBpZiAoc3RyLWluZGV4KCR0cmFuc2Zvcm0sIHRyYW5zbGF0ZTNkKSkge1xuICAgICAgJHRyYW5zZm9ybTogc3RyLXJlcGxhY2UoJHRyYW5zZm9ybSwgJ3RyYW5zbGF0ZTNkKCcpO1xuICAgICAgJHRyYW5zZm9ybTogc3RyLXJlcGxhY2UoJHRyYW5zZm9ybSwgJyknKTtcblxuICAgICAgJGNvb3JkaW5hdGVzOiBzdHItc3BsaXQoJHRyYW5zZm9ybSwgJywnKTtcblxuICAgICAgJHg6IG50aCgkY29vcmRpbmF0ZXMsIDEpO1xuICAgICAgJHk6IG50aCgkY29vcmRpbmF0ZXMsIDIpO1xuICAgICAgJHo6IG50aCgkY29vcmRpbmF0ZXMsIDMpO1xuXG4gICAgICAkbHRyLXRyYW5zbGF0ZTogdHJhbnNsYXRlM2QoJHgsICR5LCAkeik7XG4gICAgICAkcnRsLXRyYW5zbGF0ZTogdHJhbnNsYXRlM2QoY2FsYygtMSAqICN7JHh9KSwgJHksICR6KTtcbiAgICB9IEBlbHNlIHtcbiAgICAgIEBpZiAkZXh0cmEgPT0gbnVsbCB7XG4gICAgICAgICRleHRyYTogJHRyYW5zZm9ybTtcbiAgICAgIH0gQGVsc2Uge1xuICAgICAgICAkZXh0cmE6ICRleHRyYSAkdHJhbnNmb3JtO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEBpZiAkeCA9PSAnMCcgb3IgJHggPT0gbnVsbCB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgdHJhbnNmb3JtOiAkbHRyLXRyYW5zbGF0ZSAkZXh0cmE7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm06ICRsdHItdHJhbnNsYXRlICRleHRyYTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICB0cmFuc2Zvcm06ICRydGwtdHJhbnNsYXRlICRleHRyYTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogSW1wb3J0ZWQgaW9uaWMgbWl4aW5zIGZvciBTQ1NTIGZyb20gZGlmZmVyZW50IGNvbXBvbmVudHNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvY29tcG9uZW50cy9ncmlkL2dyaWQubWl4aW5zLnNjc3NcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy9jb21wb25lbnRzL2l0ZW0vaXRlbS5taXhpbnMuc2Nzc1xuICovXG5cbi8vIFJlc3BvbnNpdmUgTWl4aW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbi8vIENyZWF0ZXMgYSBmaXhlZCB3aWR0aCBmb3IgdGhlIGdyaWQgYmFzZWQgb24gdGhlIHNjcmVlbiBzaXplXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIG1ha2UtZ3JpZC13aWR0aHMoJHdpZHRoczogJGdyaWQtd2lkdGhzLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgQGVhY2ggJGJyZWFrcG9pbnQsICR3aWR0aCBpbiAkd2lkdGhzIHtcbiAgICBAaW5jbHVkZSBtZWRpYS1icmVha3BvaW50LXVwKCRicmVha3BvaW50LCAkYnJlYWtwb2ludHMpIHtcbiAgICAgIHdpZHRoOiAkd2lkdGg7XG4gICAgfVxuICB9XG5cbiAgbWF4LXdpZHRoOiAxMDAlO1xufVxuXG5cbi8vIEFkZHMgcGFkZGluZyB0byB0aGUgZWxlbWVudCBiYXNlZCBvbiBicmVha3BvaW50c1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBtaXhpbiBtYWtlLWJyZWFrcG9pbnQtcGFkZGluZygkcGFkZGluZ3MpIHtcbiAgQGVhY2ggJGJyZWFrcG9pbnQgaW4gbWFwLWtleXMoJHBhZGRpbmdzKSB7XG4gICAgQGluY2x1ZGUgbWVkaWEtYnJlYWtwb2ludC11cCgkYnJlYWtwb2ludCkge1xuICAgICAgJHBhZGRpbmc6IG1hcC1nZXQoJHBhZGRpbmdzLCAkYnJlYWtwb2ludCk7XG5cbiAgICAgIEBpbmNsdWRlIHBhZGRpbmcoJHBhZGRpbmcpO1xuICAgIH1cbiAgfVxufVxuXG5cbi8vIEl0ZW0gTWl4aW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gaXRlbS1wdXNoLXN2Zy11cmwoJGZpbGwpIHtcbiAgJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnOiBcIjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTIgMjAnPjxwYXRoIGQ9J00yLDIwbC0yLTJsOC04TDAsMmwyLTJsMTAsMTBMMiwyMHonIGZpbGw9JyN7JGZpbGx9Jy8+PC9zdmc+XCI7XG5cbiAgQGluY2x1ZGUgc3ZnLWJhY2tncm91bmQtaW1hZ2UoJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnLCB0cnVlKTtcbn1cbiIsIkB1c2UgXCJzYXNzOm1hdGhcIiBhcyBtYXRoO1xuXG4vKipcbiAqIEFwcCBjdXN0b20gbWl4aW5zIGZvciBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQbGFjZSBoZXJlIG91ciBjdXN0b20gbWl4aW5zLlxuICovXG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCBibGFjayB0byBjcmVhdGUgaXRzIHNoYWRlLlxuLy8gRGVmYXVsdCB0byBib290c3RyYXAgbGV2ZWwgNi5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXNoYWRlLXBlcmNlbnQoJGNvbG9yLCAkcGVyY2VudDogNDglKSB7XG4gICAgQHJldHVybiBtaXgoIzAwMCwgJGNvbG9yLCAkcGVyY2VudCk7XG59XG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCB3aGl0ZSB0byBjcmVhdGUgaXRzIHRpbnQuXG4vLyBEZWZhdWx0IHRvIGJvb3RzdHJhcCBsZXZlbCAtMTAuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGdldC1jb2xvci10aW50LXBlcmNlbnQoJGNvbG9yLCAkcGVyY2VudDogODAlKSB7XG4gICAgQHJldHVybiBtaXgoI2ZmZiwgJGNvbG9yLCAkcGVyY2VudCk7XG59XG5cbi8vIElvbmljIENvbG9yc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEdlbmVyYXRlcyB0aGUgY29sb3IgY2xhc3NlcyBhbmQgdmFyaWFibGVzIGJhc2VkIG9uIHRoZVxuLy8gY29sb3JzIG1hcFxuXG5AbWl4aW4gZ2VuZXJhdGUtY29sb3IoJGNvbG9yLW5hbWUsICRjb2xvcnMsICR0aGVtZSkge1xuICAgICRjb2xvci10aGVtZXM6IG1hcC1nZXQoJGNvbG9ycywgJGNvbG9yLW5hbWUpO1xuICAgICRiYXNlOiBtYXAtZ2V0KCRjb2xvci10aGVtZXMsICR0aGVtZSk7XG5cbiAgICBAaWYgJHRoZW1lID09ICdkYXJrJyB7XG4gICAgICAgICRiYXNlOiBtaXgobWFwLWdldCgkY29sb3ItdGhlbWVzLCAnbGlnaHQnKSwgd2hpdGUsIDgwJSkgIWRlZmF1bHQ7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgZ2VuZXJhdGUtY29sb3ItdmFyaWFudHMoJGNvbG9yLW5hbWUsICRiYXNlKTtcbn1cblxuQG1peGluIGdlbmVyYXRlLWNvbG9yLXZhcmlhbnRzKCRjb2xvci1uYW1lLCAkYmFzZSkge1xuICAgICRjb250cmFzdDogZ2V0X2NvbnRyYXN0X2NvbG9yKCRiYXNlKTtcbiAgICAkc2hhZGU6IGdldC1jb2xvci1zaGFkZS1wZXJjZW50KCRiYXNlKTtcbiAgICAkdGludDogZ2V0LWNvbG9yLXRpbnQtcGVyY2VudCgkYmFzZSk7XG5cbiAgICAtLSN7JGNvbG9yLW5hbWV9OiAjeyRiYXNlfTtcbiAgICAtLSN7JGNvbG9yLW5hbWV9LXNoYWRlOiAjeyRzaGFkZX07XG4gICAgLS0jeyRjb2xvci1uYW1lfS10aW50OiAjeyR0aW50fTtcbiAgICAtLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0OiAjeyRjb250cmFzdH07XG5cbiAgICAvLyBJbnRlcm5hbCBpb25pYyB1c2Ugb25seS5cbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfTogdmFyKC0tI3skY29sb3ItbmFtZX0pO1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWJhc2U6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfSk7XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tcmdiOiAje2NvbG9yLXRvLXJnYi1saXN0KCRiYXNlKX07XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3Q6ICN7JGNvbnRyYXN0fTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdC1yZ2I6ICN7Y29sb3ItdG8tcmdiLWxpc3QoJGNvbnRyYXN0KX07XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tc2hhZGU6ICN7JHNoYWRlfTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS10aW50OiAjeyR0aW50fTtcblxuICAgIC5pb24tY29sb3ItI3skY29sb3ItbmFtZX0ge1xuICAgICAgICAtLWlvbi1jb2xvcjogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9KTtcbiAgICAgICAgLS1pb24tY29sb3ItYmFzZTogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWJhc2UpO1xuICAgICAgICAtLWlvbi1jb2xvci1yZ2I6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1yZ2IpO1xuICAgICAgICAtLWlvbi1jb2xvci1jb250cmFzdDogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0KTtcbiAgICAgICAgLS1pb24tY29sb3ItY29udHJhc3QtcmdiOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3QtcmdiKTtcbiAgICAgICAgLS1pb24tY29sb3Itc2hhZGU6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1zaGFkZSk7XG4gICAgICAgIC0taW9uLWNvbG9yLXRpbnQ6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS10aW50KTtcbiAgICB9XG59XG5cbkBtaXhpbiBjb3JlLWZvY3VzKCkge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICY6OmFmdGVyIHtcbiAgICAgICAgQGluY2x1ZGUgcG9zaXRpb24oMCwgMCwgMCwgMCk7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgQGluY2x1ZGUgY29yZS1mb2N1cy1zdHlsZSgpO1xuICAgIH1cbn1cblxuQG1peGluIGNvcmUtZm9jdXMtc3R5bGUoKSB7XG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIHZhcigtLWExMXktZm9jdXMtd2lkdGgpIDFweCB2YXIoLS1hMTF5LWZvY3VzLWNvbG9yKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTtcbiAgICAvLyBUaGlja2VyIG9wdGlvbjpcbiAgICAvLyBib3JkZXI6IHZhcigtLWExMXktZm9jdXMtd2lkdGgpIHNvbGlkIHZhcigtLWExMXktZm9jdXMtY29sb3IpO1xufVxuXG5AbWl4aW4gY29yZS10cmFuc2l0aW9uKCRwcm9wZXJ0aWVzOiBhbGwsICRkdXJhdGlvbjogNTAwbXMsICR0aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0KSB7XG4gICAgJHRyYW5zaXRpb25zOiAoKTtcbiAgICBAZWFjaCAkcHJvcGVydHkgaW4gJHByb3BlcnRpZXMge1xuICAgICAgJHRyYW5zaXRpb25zOiBhcHBlbmQoJHRyYW5zaXRpb25zLCAkcHJvcGVydHkgJGR1cmF0aW9uICR0aW1pbmctZnVuY3Rpb24sIGNvbW1hKTtcbiAgICB9XG5cbiAgICAtd2Via2l0LXRyYW5zaXRpb246ICR0cmFuc2l0aW9ucztcbiAgICB0cmFuc2l0aW9uOiAkdHJhbnNpdGlvbnM7XG59XG5cbkBtaXhpbiBzci1vbmx5KCkge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogMXB4O1xuICAgIGhlaWdodDogMXB4O1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAtMXB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgY2xpcDogcmVjdCgwLCAwLCAwLCAwKTtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIGJvcmRlcjogMDtcbn1cblxuLyoqXG4gKiBTYW1lIGFzIGl0ZW0tcHVzaC1zdmctdXJsIGJ1dCBhZG1pdHMgZmxpcC1ydGxcbiAqL1xuQG1peGluIHB1c2gtYXJyb3ctY29sb3IoJGZpbGw6IDYyNjI2MiwgJGZsaXAtcnRsOiBmYWxzZSkge1xuICAgICRpdGVtLWRldGFpbC1wdXNoLXN2ZzogXCI8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDEyIDIwJz48cGF0aCBkPSdNMiwyMGwtMi0ybDgtOEwwLDJsMi0ybDEwLDEwTDIsMjB6JyBmaWxsPScjeyRmaWxsfScvPjwvc3ZnPlwiO1xuXG4gICAgQGluY2x1ZGUgc3ZnLWJhY2tncm91bmQtaW1hZ2UoJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnLCAkZmxpcC1ydGwpO1xufVxuXG5AbWl4aW4gYm9yZGVyLXN0YXJ0KCRweCwgJHR5cGU6IG51bGwsICRjb2xvcjogbnVsbCkge1xuICAgIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwoYm9yZGVyLCAkcHggJHR5cGUgJGNvbG9yLCBudWxsKTtcbn1cblxuQG1peGluIGJvcmRlci1lbmQoJHB4LCAkdHlwZTogbnVsbCwgJGNvbG9yOiBudWxsKSB7XG4gICAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChib3JkZXIsIG51bGwsICRweCAkdHlwZSAkY29sb3IpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLWJvcmRlci1zdGFydCgkcHgsICR0eXBlLCAkY29sb3IpIHtcbiAgICAkc2FmZS1hcmVhLXBvc2l0aW9uOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRweH0pO1xuXG4gICAgQGluY2x1ZGUgYm9yZGVyLXN0YXJ0KCRzYWZlLWFyZWEtcG9zaXRpb24sICR0eXBlLCAkY29sb3IpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLWJvcmRlci1lbmQoJHB4LCAkdHlwZSwgJGNvbG9yKSB7XG4gICAgJHNhZmUtYXJlYS1wb3NpdGlvbjogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JHB4fSk7XG5cbiAgICBAaW5jbHVkZSBib3JkZXItZW5kKCRzYWZlLWFyZWEtcG9zaXRpb24sICR0eXBlLCAkY29sb3IpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLW1hcmdpbi1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IG51bGw7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogbnVsbDtcblxuICAgIEBpZiAoJGVuZCkge1xuICAgICAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuICAgIH1cbiAgICBAaWYgKCRzdGFydCkge1xuICAgICAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xuICAgIH1cblxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRzYWZlLWFyZWEtZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1tYXJnaW4tc3RhcnQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcblxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRlbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLW1hcmdpbi1lbmQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcblxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBhZGRpbmctaG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xuICAgICRzYWZlLWFyZWEtZW5kOiBudWxsO1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IG51bGw7XG5cbiAgICBAaWYgKCRlbmQpIHtcbiAgICAgICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcbiAgICB9XG4gICAgQGlmICgkc3RhcnQpIHtcbiAgICAgICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBhZGRpbmctc3RhcnQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcblxuICAgIEBpbmNsdWRlIHBhZGRpbmctaG9yaXpvbnRhbCgkc2FmZS1hcmVhLXN0YXJ0LCAkZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1wYWRkaW5nLWVuZCgkc3RhcnQsICRlbmQpIHtcbiAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuXG4gICAgQGluY2x1ZGUgcGFkZGluZy1ob3Jpem9udGFsKCRzdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBvc2l0aW9uKCR0b3A6IG51bGwsICRlbmQ6IG51bGwsICRib3R0b206IG51bGwsICRzdGFydDogbnVsbCkge1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcblxuICAgIEBpbmNsdWRlIHBvc2l0aW9uKCR0b3AsICRzYWZlLWFyZWEtZW5kLCAkYm90dG9tLCAkc2FmZS1hcmVhLXN0YXJ0KTtcbn1cblxuQG1peGluIGNvcmUtaGVhZGluZ3MoKSB7XG4gICAgaDEge1xuICAgICAgICBmb250LXNpemU6IDI2cHg7XG4gICAgfVxuICAgIGgyLCAuaXRlbS1oZWFkaW5nIHtcbiAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgIH1cbiAgICBoMyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMjJweDtcbiAgICB9XG4gICAgaDQge1xuICAgICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgfVxuICAgIGg1IHtcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgIH1cbiAgICBoNiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICB9XG59XG5cbkBtaXhpbiBkYXJrbW9kZSgpIHtcbiAgICAkcm9vdDogI3smfTtcblxuICAgIEBhdC1yb290ICN7YWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsIFwiaHRtbC5kYXJrXCIpfSB7XG4gICAgICAgIEBjb250ZW50O1xuICAgIH1cbn1cblxuQG1peGluIGhvcml6b250YWxfc2Nyb2xsX2l0ZW0oJHdpZHRoLCAkbWluLXdpZHRoLCAkbWF4LXdpZHRoKSB7XG4gICAgZmxleDogMCAwICR3aWR0aDtcbiAgICBtaW4td2lkdGg6ICRtaW4td2lkdGg7XG4gICAgbWF4LXdpZHRoOiAkbWF4LXdpZHRoO1xuICAgIGFsaWduLXNlbGY6IHN0cmV0Y2g7XG4gICAgZGlzcGxheTogYmxvY2s7XG5cbiAgICBpb24tY2FyZCB7XG4gICAgICAgIC0tdmVydGljYWwtbWFyZ2luOiAxMHB4O1xuICAgICAgICAtLWhvcml6b250YWwtbWFyZ2luOiAxMHB4O1xuXG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSB2YXIoLS1ob3Jpem9udGFsLW1hcmdpbikgLSB2YXIoLS1ob3Jpem9udGFsLW1hcmdpbikpO1xuICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIHZhcigtLXZlcnRpY2FsLW1hcmdpbikgLSB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pKTtcbiAgICAgICAgbWFyZ2luOiB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pIHZhcigtLWhvcml6b250YWwtbWFyZ2luKTtcblxuICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogMzYwcHgpIHtcbiAgICAgICAgICAgIC0taG9yaXpvbnRhbC1tYXJnaW46IDZweDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gQ29sb3IgbWl4aW5zLlxuQGZ1bmN0aW9uIGdldF9icmlnaHRuZXNzKCRjb2xvcikge1xuICAgIEByZXR1cm4gbWF0aC5kaXYocmVkKCRjb2xvcikgKyBncmVlbigkY29sb3IpICsgYmx1ZSgkY29sb3IpLCAzKTtcbn1cblxuLy8gR2V0IHRoZSBiZXR0ZXIgY29sb3IgY29udHJhc3QgdXNpbmcgV0NBRyBhbGdvcnl0aG0uXG5AZnVuY3Rpb24gZ2V0X2NvbnRyYXN0X2NvbG9yKCRjb2xvcikge1xuICAgICRsdW1pYW5jZTogbHVtaW5hbmNlKCRjb2xvcik7XG5cbiAgICAvLyBXaGl0ZSBsdW1pYW5jZSBpcyAxLlxuICAgICR3aGl0ZUNvbnRyYXN0OiBtYXRoLmRpdigkbHVtaWFuY2UgKyAwLjA1LCAxICsgMC4wNSk7XG4gICAgLy8gV2hpdGUgbHVtaWFuY2UgaXMgMC5cbiAgICAkYmxhY2tDb250cmFzdDogbWF0aC5kaXYoMC4wNSwgJGx1bWlhbmNlICsgMC4wNSk7XG5cbiAgICBAcmV0dXJuIGlmKCR3aGl0ZUNvbnRyYXN0IDwgJGJsYWNrQ29udHJhc3QsIHdoaXRlLCBibGFjayk7XG59XG5cbi8vIENvbG9yIGNvbnRyYXN0IHVzaW5nIHlpcSBhcHJveGltYXRpb24gd2l0aCAxNTAgdGhyZXNob2xkLlxuQGZ1bmN0aW9uIGdldF9jb250cmFzdF9jb2xvcl95aXEoJGNvbG9yLCAkZGFyazogYmxhY2ssICRsaWdodDogd2hpdGUpIHtcbiAgICAkcjogcmVkKCRjb2xvcik7XG4gICAgJGc6IGdyZWVuKCRjb2xvcik7XG4gICAgJGI6IGJsdWUoJGNvbG9yKTtcblxuICAgICR5aXE6IG1hdGguZGl2KCgkciAqIDI5OSkgKyAoJGcgKiA1ODcpICsgKCRiICogMTE0KSwgMTAwMCk7XG5cbiAgICBAcmV0dXJuIGlmKCR5aXEgPj0gMTI4LCAkZGFyaywgJGxpZ2h0KTtcbn1cblxuLy8gV0NBRyBjb250cmFzdCBhbGdvcml0aG1cbkBmdW5jdGlvbiBjaGVjay1jb250cmFzdCgkZm9yZWdyb3VuZCwgJGJhY2tncm91bmQpIHtcbiAgICAkZm9yZWdyb3VuZEx1bWlhbmNlOiBsdW1pbmFuY2UoJGZvcmVncm91bmQpO1xuICAgICRiYWNrZ3JvdW5kTHVtaW5hbmNlOiBsdW1pbmFuY2UoJGJhY2tncm91bmQpO1xuXG4gICAgQGlmICgkYmFja2dyb3VuZEx1bWluYW5jZSA8ICRmb3JlZ3JvdW5kTHVtaWFuY2UpIHtcbiAgICAgICAgQHJldHVybiBtYXRoLmRpdigkYmFja2dyb3VuZEx1bWluYW5jZSArIDAuMDUsICRmb3JlZ3JvdW5kTHVtaWFuY2UgKyAwLjA1KTtcbiAgICB9IEBlbHNlIHtcbiAgICAgICAgQHJldHVybiBtYXRoLmRpdigkZm9yZWdyb3VuZEx1bWlhbmNlICsgMC4wNSwgJGJhY2tncm91bmRMdW1pbmFuY2UgKyAwLjA1KTtcbiAgICB9XG59XG5cbkBmdW5jdGlvbiBsdW1pbmFuY2UoJGNvbG9yKSB7XG4gICAgJHI6IHJlZCgkY29sb3IpO1xuICAgICRnOiBncmVlbigkY29sb3IpO1xuICAgICRiOiBibHVlKCRjb2xvcik7XG5cbiAgICAkcjogY29tcG9uZW50LWx1bWluYW5jZSgkcik7XG4gICAgJGc6IGNvbXBvbmVudC1sdW1pbmFuY2UoJGcpO1xuICAgICRiOiBjb21wb25lbnQtbHVtaW5hbmNlKCRiKTtcblxuICAgIEByZXR1cm4gJHIgKiAwLjIxMjYgKyAkZyAqIDAuNzE1MiArICRiICogMC4wNzIyO1xufVxuXG5AZnVuY3Rpb24gY29tcG9uZW50LWx1bWluYW5jZSgkdmFsdWUpIHtcbiAgICAkdmFsdWU6IG1hdGguZGl2KCR2YWx1ZSwgMjU1KTtcblxuICAgIEBpZiAoJHZhbHVlIDw9IDAuMDM5MjgpIHtcbiAgICAgICAgQHJldHVybiBtYXRoLmRpdigkdmFsdWUsIDEyLjkyKTtcbiAgICB9IEBlbHNlIHtcbiAgICAgICAgQHJldHVybiBtYXRoLnBvdyhtYXRoLmRpdigkdmFsdWUgKyAwLjA1NSwgMS4wNTUpLCAyLjQpO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBBcHAgQ3VzdG9tIEFwcCB2YXJpYWJsZXMgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUGxhY2UgaGVyZSBhbGwgY3VzdG9tIGFwcCB2YXJpYWJsZXMuXG4gKi9cbiIsIi8qXG4gKiBBcHAgR2xvYmFsIHZhcmlhYmxlcyBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQbGFjZSBoZXJlIGFsbCBnbG9iYWwgdmFyaWFibGVzLlxuICovXG5cbiR3aGl0ZTogICAgICAgI2ZmZmZmZiAhZGVmYXVsdDtcbiRncmF5LTEwMDogICAgI2Y4ZjlmYSAhZGVmYXVsdDtcbiRncmF5LTIwMDogICAgI2U5ZWNlZiAhZGVmYXVsdDtcbiRncmF5LTMwMDogICAgI2RlZTJlNiAhZGVmYXVsdDsgLy8gU3Ryb2tlXG4kZ3JheS00MDA6ICAgICNjZWQ0ZGEgIWRlZmF1bHQ7XG4kZ3JheS01MDA6ICAgICM4Zjk1OWUgIWRlZmF1bHQ7IC8vIFN0cm9rZSBvbiBpbnB1dHNcbiRncmF5LTYwMDogICAgIzZhNzM3YiAhZGVmYXVsdDtcbiRncmF5LTcwMDogICAgIzQ5NTA1NyAhZGVmYXVsdDtcbiRncmF5LTgwMDogICAgIzM0M2E0MCAhZGVmYXVsdDtcbiRncmF5LTkwMDogICAgIzI4MjgyOCAhZGVmYXVsdDsgLy8gQ29weSB0ZXh0XG4kYmxhY2s6ICAgICAgICMwMDAwMDAgIWRlZmF1bHQ7IC8vIEF2b2lkIHVzYWdlXG5cbiRibHVlOiAgICAgICAgIzBmNmNiZiAhZGVmYXVsdDtcbiRjeWFuOiAgICAgICAgIzAwODE5NiAhZGVmYXVsdDsgLy8gTm90IHVzZWQuXG4kZ3JlZW46ICAgICAgICMzNTdhMzIgIWRlZmF1bHQ7XG4kcmVkOiAgICAgICAgICNjYTMxMjAgIWRlZmF1bHQ7XG4keWVsbG93OiAgICAgICNmMGFkNGUgIWRlZmF1bHQ7XG5cbiRicmFuZC1jb2xvcjogI2Y5ODAxMiAhZGVmYXVsdDtcblxuJHRleHQtY29sb3I6ICAgICAgICAgICAgICAgJGdyYXktOTAwICFkZWZhdWx0O1xuJHRleHQtY29sb3ItcmdiOiAgICAgICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJHRleHQtY29sb3IpICFkZWZhdWx0O1xuJHRleHQtY29sb3ItZGFyazogICAgICAgICAgJHdoaXRlICFkZWZhdWx0O1xuJHRleHQtY29sb3ItZGFyay1yZ2I6ICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJHRleHQtY29sb3ItZGFyaykgIWRlZmF1bHQ7XG5cbiRiYWNrZ3JvdW5kLWNvbG9yOiAgICAgICAgICAkd2hpdGUgIWRlZmF1bHQ7XG4kYmFja2dyb3VuZC1jb2xvci1yZ2I6ICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJGJhY2tncm91bmQtY29sb3IpICFkZWZhdWx0O1xuJGJhY2tncm91bmQtY29sb3ItZGFyazogICAgICRncmF5LTkwMCAhZGVmYXVsdDsgLy8gIzFhMWExYVxuJGJhY2tncm91bmQtY29sb3ItZGFyay1yZ2I6IGNvbG9yLXRvLXJnYi1saXN0KCRiYWNrZ3JvdW5kLWNvbG9yLWRhcmspICFkZWZhdWx0O1xuXG4kaW9uLWl0ZW0tYmFja2dyb3VuZDogICAgICAkd2hpdGUgIWRlZmF1bHQ7XG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1yZ2I6ICBjb2xvci10by1yZ2ItbGlzdCgkaW9uLWl0ZW0tYmFja2dyb3VuZCkgIWRlZmF1bHQ7XG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1kYXJrOiAkZ3JheS05MDAgIWRlZmF1bHQ7XG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1kYXJrLXJnYjogY29sb3ItdG8tcmdiLWxpc3QoJGlvbi1pdGVtLWJhY2tncm91bmQtZGFyaykgIWRlZmF1bHQ7XG5cbiRwcmltYXJ5OiAgICAkYnJhbmQtY29sb3IgIWRlZmF1bHQ7XG4kc2Vjb25kYXJ5OiAgJGdyYXktMzAwICFkZWZhdWx0O1xuJGRhbmdlcjogICAgICRyZWQgIWRlZmF1bHQ7XG4kd2FybmluZzogICAgJHllbGxvdyAhZGVmYXVsdDtcbiRzdWNjZXNzOiAgICAkZ3JlZW4gIWRlZmF1bHQ7XG4kaW5mbzogICAgICAgJGJsdWUgIWRlZmF1bHQ7XG4kbGlnaHQ6ICAgICAgJGdyYXktMTAwICFkZWZhdWx0O1xuJG1lZGl1bTogICAgICRncmF5LTcwMCAhZGVmYXVsdDtcbiRkYXJrOiAgICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7XG5cbiRjb2xvcnM6ICAoXG4gICAgcHJpbWFyeTogKGxpZ2h0OiAkcHJpbWFyeSwgZGFyazogJHByaW1hcnkpLFxuICAgIHNlY29uZGFyeTogKGxpZ2h0OiAkc2Vjb25kYXJ5LCBkYXJrOiAkZ3JheS03MDApLFxuICAgIHN1Y2Nlc3M6IChsaWdodDogJHN1Y2Nlc3MpLFxuICAgIHdhcm5pbmc6IChsaWdodDogJHdhcm5pbmcpLFxuICAgIGRhbmdlcjogIChsaWdodDogJGRhbmdlciksXG4gICAgaW5mbzogKGxpZ2h0OiAkaW5mbyksXG4gICAgbGlnaHQ6IChsaWdodDogJGxpZ2h0LCBkYXJrOiAkZGFyayksXG4gICAgbWVkaXVtOiAobGlnaHQ6ICRtZWRpdW0sIGRhcms6ICRncmF5LTIwMCksXG4gICAgZGFyazogKGxpZ2h0OiAkZGFyaywgZGFyazogJGxpZ2h0KSxcbikgIWRlZmF1bHQ7XG5cbi8qKlxuICogTGF5b3V0IEJyZWFrcG9pbnRzXG4gKlxuICogaHR0cHM6Ly9pb25pY2ZyYW1ld29yay5jb20vZG9jcy9sYXlvdXQvZ3JpZCNkZWZhdWx0LWJyZWFrcG9pbnRzXG4gKi9cblxuLy8gVGhlIG1pbmltdW0gZGltZW5zaW9ucyBhdCB3aGljaCB5b3VyIGxheW91dCB3aWxsIGNoYW5nZSxcbi8vIGFkYXB0aW5nIHRvIGRpZmZlcmVudCBzY3JlZW4gc2l6ZXMsIGZvciB1c2UgaW4gbWVkaWEgcXVlcmllc1xuJHNjcmVlbi1icmVha3BvaW50czogKFxuICAgIHhzOiAwcHgsXG4gICAgc206IDU3NnB4LFxuICAgIG1kOiA3NjhweCxcbiAgICBsZzogOTkycHgsXG4gICAgdGFibGV0OiA5OTJweCxcbiAgICB4bDogMTIwMHB4XG4pICFkZWZhdWx0O1xuXG4kY29yZS1jb3Vyc2UtaW1hZ2UtYmFja2dyb3VuZDogIzgxZWNlYywgIzc0YjlmZiwgI2EyOWJmZSwgI2RmZTZlOSwgIzAwYjg5NCwgIzA5ODRlMywgI2IyYmVjMywgI2ZkY2I2ZSwgI2ZkNzlhOCwgIzZjNWNlNyAhZGVmYXVsdDtcbiRjb3JlLWRkLXF1ZXN0aW9uLWNvbG9yczogI0ZGRkZGRiwgI0IwQzRERSwgI0RDRENEQywgI0Q4QkZEOCwgIzg3Q0VGQSwgI0RBQTUyMCwgI0ZGRDcwMCwgI0YwRTY4QyAhZGVmYXVsdDtcbiRjb3JlLXRleHQtaGlnaHRsaWdodC1iYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGVuKCRibHVlLCA0MCUpICFkZWZhdWx0O1xuXG4kY29yZS1maXhlZC11cmw6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtZGFzaGJvYXJkLWxvZ286IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtYWx3YXlzLXNob3ctbWFpbi1tZW51OiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWZvcm1hdC10ZXh0LW5ldmVyLXNob3J0ZW46IGZhbHNlICFkZWZhdWx0O1xuXG4kY29yZS1oaWRlLWNvdXJzZWltYWdlLW9uLWNvdXJzZTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1oaWRlLXByb2dyZXNzLW9uLWNvdXJzZTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1oaWRlLXByb2dyZXNzLW9uLXNlY3Rpb24tc2VsZWN0b3I6IGZhbHNlICFkZWZhdWx0O1xuXG4kY29yZS1jb3Vyc2UtaGlkZS10aHVtYi1vbi1jYXJkczogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1jb3Vyc2UtdGh1bWItb24tY2FyZHMtYmFja2dyb3VuZDogbnVsbCAhZGVmYXVsdDtcbiRjb3JlLWNvdXJzZS1oaWRlLXByb2dyZXNzLW9uLWNhcmRzOiBmYWxzZSAhZGVmYXVsdDtcblxuLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBsb2dpbiBwYWdlLlxuJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmU6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmUtZGFyazogJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmUgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1sb2FkaW5nLWNvbG9yOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWxvYWRpbmctY29sb3ItZGFyazogJHRleHQtY29sb3ItZGFyayAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWhpZGUtZm9yZ290LXBhc3N3b3JkOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWhpZGUtbmVlZC1oZWxwOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWhpZGUtcXJjb2RlOiBmYWxzZSAhZGVmYXVsdDtcblxuLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBtb3JlIHBhZ2UuIChkZXByZWNhdGVkIG9uIDQuMClcbiRjb3JlLW1vcmUtaGlkZS1zaXRlaW5mbzogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1tb3JlLWhpZGUtc2l0ZW5hbWU6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbW9yZS1oaWRlLXNpdGV1cmw6IGZhbHNlICFkZWZhdWx0O1xuXG4vLyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHVzZXIgcGFnZS5cbiRjb3JlLXVzZXItaGlkZS1zaXRlaW5mbzogJGNvcmUtbW9yZS1oaWRlLXNpdGVpbmZvICFkZWZhdWx0O1xuJGNvcmUtdXNlci1oaWRlLXNpdGVuYW1lOiAkY29yZS1tb3JlLWhpZGUtc2l0ZW5hbWUgIWRlZmF1bHQ7XG4kY29yZS11c2VyLWhpZGUtc2l0ZXVybDogJGNvcmUtbW9yZS1oaWRlLXNpdGV1cmwgIWRlZmF1bHQ7XG5cbi8vIEFjdGl2aXR5IGljb24gYmFja2dyb3VuZCBjb2xvcnMuXG4kYWN0aXZpdHktaWNvbi1jb2xvcnM6IChcbiAgICBhZG1pbmlzdHJhdGlvbjogIzVkNjNmNixcbiAgICBhc3Nlc3NtZW50OiAjZWI2NmEyLFxuICAgIGNvbGxhYm9yYXRpb246ICNmNzYzNGQsXG4gICAgY29tbXVuaWNhdGlvbjogIzExYTY3NixcbiAgICBjb250ZW50OiAjMzk5YmUyLFxuICAgIGludGVyZmFjZTogI2EzNzhmZlxuKSAhZGVmYXVsdDtcblxuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNhdGVnb3J5OiAjOGUyNGFhICFkZWZhdWx0O1xuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvdXJzZTogJHJlZCAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1ncm91cDogJHllbGxvdyAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS11c2VyOiAkYmx1ZSAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1zaXRlOiAkZ3JlZW4gIWRlZmF1bHQ7XG5cbi8vIENhbGVuZGFyIGV2ZW50IGNhdGVnb3J5IGJhY2tncm91bmQgY29sb3JzLlxuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvbG9yczogKFxuICAgIGNhdGVnb3J5OiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY2F0ZWdvcnksXG4gICAgY291cnNlOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY291cnNlLFxuICAgIGdyb3VwOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktZ3JvdXAsXG4gICAgdXNlcjogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXVzZXIsXG4gICAgc2l0ZTogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXNpdGUsXG4pICFkZWZhdWx0O1xuIiwiQHVzZSBcInRoZW1lL2dsb2JhbHNcIiBhcyAqO1xuXG46aG9zdCB7XG4gICAgaW9uLWNvbnRlbnQsXG4gICAgaW9uLWxpc3Qge1xuICAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLWNvcmUtbG9naW4tYmFja2dyb3VuZCk7XG4gICAgICAgIC0taW9uLWl0ZW0tYmFja2dyb3VuZDogdmFyKC0tY29yZS1sb2dpbi1iYWNrZ3JvdW5kKTtcbiAgICAgICAgLS1jb2xvcjogdmFyKC0tY29yZS1sb2dpbi10ZXh0LWNvbG9yKTtcbiAgICB9XG5cbiAgICBpb24taXRlbSBpb24tbGFiZWwge1xuICAgICAgICAtLWNvbG9yOiB2YXIoLS1jb3JlLWxvZ2luLXRleHQtY29sb3IpO1xuXG4gICAgICAgIHAsIGgyLCBoMywgLmNvcmUtb2F1dGgtaWNvbiB7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tY29sb3IpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaW9uLWJ1dHRvbi5jb3JlLWJ1dHRvbi1hcy1saW5rIHtcbiAgICAgICAgLS1jb2xvcjogdmFyKC0tY29yZS1sb2dpbi10ZXh0LWNvbG9yKTtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uLWNvbG9yOiB2YXIoLS1jb3JlLWxvZ2luLXRleHQtY29sb3IpO1xuXG4gICAgICAgIGlvbi1sYWJlbCB7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tY29yZS1sb2dpbi10ZXh0LWNvbG9yKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbiAgICAuY29yZS1sb2dpbi1yZWNvbm5lY3Qtd2FybmluZyB7XG4gICAgICAgIG1hcmdpbjogMHB4IDBweCAzMnB4IDBweDtcbiAgICB9XG5cbiAgICAuY29yZS1sb2dpbi1pbmZvLWJveCB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDMycHg7XG5cbiAgICAgICAgLmNvcmUtbG9naW4tc2l0ZSB7XG4gICAgICAgICAgICAuY29yZS1sb2dpbi1zaXRlLWxvZ28ge1xuICAgICAgICAgICAgICAgIHdpZHRoOiA5MCU7XG4gICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAzMDBweDtcbiAgICAgICAgICAgICAgICBtYXJnaW46IDBweCBhdXRvO1xuXG4gICAgICAgICAgICAgICAgaW1nIHtcbiAgICAgICAgICAgICAgICAgICAgbWF4LXdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgICAgICAgICBtYXgtaGVpZ2h0OiAxMDRweDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5jb3JlLXNpdGVuYW1lIHtcbiAgICAgICAgICAgICAgICBmb250LXNpemU6IDEuMnJlbTtcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC5jb3JlLXNpdGV1cmwge1xuICAgICAgICAgICAgICAgIG1hcmdpbi10b3A6IDhweDtcbiAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAuY29yZS1sb2dpbi1zaXRlICsgLmNvcmUtbG9naW4tdXNlciB7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiAyNHB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29yZS11c2VyLWF2YXRhci5sYXJnZS1hdmF0YXIge1xuICAgICAgICAtLWNvcmUtYXZhdGFyLXNpemU6IHZhcigtLWNvcmUtbGFyZ2UtYXZhdGFyLXNpemUpO1xuICAgIH1cblxuICAgIC5jb3JlLWxvZ2luLWZ1bGxuYW1lIHtcbiAgICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgICBtYXJnaW4tYm90dG9tOiAwcHg7XG4gICAgfVxuXG4gICAgLmNvcmUtbG9naW4tbWV0aG9kcyB7XG4gICAgICAgIGZvcm0gLml0ZW0uaXRlbS1pbnB1dCB7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxNnB4O1xuICAgICAgICB9XG5cbiAgICAgICAgZm9ybSAuaXRlbSxcbiAgICAgICAgZm9ybSAuaXRlbSBpb24tbGFiZWwge1xuICAgICAgICAgICAgLS1iYWNrZ3JvdW5kOiB2YXIoLS1jb3JlLWxvZ2luLWlucHV0LWJhY2tncm91bmQpO1xuICAgICAgICAgICAgLS1jb2xvcjogdmFyKC0tY29yZS1sb2dpbi1pbnB1dC1jb2xvcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpb24tYnV0dG9uIHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDBweDtcbiAgICAgICAgbWFyZ2luLXJpZ2h0OiAwcHg7XG4gICAgfVxuXG4gICAgLmNvcmUtbG9naW4tZm9yZ290dGVuLXBhc3N3b3JkIHtcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG4gICAgfVxuXG4gICAgQGlmICgkY29yZS1sb2dpbi1oaWRlLWZvcmdvdC1wYXNzd29yZCkge1xuICAgICAgICAuY29yZS1sb2dpbi1mb3Jnb3R0ZW4tcGFzc3dvcmQge1xuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBpZiAoJGNvcmUtZml4ZWQtdXJsKSB7XG4gICAgICAgIC5jb3JlLXNpdGVuYW1lLCAuY29yZS1zaXRldXJsIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAaWYgKCRjb3JlLWxvZ2luLWJ1dHRvbi1vdXRsaW5lKSB7XG4gICAgICAgIGZvcm0gaW9uLWJ1dHRvbiB7XG4gICAgICAgICAgICAtLWJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgICAgICAgLS1jb2xvcjogdmFyKC0tY29yZS1sb2dpbi1iYWNrZ3JvdW5kKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBpZiAoJGNvcmUtbG9naW4tbG9hZGluZy1jb2xvcikge1xuICAgICAgICBjb3JlLWxvYWRpbmcge1xuICAgICAgICAgICAgLS1sb2FkaW5nLWJhY2tncm91bmQ6IHZhcigtLWNvcmUtbG9naW4tYmFja2dyb3VuZCk7XG4gICAgICAgICAgICAtLWxvYWRpbmctdGV4dC1jb2xvcjogI3skY29yZS1sb2dpbi1sb2FkaW5nLWNvbG9yfTtcbiAgICAgICAgICAgIC0tbG9hZGluZy1zcGlubmVyOiAjeyRjb3JlLWxvZ2luLWxvYWRpbmctY29sb3J9O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmNvcmUtbG9naW4tbWV0aG9kcy1zZXBhcmF0b3Ige1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHBhZGRpbmc6IDhweCAwO1xuXG4gICAgICAgIHNwYW4ge1xuICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY29yZS1sb2dpbi1iYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgIHBhZGRpbmc6IDAgOHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgJjo6YmVmb3JlIHtcbiAgICAgICAgICAgIGhlaWdodDogMXB4O1xuICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICAgICAgdG9wOiA1MCU7XG4gICAgICAgICAgICBsZWZ0OiAwcHg7XG4gICAgICAgICAgICByaWdodDogMHB4O1xuICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWdyYXktMzAwKTtcbiAgICAgICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgICAgICB6LWluZGV4OiAtMTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgQGlmICgkY29yZS1sb2dpbi1oaWRlLXFyY29kZSkge1xuICAgICAgICAuY29yZS1sb2dpbi1zaXRlLXFyY29kZSxcbiAgICAgICAgLmNvcmUtbG9naW4tbWV0aG9kcy1zZXBhcmF0b3Ige1xuICAgICAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5jb3JlLWxvZ2luLWxvZ2luLWJ1dHRvbiB7XG4gICAgICAgIG1hcmdpbi10b3A6IDMycHg7XG4gICAgfVxuXG4gICAgLmNvcmUtbG9naW4tbG9naW4taW5icm93c2VyLWJ1dHRvbiB7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICB9XG5cbiAgICBwLmNvcmUtbG9naW4taW5icm93c2VyIHtcbiAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICAgIG1hcmdpbi1ib3R0b206IDhweDtcbiAgICB9XG5cbiAgICAuY29yZS1sb2dpbi1zaWduLXVwIHtcbiAgICAgICAgbWFyZ2luLXRvcDogOHB4O1xuICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tZ3JheS0zMDApO1xuICAgIH1cblxuICAgIC5jb3JlLWxvZ2luLWlkZW50aXR5LXByb3ZpZGVycyBoMixcbiAgICAuY29yZS1sb2dpbi1zaWduLXVwIGgyIHtcbiAgICAgICAgbWFyZ2luLXRvcDogMTZweDtcbiAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4O1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgfVxuXG59XG5cbjpob3N0LWNvbnRleHQoaHRtbC5kYXJrKSB7XG4gICAgQGlmICgkY29yZS1sb2dpbi1idXR0b24tb3V0bGluZS1kYXJrKSB7XG4gICAgICAgIGZvcm0gaW9uLWJ1dHRvbiB7XG4gICAgICAgICAgICAtLWJhY2tncm91bmQ6IHdoaXRlO1xuICAgICAgICAgICAgLS1jb2xvcjogdmFyKC0tY29yZS1sb2dpbi1iYWNrZ3JvdW5kLWRhcmspO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQGlmICgkY29yZS1sb2dpbi1sb2FkaW5nLWNvbG9yLWRhcmspIHtcbiAgICAgICAgY29yZS1sb2FkaW5nIHtcbiAgICAgICAgICAgIC0tbG9hZGluZy1iYWNrZ3JvdW5kOiB2YXIoLS1jb3JlLWxvZ2luLWJhY2tncm91bmQtZGFyayk7XG4gICAgICAgICAgICAtLWxvYWRpbmctdGV4dC1jb2xvcjogI3skY29yZS1sb2dpbi1sb2FkaW5nLWNvbG9yLWRhcmt9O1xuICAgICAgICAgICAgLS1sb2FkaW5nLXNwaW5uZXI6ICN7JGNvcmUtbG9naW4tbG9hZGluZy1jb2xvci1kYXJrfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["Validators","debounceTime","CoreApp","CoreNetwork","CoreSites","CoreDomUtils","CoreLoginHelper","Translate","CoreEvents","CoreNavigator","CoreForms","CoreUserSupport","CoreUserGuestSupportConfig","CorePlatform","CoreSitesFactory","EMAIL_SIGNUP_FEATURE_NAME","FORGOTTEN_PASSWORD_FEATURE_NAME","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","ctx_r2","logoUrl","ɵɵsanitizeUrl","ctx_r3","siteName","ɵɵtext","ɵɵtextInterpolate","ctx_r4","site","siteUrl","ɵɵlistener","CoreLoginCredentialsPage_ng_container_18_core_login_exceeded_attempts_6_Template_div_click_2_listener","$event","ɵɵrestoreView","_r11","ctx_r10","ɵɵnextContext","ɵɵresetView","exceededAttemptsClicked","ctx_r5","supportConfig","ɵɵpipeBind1","exceededAttemptsHTML","ɵɵsanitizeHtml","CoreLoginCredentialsPage_ng_container_18_form_8_ion_button_19_Template_ion_button_click_0_listener","_r15","ctx_r14","forgottenPassword","ɵɵtextInterpolate1","CoreLoginCredentialsPage_ng_container_18_form_8_Template_form_ngSubmit_0_listener","_r17","ctx_r16","login","ɵɵtemplate","CoreLoginCredentialsPage_ng_container_18_form_8_ion_button_19_Template","ctx_r6","credForm","ɵɵpropertyInterpolate","valid","showForgottenPassword","ɵɵelementContainerStart","CoreLoginCredentialsPage_ng_container_18_ng_container_9_Template_ion_button_click_1_listener","_r19","ctx_r18","openBrowserSSO","ɵɵelementContainerEnd","ctx_r8","siteConfig","ctx_r20","authInstructions","CoreLoginCredentialsPage_ng_container_18_div_11_ion_button_7_Template_ion_button_click_0_listener","_r23","ctx_r22","openEmailSignup","CoreLoginCredentialsPage_ng_container_18_div_11_core_format_text_6_Template","CoreLoginCredentialsPage_ng_container_18_div_11_ion_button_7_Template","ctx_r9","canSignup","CoreLoginCredentialsPage_ng_container_18_div_3_Template","CoreLoginCredentialsPage_ng_container_18_h2_4_Template","CoreLoginCredentialsPage_ng_container_18_p_5_Template","CoreLoginCredentialsPage_ng_container_18_core_login_exceeded_attempts_6_Template","CoreLoginCredentialsPage_ng_container_18_form_8_Template","CoreLoginCredentialsPage_ng_container_18_ng_container_9_Template","CoreLoginCredentialsPage_ng_container_18_core_login_methods_10_Template","CoreLoginCredentialsPage_ng_container_18_div_11_Template","ctx_r0","displaySiteUrl","loginAttempts","isBrowserSSO","CoreLoginCredentialsPage_core_empty_box_19_Template_ion_button_click_1_listener","_r25","ctx_r24","checkSite","ctx_r1","siteCheckError","CoreLoginCredentialsPage","constructor","fb","pageLoaded","showScanQR","eventThrown","viewLeft","ngOnInit","_this","_asyncToGenerator","_this$siteCheck","_this$siteCheck2","siteCheck","getRouteParam","getRequiredRouteParam","config","makeUnauthenticatedSite","getLogoUrl","urlToOpen","shouldDisplayInformativeLinks","getSiteName","error","showErrorModal","back","group","username","required","password","shouldSkipCredentialsScreenOnSSO","isIOS","valueChangeSubscription","valueChanges","pipe","subscribe","changes","formElement","nativeElement","usernameInput","querySelector","passwordInput","usernameValue","value","passwordValue","undefined","_this$credForm$get","get","setValue","_this$credForm$get2","showHelp","instant","_this2","protocol","indexOf","setPublicConfig","setURL","treatSiteConfig","isSSOLoginNeeded","code","getErrorMessage","_this3","_this3$supportConfig","isDemoModeSite","sitename","displayQRInCredentialsScreen","tool_mobile_qrcodetype","registerauth","isFeatureDisabled","buildExceededAttemptsHTML","canContactSupport","authinstructions","trigger","LOGIN_SITE_CHECKED","e","_this4","_this4$siteCheck$conf","preventDefault","stopPropagation","isSSOAuthenticationOngoing","openBrowserForSSOLogin","service","launchurl","_this5","closeKeyboard","getURL","isOnline","modal","showModalLoading","data","getUserToken","id","newSite","token","privateToken","controls","reset","siteId","navigateToSiteHome","params","treatUserTokenError","loggedout","navigate","errorcode","dismiss","triggerFormSubmittedEvent","event","target","HTMLAnchorElement","forgottenPasswordClicked","openSettings","ngOnDestroy","_this$valueChangeSubs","LOGIN_SITE_UNCHECKED","loginSuccessful","unsubscribe","ɵɵdirectiveInject","i1","FormBuilder","selectors","viewQuery","CoreLoginCredentialsPage_Query","rf","ctx","CoreLoginCredentialsPage_Template_ion_button_click_10_listener","CoreLoginCredentialsPage_Template_ion_button_click_13_listener","CoreLoginCredentialsPage_ng_container_18_Template","CoreLoginCredentialsPage_core_empty_box_19_Template","ɵɵattribute"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/login/pages/credentials/credentials.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/login/pages/credentials/credentials.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit, OnDestroy, ViewChild, ElementRef } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Subscription } from 'rxjs';\nimport { debounceTime } from 'rxjs/operators';\n\nimport { CoreApp } from '@services/app';\nimport { CoreNetwork } from '@services/network';\nimport { CoreSiteCheckResponse, CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreLoginHelper } from '@features/login/services/login-helper';\nimport { Translate } from '@singletons';\nimport { CoreSitePublicConfigResponse, CoreUnauthenticatedSite } from '@classes/sites/unauthenticated-site';\nimport { CoreEvents } from '@singletons/events';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreForms } from '@singletons/form';\nimport { CoreUserSupport } from '@features/user/services/support';\nimport { CoreUserSupportConfig } from '@features/user/classes/support/support-config';\nimport { CoreUserGuestSupportConfig } from '@features/user/classes/support/guest-support-config';\nimport { SafeHtml } from '@angular/platform-browser';\nimport { CorePlatform } from '@services/platform';\nimport { CoreSitesFactory } from '@services/sites-factory';\nimport { EMAIL_SIGNUP_FEATURE_NAME, FORGOTTEN_PASSWORD_FEATURE_NAME } from '@features/login/constants';\n\n/**\n * Page to enter the user credentials.\n */\n@Component({\n    selector: 'page-core-login-credentials',\n    templateUrl: 'credentials.html',\n    styleUrls: ['../../login.scss'],\n})\nexport class CoreLoginCredentialsPage implements OnInit, OnDestroy {\n\n    @ViewChild('credentialsForm') formElement?: ElementRef<HTMLFormElement>;\n\n    credForm!: FormGroup;\n    site!: CoreUnauthenticatedSite;\n    siteName?: string;\n    logoUrl?: string;\n    authInstructions?: string;\n    canSignup?: boolean;\n    pageLoaded = false;\n    isBrowserSSO = false;\n    showForgottenPassword = true;\n    showScanQR = false;\n    loginAttempts = 0;\n    supportConfig?: CoreUserSupportConfig;\n    exceededAttemptsHTML?: SafeHtml | string | null;\n    siteConfig?: CoreSitePublicConfigResponse;\n    siteCheckError = '';\n    displaySiteUrl = false;\n\n    protected siteCheck?: CoreSiteCheckResponse;\n    protected eventThrown = false;\n    protected viewLeft = false;\n    protected siteId?: string;\n    protected urlToOpen?: string;\n    protected valueChangeSubscription?: Subscription;\n\n    constructor(\n        protected fb: FormBuilder,\n    ) {}\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        try {\n            this.siteCheck = CoreNavigator.getRouteParam<CoreSiteCheckResponse>('siteCheck');\n\n            const siteUrl = this.siteCheck?.siteUrl || CoreNavigator.getRequiredRouteParam<string>('siteUrl');\n            if (this.siteCheck?.config) {\n                this.siteConfig = this.siteCheck.config;\n            }\n\n            this.site = CoreSitesFactory.makeUnauthenticatedSite(siteUrl, this.siteConfig);\n            this.logoUrl = this.site.getLogoUrl(this.siteConfig);\n            this.urlToOpen = CoreNavigator.getRouteParam('urlToOpen');\n            this.supportConfig = this.siteConfig && new CoreUserGuestSupportConfig(this.site, this.siteConfig);\n            this.displaySiteUrl = this.site.shouldDisplayInformativeLinks();\n            this.siteName = await this.site.getSiteName();\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n\n            return CoreNavigator.back();\n        }\n\n        this.credForm = this.fb.group({\n            username: [CoreNavigator.getRouteParam<string>('username') || '', Validators.required],\n            password: ['', Validators.required],\n        });\n\n        await this.checkSite();\n\n        if (this.isBrowserSSO && CoreLoginHelper.shouldSkipCredentialsScreenOnSSO()) {\n            this.openBrowserSSO();\n        }\n\n        if (CorePlatform.isIOS() && !this.isBrowserSSO) {\n            // Make iOS auto-fill work. The field that isn't focused doesn't get updated, do it manually.\n            // Debounce it to prevent triggering this function too often when the user is typing.\n            this.valueChangeSubscription = this.credForm.valueChanges.pipe(debounceTime(1000)).subscribe((changes) => {\n                if (!this.formElement || !this.formElement.nativeElement) {\n                    return;\n                }\n\n                const usernameInput = this.formElement.nativeElement.querySelector<HTMLInputElement>('input[name=\"username\"]');\n                const passwordInput = this.formElement.nativeElement.querySelector<HTMLInputElement>('input[name=\"password\"]');\n                const usernameValue = usernameInput?.value;\n                const passwordValue = passwordInput?.value;\n\n                if (usernameValue !== undefined && usernameValue !== changes.username) {\n                    this.credForm.get('username')?.setValue(usernameValue);\n                }\n                if (passwordValue !== undefined && passwordValue !== changes.password) {\n                    this.credForm.get('password')?.setValue(passwordValue);\n                }\n            });\n        }\n    }\n\n    /**\n     * Show help modal.\n     */\n    showHelp(): void {\n        CoreUserSupport.showHelp(\n            Translate.instant('core.login.credentialshelp'),\n            Translate.instant('core.login.credentialssupportsubject'),\n            this.supportConfig,\n        );\n    }\n\n    /**\n     * Get site config and check if it requires SSO login.\n     * This should be used only if a fixed URL is set, otherwise this check is already performed in CoreLoginSitePage.\n     *\n     * @returns Promise resolved when done.\n     */\n    async checkSite(): Promise<void> {\n        this.pageLoaded = false;\n\n        // If the site is configured with http:// protocol we force that one, otherwise we use default mode.\n        const protocol = this.site.siteUrl.indexOf('http://') === 0 ? 'http://' : undefined;\n\n        try {\n            if (!this.siteCheck) {\n                this.siteCheck = await CoreSites.checkSite(this.site.siteUrl, protocol);\n                this.siteCheck.config && this.site.setPublicConfig(this.siteCheck.config);\n            }\n\n            this.site.setURL(this.siteCheck.siteUrl);\n            this.siteConfig = this.siteCheck.config;\n            this.supportConfig = this.siteConfig && new CoreUserGuestSupportConfig(this.site, this.siteConfig);\n\n            await this.treatSiteConfig();\n\n            this.siteCheckError = '';\n\n            // Check if user needs to authenticate in a browser.\n            this.isBrowserSSO = CoreLoginHelper.isSSOLoginNeeded(this.siteCheck.code);\n        } catch (error) {\n            this.siteCheckError = CoreDomUtils.getErrorMessage(error) || 'Error loading site';\n\n            CoreDomUtils.showErrorModal(error);\n        } finally {\n            this.pageLoaded = true;\n        }\n    }\n\n    /**\n     * Treat the site configuration (if it exists).\n     */\n    protected async treatSiteConfig(): Promise<void> {\n        if (!this.siteConfig) {\n            this.authInstructions = undefined;\n            this.canSignup = false;\n\n            return;\n        }\n\n        if (this.site.isDemoModeSite()) {\n            this.showScanQR = false;\n        } else {\n            this.siteName = this.siteConfig.sitename;\n            this.logoUrl = this.site.getLogoUrl(this.siteConfig);\n            this.showScanQR = await CoreLoginHelper.displayQRInCredentialsScreen(this.siteConfig.tool_mobile_qrcodetype);\n        }\n\n        this.canSignup = this.siteConfig.registerauth == 'email' && !this.site.isFeatureDisabled(EMAIL_SIGNUP_FEATURE_NAME);\n        this.showForgottenPassword = !this.site.isFeatureDisabled(FORGOTTEN_PASSWORD_FEATURE_NAME);\n        this.exceededAttemptsHTML = CoreLoginHelper.buildExceededAttemptsHTML(\n            !!this.supportConfig?.canContactSupport(),\n            this.showForgottenPassword,\n        );\n        this.authInstructions = this.siteConfig.authinstructions ||\n            (this.canSignup ? Translate.instant('core.login.loginsteps') : '');\n\n        if (!this.eventThrown && !this.viewLeft) {\n            this.eventThrown = true;\n            CoreEvents.trigger(CoreEvents.LOGIN_SITE_CHECKED, { config: this.siteConfig });\n        }\n    }\n\n    /**\n     * Tries to authenticate the user using the browser.\n     *\n     * @param e Event.\n     * @returns Promise resolved when done.\n     */\n    async openBrowserSSO(e?: Event): Promise<void> {\n        e?.preventDefault();\n        e?.stopPropagation();\n\n        // Check that there's no SSO authentication ongoing and the view hasn't changed.\n        if (CoreApp.isSSOAuthenticationOngoing() || this.viewLeft || !this.siteCheck) {\n            return;\n        }\n\n        CoreLoginHelper.openBrowserForSSOLogin(\n            this.siteCheck.siteUrl,\n            this.siteCheck.code,\n            this.siteCheck.service,\n            this.siteCheck.config?.launchurl,\n        );\n    }\n\n    /**\n     * Tries to authenticate the user.\n     *\n     * @param e Event.\n     * @returns Promise resolved when done.\n     */\n    async login(e?: Event): Promise<void> {\n        e?.preventDefault();\n        e?.stopPropagation();\n\n        CoreApp.closeKeyboard();\n\n        // Get input data.\n        const siteUrl = this.site.getURL();\n        const username = this.credForm.value.username;\n        const password = this.credForm.value.password;\n\n        if (!username) {\n            CoreDomUtils.showErrorModal('core.login.usernamerequired', true);\n\n            return;\n        }\n        if (!password) {\n            CoreDomUtils.showErrorModal('core.login.passwordrequired', true);\n\n            return;\n        }\n\n        if (!CoreNetwork.isOnline()) {\n            CoreDomUtils.showErrorModal('core.networkerrormsg', true);\n\n            return;\n        }\n\n        const modal = await CoreDomUtils.showModalLoading();\n\n        // Start the authentication process.\n        try {\n            const data = await CoreSites.getUserToken(siteUrl, username, password);\n\n            const id = await CoreSites.newSite(data.siteUrl, data.token, data.privateToken);\n\n            // Reset fields so the data is not in the view anymore.\n            this.credForm.controls['username'].reset();\n            this.credForm.controls['password'].reset();\n\n            this.siteId = id;\n\n            await CoreNavigator.navigateToSiteHome({ params: { urlToOpen: this.urlToOpen } });\n        } catch (error) {\n            CoreLoginHelper.treatUserTokenError(siteUrl, error, username, password);\n\n            if (error.loggedout) {\n                CoreNavigator.navigate('/login/sites', { reset: true });\n            } else if (error.errorcode == 'forcepasswordchangenotice') {\n                // Reset password field.\n                this.credForm.controls.password.reset();\n            } else if (error.errorcode === 'invalidlogin') {\n                this.loginAttempts++;\n            }\n        } finally {\n            modal.dismiss();\n\n            CoreForms.triggerFormSubmittedEvent(this.formElement, true);\n        }\n    }\n\n    /**\n     * Exceeded attempts message clicked.\n     *\n     * @param event Click event.\n     */\n    exceededAttemptsClicked(event: Event): void {\n        event.preventDefault();\n\n        if (!(event.target instanceof HTMLAnchorElement)) {\n            return;\n        }\n\n        this.forgottenPassword();\n    }\n\n    /**\n     * Forgotten password button clicked.\n     */\n    forgottenPassword(): void {\n        CoreLoginHelper.forgottenPasswordClicked(this.site.getURL(), this.credForm.value.username, this.siteConfig);\n    }\n\n    /**\n     * Open email signup page.\n     */\n    openEmailSignup(): void {\n        CoreNavigator.navigate('/login/emailsignup', { params: { siteUrl: this.site.getURL() } });\n    }\n\n    /**\n     * Open settings page.\n     */\n    openSettings(): void {\n        CoreNavigator.navigate('/settings');\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        this.viewLeft = true;\n        CoreEvents.trigger(\n            CoreEvents.LOGIN_SITE_UNCHECKED,\n            {\n                config: this.siteConfig,\n                loginSuccessful: !!this.siteId,\n            },\n            this.siteId,\n        );\n        this.valueChangeSubscription?.unsubscribe();\n    }\n\n}\n","<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button [text]=\"'core.back' | translate\" />\n        </ion-buttons>\n\n        <ion-title>\n            <h1>{{ 'core.login.login' | translate }}</h1>\n        </ion-title>\n\n        <ion-buttons slot=\"end\">\n            <ion-button fill=\"clear\" (click)=\"openSettings()\" [attr.aria-label]=\"'core.settings.appsettings' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"fas-gear\" aria-hidden=\"true\" />\n            </ion-button>\n            <ion-button fill=\"clear\" (click)=\"showHelp()\" [attr.aria-label]=\"'core.help' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"far-circle-question\" aria-hidden=\"true\" />\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content class=\"ion-padding limited-width\">\n    <core-loading [hideUntil]=\"pageLoaded\">\n        <ng-container *ngIf=\"!siteCheckError && site && credForm\">\n            <div class=\"ion-text-wrap ion-text-center core-login-info-box\">\n                <div class=\"core-login-site\">\n                    <div class=\"core-login-site-logo\" *ngIf=\"logoUrl\">\n                        <img [src]=\"logoUrl\" role=\"presentation\" alt=\"\" onError=\"this.src='assets/img/login_logo.png'\">\n                    </div>\n\n                    <h2 *ngIf=\"siteName\" class=\"ion-margin-top ion-no-padding core-sitename\">\n                        <core-format-text [text]=\"siteName\" [filter]=\"false\" />\n                    </h2>\n                    <p class=\"core-siteurl\" *ngIf=\"displaySiteUrl\">{{site.siteUrl}}</p>\n                </div>\n\n                <core-login-exceeded-attempts *ngIf=\"exceededAttemptsHTML && supportConfig && loginAttempts >= 3\"\n                    [supportConfig]=\"supportConfig\" [supportSubject]=\"'core.login.exceededloginattemptssupportsubject' | translate\">\n                    <div [innerHTML]=\"exceededAttemptsHTML\" (click)=\"exceededAttemptsClicked($event)\"></div>\n                </core-login-exceeded-attempts>\n            </div>\n\n            <div class=\"core-login-methods\">\n                <form [formGroup]=\"credForm\" (ngSubmit)=\"login($event)\" class=\"core-login-form\" #credentialsForm *ngIf=\"!isBrowserSSO\">\n                    <ion-item>\n                        <ion-label class=\"sr-only\">{{ 'core.login.username' | translate }}</ion-label>\n                        <ion-input type=\"text\" name=\"username\" placeholder=\"{{ 'core.login.username' | translate }}\"\n                            formControlName=\"username\" autocapitalize=\"none\" autocorrect=\"off\" autocomplete=\"username\" enterkeyhint=\"next\"\n                            required=\"true\" />\n                    </ion-item>\n                    <ion-item class=\"ion-margin-bottom\">\n                        <ion-label class=\"sr-only\">{{ 'core.login.password' | translate }}</ion-label>\n                        <core-show-password name=\"password\">\n                            <ion-input name=\"password\" type=\"password\" placeholder=\"{{ 'core.login.password' | translate }}\"\n                                formControlName=\"password\" [clearOnEdit]=\"false\" autocomplete=\"current-password\" enterkeyhint=\"go\"\n                                required=\"true\" />\n                        </core-show-password>\n                    </ion-item>\n                    <ion-button expand=\"block\" type=\"submit\" [disabled]=\"!credForm.valid\"\n                        class=\"ion-margin core-login-login-button ion-text-wrap\">\n                        {{ 'core.login.loginbutton' | translate }}\n                    </ion-button>\n                    <!-- Remove this once Ionic fixes this bug: https://github.com/ionic-team/ionic-framework/issues/19368 -->\n                    <input type=\"submit\" class=\"core-submit-hidden-enter\" />\n\n                    <!-- Forgotten password option. -->\n                    <ion-button *ngIf=\"showForgottenPassword\" expand=\"block\" fill=\"clear\"\n                        class=\"core-login-forgotten-password core-button-as-link ion-text-wrap\" (click)=\"forgottenPassword()\">\n                        {{ 'core.login.forgotaccount' | translate }}\n                    </ion-button>\n                </form>\n\n                <ng-container *ngIf=\"isBrowserSSO\">\n                    <ion-button expand=\"block\" (click)=\"openBrowserSSO()\"\n                        class=\"ion-margin core-login-login-inbrowser-button ion-text-wrap\">\n                        {{ 'core.login.loginbutton' | translate }}\n                        <ion-icon name=\"fas-up-right-from-square\" slot=\"end\" aria-hidden=\"true\" />\n                    </ion-button>\n                    <p class=\"text-center core-login-inbrowser\">{{ 'core.openinbrowserdescription' | translate }}</p>\n                </ng-container>\n\n\n                <core-login-methods *ngIf=\"siteConfig\" [siteConfig]=\"siteConfig\" [siteUrl]=\"site.siteUrl\" />\n            </div>\n\n            <div class=\"core-login-sign-up\" *ngIf=\"!isBrowserSSO && (canSignup || authInstructions)\">\n                <h2>{{ 'core.login.firsttime' | translate }}</h2>\n\n                <ion-item class=\"ion-text-wrap ion-no-padding core-login-instructions\">\n                    <ion-label>\n                        <core-format-text *ngIf=\"authInstructions\" [text]=\"authInstructions\" [filter]=\"false\" />\n                    </ion-label>\n                </ion-item>\n\n                <ion-button *ngIf=\"canSignup\" expand=\"block\" class=\"ion-margin ion-text-wrap\" fill=\"outline\" (click)=\"openEmailSignup()\">\n                    {{ 'core.login.startsignup' | translate }}\n                </ion-button>\n            </div>\n        </ng-container>\n\n        <core-empty-box *ngIf=\"siteCheckError\" icon=\"fas-circle-exclamation\" [message]=\"siteCheckError\">\n            <ion-button expand=\"block\" (click)=\"checkSite()\" fill=\"outline\">\n                {{ 'core.tryagain' | translate }}\n            </ion-button>\n        </core-empty-box>\n\n    </core-loading>\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}