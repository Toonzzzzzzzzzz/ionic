{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { AddonModDataFieldPluginBaseComponent } from '@addons/mod/data/classes/base-field-plugin-component';\nimport { CoreGeolocation, CoreGeolocationError, CoreGeolocationErrorReason } from '@services/geolocation';\nimport { CorePlatform } from '@services/platform';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { DomSanitizer } from '@singletons';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../../../../core/components/input-errors/input-errors\";\nimport * as i4 from \"../../../../../../core/components/mark-required/mark-required\";\nimport * as i5 from \"../../../../../../core/directives/fa-icon\";\nimport * as i6 from \"../../../../../../core/directives/update-non-reactive-attributes\";\nimport * as i7 from \"@ionic/angular\";\nimport * as i8 from \"@ngx-translate/core\";\nfunction AddonModDataFieldLatlongComponent_span_0_ion_input_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-input\", 4);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"placeholder\", ctx_r2.field.name)(\"formControlName\", \"f_\" + ctx_r2.field.id);\n  }\n}\nfunction AddonModDataFieldLatlongComponent_span_0_ng_container_2_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"ion-button\", 11);\n    i0.ɵɵlistener(\"click\", function AddonModDataFieldLatlongComponent_span_0_ng_container_2_div_10_Template_ion_button_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r6.getLocation($event));\n    });\n    i0.ɵɵelement(2, \"ion-icon\", 12);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 1, \"addon.mod_data.mylocation\"), \" \");\n  }\n}\nfunction AddonModDataFieldLatlongComponent_span_0_ng_container_2_core_input_errors_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-input-errors\", 13);\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"control\", ctx_r5.form.controls[\"f_\" + ctx_r5.field.id])(\"errorText\", ctx_r5.error);\n  }\n}\nfunction AddonModDataFieldLatlongComponent_span_0_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"span\", 5);\n    i0.ɵɵelementStart(2, \"div\", 6);\n    i0.ɵɵelement(3, \"ion-input\", 7);\n    i0.ɵɵelementStart(4, \"span\", 8);\n    i0.ɵɵtext(5, \"\\u00B0N\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(6, \"div\", 6);\n    i0.ɵɵelement(7, \"ion-input\", 7);\n    i0.ɵɵelementStart(8, \"span\", 8);\n    i0.ɵɵtext(9, \"\\u00B0E\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(10, AddonModDataFieldLatlongComponent_span_0_ng_container_2_div_10_Template, 5, 3, \"div\", 9);\n    i0.ɵɵtemplate(11, AddonModDataFieldLatlongComponent_span_0_ng_container_2_core_input_errors_11_Template, 1, 2, \"core-input-errors\", 10);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"core-mark-required\", ctx_r3.field.required);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formControlName\", \"f_\" + ctx_r3.field.id + \"_0\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"formControlName\", \"f_\" + ctx_r3.field.id + \"_1\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.locationServicesEnabled);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.error);\n  }\n}\nfunction AddonModDataFieldLatlongComponent_span_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 2);\n    i0.ɵɵtemplate(1, AddonModDataFieldLatlongComponent_span_0_ion_input_1_Template, 1, 2, \"ion-input\", 3);\n    i0.ɵɵtemplate(2, AddonModDataFieldLatlongComponent_span_0_ng_container_2_Template, 12, 5, \"ng-container\", 1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"formGroup\", ctx_r0.form);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.searchMode);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.editMode);\n  }\n}\nfunction AddonModDataFieldLatlongComponent_span_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\")(1, \"a\", 14);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"href\", ctx_r1.getLatLongLink(ctx_r1.north, ctx_r1.east), i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r1.formatLatLong(ctx_r1.north, ctx_r1.east));\n  }\n}\n/**\n * Component to render data latlong field.\n */\nexport class AddonModDataFieldLatlongComponent extends AddonModDataFieldPluginBaseComponent {\n  constructor(fb) {\n    super(fb);\n    this.locationServicesEnabled = false;\n  }\n  /**\n   * Format latitude and longitude in a simple text.\n   *\n   * @param north Degrees north.\n   * @param east Degrees East.\n   * @returns Readable Latitude and logitude.\n   */\n  formatLatLong(north, east) {\n    if (north !== undefined || east !== undefined) {\n      north = north || 0;\n      east = east || 0;\n      const northFixed = Math.abs(north).toFixed(4);\n      const eastFixed = Math.abs(east).toFixed(4);\n      return northFixed + (north < 0 ? '°S' : '°N') + ' ' + eastFixed + (east < 0 ? '°W' : '°E');\n    }\n    return '';\n  }\n  /**\n   * Get link to maps from latitude and longitude.\n   *\n   * @param north Degrees north.\n   * @param east Degrees East.\n   * @returns Link to maps depending on platform.\n   */\n  getLatLongLink(north, east) {\n    let url = '';\n    if (north !== undefined || east !== undefined) {\n      const northFixed = north ? north.toFixed(4) : '0.0000';\n      const eastFixed = east ? east.toFixed(4) : '0.0000';\n      if (CorePlatform.isIOS()) {\n        url = 'http://maps.apple.com/?ll=' + northFixed + ',' + eastFixed + '&near=' + northFixed + ',' + eastFixed;\n      } else {\n        url = 'geo:' + northFixed + ',' + eastFixed;\n      }\n    }\n    return DomSanitizer.bypassSecurityTrustUrl(url);\n  }\n  /**\n   * @inheritdoc\n   */\n  init() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.value) {\n        _this.updateValue(_this.value);\n      }\n      if (_this.editMode) {\n        _this.addControl('f_' + _this.field.id + '_0', _this.north);\n        _this.addControl('f_' + _this.field.id + '_1', _this.east);\n        _this.locationServicesEnabled = yield CoreGeolocation.canRequest();\n      } else if (_this.searchMode) {\n        _this.addControl('f_' + _this.field.id);\n      }\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  updateValue(value) {\n    this.value = value;\n    this.north = value && parseFloat(value.content) || undefined;\n    this.east = value && parseFloat(value.content1) || undefined;\n  }\n  /**\n   * Get user location.\n   *\n   * @param event The event.\n   */\n  getLocation(event) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      event.preventDefault();\n      const modal = yield CoreDomUtils.showModalLoading('addon.mod_data.gettinglocation', true);\n      try {\n        var _this2$form, _this2$form2;\n        const coordinates = yield CoreGeolocation.getCoordinates();\n        (_this2$form = _this2.form) === null || _this2$form === void 0 || _this2$form.controls['f_' + _this2.field.id + '_0'].setValue(coordinates.latitude);\n        (_this2$form2 = _this2.form) === null || _this2$form2 === void 0 || _this2$form2.controls['f_' + _this2.field.id + '_1'].setValue(coordinates.longitude);\n      } catch (error) {\n        _this2.showLocationErrorModal(error);\n      }\n      modal.dismiss();\n    })();\n  }\n  /**\n   * Show the appropriate error modal for the given error getting the location.\n   *\n   * @param error Location error.\n   */\n  showLocationErrorModal(error) {\n    if (error instanceof CoreGeolocationError) {\n      CoreDomUtils.showErrorModal(this.getGeolocationErrorMessage(error), true);\n      return;\n    }\n    CoreDomUtils.showErrorModalDefault(error, 'Error getting location');\n  }\n  /**\n   * Get error message from a geolocation error.\n   *\n   * @param error Geolocation error.\n   * @returns Geolocation message to be translated.\n   */\n  getGeolocationErrorMessage(error) {\n    // tslint:disable-next-line: switch-default\n    switch (error.reason) {\n      case CoreGeolocationErrorReason.PERMISSION_DENIED:\n        return 'addon.mod_data.locationpermissiondenied';\n      case CoreGeolocationErrorReason.LOCATION_NOT_ENABLED:\n        return 'addon.mod_data.locationnotenabled';\n    }\n  }\n}\n_class = AddonModDataFieldLatlongComponent;\n_class.ɵfac = function AddonModDataFieldLatlongComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.FormBuilder));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"addon-mod-data-field-latlong\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 2,\n  vars: 2,\n  consts: [[3, \"formGroup\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"formGroup\"], [\"type\", \"text\", 3, \"placeholder\", \"formControlName\", 4, \"ngIf\"], [\"type\", \"text\", 3, \"placeholder\", \"formControlName\"], [1, \"core-mark-required\", 3, \"core-mark-required\"], [1, \"addon-data-latlong\"], [\"type\", \"text\", \"maxlength\", \"10\", 3, \"formControlName\"], [\"item-right\", \"\", 1, \"placeholder-icon\"], [\"class\", \"addon-data-latlong\", 4, \"ngIf\"], [3, \"control\", \"errorText\", 4, \"ngIf\"], [3, \"click\"], [\"name\", \"fas-crosshairs\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [3, \"control\", \"errorText\"], [3, \"href\"]],\n  template: function AddonModDataFieldLatlongComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, AddonModDataFieldLatlongComponent_span_0_Template, 3, 3, \"span\", 0);\n      i0.ɵɵtemplate(1, AddonModDataFieldLatlongComponent_span_1_Template, 3, 2, \"span\", 1);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.inputMode && ctx.form);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.displayMode && ctx.value);\n    }\n  },\n  dependencies: [i2.NgIf, i3.CoreInputErrorsComponent, i4.CoreMarkRequiredComponent, i5.CoreFaIconDirective, i6.CoreUpdateNonReactiveAttributesDirective, i1.NgControlStatus, i1.NgControlStatusGroup, i1.MaxLengthValidator, i7.IonButton, i7.IonIcon, i7.IonInput, i7.TextValueAccessor, i1.FormGroupDirective, i1.FormControlName, i8.TranslatePipe],\n  encapsulation: 2\n});","map":{"version":3,"names":["AddonModDataFieldPluginBaseComponent","CoreGeolocation","CoreGeolocationError","CoreGeolocationErrorReason","CorePlatform","CoreDomUtils","DomSanitizer","i0","ɵɵelement","ɵɵproperty","ctx_r2","field","name","id","ɵɵelementStart","ɵɵlistener","AddonModDataFieldLatlongComponent_span_0_ng_container_2_div_10_Template_ion_button_click_1_listener","$event","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","getLocation","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate1","ɵɵpipeBind1","ctx_r5","form","controls","error","ɵɵelementContainerStart","ɵɵtemplate","AddonModDataFieldLatlongComponent_span_0_ng_container_2_div_10_Template","AddonModDataFieldLatlongComponent_span_0_ng_container_2_core_input_errors_11_Template","ɵɵelementContainerEnd","ctx_r3","required","locationServicesEnabled","AddonModDataFieldLatlongComponent_span_0_ion_input_1_Template","AddonModDataFieldLatlongComponent_span_0_ng_container_2_Template","ctx_r0","searchMode","editMode","ctx_r1","getLatLongLink","north","east","ɵɵsanitizeUrl","ɵɵtextInterpolate","formatLatLong","AddonModDataFieldLatlongComponent","constructor","fb","undefined","northFixed","Math","abs","toFixed","eastFixed","url","isIOS","bypassSecurityTrustUrl","init","_this","_asyncToGenerator","value","updateValue","addControl","canRequest","parseFloat","content","content1","event","_this2","preventDefault","modal","showModalLoading","_this2$form","_this2$form2","coordinates","getCoordinates","setValue","latitude","longitude","showLocationErrorModal","dismiss","showErrorModal","getGeolocationErrorMessage","showErrorModalDefault","reason","PERMISSION_DENIED","LOCATION_NOT_ENABLED","ɵɵdirectiveInject","i1","FormBuilder","selectors","features","ɵɵInheritDefinitionFeature","decls","vars","consts","template","AddonModDataFieldLatlongComponent_Template","rf","ctx","AddonModDataFieldLatlongComponent_span_0_Template","AddonModDataFieldLatlongComponent_span_1_Template","inputMode","displayMode"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/data/fields/latlong/component/latlong.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/data/fields/latlong/component/addon-mod-data-field-latlong.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { AddonModDataFieldPluginBaseComponent } from '@addons/mod/data/classes/base-field-plugin-component';\nimport { AddonModDataEntryField } from '@addons/mod/data/services/data';\nimport { Component } from '@angular/core';\nimport { FormBuilder } from '@angular/forms';\nimport { SafeUrl } from '@angular/platform-browser';\nimport { CoreAnyError } from '@classes/errors/error';\nimport { CoreGeolocation, CoreGeolocationError, CoreGeolocationErrorReason } from '@services/geolocation';\nimport { CorePlatform } from '@services/platform';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { DomSanitizer } from '@singletons';\n\n/**\n * Component to render data latlong field.\n */\n@Component({\n    selector: 'addon-mod-data-field-latlong',\n    templateUrl: 'addon-mod-data-field-latlong.html',\n})\nexport class AddonModDataFieldLatlongComponent extends AddonModDataFieldPluginBaseComponent {\n\n    north?: number;\n    east?: number;\n    locationServicesEnabled = false;\n\n    constructor(fb: FormBuilder) {\n        super(fb);\n    }\n\n    /**\n     * Format latitude and longitude in a simple text.\n     *\n     * @param north Degrees north.\n     * @param east Degrees East.\n     * @returns Readable Latitude and logitude.\n     */\n    formatLatLong(north?: number, east?: number): string {\n        if (north !== undefined || east !== undefined) {\n            north = north || 0;\n            east = east || 0;\n            const northFixed = Math.abs(north).toFixed(4);\n            const eastFixed = Math.abs(east).toFixed(4);\n\n            return northFixed + (north < 0 ? '°S' : '°N') + ' ' + eastFixed + (east < 0 ? '°W' : '°E');\n        }\n\n        return '';\n    }\n\n    /**\n     * Get link to maps from latitude and longitude.\n     *\n     * @param north Degrees north.\n     * @param east Degrees East.\n     * @returns Link to maps depending on platform.\n     */\n    getLatLongLink(north?: number, east?: number): SafeUrl {\n        let url = '';\n        if (north !== undefined || east !== undefined) {\n            const northFixed = north ? north.toFixed(4) : '0.0000';\n            const eastFixed = east ? east.toFixed(4) : '0.0000';\n\n            if (CorePlatform.isIOS()) {\n                url = 'http://maps.apple.com/?ll=' + northFixed + ',' + eastFixed + '&near=' + northFixed + ',' + eastFixed;\n            } else {\n                url = 'geo:' + northFixed + ',' + eastFixed;\n            }\n        }\n\n        return DomSanitizer.bypassSecurityTrustUrl(url);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    protected async init(): Promise<void> {\n        if (this.value) {\n            this.updateValue(this.value);\n        }\n\n        if (this.editMode) {\n            this.addControl('f_' + this.field.id + '_0', this.north);\n            this.addControl('f_' + this.field.id + '_1', this.east);\n            this.locationServicesEnabled = await CoreGeolocation.canRequest();\n\n        } else if (this.searchMode) {\n            this.addControl('f_' + this.field.id);\n        }\n    }\n\n    /**\n     * @inheritdoc\n     */\n    protected updateValue(value?: Partial<AddonModDataEntryField>): void {\n        this.value = value;\n        this.north = (value && parseFloat(value.content!)) || undefined;\n        this.east = (value && parseFloat(value.content1!)) || undefined;\n    }\n\n    /**\n     * Get user location.\n     *\n     * @param event The event.\n     */\n    async getLocation(event: Event): Promise<void> {\n        event.preventDefault();\n\n        const modal = await CoreDomUtils.showModalLoading('addon.mod_data.gettinglocation', true);\n\n        try {\n            const coordinates = await CoreGeolocation.getCoordinates();\n\n            this.form?.controls['f_' + this.field.id + '_0'].setValue(coordinates.latitude);\n            this.form?.controls['f_' + this.field.id + '_1'].setValue(coordinates.longitude);\n        } catch (error) {\n            this.showLocationErrorModal(error);\n        }\n\n        modal.dismiss();\n    }\n\n    /**\n     * Show the appropriate error modal for the given error getting the location.\n     *\n     * @param error Location error.\n     */\n    protected showLocationErrorModal(error: CoreAnyError | CoreGeolocationError): void {\n        if (error instanceof CoreGeolocationError) {\n            CoreDomUtils.showErrorModal(this.getGeolocationErrorMessage(error), true);\n\n            return;\n        }\n\n        CoreDomUtils.showErrorModalDefault(error, 'Error getting location');\n    }\n\n    /**\n     * Get error message from a geolocation error.\n     *\n     * @param error Geolocation error.\n     * @returns Geolocation message to be translated.\n     */\n    protected getGeolocationErrorMessage(error: CoreGeolocationError): string {\n        // tslint:disable-next-line: switch-default\n        switch (error.reason) {\n            case CoreGeolocationErrorReason.PERMISSION_DENIED:\n                return 'addon.mod_data.locationpermissiondenied';\n            case CoreGeolocationErrorReason.LOCATION_NOT_ENABLED:\n                return 'addon.mod_data.locationnotenabled';\n        }\n    }\n\n}\n","<span *ngIf=\"inputMode && form\" [formGroup]=\"form\">\n    <ion-input *ngIf=\"searchMode\" type=\"text\" [placeholder]=\"field.name\" [formControlName]=\"'f_'+field.id\" />\n\n    <ng-container *ngIf=\"editMode\">\n        <span [core-mark-required]=\"field.required\" class=\"core-mark-required\"></span>\n        <div class=\"addon-data-latlong\">\n            <ion-input type=\"text\" [formControlName]=\"'f_'+field.id+'_0'\" maxlength=\"10\" />\n            <span class=\"placeholder-icon\" item-right>°N</span>\n        </div>\n        <div class=\"addon-data-latlong\">\n            <ion-input type=\"text\" [formControlName]=\"'f_'+field.id+'_1'\" maxlength=\"10\" />\n            <span class=\"placeholder-icon\" item-right>°E</span>\n        </div>\n        <div class=\"addon-data-latlong\" *ngIf=\"locationServicesEnabled\">\n            <ion-button (click)=\"getLocation($event)\">\n                <ion-icon name=\"fas-crosshairs\" slot=\"start\" aria-hidden=\"true\" />\n                {{ 'addon.mod_data.mylocation' | translate }}\n            </ion-button>\n        </div>\n        <core-input-errors *ngIf=\"error\" [control]=\"form.controls['f_'+field.id]\" [errorText]=\"error\" />\n    </ng-container>\n</span>\n\n\n<span *ngIf=\"displayMode && value\">\n    <a [href]=\"getLatLongLink(north, east)\">{{ formatLatLong(north, east) }}</a>\n</span>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}