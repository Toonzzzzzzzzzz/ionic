{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { makeSingleton } from '@singletons';\nimport { AddonUserProfileFieldMenuComponent } from '../../component/menu';\nimport * as i0 from \"@angular/core\";\n/**\n * Menu user profile field handlers.\n */\nexport class AddonUserProfileFieldMenuHandlerService {\n  constructor() {\n    this.name = 'AddonUserProfileFieldMenu';\n    this.type = 'menu';\n  }\n  /**\n   * Whether or not the handler is enabled on a site level.\n   *\n   * @returns Promise resolved with true if enabled.\n   */\n  isEnabled() {\n    return _asyncToGenerator(function* () {\n      return true;\n    })();\n  }\n  /**\n   * Get the data to send for the field based on the input data.\n   *\n   * @param field User field to get the data for.\n   * @param signup True if user is in signup page.\n   * @param registerAuth Register auth method. E.g. 'email'.\n   * @param formValues Form Values.\n   * @returns Data to send for the field.\n   */\n  getData(field, signup, registerAuth, formValues) {\n    return _asyncToGenerator(function* () {\n      const name = 'profile_field_' + field.shortname;\n      if (formValues[name]) {\n        return {\n          type: 'menu',\n          name: name,\n          value: formValues[name]\n        };\n      }\n    })();\n  }\n  /**\n   * Return the Component to use to display the user profile field.\n   * It's recommended to return the class of the component, but you can also return an instance of the component.\n   *\n   * @returns The component (or promise resolved with component) to use, undefined if not found.\n   */\n  getComponent() {\n    return AddonUserProfileFieldMenuComponent;\n  }\n}\n_class = AddonUserProfileFieldMenuHandlerService;\n_class.ɵfac = function AddonUserProfileFieldMenuHandlerService_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});\nexport const AddonUserProfileFieldMenuHandler = makeSingleton(AddonUserProfileFieldMenuHandlerService);","map":{"version":3,"names":["makeSingleton","AddonUserProfileFieldMenuComponent","AddonUserProfileFieldMenuHandlerService","constructor","name","type","isEnabled","_asyncToGenerator","getData","field","signup","registerAuth","formValues","shortname","value","getComponent","factory","ɵfac","providedIn","AddonUserProfileFieldMenuHandler"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/userprofilefield/menu/services/handlers/menu.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Injectable, Type } from '@angular/core';\n\nimport { AuthEmailSignupProfileField } from '@features/login/services/login-helper';\nimport { CoreUserProfileField } from '@features/user/services/user';\nimport { CoreUserProfileFieldHandler, CoreUserProfileFieldHandlerData } from '@features/user/services/user-profile-field-delegate';\nimport { CoreFormFields } from '@singletons/form';\nimport { makeSingleton } from '@singletons';\nimport { AddonUserProfileFieldMenuComponent } from '../../component/menu';\n\n/**\n * Menu user profile field handlers.\n */\n@Injectable({ providedIn: 'root' })\nexport class AddonUserProfileFieldMenuHandlerService implements CoreUserProfileFieldHandler {\n\n    name = 'AddonUserProfileFieldMenu';\n    type = 'menu';\n\n    /**\n     * Whether or not the handler is enabled on a site level.\n     *\n     * @returns Promise resolved with true if enabled.\n     */\n    async isEnabled(): Promise<boolean> {\n        return true;\n    }\n\n    /**\n     * Get the data to send for the field based on the input data.\n     *\n     * @param field User field to get the data for.\n     * @param signup True if user is in signup page.\n     * @param registerAuth Register auth method. E.g. 'email'.\n     * @param formValues Form Values.\n     * @returns Data to send for the field.\n     */\n    async getData(\n        field: AuthEmailSignupProfileField | CoreUserProfileField,\n        signup: boolean,\n        registerAuth: string,\n        formValues: CoreFormFields,\n    ): Promise<CoreUserProfileFieldHandlerData | undefined> {\n        const name = 'profile_field_' + field.shortname;\n\n        if (formValues[name]) {\n            return {\n                type: 'menu',\n                name: name,\n                value: formValues[name],\n            };\n        }\n    }\n\n    /**\n     * Return the Component to use to display the user profile field.\n     * It's recommended to return the class of the component, but you can also return an instance of the component.\n     *\n     * @returns The component (or promise resolved with component) to use, undefined if not found.\n     */\n    getComponent(): Type<unknown> | Promise<Type<unknown>> {\n        return AddonUserProfileFieldMenuComponent;\n    }\n\n}\n\nexport const AddonUserProfileFieldMenuHandler = makeSingleton(AddonUserProfileFieldMenuHandlerService);\n"],"mappings":";;AAoBA,SAASA,aAAa,QAAQ,aAAa;AAC3C,SAASC,kCAAkC,QAAQ,sBAAsB;;AAEzE;;;AAIA,OAAM,MAAOC,uCAAuC;EADpDC,YAAA;IAGI,KAAAC,IAAI,GAAG,2BAA2B;IAClC,KAAAC,IAAI,GAAG,MAAM;;EAEb;;;;;EAKMC,SAASA,CAAA;IAAA,OAAAC,iBAAA;MACX,OAAO,IAAI;IAAC;EAChB;EAEA;;;;;;;;;EASMC,OAAOA,CACTC,KAAyD,EACzDC,MAAe,EACfC,YAAoB,EACpBC,UAA0B;IAAA,OAAAL,iBAAA;MAE1B,MAAMH,IAAI,GAAG,gBAAgB,GAAGK,KAAK,CAACI,SAAS;MAE/C,IAAID,UAAU,CAACR,IAAI,CAAC,EAAE;QAClB,OAAO;UACHC,IAAI,EAAE,MAAM;UACZD,IAAI,EAAEA,IAAI;UACVU,KAAK,EAAEF,UAAU,CAACR,IAAI;SACzB;;IACJ;EACL;EAEA;;;;;;EAMAW,YAAYA,CAAA;IACR,OAAOd,kCAAkC;EAC7C;;SAhDSC,uCAAuC;;mBAAvCA,MAAuC;AAAA;;SAAvCA,MAAuC;EAAAc,OAAA,EAAvCd,MAAuC,CAAAe,IAAA;EAAAC,UAAA,EAD1B;AAAM;AAqDhC,OAAO,MAAMC,gCAAgC,GAAGnB,aAAa,CAACE,uCAAuC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}