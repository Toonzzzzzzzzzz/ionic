{"ast":null,"code":"// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { createAnimation, getIonPageElement } from '@ionic/angular';\n/**\n * Adaptation from Ionic 7 iOs transition.\n *\n * https://github.com/ionic-team/ionic-framework/blob/v7.5.6/core/src/utils/transition/ios.transition.ts\n * Removed large title options, translucent header, buttons-collapse and header-collapse-condense-inactive.\n * Changed large title check by collapsible header.\n */\nconst DURATION = 540;\nconst shadow = el => el.shadowRoot || el;\nexport const moodleTransitionAnimation = (navEl, opts) => {\n  const EASING = 'cubic-bezier(0.32,0.72,0,1)';\n  const OPACITY = 'opacity';\n  const TRANSFORM = 'transform';\n  const CENTER = '0%';\n  const OFF_OPACITY = 0.8;\n  const isRTL = navEl.ownerDocument.dir === 'rtl';\n  const OFF_RIGHT = isRTL ? '-99.5%' : '99.5%';\n  const OFF_LEFT = isRTL ? '33%' : '-33%';\n  const enteringEl = opts.enteringEl;\n  const leavingEl = opts.leavingEl;\n  const backDirection = opts.direction === 'back';\n  const contentEl = enteringEl.querySelector(':scope > ion-content');\n  const headerEls = enteringEl.querySelectorAll(':scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *');\n  const enteringToolBarEls = enteringEl.querySelectorAll(':scope > ion-header > ion-toolbar');\n  const rootAnimation = createAnimation();\n  const enteringContentAnimation = createAnimation();\n  rootAnimation.addElement(enteringEl).duration(opts.duration || DURATION).easing(opts.easing || EASING).fill('both').beforeRemoveClass('ion-page-invisible');\n  if (leavingEl && navEl) {\n    const navDecorAnimation = createAnimation();\n    navDecorAnimation.addElement(navEl);\n    rootAnimation.addAnimation(navDecorAnimation);\n  }\n  if (!contentEl && enteringToolBarEls.length === 0 && headerEls.length === 0) {\n    enteringContentAnimation.addElement(enteringEl.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs') || []);\n  } else {\n    enteringContentAnimation.addElement(contentEl || []);\n    enteringContentAnimation.addElement(headerEls);\n  }\n  rootAnimation.addAnimation(enteringContentAnimation);\n  enteringContentAnimation.beforeAddClass('animating').afterRemoveClass('animating');\n  if (backDirection) {\n    enteringContentAnimation.beforeClearStyles([OPACITY]).fromTo('transform', `translateX(${OFF_LEFT})`, `translateX(${CENTER})`).fromTo(OPACITY, OFF_OPACITY, 1);\n  } else {\n    // entering content, forward direction\n    enteringContentAnimation.beforeClearStyles([OPACITY]).fromTo('transform', `translateX(${OFF_RIGHT})`, `translateX(${CENTER})`);\n  }\n  if (contentEl) {\n    const enteringTransitionEffectEl = shadow(contentEl).querySelector('.transition-effect');\n    if (enteringTransitionEffectEl) {\n      const enteringTransitionCoverEl = enteringTransitionEffectEl.querySelector('.transition-cover');\n      const enteringTransitionShadowEl = enteringTransitionEffectEl.querySelector('.transition-shadow');\n      if (!enteringTransitionCoverEl || !enteringTransitionShadowEl) {\n        return rootAnimation;\n      }\n      const enteringTransitionEffect = createAnimation();\n      const enteringTransitionCover = createAnimation();\n      const enteringTransitionShadow = createAnimation();\n      enteringTransitionEffect.addElement(enteringTransitionEffectEl).beforeStyles({\n        opacity: '1',\n        display: 'block'\n      }).afterStyles({\n        opacity: '',\n        display: ''\n      });\n      enteringTransitionCover.addElement(enteringTransitionCoverEl).beforeClearStyles([OPACITY]).fromTo(OPACITY, 0, 0.1);\n      enteringTransitionShadow.addElement(enteringTransitionShadowEl).beforeClearStyles([OPACITY]).fromTo(OPACITY, 0.03, 0.70);\n      enteringTransitionEffect.addAnimation([enteringTransitionCover, enteringTransitionShadow]);\n      enteringContentAnimation.addAnimation([enteringTransitionEffect]);\n    }\n  }\n  const enteringContentHasCollapsibleTitle = enteringEl.querySelector('ion-header[collapsible]');\n  enteringToolBarEls.forEach(enteringToolBarEl => {\n    const enteringToolBar = createAnimation();\n    enteringToolBar.addElement(enteringToolBarEl);\n    rootAnimation.addAnimation(enteringToolBar);\n    const enteringTitle = createAnimation();\n    enteringTitle.addElement(enteringToolBarEl.querySelector('ion-title') || []);\n    const enteringToolBarButtons = createAnimation();\n    const buttons = Array.from(enteringToolBarEl.querySelectorAll('ion-buttons,[menuToggle]'));\n    enteringToolBarButtons.addElement(buttons);\n    const enteringToolBarItems = createAnimation();\n    enteringToolBarItems.addElement(enteringToolBarEl.querySelectorAll(':scope > *:not(ion-title):not(ion-buttons):not([menuToggle])'));\n    const enteringToolBarBg = createAnimation();\n    enteringToolBarBg.addElement(shadow(enteringToolBarEl).querySelector('.toolbar-background') || []);\n    const enteringBackButton = createAnimation();\n    const backButtonEl = enteringToolBarEl.querySelector('ion-back-button');\n    if (backButtonEl) {\n      enteringBackButton.addElement(backButtonEl);\n    }\n    enteringToolBar.addAnimation([enteringTitle, enteringToolBarButtons, enteringToolBarItems, enteringToolBarBg, enteringBackButton]);\n    enteringToolBarButtons.fromTo(OPACITY, 0.01, 1);\n    enteringToolBarItems.fromTo(OPACITY, 0.01, 1);\n    if (backDirection) {\n      enteringTitle.fromTo('transform', `translateX(${OFF_LEFT})`, `translateX(${CENTER})`).fromTo(OPACITY, 0.01, 1);\n      enteringToolBarItems.fromTo('transform', `translateX(${OFF_LEFT})`, `translateX(${CENTER})`);\n      // back direction, entering page has a back button\n      enteringBackButton.fromTo(OPACITY, 0.01, 1);\n    } else {\n      // entering toolbar, forward direction\n      if (!enteringContentHasCollapsibleTitle) {\n        enteringTitle.fromTo('transform', `translateX(${OFF_RIGHT})`, `translateX(${CENTER})`).fromTo(OPACITY, 0.01, 1);\n      }\n      enteringToolBarItems.fromTo('transform', `translateX(${OFF_RIGHT})`, `translateX(${CENTER})`);\n      enteringToolBarBg.beforeClearStyles([OPACITY, 'transform']);\n      enteringToolBarBg.fromTo(OPACITY, 0.01, 'var(--opacity)');\n      // forward direction, entering page has a back button\n      enteringBackButton.fromTo(OPACITY, 0.01, 1);\n      if (backButtonEl) {\n        const enteringBackBtnText = createAnimation();\n        enteringBackBtnText.addElement(shadow(backButtonEl).querySelector('.button-text') || []).fromTo('transform', isRTL ? 'translateX(-100px)' : 'translateX(100px)', 'translateX(0px)');\n        enteringToolBar.addAnimation(enteringBackBtnText);\n      }\n    }\n  });\n  // setup leaving view\n  if (leavingEl) {\n    const leavingContent = createAnimation();\n    leavingContent.beforeAddClass('animating').afterRemoveClass('animating');\n    const leavingContentEl = leavingEl.querySelector(':scope > ion-content');\n    const leavingToolBarEls = leavingEl.querySelectorAll(':scope > ion-header > ion-toolbar');\n    const leavingHeaderEls = leavingEl.querySelectorAll(':scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *');\n    if (!leavingContentEl && leavingToolBarEls.length === 0 && leavingHeaderEls.length === 0) {\n      leavingContent.addElement(leavingEl.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs') || []);\n    } else {\n      leavingContent.addElement(leavingContentEl || []);\n      leavingContent.addElement(leavingHeaderEls);\n    }\n    rootAnimation.addAnimation(leavingContent);\n    // Check if leaving content is being translated using transform styles and decide to use fromTo or only To animation.\n    const hasTransformStyle = !!leavingContentEl && leavingContentEl.style.transform !== '';\n    if (backDirection) {\n      // leaving content, back direction\n      if (hasTransformStyle) {\n        leavingContent.to('transform', isRTL ? 'translateX(-100%)' : 'translateX(100%)').fromTo(OPACITY, 1, OFF_OPACITY);\n      } else {\n        leavingContent.beforeClearStyles([OPACITY]).fromTo('transform', `translateX(${CENTER})`, isRTL ? 'translateX(-100%)' : 'translateX(100%)');\n      }\n      const leavingPage = getIonPageElement(leavingEl);\n      rootAnimation.afterAddWrite(() => {\n        if (rootAnimation.getDirection() === 'normal') {\n          leavingPage.style.setProperty('display', 'none');\n        }\n      });\n    } else {\n      // leaving content, forward direction\n      if (hasTransformStyle) {\n        leavingContent.to('transform', isRTL ? 'translateX(100%)' : 'translateX(-100%)').fromTo(OPACITY, 1, OFF_OPACITY);\n      } else {\n        leavingContent.fromTo('transform', `translateX(${CENTER})`, `translateX(${OFF_LEFT})`).fromTo(OPACITY, 1, OFF_OPACITY);\n      }\n    }\n    if (leavingContentEl) {\n      const leavingTransitionEffectEl = shadow(leavingContentEl).querySelector('.transition-effect');\n      if (leavingTransitionEffectEl) {\n        const leavingTransitionCoverEl = leavingTransitionEffectEl.querySelector('.transition-cover');\n        const leavingTransitionShadowEl = leavingTransitionEffectEl.querySelector('.transition-shadow');\n        const leavingTransitionEffect = createAnimation();\n        const leavingTransitionCover = createAnimation();\n        const leavingTransitionShadow = createAnimation();\n        leavingTransitionEffect.addElement(leavingTransitionEffectEl).beforeStyles({\n          opacity: '1',\n          display: 'block'\n        }).afterStyles({\n          opacity: '',\n          display: ''\n        });\n        leavingTransitionCover.addElement(leavingTransitionCoverEl || []).beforeClearStyles([OPACITY]).fromTo(OPACITY, 0.1, 0);\n        leavingTransitionShadow.addElement(leavingTransitionShadowEl || []).beforeClearStyles([OPACITY]).fromTo(OPACITY, 0.70, 0.03);\n        leavingTransitionEffect.addAnimation([leavingTransitionCover, leavingTransitionShadow]);\n        leavingContent.addAnimation([leavingTransitionEffect]);\n      }\n    }\n    leavingToolBarEls.forEach(leavingToolBarEl => {\n      const leavingToolBar = createAnimation();\n      leavingToolBar.addElement(leavingToolBarEl);\n      const leavingTitle = createAnimation();\n      leavingTitle.addElement(leavingToolBarEl.querySelector('ion-title') || []);\n      const leavingToolBarButtons = createAnimation();\n      const buttons = Array.from(leavingToolBarEl.querySelectorAll('ion-buttons,[menuToggle]'));\n      leavingToolBarButtons.addElement(buttons);\n      const leavingToolBarItems = createAnimation();\n      const leavingToolBarItemEls = leavingToolBarEl.querySelectorAll(':scope > *:not(ion-title):not(ion-buttons):not([menuToggle])');\n      if (leavingToolBarItemEls.length > 0) {\n        leavingToolBarItems.addElement(leavingToolBarItemEls);\n      }\n      const leavingToolBarBg = createAnimation();\n      leavingToolBarBg.addElement(shadow(leavingToolBarEl).querySelector('.toolbar-background') || []);\n      const leavingBackButton = createAnimation();\n      const backButtonEl = leavingToolBarEl.querySelector('ion-back-button');\n      if (backButtonEl) {\n        leavingBackButton.addElement(backButtonEl);\n      }\n      leavingToolBar.addAnimation([leavingTitle, leavingToolBarButtons, leavingToolBarItems, leavingBackButton, leavingToolBarBg]);\n      rootAnimation.addAnimation(leavingToolBar);\n      // fade out leaving toolbar items\n      leavingBackButton.fromTo(OPACITY, 0.99, 0);\n      leavingToolBarButtons.fromTo(OPACITY, 0.99, 0);\n      leavingToolBarItems.fromTo(OPACITY, 0.99, 0);\n      if (backDirection) {\n        // leaving toolbar, back direction\n        leavingTitle.fromTo('transform', `translateX(${CENTER})`, isRTL ? 'translateX(-100%)' : 'translateX(100%)').fromTo(OPACITY, 0.99, 0);\n        leavingToolBarItems.fromTo('transform', `translateX(${CENTER})`, isRTL ? 'translateX(-100%)' : 'translateX(100%)');\n        leavingToolBarBg.beforeClearStyles([OPACITY, 'transform']);\n        // leaving toolbar, back direction, and there's no entering toolbar\n        // should just slide out, no fading out\n        leavingToolBarBg.fromTo(OPACITY, 'var(--opacity)', 0);\n        if (backButtonEl) {\n          const leavingBackBtnText = createAnimation();\n          leavingBackBtnText.addElement(shadow(backButtonEl).querySelector('.button-text') || []).fromTo('transform', `translateX(${CENTER})`, `translateX(${(isRTL ? -124 : 124) + 'px'})`);\n          leavingToolBar.addAnimation(leavingBackBtnText);\n        }\n      } else {\n        // leaving toolbar, forward direction\n        leavingTitle.fromTo('transform', `translateX(${CENTER})`, `translateX(${OFF_LEFT})`).fromTo(OPACITY, 0.99, 0).afterClearStyles([TRANSFORM, OPACITY]);\n        leavingToolBarItems.fromTo('transform', `translateX(${CENTER})`, `translateX(${OFF_LEFT})`).afterClearStyles([TRANSFORM, OPACITY]);\n        leavingBackButton.afterClearStyles([OPACITY]);\n        leavingTitle.afterClearStyles([OPACITY]);\n        leavingToolBarButtons.afterClearStyles([OPACITY]);\n      }\n    });\n  }\n  return rootAnimation;\n};","map":{"version":3,"names":["createAnimation","getIonPageElement","DURATION","shadow","el","shadowRoot","moodleTransitionAnimation","navEl","opts","EASING","OPACITY","TRANSFORM","CENTER","OFF_OPACITY","isRTL","ownerDocument","dir","OFF_RIGHT","OFF_LEFT","enteringEl","leavingEl","backDirection","direction","contentEl","querySelector","headerEls","querySelectorAll","enteringToolBarEls","rootAnimation","enteringContentAnimation","addElement","duration","easing","fill","beforeRemoveClass","navDecorAnimation","addAnimation","length","beforeAddClass","afterRemoveClass","beforeClearStyles","fromTo","enteringTransitionEffectEl","enteringTransitionCoverEl","enteringTransitionShadowEl","enteringTransitionEffect","enteringTransitionCover","enteringTransitionShadow","beforeStyles","opacity","display","afterStyles","enteringContentHasCollapsibleTitle","forEach","enteringToolBarEl","enteringToolBar","enteringTitle","enteringToolBarButtons","buttons","Array","from","enteringToolBarItems","enteringToolBarBg","enteringBackButton","backButtonEl","enteringBackBtnText","leavingContent","leavingContentEl","leavingToolBarEls","leavingHeaderEls","hasTransformStyle","style","transform","to","leavingPage","afterAddWrite","getDirection","setProperty","leavingTransitionEffectEl","leavingTransitionCoverEl","leavingTransitionShadowEl","leavingTransitionEffect","leavingTransitionCover","leavingTransitionShadow","leavingToolBarEl","leavingToolBar","leavingTitle","leavingToolBarButtons","leavingToolBarItems","leavingToolBarItemEls","leavingToolBarBg","leavingBackButton","leavingBackBtnText","afterClearStyles"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/classes/page-transition.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { TransitionOptions, createAnimation, getIonPageElement } from '@ionic/angular';\nimport { Animation } from '@ionic/core';\n\n/**\n * Adaptation from Ionic 7 iOs transition.\n *\n * https://github.com/ionic-team/ionic-framework/blob/v7.5.6/core/src/utils/transition/ios.transition.ts\n * Removed large title options, translucent header, buttons-collapse and header-collapse-condense-inactive.\n * Changed large title check by collapsible header.\n */\n\nconst DURATION = 540;\n\nconst shadow = <T extends Element>(el: T): ShadowRoot | T => el.shadowRoot || el;\n\nexport const moodleTransitionAnimation = (navEl: HTMLElement, opts: TransitionOptions): Animation => {\n    const EASING = 'cubic-bezier(0.32,0.72,0,1)';\n    const OPACITY = 'opacity';\n    const TRANSFORM = 'transform';\n    const CENTER = '0%';\n    const OFF_OPACITY = 0.8;\n\n    const isRTL = navEl.ownerDocument.dir === 'rtl';\n    const OFF_RIGHT = isRTL ? '-99.5%' : '99.5%';\n    const OFF_LEFT = isRTL ? '33%' : '-33%';\n\n    const enteringEl = opts.enteringEl;\n    const leavingEl = opts.leavingEl;\n\n    const backDirection = (opts.direction === 'back');\n    const contentEl = enteringEl.querySelector(':scope > ion-content');\n    const headerEls = enteringEl.querySelectorAll(':scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *');\n    const enteringToolBarEls = enteringEl.querySelectorAll(':scope > ion-header > ion-toolbar');\n\n    const rootAnimation = createAnimation();\n    const enteringContentAnimation = createAnimation();\n\n    rootAnimation\n        .addElement(enteringEl)\n        .duration(opts.duration || DURATION)\n        .easing(opts.easing || EASING)\n        .fill('both')\n        .beforeRemoveClass('ion-page-invisible');\n\n    if (leavingEl && navEl) {\n        const navDecorAnimation = createAnimation();\n        navDecorAnimation.addElement(navEl);\n        rootAnimation.addAnimation(navDecorAnimation);\n    }\n\n    if (!contentEl && enteringToolBarEls.length === 0 && headerEls.length === 0) {\n        enteringContentAnimation.addElement(\n            enteringEl.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs') || [],\n        );\n    } else {\n        enteringContentAnimation.addElement(contentEl || []);\n        enteringContentAnimation.addElement(headerEls);\n    }\n\n    rootAnimation.addAnimation(enteringContentAnimation);\n    enteringContentAnimation.beforeAddClass('animating').afterRemoveClass('animating');\n\n    if (backDirection) {\n        enteringContentAnimation\n            .beforeClearStyles([OPACITY])\n            .fromTo('transform', `translateX(${OFF_LEFT})`, `translateX(${CENTER})`)\n            .fromTo(OPACITY, OFF_OPACITY, 1);\n    } else {\n        // entering content, forward direction\n        enteringContentAnimation\n            .beforeClearStyles([OPACITY])\n            .fromTo('transform', `translateX(${OFF_RIGHT})`, `translateX(${CENTER})`);\n    }\n\n    if (contentEl) {\n        const enteringTransitionEffectEl: HTMLElement | null = shadow(contentEl).querySelector('.transition-effect');\n        if (enteringTransitionEffectEl) {\n            const enteringTransitionCoverEl: HTMLElement | null = enteringTransitionEffectEl.querySelector('.transition-cover');\n            const enteringTransitionShadowEl: HTMLElement | null = enteringTransitionEffectEl.querySelector('.transition-shadow');\n\n            if (!enteringTransitionCoverEl || !enteringTransitionShadowEl) {\n                return rootAnimation;\n            }\n\n            const enteringTransitionEffect = createAnimation();\n            const enteringTransitionCover = createAnimation();\n            const enteringTransitionShadow = createAnimation();\n\n            enteringTransitionEffect\n                .addElement(enteringTransitionEffectEl)\n                .beforeStyles({ opacity: '1', display: 'block' })\n                .afterStyles({ opacity: '', display: '' });\n\n            enteringTransitionCover\n                .addElement(enteringTransitionCoverEl)\n                .beforeClearStyles([OPACITY])\n                .fromTo(OPACITY, 0, 0.1);\n\n            enteringTransitionShadow\n                .addElement(enteringTransitionShadowEl)\n                .beforeClearStyles([OPACITY])\n                .fromTo(OPACITY, 0.03, 0.70);\n\n            enteringTransitionEffect.addAnimation([enteringTransitionCover, enteringTransitionShadow]);\n            enteringContentAnimation.addAnimation([enteringTransitionEffect]);\n        }\n    }\n\n    const enteringContentHasCollapsibleTitle = enteringEl.querySelector('ion-header[collapsible]');\n    enteringToolBarEls.forEach(enteringToolBarEl => {\n        const enteringToolBar = createAnimation();\n        enteringToolBar.addElement(enteringToolBarEl);\n        rootAnimation.addAnimation(enteringToolBar);\n\n        const enteringTitle = createAnimation();\n        enteringTitle.addElement(enteringToolBarEl.querySelector('ion-title') || []);\n\n        const enteringToolBarButtons = createAnimation();\n        const buttons: HTMLIonButtonsElement[] = Array.from(enteringToolBarEl.querySelectorAll('ion-buttons,[menuToggle]'));\n\n        enteringToolBarButtons.addElement(buttons);\n\n        const enteringToolBarItems = createAnimation();\n        enteringToolBarItems.addElement(\n            enteringToolBarEl.querySelectorAll(':scope > *:not(ion-title):not(ion-buttons):not([menuToggle])'),\n        );\n\n        const enteringToolBarBg = createAnimation();\n        enteringToolBarBg.addElement(shadow(enteringToolBarEl).querySelector('.toolbar-background') || []);\n\n        const enteringBackButton = createAnimation();\n        const backButtonEl = enteringToolBarEl.querySelector('ion-back-button');\n\n        if (backButtonEl) {\n            enteringBackButton.addElement(backButtonEl);\n        }\n\n        enteringToolBar.addAnimation(\n            [enteringTitle, enteringToolBarButtons, enteringToolBarItems, enteringToolBarBg, enteringBackButton],\n        );\n        enteringToolBarButtons.fromTo(OPACITY, 0.01, 1);\n        enteringToolBarItems.fromTo(OPACITY, 0.01, 1);\n\n        if (backDirection) {\n            enteringTitle\n                .fromTo('transform', `translateX(${OFF_LEFT})`, `translateX(${CENTER})`)\n                .fromTo(OPACITY, 0.01, 1);\n\n            enteringToolBarItems.fromTo('transform', `translateX(${OFF_LEFT})`, `translateX(${CENTER})`);\n\n            // back direction, entering page has a back button\n            enteringBackButton.fromTo(OPACITY, 0.01, 1);\n        } else {\n            // entering toolbar, forward direction\n            if (!enteringContentHasCollapsibleTitle) {\n                enteringTitle\n                    .fromTo('transform', `translateX(${OFF_RIGHT})`, `translateX(${CENTER})`)\n                    .fromTo(OPACITY, 0.01, 1);\n            }\n\n            enteringToolBarItems.fromTo('transform', `translateX(${OFF_RIGHT})`, `translateX(${CENTER})`);\n            enteringToolBarBg.beforeClearStyles([OPACITY, 'transform']);\n\n            enteringToolBarBg.fromTo(OPACITY, 0.01, 'var(--opacity)');\n\n            // forward direction, entering page has a back button\n            enteringBackButton.fromTo(OPACITY, 0.01, 1);\n\n            if (backButtonEl) {\n                const enteringBackBtnText = createAnimation();\n                enteringBackBtnText\n                    .addElement(shadow(backButtonEl).querySelector('.button-text') || [])\n                    .fromTo('transform', (isRTL ? 'translateX(-100px)' : 'translateX(100px)'), 'translateX(0px)');\n\n                enteringToolBar.addAnimation(enteringBackBtnText);\n            }\n        }\n    });\n\n    // setup leaving view\n    if (leavingEl) {\n        const leavingContent = createAnimation();\n        leavingContent.beforeAddClass('animating').afterRemoveClass('animating');\n\n        const leavingContentEl = leavingEl.querySelector(':scope > ion-content');\n        const leavingToolBarEls = leavingEl.querySelectorAll(':scope > ion-header > ion-toolbar');\n        const leavingHeaderEls = leavingEl.querySelectorAll(':scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *');\n\n        if (!leavingContentEl && leavingToolBarEls.length === 0 && leavingHeaderEls.length === 0) {\n            leavingContent.addElement(\n                leavingEl.querySelector(':scope > .ion-page, :scope > ion-nav, :scope > ion-tabs') || [],\n            );\n        } else {\n            leavingContent.addElement(leavingContentEl || []);\n            leavingContent.addElement(leavingHeaderEls);\n        }\n\n        rootAnimation.addAnimation(leavingContent);\n\n        // Check if leaving content is being translated using transform styles and decide to use fromTo or only To animation.\n        const hasTransformStyle = !!leavingContentEl && (leavingContentEl as HTMLElement).style.transform !== '';\n        if (backDirection) {\n            // leaving content, back direction\n            if (hasTransformStyle) {\n                leavingContent\n                    .to('transform', (isRTL ? 'translateX(-100%)' : 'translateX(100%)'))\n                    .fromTo(OPACITY, 1, OFF_OPACITY);\n            } else {\n                leavingContent\n                    .beforeClearStyles([OPACITY])\n                    .fromTo('transform', `translateX(${CENTER})`, (isRTL ? 'translateX(-100%)' : 'translateX(100%)'));\n            }\n\n            const leavingPage = getIonPageElement(leavingEl) as HTMLElement;\n            rootAnimation.afterAddWrite(() => {\n                if (rootAnimation.getDirection() === 'normal') {\n                    leavingPage.style.setProperty('display', 'none');\n                }\n            });\n\n        } else {\n            // leaving content, forward direction\n            if (hasTransformStyle) {\n                leavingContent\n                    .to('transform', (isRTL ? 'translateX(100%)' : 'translateX(-100%)'))\n                    .fromTo(OPACITY, 1, OFF_OPACITY);\n            } else {\n                leavingContent\n                    .fromTo('transform', `translateX(${CENTER})`, `translateX(${OFF_LEFT})`)\n                    .fromTo(OPACITY, 1, OFF_OPACITY);\n            }\n        }\n\n        if (leavingContentEl) {\n            const leavingTransitionEffectEl = shadow(leavingContentEl).querySelector('.transition-effect');\n\n            if (leavingTransitionEffectEl) {\n                const leavingTransitionCoverEl = leavingTransitionEffectEl.querySelector('.transition-cover');\n                const leavingTransitionShadowEl = leavingTransitionEffectEl.querySelector('.transition-shadow');\n\n                const leavingTransitionEffect = createAnimation();\n                const leavingTransitionCover = createAnimation();\n                const leavingTransitionShadow = createAnimation();\n\n                leavingTransitionEffect\n                    .addElement(leavingTransitionEffectEl)\n                    .beforeStyles({ opacity: '1', display: 'block' })\n                    .afterStyles({ opacity: '', display: '' });\n\n                leavingTransitionCover\n                    .addElement(leavingTransitionCoverEl || [])\n                    .beforeClearStyles([OPACITY])\n                    .fromTo(OPACITY, 0.1, 0);\n\n                leavingTransitionShadow\n                    .addElement(leavingTransitionShadowEl || [])\n                    .beforeClearStyles([OPACITY])\n                    .fromTo(OPACITY, 0.70, 0.03);\n\n                leavingTransitionEffect.addAnimation([leavingTransitionCover, leavingTransitionShadow]);\n                leavingContent.addAnimation([leavingTransitionEffect]);\n            }\n        }\n\n        leavingToolBarEls.forEach(leavingToolBarEl => {\n            const leavingToolBar = createAnimation();\n            leavingToolBar.addElement(leavingToolBarEl);\n\n            const leavingTitle = createAnimation();\n            leavingTitle.addElement(leavingToolBarEl.querySelector('ion-title') || []);\n\n            const leavingToolBarButtons = createAnimation();\n            const buttons: HTMLIonButtonsElement[] = Array.from(leavingToolBarEl.querySelectorAll('ion-buttons,[menuToggle]'));\n\n            leavingToolBarButtons.addElement(buttons);\n\n            const leavingToolBarItems = createAnimation();\n            const leavingToolBarItemEls =\n                leavingToolBarEl.querySelectorAll(':scope > *:not(ion-title):not(ion-buttons):not([menuToggle])');\n            if (leavingToolBarItemEls.length > 0) {\n                leavingToolBarItems.addElement(leavingToolBarItemEls);\n            }\n\n            const leavingToolBarBg = createAnimation();\n            leavingToolBarBg.addElement(shadow(leavingToolBarEl).querySelector('.toolbar-background') || []);\n\n            const leavingBackButton = createAnimation();\n            const backButtonEl = leavingToolBarEl.querySelector('ion-back-button');\n            if (backButtonEl) {\n                leavingBackButton.addElement(backButtonEl);\n            }\n\n            leavingToolBar.addAnimation(\n                [leavingTitle, leavingToolBarButtons, leavingToolBarItems, leavingBackButton, leavingToolBarBg],\n            );\n            rootAnimation.addAnimation(leavingToolBar);\n\n            // fade out leaving toolbar items\n            leavingBackButton.fromTo(OPACITY, 0.99, 0);\n\n            leavingToolBarButtons.fromTo(OPACITY, 0.99, 0);\n            leavingToolBarItems.fromTo(OPACITY, 0.99, 0);\n\n            if (backDirection) {\n                // leaving toolbar, back direction\n                leavingTitle\n                    .fromTo('transform', `translateX(${CENTER})`, (isRTL ? 'translateX(-100%)' : 'translateX(100%)'))\n                    .fromTo(OPACITY, 0.99, 0);\n\n                leavingToolBarItems.fromTo(\n                    'transform',\n                    `translateX(${CENTER})`,\n                    (isRTL ? 'translateX(-100%)' : 'translateX(100%)'),\n                );\n                leavingToolBarBg.beforeClearStyles([OPACITY, 'transform']);\n                // leaving toolbar, back direction, and there's no entering toolbar\n                // should just slide out, no fading out\n                leavingToolBarBg.fromTo(OPACITY, 'var(--opacity)', 0);\n\n                if (backButtonEl) {\n                    const leavingBackBtnText = createAnimation();\n                    leavingBackBtnText\n                        .addElement(shadow(backButtonEl).querySelector('.button-text') || [])\n                        .fromTo('transform', `translateX(${CENTER})`, `translateX(${(isRTL ? -124 : 124) + 'px'})`);\n                    leavingToolBar.addAnimation(leavingBackBtnText);\n                }\n\n            } else {\n                // leaving toolbar, forward direction\n                leavingTitle\n                    .fromTo('transform', `translateX(${CENTER})`, `translateX(${OFF_LEFT})`)\n                    .fromTo(OPACITY, 0.99, 0)\n                    .afterClearStyles([TRANSFORM, OPACITY]);\n\n                leavingToolBarItems\n                    .fromTo('transform', `translateX(${CENTER})`, `translateX(${OFF_LEFT})`)\n                    .afterClearStyles([TRANSFORM, OPACITY]);\n\n                leavingBackButton.afterClearStyles([OPACITY]);\n                leavingTitle.afterClearStyles([OPACITY]);\n                leavingToolBarButtons.afterClearStyles([OPACITY]);\n            }\n        });\n    }\n\n    return rootAnimation;\n\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}