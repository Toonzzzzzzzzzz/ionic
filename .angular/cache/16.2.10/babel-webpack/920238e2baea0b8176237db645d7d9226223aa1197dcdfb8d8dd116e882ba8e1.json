{"ast":null,"code":"var _class;\nimport { PopoverController } from '@singletons';\nimport * as i0 from \"@angular/core\";\nfunction AddonModWikiSubwikiPickerComponent_ng_container_2_ion_item_divider_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item-divider\")(1, \"ion-label\");\n    i0.ɵɵelement(2, \"core-format-text\", 3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const group_r1 = i0.ɵɵnextContext().$implicit;\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"text\", group_r1.label)(\"contextInstanceId\", ctx_r2.courseId)(\"wsNotFiltered\", true);\n  }\n}\nfunction AddonModWikiSubwikiPickerComponent_ng_container_2_ion_item_2_ion_icon_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 7);\n  }\n}\nfunction AddonModWikiSubwikiPickerComponent_ng_container_2_ion_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 4);\n    i0.ɵɵlistener(\"click\", function AddonModWikiSubwikiPickerComponent_ng_container_2_ion_item_2_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r8);\n      const subwiki_r5 = restoredCtx.$implicit;\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.openSubwiki(subwiki_r5));\n    });\n    i0.ɵɵelementStart(1, \"ion-label\");\n    i0.ɵɵelement(2, \"core-format-text\", 5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(3, AddonModWikiSubwikiPickerComponent_ng_container_2_ion_item_2_ion_icon_3_Template, 1, 0, \"ion-icon\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const subwiki_r5 = ctx.$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵattribute(\"aria-current\", ctx_r3.isSubwikiSelected(subwiki_r5) ? \"page\" : \"false\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"text\", subwiki_r5.name)(\"contextInstanceId\", ctx_r3.courseId)(\"wsNotFiltered\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.isSubwikiSelected(subwiki_r5));\n  }\n}\nfunction AddonModWikiSubwikiPickerComponent_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddonModWikiSubwikiPickerComponent_ng_container_2_ion_item_divider_1_Template, 3, 3, \"ion-item-divider\", 1);\n    i0.ɵɵtemplate(2, AddonModWikiSubwikiPickerComponent_ng_container_2_ion_item_2_Template, 4, 6, \"ion-item\", 2);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const group_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", group_r1.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", group_r1.subwikis);\n  }\n}\n/**\n * Component to display the a list of subwikis in a wiki.\n */\nexport class AddonModWikiSubwikiPickerComponent {\n  constructor() {\n    this.subwikis = [];\n  }\n  /**\n   * Checks if the given subwiki is the one currently selected.\n   *\n   * @param subwiki Subwiki to check.\n   * @returns Whether it's the selected subwiki.\n   */\n  isSubwikiSelected(subwiki) {\n    if (subwiki.id > 0 && this.currentSubwiki.id > 0) {\n      return subwiki.id === this.currentSubwiki.id;\n    }\n    return subwiki.userid === this.currentSubwiki.userid && subwiki.groupid === this.currentSubwiki.groupid;\n  }\n  /**\n   * Function called when a subwiki is clicked.\n   *\n   * @param subwiki The subwiki to open.\n   */\n  openSubwiki(subwiki) {\n    // Check if it isn't current subwiki.\n    if (subwiki !== this.currentSubwiki) {\n      PopoverController.dismiss(subwiki);\n    }\n  }\n}\n_class = AddonModWikiSubwikiPickerComponent;\n_class.ɵfac = function AddonModWikiSubwikiPickerComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"addon-mod-wiki-subwiki-picker\"]],\n  inputs: {\n    courseId: \"courseId\",\n    subwikis: \"subwikis\",\n    currentSubwiki: \"currentSubwiki\"\n  },\n  decls: 3,\n  vars: 1,\n  consts: [[4, \"ngFor\", \"ngForOf\"], [4, \"ngIf\"], [\"class\", \"ion-text-wrap\", \"button\", \"\", 3, \"detail\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"contextLevel\", \"course\", 1, \"item-heading\", 3, \"text\", \"contextInstanceId\", \"wsNotFiltered\"], [\"button\", \"\", 1, \"ion-text-wrap\", 3, \"detail\", \"click\"], [\"contextLevel\", \"course\", 3, \"text\", \"contextInstanceId\", \"wsNotFiltered\"], [\"name\", \"fas-check\", \"slot\", \"end\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [\"name\", \"fas-check\", \"slot\", \"end\", \"aria-hidden\", \"true\"]],\n  template: function AddonModWikiSubwikiPickerComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-content\")(1, \"ion-list\");\n      i0.ɵɵtemplate(2, AddonModWikiSubwikiPickerComponent_ng_container_2_Template, 3, 2, \"ng-container\", 0);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.subwikis);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"names":["PopoverController","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","group_r1","label","ctx_r2","courseId","ɵɵlistener","AddonModWikiSubwikiPickerComponent_ng_container_2_ion_item_2_Template_ion_item_click_0_listener","restoredCtx","ɵɵrestoreView","_r8","subwiki_r5","$implicit","ctx_r7","ɵɵnextContext","ɵɵresetView","openSubwiki","ɵɵtemplate","AddonModWikiSubwikiPickerComponent_ng_container_2_ion_item_2_ion_icon_3_Template","ɵɵattribute","ctx_r3","isSubwikiSelected","name","ɵɵelementContainerStart","AddonModWikiSubwikiPickerComponent_ng_container_2_ion_item_divider_1_Template","AddonModWikiSubwikiPickerComponent_ng_container_2_ion_item_2_Template","ɵɵelementContainerEnd","subwikis","AddonModWikiSubwikiPickerComponent","constructor","subwiki","id","currentSubwiki","userid","groupid","dismiss","selectors","inputs","decls","vars","consts","template","AddonModWikiSubwikiPickerComponent_Template","rf","ctx","AddonModWikiSubwikiPickerComponent_ng_container_2_Template"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/wiki/components/subwiki-picker/subwiki-picker.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/wiki/components/subwiki-picker/addon-mod-wiki-subwiki-picker.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input } from '@angular/core';\nimport { PopoverController } from '@singletons';\nimport { AddonModWikiSubwiki, AddonModWikiSubwikiListGrouping } from '../../services/wiki';\n\n/**\n * Component to display the a list of subwikis in a wiki.\n */\n@Component({\n    selector: 'addon-mod-wiki-subwiki-picker',\n    templateUrl: 'addon-mod-wiki-subwiki-picker.html',\n})\nexport class AddonModWikiSubwikiPickerComponent {\n\n    @Input() courseId?: number;\n    @Input() subwikis: AddonModWikiSubwikiListGrouping[] = [];\n    @Input() currentSubwiki!: AddonModWikiSubwiki;\n\n    /**\n     * Checks if the given subwiki is the one currently selected.\n     *\n     * @param subwiki Subwiki to check.\n     * @returns Whether it's the selected subwiki.\n     */\n    isSubwikiSelected(subwiki: AddonModWikiSubwiki): boolean {\n\n        if (subwiki.id > 0 && this.currentSubwiki.id > 0) {\n            return subwiki.id === this.currentSubwiki.id;\n        }\n\n        return subwiki.userid === this.currentSubwiki.userid && subwiki.groupid === this.currentSubwiki.groupid;\n    }\n\n    /**\n     * Function called when a subwiki is clicked.\n     *\n     * @param subwiki The subwiki to open.\n     */\n    openSubwiki(subwiki: AddonModWikiSubwiki): void {\n        // Check if it isn't current subwiki.\n        if (subwiki !== this.currentSubwiki) {\n            PopoverController.dismiss(subwiki);\n        }\n    }\n\n}\n","<ion-content>\n    <ion-list>\n        <ng-container *ngFor=\"let group of subwikis\">\n            <ion-item-divider *ngIf=\"group.label\">\n                <ion-label>\n                    <core-format-text [text]=\"group.label\" contextLevel=\"course\" [contextInstanceId]=\"courseId\" [wsNotFiltered]=\"true\"\n                        class=\"item-heading\" />\n                </ion-label>\n            </ion-item-divider>\n            <ion-item class=\"ion-text-wrap\" *ngFor=\"let subwiki of group.subwikis\" (click)=\"openSubwiki(subwiki)\" button\n                [attr.aria-current]=\"isSubwikiSelected(subwiki) ? 'page' : 'false'\" [detail]=\"false\">\n                <ion-label>\n                    <core-format-text [text]=\"subwiki.name\" contextLevel=\"course\" [contextInstanceId]=\"courseId\" [wsNotFiltered]=\"true\" />\n                </ion-label>\n                <ion-icon *ngIf=\"isSubwikiSelected(subwiki)\" name=\"fas-check\" slot=\"end\" aria-hidden=\"true\" />\n            </ion-item>\n        </ng-container>\n    </ion-list>\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}