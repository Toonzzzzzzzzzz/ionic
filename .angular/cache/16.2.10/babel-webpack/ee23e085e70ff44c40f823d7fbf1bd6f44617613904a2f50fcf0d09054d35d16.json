{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreEvents } from '@singletons/events';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreCourses, CoreCoursesProvider } from '@features/courses/services/courses';\nimport { CoreCourseOptionsDelegate } from '@features/course/services/course-options-delegate';\nimport { CoreCourseHelper } from '@features/course/services/course-helper';\nimport { ActionSheetController, ModalController, NgZone, Translate } from '@singletons';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreCoursesHelper } from '@features/courses/services/courses-helper';\nimport { CoreColors } from '@singletons/colors';\nimport { CorePath } from '@singletons/path';\nimport { CorePlatform } from '@services/platform';\nimport { CoreTime } from '@singletons/time';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\nimport { CoreEnrolHelper } from '@features/enrol/services/enrol-helper';\nimport { CoreEnrolDelegate } from '@features/enrol/services/enrol-delegate';\nimport { CoreEnrol } from '@features/enrol/services/enrol';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"courseThumb\"];\nfunction CoreCourseSummaryPage_ion_buttons_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-buttons\", 10)(1, \"ion-button\", 11);\n    i0.ɵɵlistener(\"click\", function CoreCourseSummaryPage_ion_buttons_6_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.closeModal());\n    });\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelement(3, \"ion-icon\", 12);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(2, 1, \"core.close\"));\n  }\n}\nfunction CoreCourseSummaryPage_div_12_img_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"img\", 17);\n    i0.ɵɵlistener(\"error\", function CoreCourseSummaryPage_div_12_img_2_Template_img_error_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.loadFallbackCourseIcon());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"src\", ctx_r7.course.courseimage, i0.ɵɵsanitizeUrl);\n  }\n}\nfunction CoreCourseSummaryPage_div_12_ion_icon_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 18);\n  }\n}\nfunction CoreCourseSummaryPage_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13, 14);\n    i0.ɵɵtemplate(2, CoreCourseSummaryPage_div_12_img_2_Template, 1, 1, \"img\", 15);\n    i0.ɵɵtemplate(3, CoreCourseSummaryPage_div_12_ion_icon_3_Template, 1, 0, \"ion-icon\", 16);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.course.courseimage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.course.courseimage);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 29);\n    i0.ɵɵelement(1, \"core-format-text\", 24);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"text\", ctx_r11.course.shortname)(\"contextInstanceId\", ctx_r11.course.id);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_chip_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-chip\", 30)(1, \"span\", 23);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-label\");\n    i0.ɵɵelement(5, \"core-format-text\", 31);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 3, \"core.courses.aria:coursecategory\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"text\", ctx_r12.course.categoryname)(\"contextInstanceId\", ctx_r12.course.categoryid);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-button\", 32);\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelement(2, \"ion-icon\", 33);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"href\", ctx_r13.courseUrl)(\"showBrowserWarning\", false);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 3, \"core.openinbrowser\"));\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_item_12_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 37);\n    i0.ɵɵelement(1, \"core-progress-bar\", 38);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"progress\", ctx_r18.progress);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_item_12_div_3_core_reminders_date_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-reminders-date\", 42);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"instanceId\", ctx_r20.course.id)(\"label\", i0.ɵɵpipeBind1(1, 5, \"core.course.startdate\"))(\"time\", ctx_r20.course.startdate)(\"title\", ctx_r20.course.fullname)(\"url\", ctx_r20.courseUrl);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_item_12_div_3_core_reminders_date_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-reminders-date\", 43);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"instanceId\", ctx_r21.course.id)(\"label\", i0.ɵɵpipeBind1(1, 5, \"core.course.enddate\"))(\"time\", ctx_r21.course.enddate)(\"title\", ctx_r21.course.fullname)(\"url\", ctx_r21.courseUrl);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_item_12_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39);\n    i0.ɵɵtemplate(1, CoreCourseSummaryPage_div_13_ion_item_12_div_3_core_reminders_date_1_Template, 2, 7, \"core-reminders-date\", 40);\n    i0.ɵɵtemplate(2, CoreCourseSummaryPage_div_13_ion_item_12_div_3_core_reminders_date_2_Template, 2, 7, \"core-reminders-date\", 41);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r19.course.startdate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r19.course.enddate);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_item_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 34)(1, \"ion-label\");\n    i0.ɵɵtemplate(2, CoreCourseSummaryPage_div_13_ion_item_12_div_2_Template, 2, 1, \"div\", 35);\n    i0.ɵɵtemplate(3, CoreCourseSummaryPage_div_13_ion_item_12_div_3_Template, 3, 2, \"div\", 36);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.progress !== undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.course.startdate || ctx_r14.course.enddate);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_item_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 44)(1, \"ion-label\")(2, \"h2\", 45);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"core-format-text\", 46);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 4, \"core.course.coursesummary\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"text\", ctx_r15.course.summary)(\"contextInstanceId\", ctx_r15.course.id);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_list_14_ion_icon_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 49);\n  }\n  if (rf & 2) {\n    const ctx_r22 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"expandable-status-icon-expanded\", ctx_r22.contactsExpanded);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_list_14_ng_container_8_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 51);\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelement(2, \"core-user-avatar\", 52);\n    i0.ɵɵelementStart(3, \"ion-label\")(4, \"p\", 45);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const contact_r25 = ctx.$implicit;\n    const ctx_r24 = i0.ɵɵnextContext(4);\n    i0.ɵɵproperty(\"userId\", contact_r25.id)(\"courseId\", ctx_r24.isEnrolled ? ctx_r24.course.id : null)(\"detail\", true);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 9, \"core.viewprofile\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"user\", contact_r25)(\"userId\", contact_r25.id)(\"courseId\", ctx_r24.isEnrolled ? ctx_r24.course.id : null)(\"linkProfile\", false);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(contact_r25.fullname);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_list_14_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreCourseSummaryPage_div_13_ion_list_14_ng_container_8_ion_item_1_Template, 6, 11, \"ion-item\", 50);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r23 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r23.course.contacts);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_list_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r27 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-list\")(1, \"ion-item\", 47);\n    i0.ɵɵlistener(\"click\", function CoreCourseSummaryPage_div_13_ion_list_14_Template_ion_item_click_1_listener() {\n      i0.ɵɵrestoreView(_r27);\n      const ctx_r26 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r26.toggleContacts());\n    });\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵtemplate(3, CoreCourseSummaryPage_div_13_ion_list_14_ion_icon_3_Template, 1, 2, \"ion-icon\", 48);\n    i0.ɵɵelementStart(4, \"ion-label\")(5, \"h2\", 45);\n    i0.ɵɵtext(6);\n    i0.ɵɵpipe(7, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(8, CoreCourseSummaryPage_div_13_ion_list_14_ng_container_8_Template, 2, 1, \"ng-container\", 9);\n    i0.ɵɵelement(9, \"core-spacer\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"button\", ctx_r16.course.contacts.length >= 5)(\"detail\", false);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(2, 6, ctx_r16.contactsExpanded ? \"core.collapse\" : \"core.expand\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r16.course.contacts.length >= 5);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(7, 8, \"core.teachers\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r16.contactsExpanded || ctx_r16.course.contacts.length < 5);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_item_15_ng_container_2_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"span\", 55);\n    i0.ɵɵelement(2, \"core-format-text\", 24);\n    i0.ɵɵelementStart(3, \"span\", 56);\n    i0.ɵɵtext(4, \": \");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"span\", 57);\n    i0.ɵɵelement(6, \"core-format-text\", 58);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const field_r29 = i0.ɵɵnextContext().$implicit;\n    const ctx_r30 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassMapInterpolate2(\"core-customfield core-customfield_\", field_r29.type, \" core-customfield_\", field_r29.shortname, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"text\", field_r29.name)(\"contextInstanceId\", ctx_r30.course.id);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"text\", field_r29.value)(\"collapsible-item\", field_r29.type === \"textarea\" ? \"\" : null)(\"contextInstanceId\", ctx_r30.course.id);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_item_15_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreCourseSummaryPage_div_13_ion_item_15_ng_container_2_div_1_Template, 7, 9, \"div\", 54);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const field_r29 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", field_r29.value);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_ion_item_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 34)(1, \"ion-label\");\n    i0.ɵɵtemplate(2, CoreCourseSummaryPage_div_13_ion_item_15_ng_container_2_Template, 2, 1, \"ng-container\", 53);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r17.course.customfields);\n  }\n}\nfunction CoreCourseSummaryPage_div_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"div\", 20)(2, \"ion-item\", 21)(3, \"ion-label\");\n    i0.ɵɵtemplate(4, CoreCourseSummaryPage_div_13_p_4_Template, 2, 2, \"p\", 22);\n    i0.ɵɵelementStart(5, \"h1\")(6, \"span\", 23);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(9, \"core-format-text\", 24);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, CoreCourseSummaryPage_div_13_ion_chip_10_Template, 6, 5, \"ion-chip\", 25);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(11, CoreCourseSummaryPage_div_13_ion_button_11_Template, 3, 5, \"ion-button\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(12, CoreCourseSummaryPage_div_13_ion_item_12_Template, 4, 2, \"ion-item\", 27);\n    i0.ɵɵtemplate(13, CoreCourseSummaryPage_div_13_ion_item_13_Template, 6, 6, \"ion-item\", 28);\n    i0.ɵɵtemplate(14, CoreCourseSummaryPage_div_13_ion_list_14_Template, 10, 10, \"ion-list\", 9);\n    i0.ɵɵtemplate(15, CoreCourseSummaryPage_div_13_ion_item_15_Template, 3, 1, \"ion-item\", 27);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.course.displayname && ctx_r2.course.shortname && ctx_r2.course.fullname !== ctx_r2.course.displayname);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 10, \"core.courses.aria:coursename\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"text\", ctx_r2.course.fullname)(\"contextInstanceId\", ctx_r2.course.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.course.categoryname);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.displayOpenInBrowser);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.progress !== undefined || ctx_r2.course.startdate || ctx_r2.course.enddate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.course.summary);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.course.contacts && ctx_r2.course.contacts.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.course.customfields);\n  }\n}\nfunction CoreCourseSummaryPage_ion_footer_14_ng_container_2_ion_button_1_ion_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 63);\n  }\n  if (rf & 2) {\n    const item_r36 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"name\", item_r36.data.icon);\n  }\n}\nfunction CoreCourseSummaryPage_ion_footer_14_ng_container_2_ion_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 61);\n    i0.ɵɵlistener(\"click\", function CoreCourseSummaryPage_ion_footer_14_ng_container_2_ion_button_1_Template_ion_button_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r40);\n      const item_r36 = restoredCtx.$implicit;\n      const ctx_r39 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r39.openMenuItem(item_r36));\n    });\n    i0.ɵɵtemplate(1, CoreCourseSummaryPage_ion_footer_14_ng_container_2_ion_button_1_ion_icon_1_Template, 1, 1, \"ion-icon\", 62);\n    i0.ɵɵelementStart(2, \"ion-label\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r36 = ctx.$implicit;\n    i0.ɵɵclassMap(\"ion-text-wrap \" + item_r36.data.class);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r36.data.icon);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 4, item_r36.data.title));\n  }\n}\nfunction CoreCourseSummaryPage_ion_footer_14_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreCourseSummaryPage_ion_footer_14_ng_container_2_ion_button_1_Template, 5, 6, \"ion-button\", 60);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r32 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r32.courseMenuHandlers);\n  }\n}\nfunction CoreCourseSummaryPage_ion_footer_14_ng_container_3_ion_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r44 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 66);\n    i0.ɵɵlistener(\"click\", function CoreCourseSummaryPage_ion_footer_14_ng_container_3_ion_button_1_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r44);\n      const ctx_r43 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r43.enrolMe());\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"core.courses.enrolme\"), \" \");\n  }\n}\nfunction CoreCourseSummaryPage_ion_footer_14_ng_container_3_ion_card_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\", 67)(1, \"ion-item\");\n    i0.ɵɵelement(2, \"ion-icon\", 68);\n    i0.ɵɵelementStart(3, \"ion-label\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 1, \"core.courses.notenrollable\"));\n  }\n}\nfunction CoreCourseSummaryPage_ion_footer_14_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreCourseSummaryPage_ion_footer_14_ng_container_3_ion_button_1_Template, 3, 3, \"ion-button\", 64);\n    i0.ɵɵtemplate(2, CoreCourseSummaryPage_ion_footer_14_ng_container_3_ion_card_2_Template, 6, 3, \"ion-card\", 65);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r33 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r33.selfEnrolInstances.length || ctx_r33.hasBrowserEnrolments);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r33.selfEnrolInstances.length && !ctx_r33.hasBrowserEnrolments);\n  }\n}\nfunction CoreCourseSummaryPage_ion_footer_14_ion_button_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r46 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 69);\n    i0.ɵɵlistener(\"click\", function CoreCourseSummaryPage_ion_footer_14_ion_button_4_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r46);\n      const ctx_r45 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r45.openCourse());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 70);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"core.course.viewcourse\"), \" \");\n  }\n}\nfunction CoreCourseSummaryPage_ion_footer_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-footer\")(1, \"div\", 20);\n    i0.ɵɵtemplate(2, CoreCourseSummaryPage_ion_footer_14_ng_container_2_Template, 2, 1, \"ng-container\", 9);\n    i0.ɵɵtemplate(3, CoreCourseSummaryPage_ion_footer_14_ng_container_3_Template, 3, 2, \"ng-container\", 9);\n    i0.ɵɵtemplate(4, CoreCourseSummaryPage_ion_footer_14_ion_button_4_Template, 4, 3, \"ion-button\", 59);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.canAccessCourse);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.isEnrolled);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.isModal && ctx_r3.canAccessCourse);\n  }\n}\n/**\n * Page that shows the summary of a course including buttons to enrol and other available options.\n */\nexport class CoreCourseSummaryPage {\n  constructor() {\n    var _this = this;\n    this.courseId = 0;\n    this.isEnrolled = false;\n    this.canAccessCourse = true;\n    this.useGuestAccess = false;\n    this.selfEnrolInstances = [];\n    this.guestEnrolInstances = [];\n    this.hasBrowserEnrolments = false;\n    this.dataLoaded = false;\n    this.isModal = false;\n    this.contactsExpanded = false;\n    this.courseUrl = '';\n    this.courseMenuHandlers = [];\n    this.displayOpenInBrowser = false;\n    this.waitStart = 0;\n    this.enrolUrl = '';\n    this.pageDestroyed = false;\n    this.waitingForBrowserEnrol = false;\n    // Refresh the view when the app is resumed.\n    this.appResumeSubscription = CorePlatform.resume.subscribe(() => {\n      if (!this.waitingForBrowserEnrol || !this.dataLoaded) {\n        return;\n      }\n      NgZone.run( /*#__PURE__*/_asyncToGenerator(function* () {\n        _this.waitingForBrowserEnrol = false;\n        _this.dataLoaded = false;\n        yield _this.refreshData();\n      }));\n    });\n    this.logView = CoreTime.once( /*#__PURE__*/_asyncToGenerator(function* () {\n      if (!_this.course || _this.isModal) {\n        return;\n      }\n      CoreAnalytics.logEvent({\n        type: CoreAnalyticsEventType.VIEW_ITEM,\n        ws: 'core_course_get_courses',\n        name: _this.course.fullname,\n        data: {\n          id: _this.course.id,\n          category: 'course'\n        },\n        url: `/enrol/index.php?id=${_this.course.id}`\n      });\n    }));\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this2.courseId) {\n        // Opened as a page.\n        try {\n          _this2.courseId = CoreNavigator.getRequiredRouteNumberParam('courseId');\n        } catch (error) {\n          CoreDomUtils.showErrorModal(error);\n          CoreNavigator.back();\n          _this2.closeModal(); // Just in case.\n          return;\n        }\n        _this2.course = CoreNavigator.getRouteParam('course');\n      } else {\n        // Opened as a modal.\n        _this2.isModal = true;\n      }\n      const currentSiteUrl = CoreSites.getRequiredCurrentSite().getURL();\n      _this2.enrolUrl = CorePath.concatenatePaths(currentSiteUrl, 'enrol/index.php?id=' + _this2.courseId);\n      _this2.courseUrl = CorePath.concatenatePaths(currentSiteUrl, 'course/view.php?id=' + _this2.courseId);\n      _this2.displayOpenInBrowser = CoreSites.getRequiredCurrentSite().shouldDisplayInformativeLinks();\n      yield _this2.getCourse();\n    })();\n  }\n  /**\n   * Convenience function to get course. We use this to determine if a user can see the course or not.\n   *\n   * @param refresh If it's refreshing content.\n   */\n  getCourse(refresh = false) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this3.getCourseData();\n        _this3.logView();\n      } catch (error) {\n        CoreDomUtils.showErrorModalDefault(error, 'Error getting enrolment data');\n      }\n      yield _this3.setCourseColor();\n      if (!_this3.course || !('progress' in _this3.course) || typeof _this3.course.progress !== 'number' || _this3.course.progress < 0 || _this3.course.completionusertracked === false) {\n        _this3.progress = undefined;\n      } else {\n        _this3.progress = _this3.course.progress;\n      }\n      yield _this3.loadMenuHandlers(refresh);\n      _this3.dataLoaded = true;\n    })();\n  }\n  /**\n   * Get course data.\n   */\n  getCourseData() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      _this4.canAccessCourse = false;\n      _this4.useGuestAccess = false;\n      try {\n        // Check if user is enrolled in the course.\n        try {\n          _this4.course = yield CoreCourses.getUserCourse(_this4.courseId);\n          _this4.isEnrolled = true;\n        } catch (_unused) {\n          // The user is not enrolled in the course. Use getCourses to see if it's an admin/manager and can see the course.\n          _this4.isEnrolled = false;\n          _this4.course = yield CoreCourses.getCourse(_this4.courseId);\n        }\n        // Success retrieving the course, we can assume the user has permissions to view it.\n        _this4.canAccessCourse = true;\n        _this4.useGuestAccess = false;\n      } catch (_unused2) {\n        // Ignore errors.\n      }\n      const courseByField = yield CoreUtils.ignoreErrors(CoreCourses.getCourseByField('id', _this4.courseId));\n      if (courseByField) {\n        if (_this4.course) {\n          _this4.course.customfields = courseByField.customfields;\n          _this4.course.contacts = courseByField.contacts;\n          _this4.course.displayname = courseByField.displayname;\n          _this4.course.categoryname = courseByField.categoryname;\n          _this4.course.overviewfiles = courseByField.overviewfiles;\n        } else {\n          _this4.course = courseByField;\n        }\n      }\n      yield _this4.getEnrolmentInfo(courseByField === null || courseByField === void 0 ? void 0 : courseByField.enrollmentmethods);\n    })();\n  }\n  /**\n   * Get course enrolment info.\n   *\n   * @param enrolmentMethods Enrolment methods.\n   */\n  getEnrolmentInfo(enrolmentMethods) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      if (_this5.isEnrolled) {\n        return;\n      }\n      const enrolByType = yield CoreEnrolHelper.getEnrolmentsByType(_this5.courseId, enrolmentMethods);\n      _this5.hasBrowserEnrolments = enrolByType.hasBrowser;\n      _this5.selfEnrolInstances = enrolByType.self;\n      _this5.guestEnrolInstances = enrolByType.guest;\n      if (!_this5.canAccessCourse) {\n        // The user is not an admin/manager. Check if we can provide guest access to the course.\n        const promises = _this5.guestEnrolInstances.map( /*#__PURE__*/function () {\n          var _ref3 = _asyncToGenerator(function* (method) {\n            const {\n              canAccess\n            } = yield CoreEnrolDelegate.canAccess(method);\n            if (canAccess) {\n              _this5.canAccessCourse = true;\n            }\n          });\n          return function (_x) {\n            return _ref3.apply(this, arguments);\n          };\n        }());\n        yield Promise.all(promises);\n        _this5.useGuestAccess = _this5.canAccessCourse;\n      }\n    })();\n  }\n  /**\n   * Load the course menu handlers.\n   *\n   * @param refresh If it's refreshing content.\n   * @returns Promise resolved when done.\n   */\n  loadMenuHandlers(refresh) {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this6.course) {\n        return;\n      }\n      _this6.courseMenuHandlers = yield CoreCourseOptionsDelegate.getMenuHandlersToDisplay(_this6.course, refresh, _this6.useGuestAccess);\n    })();\n  }\n  /**\n   * Validates if the user has access to the course and opens it.\n   *\n   * @param enrolMethod The enrolment method.\n   * @param replaceCurrentPage If current place should be replaced in the navigation stack.\n   */\n  validateAccessAndOpen(enrolMethod, replaceCurrentPage) {\n    var _this7 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this7.canAccessCourse || !_this7.course || _this7.isModal) {\n        return;\n      }\n      let validated = false;\n      try {\n        validated = yield CoreEnrolDelegate.validateAccess(enrolMethod);\n      } catch (_unused3) {\n        _this7.refreshData();\n        return;\n      }\n      if (!validated) {\n        return;\n      }\n      CoreCourseHelper.openCourse(_this7.course, {\n        params: {\n          isGuest: _this7.useGuestAccess\n        },\n        replace: replaceCurrentPage\n      });\n    })();\n  }\n  /**\n   * Open the course.\n   *\n   * @param replaceCurrentPage If current place should be replaced in the navigation stack.\n   */\n  openCourse(replaceCurrentPage = false) {\n    var _this8 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this8.canAccessCourse || !_this8.course || _this8.isModal) {\n        return;\n      }\n      const hasAccess = yield CoreCourseHelper.userHasAccessToCourse(_this8.courseId);\n      if (!hasAccess && _this8.guestEnrolInstances.length) {\n        if (_this8.guestEnrolInstances.length == 1) {\n          _this8.validateAccessAndOpen(_this8.guestEnrolInstances[0], replaceCurrentPage);\n          return;\n        }\n        const buttons = _this8.guestEnrolInstances.map(enrolMethod => ({\n          text: enrolMethod.name,\n          handler: () => {\n            _this8.validateAccessAndOpen(enrolMethod, replaceCurrentPage);\n          }\n        }));\n        buttons.push({\n          text: Translate.instant('core.cancel'),\n          role: 'cancel'\n        });\n        _this8.actionSheet = yield ActionSheetController.create({\n          header: Translate.instant('core.course.viewcourse'),\n          buttons: buttons\n        });\n        yield _this8.actionSheet.present();\n        return;\n      }\n      CoreCourseHelper.openCourse(_this8.course, {\n        params: {\n          isGuest: _this8.useGuestAccess\n        },\n        replace: replaceCurrentPage\n      });\n    })();\n  }\n  /**\n   * Enrol in browser.\n   */\n  browserEnrol() {\n    var _this9 = this;\n    return _asyncToGenerator(function* () {\n      // Send user to browser to enrol. Warn the user first.\n      try {\n        yield CoreDomUtils.showConfirm(Translate.instant('core.courses.browserenrolinstructions'), Translate.instant('core.courses.completeenrolmentbrowser'), Translate.instant('core.openinbrowser'));\n      } catch (_unused4) {\n        // User canceled.\n        return;\n      }\n      _this9.waitingForBrowserEnrol = true;\n      yield CoreSites.getRequiredCurrentSite().openInBrowserWithAutoLogin(_this9.enrolUrl, undefined, {\n        showBrowserWarning: false\n      });\n    })();\n  }\n  /**\n   * Self enrol in a course.\n   *\n   * @param enrolMethod The enrolment method.\n   */\n  selfEnrolInCourse(enrolMethod) {\n    var _this10 = this;\n    return _asyncToGenerator(function* () {\n      let enrolled = false;\n      try {\n        enrolled = yield CoreEnrolDelegate.enrol(enrolMethod);\n      } catch (_unused5) {\n        _this10.refreshData();\n        return;\n      }\n      if (!enrolled) {\n        return;\n      }\n      // Refresh data.\n      _this10.isEnrolled = true;\n      _this10.dataLoaded = false;\n      // Sometimes the list of enrolled courses takes a while to be updated. Wait for it.\n      yield _this10.waitForEnrolled(true);\n      yield _this10.refreshData().finally(() => {\n        // My courses have been updated, trigger event.\n        CoreEvents.trigger(CoreCoursesProvider.EVENT_MY_COURSES_UPDATED, {\n          courseId: _this10.courseId,\n          course: _this10.course,\n          action: CoreCoursesProvider.ACTION_ENROL\n        }, CoreSites.getCurrentSiteId());\n      });\n      _this10.openCourse(true);\n    })();\n  }\n  /**\n   * Refresh the data.\n   *\n   * @param refresher The refresher if this was triggered by a Pull To Refresh.\n   */\n  refreshData(refresher) {\n    var _this11 = this;\n    return _asyncToGenerator(function* () {\n      const promises = [];\n      promises.push(CoreCourses.invalidateUserCourses());\n      promises.push(CoreCourses.invalidateCourse(_this11.courseId));\n      promises.push(CoreCourseOptionsDelegate.clearAndInvalidateCoursesOptions(_this11.courseId));\n      promises.push(CoreCourses.invalidateCoursesByField('id', _this11.courseId));\n      promises.push(CoreEnrol.invalidateCourseEnrolmentMethods(_this11.courseId));\n      _this11.selfEnrolInstances.forEach(method => {\n        promises.push(CoreEnrolDelegate.invalidate(method));\n      });\n      _this11.guestEnrolInstances.forEach(method => {\n        promises.push(CoreEnrolDelegate.invalidate(method));\n      });\n      yield Promise.all(promises).finally(() => _this11.getCourse()).finally(() => {\n        refresher === null || refresher === void 0 || refresher.complete();\n      });\n    })();\n  }\n  /**\n   * Wait for the user to be enrolled in the course.\n   *\n   * @param first If it's the first call (true) or it's a recursive call (false).\n   * @returns Promise resolved when enrolled or timeout.\n   */\n  waitForEnrolled(first) {\n    var _this12 = this;\n    return _asyncToGenerator(function* () {\n      if (first) {\n        _this12.waitStart = Date.now();\n      }\n      // Check if user is enrolled in the course.\n      yield CoreUtils.ignoreErrors(CoreCourses.invalidateUserCourses());\n      try {\n        yield CoreCourses.getUserCourse(_this12.courseId);\n      } catch (_unused6) {\n        // Not enrolled, wait a bit and try again.\n        if (_this12.pageDestroyed || Date.now() - _this12.waitStart > 60000) {\n          // Max time reached or the user left the view, stop.\n          return;\n        }\n        return new Promise(resolve => {\n          setTimeout( /*#__PURE__*/_asyncToGenerator(function* () {\n            if (!_this12.pageDestroyed) {\n              // Wait again.\n              yield _this12.waitForEnrolled();\n            }\n            resolve();\n          }), 5000);\n        });\n      }\n    })();\n  }\n  /**\n   * Opens a menu item registered to the delegate.\n   *\n   * @param item Item to open\n   */\n  openMenuItem(item) {\n    const params = Object.assign({\n      course: this.course\n    }, item.data.pageParams);\n    CoreNavigator.navigateToSitePath(item.data.page, {\n      params\n    });\n  }\n  /**\n   * Removes the course image set because it cannot be loaded and set the fallback icon color.\n   */\n  loadFallbackCourseIcon() {\n    if (!this.course) {\n      return;\n    }\n    this.course.courseimage = undefined;\n    // Set the color because it won't be set at this point.\n    this.setCourseColor();\n  }\n  /**\n   * Set course color.\n   */\n  setCourseColor() {\n    var _this13 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this13.course) {\n        return;\n      }\n      yield CoreCoursesHelper.loadCourseColorAndImage(_this13.course);\n      if (!_this13.courseThumb) {\n        return;\n      }\n      if (_this13.course.color) {\n        _this13.courseThumb.nativeElement.style.setProperty('--course-color', _this13.course.color);\n        const tint = CoreColors.lighter(_this13.course.color, 50);\n        _this13.courseThumb.nativeElement.style.setProperty('--course-color-tint', tint);\n      } else if (_this13.course.colorNumber !== undefined) {\n        _this13.courseThumb.nativeElement.classList.add('course-color-' + _this13.course.colorNumber);\n      }\n    })();\n  }\n  /**\n   * Open enrol action sheet.\n   */\n  enrolMe() {\n    var _this14 = this;\n    return _asyncToGenerator(function* () {\n      if (_this14.selfEnrolInstances.length == 1 && !_this14.hasBrowserEnrolments) {\n        _this14.selfEnrolInCourse(_this14.selfEnrolInstances[0]);\n        return;\n      }\n      if (_this14.selfEnrolInstances.length == 0 && _this14.hasBrowserEnrolments) {\n        _this14.browserEnrol();\n        return;\n      }\n      const buttons = _this14.selfEnrolInstances.map(enrolMethod => ({\n        text: enrolMethod.name,\n        handler: () => {\n          _this14.selfEnrolInCourse(enrolMethod);\n        }\n      }));\n      if (_this14.hasBrowserEnrolments) {\n        buttons.push({\n          text: Translate.instant('core.courses.completeenrolmentbrowser'),\n          handler: () => {\n            _this14.browserEnrol();\n          }\n        });\n      }\n      buttons.push({\n        text: Translate.instant('core.cancel'),\n        role: 'cancel'\n      });\n      _this14.actionSheet = yield ActionSheetController.create({\n        header: Translate.instant('core.courses.enrolme'),\n        buttons: buttons\n      });\n      yield _this14.actionSheet.present();\n    })();\n  }\n  /**\n   * Toggle list of contacts.\n   */\n  toggleContacts() {\n    this.contactsExpanded = !this.contactsExpanded;\n  }\n  /**\n   * Close the modal.\n   */\n  closeModal() {\n    ModalController.dismiss();\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnDestroy() {\n    var _this$courseStatusObs;\n    this.pageDestroyed = true;\n    (_this$courseStatusObs = this.courseStatusObserver) === null || _this$courseStatusObs === void 0 || _this$courseStatusObs.off();\n    this.appResumeSubscription.unsubscribe();\n  }\n}\n_class = CoreCourseSummaryPage;\n_class.ɵfac = function CoreCourseSummaryPage_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"page-core-course-summary\"]],\n  viewQuery: function CoreCourseSummaryPage_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.courseThumb = _t.first);\n    }\n  },\n  inputs: {\n    course: \"course\",\n    courseId: \"courseId\"\n  },\n  decls: 15,\n  vars: 12,\n  consts: [[1, \"no-title\"], [\"slot\", \"start\"], [3, \"text\"], [\"slot\", \"end\", 4, \"ngIf\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [\"class\", \"core-course-thumb\", 4, \"ngIf\"], [\"class\", \"course-container\", 4, \"ngIf\"], [4, \"ngIf\"], [\"slot\", \"end\"], [\"fill\", \"clear\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"fas-xmark\", \"aria-hidden\", \"true\"], [1, \"core-course-thumb\"], [\"courseThumb\", \"\"], [\"core-external-content\", \"\", \"alt\", \"\", 3, \"src\", \"error\", 4, \"ngIf\"], [\"name\", \"fas-graduation-cap\", \"class\", \"course-icon\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [\"core-external-content\", \"\", \"alt\", \"\", 3, \"src\", \"error\"], [\"name\", \"fas-graduation-cap\", \"aria-hidden\", \"true\", 1, \"course-icon\"], [1, \"course-container\"], [1, \"list-item-limited-width\"], [1, \"ion-text-wrap\", \"course-name\"], [\"class\", \"core-course-shortname\", 4, \"ngIf\"], [1, \"sr-only\"], [\"contextLevel\", \"course\", 3, \"text\", \"contextInstanceId\"], [\"color\", \"primary\", \"class\", \"core-course-category ion-text-nowrap\", 4, \"ngIf\"], [\"fill\", \"clear\", \"core-link\", \"\", \"slot\", \"end\", 3, \"href\", \"showBrowserWarning\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap\", 3, \"detail\", 4, \"ngIf\"], [1, \"core-course-shortname\"], [\"color\", \"primary\", 1, \"core-course-category\", \"ion-text-nowrap\"], [\"contextLevel\", \"coursecat\", 3, \"text\", \"contextInstanceId\"], [\"fill\", \"clear\", \"core-link\", \"\", \"slot\", \"end\", 3, \"href\", \"showBrowserWarning\"], [\"name\", \"fas-up-right-from-square\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [1, \"ion-text-wrap\"], [\"class\", \"core-course-progress\", 4, \"ngIf\"], [\"class\", \"core-course-dates\", 4, \"ngIf\"], [1, \"core-course-progress\"], [\"a11yText\", \"core.course.aria:sectionprogress\", 3, \"progress\"], [1, \"core-course-dates\"], [\"component\", \"course\", \"type\", \"coursestart\", 3, \"instanceId\", \"label\", \"time\", \"title\", \"url\", 4, \"ngIf\"], [\"component\", \"course\", \"type\", \"courseend\", 3, \"instanceId\", \"label\", \"time\", \"title\", \"url\", 4, \"ngIf\"], [\"component\", \"course\", \"type\", \"coursestart\", 3, \"instanceId\", \"label\", \"time\", \"title\", \"url\"], [\"component\", \"course\", \"type\", \"courseend\", 3, \"instanceId\", \"label\", \"time\", \"title\", \"url\"], [1, \"ion-text-wrap\", 3, \"detail\"], [1, \"item-heading\"], [\"collapsible-item\", \"\", \"contextLevel\", \"course\", 3, \"text\", \"contextInstanceId\"], [1, \"ion-text-wrap\", 3, \"button\", \"detail\", \"click\"], [\"name\", \"fas-chevron-right\", \"flip-rtl\", \"\", \"slot\", \"start\", \"aria-hidden\", \"true\", \"class\", \"expandable-status-icon\", 3, \"expandable-status-icon-expanded\", 4, \"ngIf\"], [\"name\", \"fas-chevron-right\", \"flip-rtl\", \"\", \"slot\", \"start\", \"aria-hidden\", \"true\", 1, \"expandable-status-icon\"], [\"button\", \"\", \"class\", \"ion-text-wrap\", \"core-user-link\", \"\", 3, \"userId\", \"courseId\", \"detail\", 4, \"ngFor\", \"ngForOf\"], [\"button\", \"\", \"core-user-link\", \"\", 1, \"ion-text-wrap\", 3, \"userId\", \"courseId\", \"detail\"], [\"slot\", \"start\", 3, \"user\", \"userId\", \"courseId\", \"linkProfile\"], [4, \"ngFor\", \"ngForOf\"], [3, \"class\", 4, \"ngIf\"], [1, \"core-customfieldname\"], [1, \"core-customfieldseparator\"], [1, \"core-customfieldvalue\"], [\"contextLevel\", \"course\", 3, \"text\", \"collapsible-item\", \"contextInstanceId\"], [\"expand\", \"block\", \"fill\", \"outline\", \"class\", \"ion-text-wrap\", 3, \"click\", 4, \"ngIf\"], [\"expand\", \"block\", 3, \"class\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"expand\", \"block\", 3, \"click\"], [\"slot\", \"start\", \"aria-hidden\", \"true\", 3, \"name\", 4, \"ngIf\"], [\"slot\", \"start\", \"aria-hidden\", \"true\", 3, \"name\"], [\"expand\", \"block\", \"class\", \"ion-text-wrap\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"core-info-card ion-text-wrap\", 4, \"ngIf\"], [\"expand\", \"block\", 1, \"ion-text-wrap\", 3, \"click\"], [1, \"core-info-card\", \"ion-text-wrap\"], [\"name\", \"fas-circle-info\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [\"expand\", \"block\", \"fill\", \"outline\", 1, \"ion-text-wrap\", 3, \"click\"], [\"name\", \"fas-eye\", \"slot\", \"start\", \"aria-hidden\", \"true\"]],\n  template: function CoreCourseSummaryPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-buttons\", 1);\n      i0.ɵɵelement(3, \"ion-back-button\", 2);\n      i0.ɵɵpipe(4, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(5, \"ion-title\");\n      i0.ɵɵtemplate(6, CoreCourseSummaryPage_ion_buttons_6_Template, 4, 3, \"ion-buttons\", 3);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"ion-content\")(8, \"ion-refresher\", 4);\n      i0.ɵɵlistener(\"ionRefresh\", function CoreCourseSummaryPage_Template_ion_refresher_ionRefresh_8_listener($event) {\n        return ctx.refreshData($event.target);\n      });\n      i0.ɵɵelement(9, \"ion-refresher-content\", 5);\n      i0.ɵɵpipe(10, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"core-loading\", 6);\n      i0.ɵɵtemplate(12, CoreCourseSummaryPage_div_12_Template, 4, 2, \"div\", 7);\n      i0.ɵɵtemplate(13, CoreCourseSummaryPage_div_13_Template, 16, 12, \"div\", 8);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(14, CoreCourseSummaryPage_ion_footer_14_Template, 5, 3, \"ion-footer\", 9);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"text\", i0.ɵɵpipeBind1(4, 8, \"core.back\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.isModal);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !ctx.dataLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"pullingText\", i0.ɵɵpipeBind1(10, 10, \"core.pulltorefresh\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hideUntil\", ctx.dataLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.course);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.course);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.course && ctx.dataLoaded);\n    }\n  },\n  styles: [\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n[_nghost-%COMP%] {\\n  --thumb-height: 180px;\\n}\\n[_nghost-%COMP%]   ion-content[_ngcontent-%COMP%] {\\n  position: absolute;\\n}\\n[_nghost-%COMP%]   .core-course-thumb[_ngcontent-%COMP%] {\\n  background: var(--course-color, white);\\n  overflow: hidden;\\n  text-align: center;\\n  height: var(--thumb-height);\\n  position: fixed;\\n  z-index: -1;\\n  width: 100%;\\n}\\n[_nghost-%COMP%]   .core-course-thumb.course-color-0[_ngcontent-%COMP%] {\\n  --course-color: var(--core-course-color-0);\\n  --course-color-tint: var(--core-course-color-0-tint);\\n}\\n[_nghost-%COMP%]   .core-course-thumb.course-color-1[_ngcontent-%COMP%] {\\n  --course-color: var(--core-course-color-1);\\n  --course-color-tint: var(--core-course-color-1-tint);\\n}\\n[_nghost-%COMP%]   .core-course-thumb.course-color-2[_ngcontent-%COMP%] {\\n  --course-color: var(--core-course-color-2);\\n  --course-color-tint: var(--core-course-color-2-tint);\\n}\\n[_nghost-%COMP%]   .core-course-thumb.course-color-3[_ngcontent-%COMP%] {\\n  --course-color: var(--core-course-color-3);\\n  --course-color-tint: var(--core-course-color-3-tint);\\n}\\n[_nghost-%COMP%]   .core-course-thumb.course-color-4[_ngcontent-%COMP%] {\\n  --course-color: var(--core-course-color-4);\\n  --course-color-tint: var(--core-course-color-4-tint);\\n}\\n[_nghost-%COMP%]   .core-course-thumb.course-color-5[_ngcontent-%COMP%] {\\n  --course-color: var(--core-course-color-5);\\n  --course-color-tint: var(--core-course-color-5-tint);\\n}\\n[_nghost-%COMP%]   .core-course-thumb.course-color-6[_ngcontent-%COMP%] {\\n  --course-color: var(--core-course-color-6);\\n  --course-color-tint: var(--core-course-color-6-tint);\\n}\\n[_nghost-%COMP%]   .core-course-thumb.course-color-7[_ngcontent-%COMP%] {\\n  --course-color: var(--core-course-color-7);\\n  --course-color-tint: var(--core-course-color-7-tint);\\n}\\n[_nghost-%COMP%]   .core-course-thumb.course-color-8[_ngcontent-%COMP%] {\\n  --course-color: var(--core-course-color-8);\\n  --course-color-tint: var(--core-course-color-8-tint);\\n}\\n[_nghost-%COMP%]   .core-course-thumb.course-color-9[_ngcontent-%COMP%] {\\n  --course-color: var(--core-course-color-9);\\n  --course-color-tint: var(--core-course-color-9-tint);\\n}\\n[_nghost-%COMP%]   .core-course-thumb[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 100%;\\n  height: 100%;\\n  object-fit: cover;\\n}\\n[_nghost-%COMP%]   .core-course-thumb[_ngcontent-%COMP%]   img[src$=\\\".svg\\\"][_ngcontent-%COMP%] {\\n  min-width: 100%;\\n}\\n[_nghost-%COMP%]   .core-course-thumb[_ngcontent-%COMP%]   ion-icon.course-icon[_ngcontent-%COMP%] {\\n  padding: 24px;\\n  font-size: calc(var(--thumb-height) - 48px);\\n  color: var(--course-color-tint);\\n}\\n[_nghost-%COMP%]   .course-container[_ngcontent-%COMP%] {\\n  position: relative;\\n  top: calc(var(--thumb-height) - var(--radius-lg));\\n  border-radius: var(--radius-lg) var(--radius-lg) 0 0;\\n  background-color: var(--ion-background-color);\\n  box-shadow: var(--drop-shadow-top);\\n  -webkit-clip-path: inset(-5px 0px 0px 0px);\\n          clip-path: inset(-5px 0px 0px 0px);\\n}\\n[_nghost-%COMP%]   .course-name[_ngcontent-%COMP%] {\\n  --background: transparent;\\n}\\n[_nghost-%COMP%]   .course-name[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%] {\\n  margin-bottom: 0px;\\n}\\n[_nghost-%COMP%]   h1[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n}\\n[_nghost-%COMP%]   .core-course-category[_ngcontent-%COMP%] {\\n  margin-left: 0;\\n  margin-right: 0;\\n}\\n[_nghost-%COMP%]   .core-course-dates[_ngcontent-%COMP%] {\\n  background: var(--light);\\n  border-radius: var(--radius-xs);\\n  padding: 8px;\\n  width: 100%;\\n}\\n[_nghost-%COMP%]   .core-course-dates[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  margin-bottom: 8px;\\n}\\n[_nghost-%COMP%]   .core-course-dates[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:last-child {\\n  margin-bottom: 0px;\\n}\\n[_nghost-%COMP%]   .core-course-dates[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] {\\n  -webkit-margin-end: 8px;\\n  margin-inline-end: 8px;\\n}\\n[_nghost-%COMP%]   .core-customfield[_ngcontent-%COMP%] {\\n  margin-bottom: 8px;\\n}\\n[_nghost-%COMP%]   .core-customfield.core-customfield_textarea[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  margin-bottom: 12px;\\n}\\n[_nghost-%COMP%]   .core-customfield[_ngcontent-%COMP%]   .core-customfieldname[_ngcontent-%COMP%] {\\n  -webkit-margin-end: 4px;\\n  margin-inline-end: 4px;\\n  font-weight: bold;\\n  display: inline;\\n}\\n[_nghost-%COMP%]   .core-customfield[_ngcontent-%COMP%]   .core-customfieldvalue[_ngcontent-%COMP%] {\\n  display: inline;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuc3RyaW5nLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2lvbmljLm1peGlucy5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2hlbHBlcnMvaW9uaWMuY29tcG9uZW50cy5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2N1c3RvbS5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLmN1c3RvbS5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2dsb2JhbHMudmFyaWFibGVzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvY29yZS9mZWF0dXJlcy9jb3Vyc2UvcGFnZXMvY291cnNlLXN1bW1hcnkvY291cnNlLXN1bW1hcnkuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBO0FDQUE7Ozs7O0VBQUE7QUNBQTs7Ozs7RUFBQTtBQ0FBOzs7OztFQUFBO0FDQUE7Ozs7OztFQUFBO0FDRUE7Ozs7RUFBQTtBQTRHQTs7RUFBQTtBQzlHQTs7OztFQUFBO0FDQUE7Ozs7RUFBQTtBQStEQTs7OztFQUFBO0FDN0RBO0VBQ0kscUJBQUE7QUFvREo7QUFsREk7RUFDSSxrQkFBQTtBQW9EUjtBQWpESTtFQUNJLHNDQUFBO0VBQ0EsZ0JBQUE7RUFDQSxrQkFBQTtFQUNBLDJCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0FBbURSO0FBaERZO0VBQ0ksMENBQUE7RUFDQSxvREFBQTtBQWtEaEI7QUFwRFk7RUFDSSwwQ0FBQTtFQUNBLG9EQUFBO0FBc0RoQjtBQXhEWTtFQUNJLDBDQUFBO0VBQ0Esb0RBQUE7QUEwRGhCO0FBNURZO0VBQ0ksMENBQUE7RUFDQSxvREFBQTtBQThEaEI7QUFoRVk7RUFDSSwwQ0FBQTtFQUNBLG9EQUFBO0FBa0VoQjtBQXBFWTtFQUNJLDBDQUFBO0VBQ0Esb0RBQUE7QUFzRWhCO0FBeEVZO0VBQ0ksMENBQUE7RUFDQSxvREFBQTtBQTBFaEI7QUE1RVk7RUFDSSwwQ0FBQTtFQUNBLG9EQUFBO0FBOEVoQjtBQWhGWTtFQUNJLDBDQUFBO0VBQ0Esb0RBQUE7QUFrRmhCO0FBcEZZO0VBQ0ksMENBQUE7RUFDQSxvREFBQTtBQXNGaEI7QUFsRlE7RUFDSSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGlCQUFBO0FBb0ZaO0FBakZZO0VBQ0ksZUFBQTtBQW1GaEI7QUEvRVE7RUFDSSxhQUFBO0VBQ0EsMkNBQUE7RUFDQSwrQkFBQTtBQWlGWjtBQTdFSTtFQUNJLGtCQUFBO0VBQ0EsaURBQUE7RUFDQSxvREFBQTtFQUNBLDZDQUFBO0VBQ0Esa0NBQUE7RUFDQSwwQ0FBQTtVQUFBLGtDQUFBO0FBK0VSO0FBNUVJO0VBQ0kseUJBQUE7QUE4RVI7QUE3RVE7RUFDSSxrQkFBQTtBQStFWjtBQTNFSTtFQUNJLGVBQUE7QUE2RVI7QUExRUk7RUFDSSxjQUFBO0VBQ0EsZUFBQTtBQTRFUjtBQXpFSTtFQUNJLHdCQUFBO0VBQ0EsK0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQTJFUjtBQXpFUTtFQUNJLGtCQUFBO0FBMkVaO0FBeEVRO0VBQ0ksa0JBQUE7QUEwRVo7QUF2RVE7RUxxT0osdUJLcE95QztFTHFPekMsc0JLck95QztBQTBFN0M7QUFyRUk7RUFDSSxrQkFBQTtBQXVFUjtBQXJFUTtFQUNJLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0FBdUVaO0FBcEVRO0VMc05KLHVCS3JOeUM7RUxzTnpDLHNCS3ROeUM7RUFDakMsaUJBQUE7RUFDQSxlQUFBO0FBdUVaO0FBckVRO0VBQ0ksZUFBQTtBQXVFWiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXBwIEdsb2JhbCB2YXJpYWJsZXMgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUGxhY2UgaGVyZSB0aGUgZGlmZmVyZW50IGZpbGVzIHlvdSBzaG91bGQgaW1wb3J0IHRvIHVzZSBnbG9iYWwgdmFyaWFibGVzLlxuICovXG5cbiRmb250LXBhdGg6IFwiLi4vYXNzZXRzL2ZvbnRzXCI7XG4kYXNzZXRzLXBhdGg6IFwiLi4vYXNzZXRzXCI7XG5cbkBpbXBvcnQgXCIuL2hlbHBlcnMvaGVscGVycy5zY3NzXCI7XG5AaW1wb3J0IFwiLi9nbG9iYWxzLmN1c3RvbS5zY3NzXCI7XG5AaW1wb3J0IFwiLi9nbG9iYWxzLnZhcmlhYmxlcy5zY3NzXCI7XG4iLCIvKipcbiAqIEltcG9ydGVkIGlvbmljIHN0cmluZyBmdW5jdGlvbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLmZ1bmN0aW9ucy5zdHJpbmcuc2Nzc1xuICovXG5cblxuLy8gU3RyaW5nIFV0aWxpdHkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBTdHJpbmcgUmVwbGFjZSBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIHN0ci1yZXBsYWNlKCRzdHJpbmcsICRzZWFyY2gsICRyZXBsYWNlOiBcIlwiKSB7XG4gICRpbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzZWFyY2gpO1xuXG4gIEBpZiAkaW5kZXgge1xuICAgIEByZXR1cm4gc3RyLXNsaWNlKCRzdHJpbmcsIDEsICRpbmRleCAtIDEpICsgJHJlcGxhY2UgKyBzdHItcmVwbGFjZShzdHItc2xpY2UoJHN0cmluZywgJGluZGV4ICsgc3RyLWxlbmd0aCgkc2VhcmNoKSksICRzZWFyY2gsICRyZXBsYWNlKTtcbiAgfVxuXG4gIEByZXR1cm4gJHN0cmluZztcbn1cblxuLy8gU3RyaW5nIFNwbGl0IEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbkBmdW5jdGlvbiBzdHItc3BsaXQoJHN0cmluZywgJHNlcGFyYXRvcikge1xuICAvLyBlbXB0eSBhcnJheS9saXN0XG4gICRzcGxpdC1hcnI6ICgpO1xuICAvLyBmaXJzdCBpbmRleCBvZiBzZXBhcmF0b3IgaW4gc3RyaW5nXG4gICRpbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzZXBhcmF0b3IpO1xuICAvLyBsb29wIHRocm91Z2ggc3RyaW5nXG4gIEB3aGlsZSAkaW5kZXggIT0gbnVsbCB7XG4gICAgLy8gZ2V0IHRoZSBzdWJzdHJpbmcgZnJvbSB0aGUgZmlyc3QgY2hhcmFjdGVyIHRvIHRoZSBzZXBhcmF0b3JcbiAgICAkaXRlbTogc3RyLXNsaWNlKCRzdHJpbmcsIDEsICRpbmRleCAtIDEpO1xuICAgIC8vIHB1c2ggaXRlbSB0byBhcnJheVxuICAgICRzcGxpdC1hcnI6IGFwcGVuZCgkc3BsaXQtYXJyLCAkaXRlbSk7XG4gICAgLy8gcmVtb3ZlIGl0ZW0gYW5kIHNlcGFyYXRvciBmcm9tIHN0cmluZ1xuICAgICRzdHJpbmc6IHN0ci1zbGljZSgkc3RyaW5nLCAkaW5kZXggKyAxKTtcbiAgICAvLyBmaW5kIG5ldyBpbmRleCBvZiBzZXBhcmF0b3JcbiAgICAkaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc2VwYXJhdG9yKTtcbiAgfVxuICAvLyBhZGQgdGhlIHJlbWFpbmluZyBzdHJpbmcgdG8gbGlzdCAodGhlIGxhc3QgaXRlbSlcbiAgJHNwbGl0LWFycjogYXBwZW5kKCRzcGxpdC1hcnIsICRzdHJpbmcpO1xuXG4gIEByZXR1cm4gJHNwbGl0LWFycjtcbn1cblxuXG4vLyBTdHJpbmcgRXh0cmFjdCBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIHN0ci1leHRyYWN0KCRzdHJpbmcsICRzdGFydCwgJGVuZCkge1xuICAkc3RhcnQtaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc3RhcnQpO1xuXG4gIEBpZiAkc3RhcnQtaW5kZXgge1xuICAgICRwb3N0OiBzdHItc2xpY2UoJHN0cmluZywgJHN0YXJ0LWluZGV4ICsgc3RyLWxlbmd0aCgkc3RhcnQpKTtcbiAgICAkZW5kLWluZGV4OiBzdHItaW5kZXgoJHBvc3QsICRlbmQpO1xuXG4gICAgQGlmICRlbmQtaW5kZXgge1xuICAgICAgQHJldHVybiBzdHItc2xpY2UoJHBvc3QsIDEsICRlbmQtaW5kZXggLSAxKTtcbiAgICB9XG4gIH1cblxuICBAcmV0dXJuIG51bGw7XG59XG5cblxuLy8gU3RyaW5nIENvbnRhaW5zIEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gc3RyLWNvbnRhaW5zKCRzdHJpbmcsICRuZWVkbGUpIHtcbiAgQGlmICh0eXBlLW9mKCRzdHJpbmcpID09IHN0cmluZykge1xuICAgIEByZXR1cm4gc3RyLWluZGV4KCRzdHJpbmcsICRuZWVkbGUpICE9IG51bGw7XG4gIH1cblxuICBAcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8vIFVSTCBFbmNvZGUgRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBmdW5jdGlvbiB1cmwtZW5jb2RlKCR2YWwpIHtcbiAgJHNwYWNlczogc3RyLXJlcGxhY2UoJHZhbCwgXCIgXCIsIFwiJTIwXCIpO1xuICAkZW5jb2RlZDogc3RyLXJlcGxhY2UoJHNwYWNlcywgXCIjXCIsIFwiJTIzXCIpO1xuICBAcmV0dXJuICRlbmNvZGVkO1xufVxuXG5cbi8vIEFkZCBSb290IFNlbGVjdG9yXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQWRkcyBhIHJvb3Qgc2VsZWN0b3IgdXNpbmcgaG9zdCBiYXNlZCBvbiB0aGUgc2VsZWN0b3IgcGFzc2VkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gYWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsICRhZGRIb3N0U2VsZWN0b3IpIHtcbiAgJHNlbGVjdG9yczogc3RyLXNwbGl0KCRyb290LCBcIixcIik7XG5cbiAgJGxpc3Q6ICgpO1xuXG4gIEBlYWNoICRzZWxlY3RvciBpbiAkc2VsZWN0b3JzIHtcbiAgICAvLyBJZiB0aGUgc2VsZWN0b3IgY29udGFpbnMgOmhvc3QoIGl0IG1lYW5zIGl0IGlzIHRhcmdldGluZyBhIGNsYXNzIG9uIHRoZSBob3N0XG4gICAgLy8gZWxlbWVudCBzbyB3ZSBuZWVkIHRvIGNoYW5nZSBob3cgd2UgdGFyZ2V0IGl0OlxuICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3QoLmZpeGVkKVwiLCBcIltkaXI9cnRsXVwiKVxuICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpXG4gICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5maXhlZFxuICAgIEBpZiBzdHItY29udGFpbnMoJHNlbGVjdG9yLCBcIjpob3N0KFwiKSB7XG4gICAgICAvLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcIjpob3N0KC5maXhlZClcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpXG4gICAgICAkc2hhZG93LWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzZWxlY3RvciwgXCI6aG9zdChcIiwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pOmhvc3QoXCIpO1xuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJHNoYWRvdy1lbGVtZW50LCBjb21tYSk7XG5cbiAgICAgICRuZXctZWxlbWVudDogKCk7XG4gICAgICAkZWxlbWVudHM6IHN0ci1zcGxpdCgkc2VsZWN0b3IsIFwiIFwiKTtcblxuICAgICAgQGVhY2ggJGVsZW1lbnQgaW4gJGVsZW1lbnRzIHtcbiAgICAgICAgQGlmIHN0ci1jb250YWlucygkZWxlbWVudCwgXCI6aG9zdChcIikge1xuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogJGVsZW1lbnQ7XG5cbiAgICAgICAgICAvLyBSZXBsYWNlIHRoZSA6aG9zdCggYW5kICkgc28gYWxsIHdlIGhhdmUgbGVmdCBpcyB0aGUgY2xhc3NcbiAgICAgICAgICAvLyBpbnNpZGUgb2YgaXQ6XG4gICAgICAgICAgLy8gOmhvc3QoLmZpeGVkKSAtPiAuZml4ZWRcbiAgICAgICAgICAkc2NvcGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzY29wZWQtZWxlbWVudCwgXCIpXCIsIFwiXCIpO1xuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJHNjb3BlZC1lbGVtZW50LCBcIjpob3N0KFwiLCBcIlwiKTtcblxuICAgICAgICAgIC8vIEFkZCB0aGUgY2xhc3MgYmFjayBpbnNpZGUgb2YgaG9zdCB3aXRoIHRoZSBydGwgc2VsZWN0b3I6XG4gICAgICAgICAgLy8gLmZpeGVkIC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5maXhlZFxuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJHNjb3BlZC1lbGVtZW50LCAkc2NvcGVkLWVsZW1lbnQsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KSN7JHNjb3BlZC1lbGVtZW50fVwiKTtcblxuICAgICAgICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3QoLmZpeGVkKVwiLCBcIltkaXI9cnRsXVwiKVxuICAgICAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkuZml4ZWRcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICRzY29wZWQtZWxlbWVudCwgc3BhY2UpO1xuICAgICAgICB9IEBlbHNlIHtcbiAgICAgICAgICAvLyBBZGQgYmFjayBhbnkgc2VsZWN0b3JzIHRoYXQgZm9sbG93ZWQgdGhlIGhvc3QgYWZ0ZXIgdHJhbnNmb3JtaW5nIHRoZVxuICAgICAgICAgIC8vIGZpcnN0IHNlbGVjdG9yOlxuICAgICAgICAgIC8vIDpob3N0KC5maXhlZCkgOjpzbG90dGVkKGlvbi1pY29uKVxuICAgICAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpIDo6c2xvdHRlZChpb24taWNvbilcbiAgICAgICAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLmZpeGVkIDo6c2xvdHRlZChpb24taWNvbilcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICRlbGVtZW50LCBzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJG5ldy1lbGVtZW50LCBjb21tYSk7XG4gICAgLy8gSWYgdGhlIHNlbGVjdG9yIGNvbnRhaW5zIDpob3N0IHdpdGhvdXQgYSBwYXJhbnRoZXNlc1xuICAgIC8vIGl0IG1lYW5zIGl0IGlzIHRhcmdldGluZyBqdXN0IHRoZSBob3N0XG4gICAgLy8gZWxlbWVudCBzbyB3ZSBjYW4gY2hhbmdlIGl0IHRvIGxvb2sgZm9yIGhvc3QtY29udGV4dFxuICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3RcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pXG4gICAgLy8gLS0+IDpob3N0OmRpcihydGwpXG4gICAgfSBAZWxzZSBpZiBzdHItY29udGFpbnMoJHNlbGVjdG9yLCBcIjpob3N0XCIpIHtcbiAgICAgICRuZXctZWxlbWVudDogKCk7XG4gICAgICAkZWxlbWVudHM6IHN0ci1zcGxpdCgkc2VsZWN0b3IsIFwiIFwiKTtcblxuICAgICAgQGVhY2ggJGVsZW1lbnQgaW4gJGVsZW1lbnRzIHtcbiAgICAgICAgQGlmIHN0ci1jb250YWlucygkZWxlbWVudCwgXCI6aG9zdFwiKSB7XG4gICAgICAgICAgLy8gUmVwbGFjZSB0aGUgOmhvc3Qgd2l0aCB0aGUgYWRkSG9zdFNlbGVjdG9yOlxuICAgICAgICAgIC8vIDpob3N0IC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKVxuICAgICAgICAgICR1cGRhdGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRlbGVtZW50LCBcIjpob3N0XCIsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KVwiKTtcblxuICAgICAgICAgIC8vIEFkZCB0aGUgZmluYWwgc2VsZWN0b3IgYWZ0ZXIgYWxsIHRyYW5zZm9ybWF0aW9uczpcbiAgICAgICAgICAvLyA6aG9zdCAtPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSlcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICR1cGRhdGVkLWVsZW1lbnQsIHNwYWNlKTtcbiAgICAgICAgfSBAZWxzZSB7XG4gICAgICAgICAgLy8gQWRkIGJhY2sgYW55IHNlbGVjdG9ycyB0aGF0IGZvbGxvd2VkIHRoZSBob3N0IGFmdGVyIHRyYW5zZm9ybWluZyB0aGVcbiAgICAgICAgICAvLyBmaXJzdCBzZWxlY3RvcjpcbiAgICAgICAgICAvLyA6aG9zdCA6OnNsb3R0ZWQoaW9uLWljb24pIC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSA6OnNsb3R0ZWQoaW9uLWljb24pXG4gICAgICAgICAgJG5ldy1lbGVtZW50OiBhcHBlbmQoJG5ldy1lbGVtZW50LCAkZWxlbWVudCwgc3BhY2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsICRuZXctZWxlbWVudCwgY29tbWEpO1xuICAgIC8vIElmIHRoZSBzZWxlY3RvciBkb2VzIG5vdCBjb250YWluIGhvc3QgYXQgYWxsIGl0IGlzIGVpdGhlciBhIHNoYWRvd1xuICAgIC8vIG9yIG5vcm1hbCBlbGVtZW50IHNvIGFwcGVuZCBib3RoIHRoZSBhZGRIb3N0U2VsZWN0b3IgYW5kIGhvc3QtY29udGV4dFxuICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiaW9uLWNvbXBvbmVudFwiLCBcIltkaXI9cnRsXVwiKVxuICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgaW9uLWNvbXBvbmVudFxuICAgIC8vIC0tPiBbZGlyPXJ0bF0gaW9uLWNvbXBvbmVudFxuICAgIH0gQGVsc2Uge1xuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgXCIjeyRhZGRIb3N0U2VsZWN0b3J9ICN7JHNlbGVjdG9yfVwiLCBjb21tYSk7XG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCBcIjpob3N0LWNvbnRleHQoI3skYWRkSG9zdFNlbGVjdG9yfSkgI3skc2VsZWN0b3J9XCIsIGNvbW1hKTtcbiAgICB9XG4gIH1cblxuICBAcmV0dXJuICRsaXN0O1xufVxuIiwiLyoqXG4gKiBJbXBvcnRlZCBpb25pYyBjb2xvciBmdW5jdGlvbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLmZ1bmN0aW9ucy5jb2xvci5zY3NzXG4gKi9cblxuLy8gR2V0cyB0aGUgYWN0aXZlIGNvbG9yJ3MgY3NzIHZhcmlhYmxlIGZyb20gYSB2YXJpYXRpb24uIEFscGhhIGlzIG9wdGlvbmFsLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEV4YW1wbGUgdXNhZ2U6XG4vLyBjdXJyZW50LWNvbG9yKGJhc2UpID0+IHZhcigtLWlvbi1jb2xvci1iYXNlKVxuLy8gY3VycmVudC1jb2xvcihjb250cmFzdCwgMC4xKSA9PiByZ2JhKHZhcigtLWlvbi1jb2xvci1jb250cmFzdC1yZ2IpLCAwLjEpXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGN1cnJlbnQtY29sb3IoJHZhcmlhdGlvbiwgJGFscGhhOiBudWxsKSB7XG4gIEBpZiAkYWxwaGEgPT0gbnVsbCB7XG4gICAgQHJldHVybiB2YXIoLS1pb24tY29sb3ItI3skdmFyaWF0aW9ufSk7XG4gIH0gQGVsc2Uge1xuICAgIEByZXR1cm4gcmdiYSh2YXIoLS1pb24tY29sb3ItI3skdmFyaWF0aW9ufS1yZ2IpLCAjeyRhbHBoYX0pO1xuICB9XG59XG5cbi8vIEdldHMgdGhlIHNwZWNpZmljIGNvbG9yJ3MgY3NzIHZhcmlhYmxlIGZyb20gdGhlIG5hbWUgYW5kIHZhcmlhdGlvbi4gQWxwaGEvcmdiIGFyZSBvcHRpb25hbC5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFeGFtcGxlIHVzYWdlOlxuLy8gaW9uLWNvbG9yKHByaW1hcnksIGJhc2UpID0+IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LCAjMzg4MGZmKVxuLy8gaW9uLWNvbG9yKHNlY29uZGFyeSwgY29udHJhc3QpID0+IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnktY29udHJhc3QpXG4vLyBpb24tY29sb3IocHJpbWFyeSwgYmFzZSwgMC41KSA9PiByZ2JhKHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LXJnYiwgNTYsIDEyOCwgMjU1KSwgMC41KVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBpb24tY29sb3IoJG5hbWUsICR2YXJpYXRpb24sICRhbHBoYTogbnVsbCwgJHJnYjogbnVsbCkge1xuICAkdmFsdWVzOiBtYXAtZ2V0KCRjb2xvcnMsICRuYW1lKTtcbiAgJHZhbHVlOiBtYXAtZ2V0KCR2YWx1ZXMsICR2YXJpYXRpb24pO1xuICAkdmFyaWFibGU6IC0taW9uLWNvbG9yLSN7JG5hbWV9LSN7JHZhcmlhdGlvbn07XG5cbiAgQGlmICgkdmFyaWF0aW9uID09IGJhc2UpIHtcbiAgICAkdmFyaWFibGU6IC0taW9uLWNvbG9yLSN7JG5hbWV9O1xuICB9XG5cbiAgQGlmICgkYWxwaGEpIHtcbiAgICAkdmFsdWU6IGNvbG9yLXRvLXJnYi1saXN0KCR2YWx1ZSk7XG4gICAgQHJldHVybiByZ2JhKHZhcigjeyR2YXJpYWJsZX0tcmdiLCAkdmFsdWUpLCAkYWxwaGEpO1xuICB9XG4gIEBpZiAoJHJnYikge1xuICAgICR2YWx1ZTogY29sb3ItdG8tcmdiLWxpc3QoJHZhbHVlKTtcbiAgICAkdmFyaWFibGU6ICN7JHZhcmlhYmxlfS1yZ2I7XG4gIH1cblxuICBAcmV0dXJuIHZhcigjeyR2YXJpYWJsZX0sICR2YWx1ZSk7XG59XG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCBibGFjayB0byBjcmVhdGUgaXRzIHNoYWRlLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBnZXQtY29sb3Itc2hhZGUoJGNvbG9yKSB7XG4gIEByZXR1cm4gbWl4KCMwMDAsICRjb2xvciwgMTIlKTtcbn1cblxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIHdoaXRlIHRvIGNyZWF0ZSBpdHMgdGludC5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXRpbnQoJGNvbG9yKSB7XG4gIEByZXR1cm4gbWl4KCNmZmYsICRjb2xvciwgMTAlKTtcbn1cblxuLy8gQ29udmVydHMgYSBjb2xvciB0byBhIGNvbW1hIHNlcGFyYXRlZCByZ2IuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGNvbG9yLXRvLXJnYi1saXN0KCRjb2xvcikge1xuICBAcmV0dXJuICN7cmVkKCRjb2xvcil9LCN7Z3JlZW4oJGNvbG9yKX0sI3tibHVlKCRjb2xvcil9O1xufVxuIiwiLyoqXG4gKiBJbXBvcnRlZCBpb25pYyBtaXhpbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLm1peGlucy5zY3NzXG4gKi9cblxuQG1peGluIGlucHV0LWNvdmVyKCkge1xuICBAaW5jbHVkZSBwb3NpdGlvbigwLCBudWxsLCBudWxsLCAwKTtcbiAgQGluY2x1ZGUgbWFyZ2luKDApO1xuXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuXG4gIGJvcmRlcjogMDtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcblxuICBhcHBlYXJhbmNlOiBub25lO1xuICBvdXRsaW5lOiBub25lO1xuXG4gICY6Oi1tb3otZm9jdXMtaW5uZXIge1xuICAgIGJvcmRlcjogMDtcbiAgfVxufVxuXG5AbWl4aW4gdmlzdWFsbHktaGlkZGVuKCkge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuXG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG5cbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuXG4gIGJvcmRlcjogMDtcbiAgb3V0bGluZTogMDtcbiAgY2xpcDogcmVjdCgwIDAgMCAwKTtcblxuICBvcGFjaXR5OiAwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xufVxuXG5AbWl4aW4gdGV4dC1pbmhlcml0KCkge1xuICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgZm9udC1zaXplOiBpbmhlcml0O1xuICBmb250LXN0eWxlOiBpbmhlcml0O1xuICBmb250LXdlaWdodDogaW5oZXJpdDtcbiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7XG4gIHRleHQtZGVjb3JhdGlvbjogaW5oZXJpdDtcbiAgdGV4dC1pbmRlbnQ6IGluaGVyaXQ7XG4gIHRleHQtb3ZlcmZsb3c6IGluaGVyaXQ7XG4gIHRleHQtdHJhbnNmb3JtOiBpbmhlcml0O1xuICB0ZXh0LWFsaWduOiBpbmhlcml0O1xuICB3aGl0ZS1zcGFjZTogaW5oZXJpdDtcbiAgY29sb3I6IGluaGVyaXQ7XG59XG5cbkBtaXhpbiBidXR0b24tc3RhdGUoKSB7XG4gIEBpbmNsdWRlIHBvc2l0aW9uKDAsIDAsIDAsIDApO1xuXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICBjb250ZW50OiBcIlwiO1xuXG4gIG9wYWNpdHk6IDA7XG59XG5cbi8vIEZvbnQgc21vb3RoaW5nXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gZm9udC1zbW9vdGhpbmcoKSB7XG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xufVxuXG4vLyBHZXQgdGhlIGtleSBmcm9tIGEgbWFwIGJhc2VkIG9uIHRoZSBpbmRleFxuQGZ1bmN0aW9uIGluZGV4LXRvLWtleSgkbWFwLCAkaW5kZXgpIHtcbiAgJGtleXM6IG1hcC1rZXlzKCRtYXApO1xuXG4gIEByZXR1cm4gbnRoKCRrZXlzLCAkaW5kZXgpO1xufVxuXG5cbi8vIEJyZWFrcG9pbnQgTWl4aW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gQnJlYWtwb2ludCB2aWV3cG9ydCBzaXplcyBhbmQgbWVkaWEgcXVlcmllcy5cbi8vXG4vLyBCcmVha3BvaW50cyBhcmUgZGVmaW5lZCBhcyBhIG1hcCBvZiAobmFtZTogbWluaW11bSB3aWR0aCksIG9yZGVyIGZyb20gc21hbGwgdG8gbGFyZ2U6XG4vL1xuLy8gICAgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KVxuLy9cbi8vIFRoZSBtYXAgZGVmaW5lZCBpbiB0aGUgYCRzY3JlZW4tYnJlYWtwb2ludHNgIGdsb2JhbCB2YXJpYWJsZSBpcyB1c2VkIGFzIHRoZSBgJGJyZWFrcG9pbnRzYCBhcmd1bWVudCBieSBkZWZhdWx0LlxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gTWluaW11bSBicmVha3BvaW50IHdpZHRoLiBOdWxsIGZvciB0aGUgc21hbGxlc3QgKGZpcnN0KSBicmVha3BvaW50LlxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtbWluKHNtLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxuLy8gICAgNTc2cHhcbkBmdW5jdGlvbiBicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtaW46IG1hcC1nZXQoJGJyZWFrcG9pbnRzLCAkbmFtZSk7XG5cbiAgQHJldHVybiBpZigkbmFtZSAhPSBpbmRleC10by1rZXkoJGJyZWFrcG9pbnRzLCAxKSwgJG1pbiwgbnVsbCk7XG59XG5cbi8vIFJldHVybnMgYSBibGFuayBzdHJpbmcgaWYgc21hbGxlc3QgYnJlYWtwb2ludCwgb3RoZXJ3aXNlIHJldHVybnMgdGhlIG5hbWUgd2l0aCBhIGRhc2ggaW5mcm9udC5cbi8vIFVzZWZ1bCBmb3IgbWFraW5nIHJlc3BvbnNpdmUgdXRpbGl0aWVzLlxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtaW5maXgoeHMsICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICBcIlwiICAoUmV0dXJucyBhIGJsYW5rIHN0cmluZylcbi8vICAgID4+IGJyZWFrcG9pbnQtaW5maXgoc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICBcIi1zbVwiXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1pbmZpeCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gIEByZXR1cm4gaWYoYnJlYWtwb2ludC1taW4oJG5hbWUsICRicmVha3BvaW50cykgPT0gbnVsbCwgXCJcIiwgXCItI3skbmFtZX1cIik7XG59XG5cbi8vIE1lZGlhIG9mIGF0IGxlYXN0IHRoZSBtaW5pbXVtIGJyZWFrcG9pbnQgd2lkdGguIE5vIHF1ZXJ5IGZvciB0aGUgc21hbGxlc3QgYnJlYWtwb2ludC5cbi8vIE1ha2VzIHRoZSBAY29udGVudCBhcHBseSB0byB0aGUgZ2l2ZW4gYnJlYWtwb2ludCBhbmQgd2lkZXIuXG5AbWl4aW4gbWVkaWEtYnJlYWtwb2ludC11cCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtaW46IGJyZWFrcG9pbnQtbWluKCRuYW1lLCAkYnJlYWtwb2ludHMpO1xuICBAaWYgJG1pbiB7XG4gICAgQG1lZGlhIChtaW4td2lkdGg6ICRtaW4pIHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cblxuLy8gTmFtZSBvZiB0aGUgbmV4dCBicmVha3BvaW50LCBvciBudWxsIGZvciB0aGUgbGFzdCBicmVha3BvaW50LlxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtbmV4dChzbSlcbi8vICAgIG1kXG4vLyAgICA+PiBicmVha3BvaW50LW5leHQoc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICBtZFxuLy8gICAgPj4gYnJlYWtwb2ludC1uZXh0KHNtLCAkYnJlYWtwb2ludC1uYW1lczogKHhzIHNtIG1kIGxnIHhsKSlcbi8vICAgIG1kXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1uZXh0KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMsICRicmVha3BvaW50LW5hbWVzOiBtYXAta2V5cygkYnJlYWtwb2ludHMpKSB7XG4gICRuOiBpbmRleCgkYnJlYWtwb2ludC1uYW1lcywgJG5hbWUpO1xuICBAcmV0dXJuIGlmKCRuIDwgbGVuZ3RoKCRicmVha3BvaW50LW5hbWVzKSwgbnRoKCRicmVha3BvaW50LW5hbWVzLCAkbiArIDEpLCBudWxsKTtcbn1cblxuLy8gTWF4aW11bSBicmVha3BvaW50IHdpZHRoLiBOdWxsIGZvciB0aGUgc21hbGxlc3QgKGZpcnN0KSBicmVha3BvaW50LlxuLy8gVGhlIG1heGltdW0gdmFsdWUgaXMgcmVkdWNlZCBieSAwLjAycHggdG8gd29yayBhcm91bmQgdGhlIGxpbWl0YXRpb25zIG9mXG4vLyBgbWluLWAgYW5kIGBtYXgtYCBwcmVmaXhlcyBhbmQgdmlld3BvcnRzIHdpdGggZnJhY3Rpb25hbCB3aWR0aHMuXG4vL1xuLy8gU2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9tZWRpYXF1ZXJpZXMtNC8jbXEtbWluLW1heFxuLy8gVXNlcyAwLjAycHggcmF0aGVyIHRoYW4gMC4wMXB4IHRvIHdvcmsgYXJvdW5kIGEgY3VycmVudCByb3VuZGluZyBidWcgaW4gU2FmYXJpLlx0Ly8gVXNlcyAwLjAycHggcmF0aGVyIHRoYW4gMC4wMXB4IHRvIHdvcmsgYXJvdW5kIGEgY3VycmVudCByb3VuZGluZyBidWcgaW4gU2FmYXJpLlxuLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNzgyNjFcdC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTc4MjYxXG4vL1xuLy8gICAgPj4gYnJlYWtwb2ludC1tYXgobWQsICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICA3NjcuOThweFxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbWF4KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgJG1heDogbWFwLWdldCgkYnJlYWtwb2ludHMsICRuYW1lKTtcbiAgQHJldHVybiBpZigkbWF4IGFuZCAkbWF4ID4gMCwgJG1heCAtIC4wMiwgbnVsbCk7XG59XG5cbi8vIE1lZGlhIG9mIGF0IG1vc3QgdGhlIG1heGltdW0gYnJlYWtwb2ludCB3aWR0aC4gTm8gcXVlcnkgZm9yIHRoZSBsYXJnZXN0IGJyZWFrcG9pbnQuXG4vLyBNYWtlcyB0aGUgQGNvbnRlbnQgYXBwbHkgdG8gdGhlIGdpdmVuIGJyZWFrcG9pbnQgYW5kIG5hcnJvd2VyLlxuQG1peGluIG1lZGlhLWJyZWFrcG9pbnQtZG93bigkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtYXg6IGJyZWFrcG9pbnQtbWF4KCRuYW1lLCAkYnJlYWtwb2ludHMpO1xuICBAaWYgJG1heCB7XG4gICAgQG1lZGlhIChtYXgtd2lkdGg6ICRtYXgpIHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cblxuXG4vLyBUZXh0IERpcmVjdGlvbiAtIGx0ciAvIHJ0bFxuLy9cbi8vIENTUyBkZWZhdWx0cyB0byB1c2UgdGhlIGx0ciBjc3MsIGFuZCBhZGRzIFtkaXI9cnRsXSBzZWxlY3RvcnNcbi8vIHRvIG92ZXJyaWRlIGx0ciBkZWZhdWx0cy5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIG11bHRpLWRpcigpIHtcbiAgQGNvbnRlbnQ7XG5cbiAgLy8gJHJvb3Q6ICN7Jn07XG4gIC8vIEBhdC1yb290IFtkaXJdIHtcbiAgLy8gICAjeyRyb290fSB7XG4gIC8vICAgICBAY29udGVudDtcbiAgLy8gICB9XG4gIC8vIH1cbn1cblxuQG1peGluIHJ0bCgpIHtcbiAgJHJvb3Q6ICN7Jn07XG5cbiAgJHJvb3RTcGxpdDogc3RyLXNwbGl0KCRyb290LCBcIixcIik7XG4gICRzZWxlY3RvcnM6ICN7YWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsIFwiW2Rpcj1ydGxdXCIpfTtcbiAgJHNlbGVjdG9yc1NwbGl0OiBzdHItc3BsaXQoJHNlbGVjdG9ycywgXCIsXCIpO1xuXG4gICRob3N0Q29udGV4dFNlbGVjdG9yczogKCk7XG4gICRyZXN0U2VsZWN0b3JzOiAoKTtcbiAgJGRpclNlbGVjdG9yczogKCk7XG5cbiAgLy8gU2VsZWN0b3JzIG11c3QgYmUgc3BsaXQgaW50byBpbmRpdmlkdWFsIHNlbGVjdG9ycyBpbiBjYXNlIHRoZSBicm93c2VyXG4gIC8vIGRvZXNuJ3Qgc3VwcG9ydCBhIHNwZWNpZmljIHNlbGVjdG9yLlxuICAvLyBGb3IgZXhhbXBsZSwgRmlyZWZveCBhbmQgU2FmYXJpIGRvZXNuJ3Qgc3VwcG9ydCBgOmhvc3QtY29udGV4dCgpYC5cbiAgLy8gSWYgYW4gaW52YWxpZCBzZWxlY3RvciBpcyB1c2VkLCB0aGVuIHRoZSBlbnRpcmUgZ3JvdXAgb2Ygc2VsZWN0b3JzXG4gIC8vIHdpbGwgYmUgaWdub3JlZC5cbiAgLy8gQGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy0zLyNncm91cGluZ1xuICBAZWFjaCAkc2VsZWN0b3IgaW4gJHNlbGVjdG9yc1NwbGl0IHtcbiAgICAvLyBHcm91cCB0aGUgc2VsZWN0b3JzIGJhY2sgaW50byBhIHNpbmdsZSBzZWxlY3RvciB0byBvcHRpbWl6ZSB0aGUgb3V0cHV0LlxuICAgIEBpZiBzdHItaW5kZXgoJHNlbGVjdG9yLCBcIjpob3N0LWNvbnRleHRcIikge1xuICAgICAgJGhvc3RDb250ZXh0U2VsZWN0b3JzOiBhcHBlbmQoJGhvc3RDb250ZXh0U2VsZWN0b3JzLCAkc2VsZWN0b3IsIGNvbW1hKTtcbiAgICB9IEBlbHNlIHtcbiAgICAgIC8vIEdyb3VwIHRoZSBzZWxlY3RvcnMgYmFjayBpbnRvIGEgc2luZ2xlIHNlbGVjdG9yIHRvIG9wdGltaXplIHRoZSBvdXRwdXQuXG4gICAgICAkcmVzdFNlbGVjdG9yczogYXBwZW5kKCRyZXN0U2VsZWN0b3JzLCAkc2VsZWN0b3IsIGNvbW1hKTtcbiAgICB9XG4gIH1cblxuICAvLyBTdXBwb3J0ZWQgYnkgQ2hyb21lLlxuICBAaWYgbGVuZ3RoKCRob3N0Q29udGV4dFNlbGVjdG9ycykgPiAwIHtcbiAgICBAYXQtcm9vdCAjeyRob3N0Q29udGV4dFNlbGVjdG9yc30ge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9XG5cbiAgLy8gU3VwcG9ydGVkIGJ5IGFsbCBicm93c2Vycy5cbiAgQGlmIGxlbmd0aCgkcmVzdFNlbGVjdG9ycykgPiAwIHtcbiAgICBAYXQtcm9vdCAjeyRyZXN0U2VsZWN0b3JzfSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cblxuICAvLyBJZiBicm93c2VyIGNhbiBzdXBwb3J0IGA6ZGlyKClgLCB0aGVuIGFkZCB0aGUgYDpkaXIoKWAgc2VsZWN0b3JzLlxuICAvLyBAc3VwcG9ydHMgc2VsZWN0b3IoOmRpcihydGwpKSB7IC8vIEAgSU1QT1RBTlQgTk9URTogVGhpcyBoYXMgYmVlbiByZW1vdmVkIGJlY2F1c2Ugc2VsZWN0b3IgZnVuY3Rpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBjdXJyZW50IFNDU1NcbiAgLy8gQWRkaW5nIDpkaXIoKSBpbiBjYXNlIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBgOmhvc3QtY29udGV4dCgpYCBhbmQgZG9lcyBzdXBwb3J0IGA6ZGlyKClgLlxuICAvLyBgOmhvc3QtY29udGV4dCgpYCBpcyBhZGRlZDpcbiAgLy8gLSB0aHJvdWdoIHRoZSBgYWRkLXJvb3Qtc2VsZWN0b3IoKWAgZnVuY3Rpb24uXG4gIC8vIC0gZmlyc3Qgc28gdGhhdCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYDpkaXIoKWAuXG4gIC8vIEZvciBleGFtcGxlLFxuICAvLyAtIEZpcmVmb3ggZG9lc24ndCBzdXBwb3J0IGA6aG9zdC1jb250ZXh0KClgLCBidXQgZG9lcyBzdXBwb3J0IGA6ZGlyKClgLlxuICAvLyAtIFNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgYDpob3N0LWNvbnRleHQoKWAsIGJ1dCBTYWZhcmkgMTYuNCsgc3VwcG9ydHMgYDpkaXIoKWBcbiAgLy8gQGxpbmsgaHR0cHM6Ly93ZWJraXQub3JnL2Jsb2cvMTM5NjYvd2Via2l0LWZlYXR1cmVzLWluLXNhZmFyaS0xNi00L1xuICBAZWFjaCAkc2VsZWN0b3IgaW4gJHJvb3RTcGxpdCB7XG4gICAgJGRpclNlbGVjdG9yOiBcIiN7JHNlbGVjdG9yfTpkaXIocnRsKVwiO1xuICAgIC8vIEdyb3VwIHRoZSBzZWxlY3RvcnMgYmFjayBpbnRvIGEgc2luZ2xlIHNlbGVjdG9yIHRvIG9wdGltaXplIHRoZSBvdXRwdXQuXG4gICAgJGRpclNlbGVjdG9yczogYXBwZW5kKCRkaXJTZWxlY3RvcnMsICRkaXJTZWxlY3RvciwgY29tbWEpO1xuICB9XG5cbiAgLy8gU3VwcG9ydGVkIGJ5IEZpcmVmb3guXG4gIEBpZiBsZW5ndGgoJGRpclNlbGVjdG9ycykgPiAwIHtcbiAgICBAYXQtcm9vdCAjeyRkaXJTZWxlY3RvcnN9IHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfVxuICAvL31cbn1cblxuQG1peGluIGx0cigpIHtcbiAgQGNvbnRlbnQ7XG59XG5cblxuLy8gU1ZHIEJhY2tncm91bmQgSW1hZ2UgTWl4aW5cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3ZnXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gc3ZnLWJhY2tncm91bmQtaW1hZ2UoJHN2ZywgJGZsaXAtcnRsOiBmYWxzZSkge1xuICAkdXJsOiB1cmwtZW5jb2RlKCRzdmcpO1xuICAkdmlld0JveDogc3RyLXNwbGl0KHN0ci1leHRyYWN0KCRzdmcsIFwidmlld0JveD0nXCIsIFwiJ1wiKSwgXCIgXCIpO1xuXG4gIEBpZiAkZmxpcC1ydGwgIT0gdHJ1ZSBvciAkdmlld0JveCA9PSBudWxsIHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwjeyR1cmx9XCIpO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgJHRyYW5zZm9ybTogXCJ0cmFuc2Zvcm09J3RyYW5zbGF0ZSgje250aCgkdmlld0JveCwgMyl9LCAwKSBzY2FsZSgtMSwgMSknXCI7XG4gICAgJGZsaXBwZWQtdXJsOiAkc3ZnO1xuICAgICRmbGlwcGVkLXVybDogc3RyLXJlcGxhY2UoJGZsaXBwZWQtdXJsLCBcIjxwYXRoXCIsIFwiPHBhdGggI3skdHJhbnNmb3JtfVwiKTtcbiAgICAkZmxpcHBlZC11cmw6IHN0ci1yZXBsYWNlKCRmbGlwcGVkLXVybCwgXCI8bGluZVwiLCBcIjxsaW5lICN7JHRyYW5zZm9ybX1cIik7XG4gICAgJGZsaXBwZWQtdXJsOiBzdHItcmVwbGFjZSgkZmxpcHBlZC11cmwsIFwiPHBvbHlnb25cIiwgXCI8cG9seWdvbiAjeyR0cmFuc2Zvcm19XCIpO1xuICAgICRmbGlwcGVkLXVybDogdXJsLWVuY29kZSgkZmxpcHBlZC11cmwpO1xuXG4gICAgQGluY2x1ZGUgbHRyICgpIHtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCN7JHVybH1cIik7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCN7JGZsaXBwZWQtdXJsfVwiKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gQWRkIHByb3BlcnR5IGhvcml6b250YWxcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcHJvcGVydHktaG9yaXpvbnRhbCgkcHJvcCwgJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgQGlmICRzdGFydCA9PSAwIGFuZCAkZW5kID09IDAge1xuICAgICN7JHByb3B9LWxlZnQ6ICRzdGFydDtcbiAgICAjeyRwcm9wfS1yaWdodDogJGVuZDtcblxuICB9IEBlbHNlIHtcbiAgICAtd2Via2l0LSN7JHByb3B9LXN0YXJ0OiAkc3RhcnQ7XG4gICAgI3skcHJvcH0taW5saW5lLXN0YXJ0OiAkc3RhcnQ7XG4gICAgLXdlYmtpdC0jeyRwcm9wfS1lbmQ6ICRlbmQ7XG4gICAgI3skcHJvcH0taW5saW5lLWVuZDogJGVuZDtcbiAgfVxufVxuXG4vLyBBZGQgcHJvcGVydHkgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHByb3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7Ym9vbGVhbn0gJGNvbnRlbnQgaW5jbHVkZSBjb250ZW50IG9yIHVzZSBkZWZhdWx0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcHJvcGVydHkoJHByb3AsICR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKCRwcm9wLCAkc3RhcnQsICRlbmQpO1xuICAjeyRwcm9wfS10b3A6ICR0b3A7XG4gICN7JHByb3B9LWJvdHRvbTogJGJvdHRvbTtcbn1cblxuLy8gQWRkIHBhZGRpbmcgaG9yaXpvbnRhbFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwYWRkaW5nLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChwYWRkaW5nLCAkc3RhcnQsICRlbmQpO1xufVxuXG4vLyBBZGQgcGFkZGluZyBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwYWRkaW5nKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eShwYWRkaW5nLCAkdG9wLCAkZW5kLCAkYm90dG9tLCAkc3RhcnQpO1xufVxuXG4vLyBBZGQgbWFyZ2luIGhvcml6b250YWxcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gbWFyZ2luLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChtYXJnaW4sICRzdGFydCwgJGVuZCk7XG59XG5cbi8vIEFkZCBtYXJnaW4gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gbWFyZ2luKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eShtYXJnaW4sICR0b3AsICRlbmQsICRib3R0b20sICRzdGFydCk7XG59XG5cbi8vIEFkZCBwb3NpdGlvbiBob3Jpem9udGFsXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0IC0gYW1vdW50IHRvIHBvc2l0aW9uIHN0YXJ0XG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZCAtIGFtb3VudCB0byBsZWZ0OiAwOyBlbmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwb3NpdGlvbi1ob3Jpem9udGFsKCRzdGFydDogbnVsbCwgJGVuZDogbnVsbCkge1xuICBAaWYgJHN0YXJ0ID09ICRlbmQge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIGxlZnQ6ICRzdGFydDtcbiAgICAgIHJpZ2h0OiAkZW5kO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGF0LXJvb3Qge1xuICAgICAgQHN1cHBvcnRzIChpbnNldC1pbmxpbmUtc3RhcnQ6IDApIHtcbiAgICAgICAgJiB7XG4gICAgICAgICAgaW5zZXQtaW5saW5lLXN0YXJ0OiAkc3RhcnQ7XG4gICAgICAgICAgaW5zZXQtaW5saW5lLWVuZDogJGVuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE8gRlctMzc2NlxuICAgIEBhdC1yb290IHtcbiAgICAgIEBzdXBwb3J0cyBub3QgKGluc2V0LWlubGluZS1zdGFydDogMCkge1xuICAgICAgICAmIHtcbiAgICAgICAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICAgICAgICBsZWZ0OiAkc3RhcnQ7XG4gICAgICAgICAgICByaWdodDogJGVuZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgICAgICAgbGVmdDogdW5zZXQ7XG4gICAgICAgICAgICByaWdodDogdW5zZXQ7XG5cbiAgICAgICAgICAgIGxlZnQ6ICRlbmQ7XG4gICAgICAgICAgICByaWdodDogJHN0YXJ0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBBZGQgcG9zaXRpb24gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcG9zaXRpb24oJHRvcDogbnVsbCwgJGVuZDogbnVsbCwgJGJvdHRvbTogbnVsbCwgJHN0YXJ0OiBudWxsKSB7XG4gIEBpbmNsdWRlIHBvc2l0aW9uLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kKTtcbiAgdG9wOiAkdG9wO1xuICBib3R0b206ICRib3R0b207XG59XG5cbi8vIEFkZCBib3JkZXIgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gYm9yZGVyKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eShib3JkZXIsICR0b3AsICRlbmQsICRib3R0b20sICRzdGFydCk7XG59XG5cbi8vIEFkZCBib3JkZXIgcmFkaXVzIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Atc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wLWVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b20tZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbS1zdGFydFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIGJvcmRlci1yYWRpdXMoJHRvcC1zdGFydCwgJHRvcC1lbmQ6ICR0b3Atc3RhcnQsICRib3R0b20tZW5kOiAkdG9wLXN0YXJ0LCAkYm90dG9tLXN0YXJ0OiAkdG9wLWVuZCkge1xuICBAaWYgJHRvcC1zdGFydCA9PSAkdG9wLWVuZCBhbmQgJHRvcC1zdGFydCA9PSAkYm90dG9tLWVuZCBhbmQgJHRvcC1zdGFydCA9PSAkYm90dG9tLXN0YXJ0IHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBib3JkZXItcmFkaXVzOiAkdG9wLXN0YXJ0O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogJHRvcC1zdGFydDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAkdG9wLWVuZDtcbiAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAkYm90dG9tLWVuZDtcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICRib3R0b20tc3RhcnQ7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogJHRvcC1lbmQ7XG4gICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogJHRvcC1zdGFydDtcbiAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAkYm90dG9tLXN0YXJ0O1xuICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogJGJvdHRvbS1lbmQ7XG4gICAgfVxuICB9XG59XG5cbi8vIEFkZCBkaXJlY3Rpb24gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJGRpciAtIERpcmVjdGlvbiBvbiBMVFJcbkBtaXhpbiBkaXJlY3Rpb24oJGRpcikge1xuICAkb3RoZXItZGlyOiBudWxsO1xuXG4gIEBpZiAkZGlyID09IGx0ciB7XG4gICAgJG90aGVyLWRpcjogcnRsO1xuICB9IEBlbHNlIHtcbiAgICAkb3RoZXItZGlyOiBsdHI7XG4gIH1cblxuICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgZGlyZWN0aW9uOiAkZGlyO1xuICB9XG4gIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICBkaXJlY3Rpb246ICRvdGhlci1kaXI7XG4gIH1cbn1cblxuLy8gQWRkIGZsb2F0IGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICRzaWRlXG4vLyBAcGFyYW0ge3N0cmluZ30gJGRlY29yYXRvciAtICFpbXBvcnRhbnRcbkBtaXhpbiBmbG9hdCgkc2lkZSwgJGRlY29yYXRvcjogbnVsbCkge1xuICBAaWYgJHNpZGUgPT0gc3RhcnQge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIGZsb2F0OiBsZWZ0ICRkZWNvcmF0b3I7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGZsb2F0OiByaWdodCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgfSBAZWxzZSBpZiAkc2lkZSA9PSBlbmQge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIGZsb2F0OiByaWdodCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBmbG9hdDogbGVmdCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgZmxvYXQ6ICRzaWRlICRkZWNvcmF0b3I7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBiYWNrZ3JvdW5kLXBvc2l0aW9uKCRob3Jpem9udGFsLCAkaG9yaXpvbnRhbC1hbW91bnQ6IG51bGwsICR2ZXJ0aWNhbDogbnVsbCwgJHZlcnRpY2FsLWFtb3VudDogbnVsbCkge1xuICBAaWYgJGhvcml6b250YWwgPT0gc3RhcnQgb3IgJGhvcml6b250YWwgPT0gZW5kIHtcbiAgICAkaG9yaXpvbnRhbC1sdHI6IG51bGw7XG4gICAgJGhvcml6b250YWwtcnRsOiBudWxsO1xuICAgIEBpZiAkaG9yaXpvbnRhbCA9PSBzdGFydCB7XG4gICAgICAkaG9yaXpvbnRhbC1sdHI6IGxlZnQ7XG4gICAgICAkaG9yaXpvbnRhbC1ydGw6IHJpZ2h0O1xuICAgIH0gQGVsc2Uge1xuICAgICAgJGhvcml6b250YWwtbHRyOiByaWdodDtcbiAgICAgICRob3Jpem9udGFsLXJ0bDogbGVmdDtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAkaG9yaXpvbnRhbC1sdHIgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAkaG9yaXpvbnRhbC1ydGwgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogJGhvcml6b250YWwgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gdHJhbnNmb3JtLW9yaWdpbigkeC1heGlzLCAkeS1heGlzOiBudWxsKSB7XG4gIEBpZiAkeC1heGlzID09IHN0YXJ0IHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0ICR5LWF4aXM7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0ICR5LWF4aXM7XG4gICAgfVxuICB9IEBlbHNlIGlmICR4LWF4aXMgPT0gZW5kIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCAkeS1heGlzO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0ICR5LWF4aXM7XG4gICAgfVxuICB9IEBlbHNlIGlmICR4LWF4aXMgPT0gbGVmdCBvciAkeC1heGlzID09IHJpZ2h0IHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAkeC1heGlzICR5LWF4aXM7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAkeC1heGlzICR5LWF4aXM7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGNhbGMoMTAwJSAtICN7JHgtYXhpc30pICR5LWF4aXM7XG4gICAgfVxuICB9XG59XG5cbi8vIEFkZCB0cmFuc2Zvcm0gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRyYW5zZm9ybXMgLSBjb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiB0cmFuc2Zvcm1zXG5AbWl4aW4gdHJhbnNmb3JtKCR0cmFuc2Zvcm1zLi4uKSB7XG4gICRleHRyYTogbnVsbDtcblxuICAkeDogbnVsbDtcbiAgJGx0ci10cmFuc2xhdGU6IG51bGw7XG4gICRydGwtdHJhbnNsYXRlOiBudWxsO1xuXG4gIEBlYWNoICR0cmFuc2Zvcm0gaW4gJHRyYW5zZm9ybXMge1xuICAgIEBpZiAoc3RyLWluZGV4KCR0cmFuc2Zvcm0sIHRyYW5zbGF0ZTNkKSkge1xuICAgICAgJHRyYW5zZm9ybTogc3RyLXJlcGxhY2UoJHRyYW5zZm9ybSwgJ3RyYW5zbGF0ZTNkKCcpO1xuICAgICAgJHRyYW5zZm9ybTogc3RyLXJlcGxhY2UoJHRyYW5zZm9ybSwgJyknKTtcblxuICAgICAgJGNvb3JkaW5hdGVzOiBzdHItc3BsaXQoJHRyYW5zZm9ybSwgJywnKTtcblxuICAgICAgJHg6IG50aCgkY29vcmRpbmF0ZXMsIDEpO1xuICAgICAgJHk6IG50aCgkY29vcmRpbmF0ZXMsIDIpO1xuICAgICAgJHo6IG50aCgkY29vcmRpbmF0ZXMsIDMpO1xuXG4gICAgICAkbHRyLXRyYW5zbGF0ZTogdHJhbnNsYXRlM2QoJHgsICR5LCAkeik7XG4gICAgICAkcnRsLXRyYW5zbGF0ZTogdHJhbnNsYXRlM2QoY2FsYygtMSAqICN7JHh9KSwgJHksICR6KTtcbiAgICB9IEBlbHNlIHtcbiAgICAgIEBpZiAkZXh0cmEgPT0gbnVsbCB7XG4gICAgICAgICRleHRyYTogJHRyYW5zZm9ybTtcbiAgICAgIH0gQGVsc2Uge1xuICAgICAgICAkZXh0cmE6ICRleHRyYSAkdHJhbnNmb3JtO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEBpZiAkeCA9PSAnMCcgb3IgJHggPT0gbnVsbCB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgdHJhbnNmb3JtOiAkbHRyLXRyYW5zbGF0ZSAkZXh0cmE7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm06ICRsdHItdHJhbnNsYXRlICRleHRyYTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICB0cmFuc2Zvcm06ICRydGwtdHJhbnNsYXRlICRleHRyYTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogSW1wb3J0ZWQgaW9uaWMgbWl4aW5zIGZvciBTQ1NTIGZyb20gZGlmZmVyZW50IGNvbXBvbmVudHNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvY29tcG9uZW50cy9ncmlkL2dyaWQubWl4aW5zLnNjc3NcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy9jb21wb25lbnRzL2l0ZW0vaXRlbS5taXhpbnMuc2Nzc1xuICovXG5cbi8vIFJlc3BvbnNpdmUgTWl4aW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbi8vIENyZWF0ZXMgYSBmaXhlZCB3aWR0aCBmb3IgdGhlIGdyaWQgYmFzZWQgb24gdGhlIHNjcmVlbiBzaXplXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIG1ha2UtZ3JpZC13aWR0aHMoJHdpZHRoczogJGdyaWQtd2lkdGhzLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgQGVhY2ggJGJyZWFrcG9pbnQsICR3aWR0aCBpbiAkd2lkdGhzIHtcbiAgICBAaW5jbHVkZSBtZWRpYS1icmVha3BvaW50LXVwKCRicmVha3BvaW50LCAkYnJlYWtwb2ludHMpIHtcbiAgICAgIHdpZHRoOiAkd2lkdGg7XG4gICAgfVxuICB9XG5cbiAgbWF4LXdpZHRoOiAxMDAlO1xufVxuXG5cbi8vIEFkZHMgcGFkZGluZyB0byB0aGUgZWxlbWVudCBiYXNlZCBvbiBicmVha3BvaW50c1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBtaXhpbiBtYWtlLWJyZWFrcG9pbnQtcGFkZGluZygkcGFkZGluZ3MpIHtcbiAgQGVhY2ggJGJyZWFrcG9pbnQgaW4gbWFwLWtleXMoJHBhZGRpbmdzKSB7XG4gICAgQGluY2x1ZGUgbWVkaWEtYnJlYWtwb2ludC11cCgkYnJlYWtwb2ludCkge1xuICAgICAgJHBhZGRpbmc6IG1hcC1nZXQoJHBhZGRpbmdzLCAkYnJlYWtwb2ludCk7XG5cbiAgICAgIEBpbmNsdWRlIHBhZGRpbmcoJHBhZGRpbmcpO1xuICAgIH1cbiAgfVxufVxuXG5cbi8vIEl0ZW0gTWl4aW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gaXRlbS1wdXNoLXN2Zy11cmwoJGZpbGwpIHtcbiAgJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnOiBcIjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTIgMjAnPjxwYXRoIGQ9J00yLDIwbC0yLTJsOC04TDAsMmwyLTJsMTAsMTBMMiwyMHonIGZpbGw9JyN7JGZpbGx9Jy8+PC9zdmc+XCI7XG5cbiAgQGluY2x1ZGUgc3ZnLWJhY2tncm91bmQtaW1hZ2UoJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnLCB0cnVlKTtcbn1cbiIsIkB1c2UgXCJzYXNzOm1hdGhcIiBhcyBtYXRoO1xuXG4vKipcbiAqIEFwcCBjdXN0b20gbWl4aW5zIGZvciBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQbGFjZSBoZXJlIG91ciBjdXN0b20gbWl4aW5zLlxuICovXG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCBibGFjayB0byBjcmVhdGUgaXRzIHNoYWRlLlxuLy8gRGVmYXVsdCB0byBib290c3RyYXAgbGV2ZWwgNi5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXNoYWRlLXBlcmNlbnQoJGNvbG9yLCAkcGVyY2VudDogNDglKSB7XG4gICAgQHJldHVybiBtaXgoIzAwMCwgJGNvbG9yLCAkcGVyY2VudCk7XG59XG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCB3aGl0ZSB0byBjcmVhdGUgaXRzIHRpbnQuXG4vLyBEZWZhdWx0IHRvIGJvb3RzdHJhcCBsZXZlbCAtMTAuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGdldC1jb2xvci10aW50LXBlcmNlbnQoJGNvbG9yLCAkcGVyY2VudDogODAlKSB7XG4gICAgQHJldHVybiBtaXgoI2ZmZiwgJGNvbG9yLCAkcGVyY2VudCk7XG59XG5cbi8vIElvbmljIENvbG9yc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEdlbmVyYXRlcyB0aGUgY29sb3IgY2xhc3NlcyBhbmQgdmFyaWFibGVzIGJhc2VkIG9uIHRoZVxuLy8gY29sb3JzIG1hcFxuXG5AbWl4aW4gZ2VuZXJhdGUtY29sb3IoJGNvbG9yLW5hbWUsICRjb2xvcnMsICR0aGVtZSkge1xuICAgICRjb2xvci10aGVtZXM6IG1hcC1nZXQoJGNvbG9ycywgJGNvbG9yLW5hbWUpO1xuICAgICRiYXNlOiBtYXAtZ2V0KCRjb2xvci10aGVtZXMsICR0aGVtZSk7XG5cbiAgICBAaWYgJHRoZW1lID09ICdkYXJrJyB7XG4gICAgICAgICRiYXNlOiBtaXgobWFwLWdldCgkY29sb3ItdGhlbWVzLCAnbGlnaHQnKSwgd2hpdGUsIDgwJSkgIWRlZmF1bHQ7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgZ2VuZXJhdGUtY29sb3ItdmFyaWFudHMoJGNvbG9yLW5hbWUsICRiYXNlKTtcbn1cblxuQG1peGluIGdlbmVyYXRlLWNvbG9yLXZhcmlhbnRzKCRjb2xvci1uYW1lLCAkYmFzZSkge1xuICAgICRjb250cmFzdDogZ2V0X2NvbnRyYXN0X2NvbG9yKCRiYXNlKTtcbiAgICAkc2hhZGU6IGdldC1jb2xvci1zaGFkZS1wZXJjZW50KCRiYXNlKTtcbiAgICAkdGludDogZ2V0LWNvbG9yLXRpbnQtcGVyY2VudCgkYmFzZSk7XG5cbiAgICAtLSN7JGNvbG9yLW5hbWV9OiAjeyRiYXNlfTtcbiAgICAtLSN7JGNvbG9yLW5hbWV9LXNoYWRlOiAjeyRzaGFkZX07XG4gICAgLS0jeyRjb2xvci1uYW1lfS10aW50OiAjeyR0aW50fTtcbiAgICAtLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0OiAjeyRjb250cmFzdH07XG5cbiAgICAvLyBJbnRlcm5hbCBpb25pYyB1c2Ugb25seS5cbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfTogdmFyKC0tI3skY29sb3ItbmFtZX0pO1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWJhc2U6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfSk7XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tcmdiOiAje2NvbG9yLXRvLXJnYi1saXN0KCRiYXNlKX07XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3Q6ICN7JGNvbnRyYXN0fTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdC1yZ2I6ICN7Y29sb3ItdG8tcmdiLWxpc3QoJGNvbnRyYXN0KX07XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tc2hhZGU6ICN7JHNoYWRlfTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS10aW50OiAjeyR0aW50fTtcblxuICAgIC5pb24tY29sb3ItI3skY29sb3ItbmFtZX0ge1xuICAgICAgICAtLWlvbi1jb2xvcjogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9KTtcbiAgICAgICAgLS1pb24tY29sb3ItYmFzZTogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWJhc2UpO1xuICAgICAgICAtLWlvbi1jb2xvci1yZ2I6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1yZ2IpO1xuICAgICAgICAtLWlvbi1jb2xvci1jb250cmFzdDogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0KTtcbiAgICAgICAgLS1pb24tY29sb3ItY29udHJhc3QtcmdiOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3QtcmdiKTtcbiAgICAgICAgLS1pb24tY29sb3Itc2hhZGU6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1zaGFkZSk7XG4gICAgICAgIC0taW9uLWNvbG9yLXRpbnQ6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS10aW50KTtcbiAgICB9XG59XG5cbkBtaXhpbiBjb3JlLWZvY3VzKCkge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICY6OmFmdGVyIHtcbiAgICAgICAgQGluY2x1ZGUgcG9zaXRpb24oMCwgMCwgMCwgMCk7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgQGluY2x1ZGUgY29yZS1mb2N1cy1zdHlsZSgpO1xuICAgIH1cbn1cblxuQG1peGluIGNvcmUtZm9jdXMtc3R5bGUoKSB7XG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIHZhcigtLWExMXktZm9jdXMtd2lkdGgpIDFweCB2YXIoLS1hMTF5LWZvY3VzLWNvbG9yKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTtcbiAgICAvLyBUaGlja2VyIG9wdGlvbjpcbiAgICAvLyBib3JkZXI6IHZhcigtLWExMXktZm9jdXMtd2lkdGgpIHNvbGlkIHZhcigtLWExMXktZm9jdXMtY29sb3IpO1xufVxuXG5AbWl4aW4gY29yZS10cmFuc2l0aW9uKCRwcm9wZXJ0aWVzOiBhbGwsICRkdXJhdGlvbjogNTAwbXMsICR0aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0KSB7XG4gICAgJHRyYW5zaXRpb25zOiAoKTtcbiAgICBAZWFjaCAkcHJvcGVydHkgaW4gJHByb3BlcnRpZXMge1xuICAgICAgJHRyYW5zaXRpb25zOiBhcHBlbmQoJHRyYW5zaXRpb25zLCAkcHJvcGVydHkgJGR1cmF0aW9uICR0aW1pbmctZnVuY3Rpb24sIGNvbW1hKTtcbiAgICB9XG5cbiAgICAtd2Via2l0LXRyYW5zaXRpb246ICR0cmFuc2l0aW9ucztcbiAgICB0cmFuc2l0aW9uOiAkdHJhbnNpdGlvbnM7XG59XG5cbkBtaXhpbiBzci1vbmx5KCkge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogMXB4O1xuICAgIGhlaWdodDogMXB4O1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAtMXB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgY2xpcDogcmVjdCgwLCAwLCAwLCAwKTtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIGJvcmRlcjogMDtcbn1cblxuLyoqXG4gKiBTYW1lIGFzIGl0ZW0tcHVzaC1zdmctdXJsIGJ1dCBhZG1pdHMgZmxpcC1ydGxcbiAqL1xuQG1peGluIHB1c2gtYXJyb3ctY29sb3IoJGZpbGw6IDYyNjI2MiwgJGZsaXAtcnRsOiBmYWxzZSkge1xuICAgICRpdGVtLWRldGFpbC1wdXNoLXN2ZzogXCI8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDEyIDIwJz48cGF0aCBkPSdNMiwyMGwtMi0ybDgtOEwwLDJsMi0ybDEwLDEwTDIsMjB6JyBmaWxsPScjeyRmaWxsfScvPjwvc3ZnPlwiO1xuXG4gICAgQGluY2x1ZGUgc3ZnLWJhY2tncm91bmQtaW1hZ2UoJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnLCAkZmxpcC1ydGwpO1xufVxuXG5AbWl4aW4gYm9yZGVyLXN0YXJ0KCRweCwgJHR5cGU6IG51bGwsICRjb2xvcjogbnVsbCkge1xuICAgIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwoYm9yZGVyLCAkcHggJHR5cGUgJGNvbG9yLCBudWxsKTtcbn1cblxuQG1peGluIGJvcmRlci1lbmQoJHB4LCAkdHlwZTogbnVsbCwgJGNvbG9yOiBudWxsKSB7XG4gICAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChib3JkZXIsIG51bGwsICRweCAkdHlwZSAkY29sb3IpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLWJvcmRlci1zdGFydCgkcHgsICR0eXBlLCAkY29sb3IpIHtcbiAgICAkc2FmZS1hcmVhLXBvc2l0aW9uOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRweH0pO1xuXG4gICAgQGluY2x1ZGUgYm9yZGVyLXN0YXJ0KCRzYWZlLWFyZWEtcG9zaXRpb24sICR0eXBlLCAkY29sb3IpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLWJvcmRlci1lbmQoJHB4LCAkdHlwZSwgJGNvbG9yKSB7XG4gICAgJHNhZmUtYXJlYS1wb3NpdGlvbjogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JHB4fSk7XG5cbiAgICBAaW5jbHVkZSBib3JkZXItZW5kKCRzYWZlLWFyZWEtcG9zaXRpb24sICR0eXBlLCAkY29sb3IpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLW1hcmdpbi1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IG51bGw7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogbnVsbDtcblxuICAgIEBpZiAoJGVuZCkge1xuICAgICAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuICAgIH1cbiAgICBAaWYgKCRzdGFydCkge1xuICAgICAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xuICAgIH1cblxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRzYWZlLWFyZWEtZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1tYXJnaW4tc3RhcnQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcblxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRlbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLW1hcmdpbi1lbmQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcblxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBhZGRpbmctaG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xuICAgICRzYWZlLWFyZWEtZW5kOiBudWxsO1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IG51bGw7XG5cbiAgICBAaWYgKCRlbmQpIHtcbiAgICAgICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcbiAgICB9XG4gICAgQGlmICgkc3RhcnQpIHtcbiAgICAgICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBhZGRpbmctc3RhcnQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcblxuICAgIEBpbmNsdWRlIHBhZGRpbmctaG9yaXpvbnRhbCgkc2FmZS1hcmVhLXN0YXJ0LCAkZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1wYWRkaW5nLWVuZCgkc3RhcnQsICRlbmQpIHtcbiAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuXG4gICAgQGluY2x1ZGUgcGFkZGluZy1ob3Jpem9udGFsKCRzdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBvc2l0aW9uKCR0b3A6IG51bGwsICRlbmQ6IG51bGwsICRib3R0b206IG51bGwsICRzdGFydDogbnVsbCkge1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcblxuICAgIEBpbmNsdWRlIHBvc2l0aW9uKCR0b3AsICRzYWZlLWFyZWEtZW5kLCAkYm90dG9tLCAkc2FmZS1hcmVhLXN0YXJ0KTtcbn1cblxuQG1peGluIGNvcmUtaGVhZGluZ3MoKSB7XG4gICAgaDEge1xuICAgICAgICBmb250LXNpemU6IDI2cHg7XG4gICAgfVxuICAgIGgyLCAuaXRlbS1oZWFkaW5nIHtcbiAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgIH1cbiAgICBoMyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMjJweDtcbiAgICB9XG4gICAgaDQge1xuICAgICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgfVxuICAgIGg1IHtcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgIH1cbiAgICBoNiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICB9XG59XG5cbkBtaXhpbiBkYXJrbW9kZSgpIHtcbiAgICAkcm9vdDogI3smfTtcblxuICAgIEBhdC1yb290ICN7YWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsIFwiaHRtbC5kYXJrXCIpfSB7XG4gICAgICAgIEBjb250ZW50O1xuICAgIH1cbn1cblxuQG1peGluIGhvcml6b250YWxfc2Nyb2xsX2l0ZW0oJHdpZHRoLCAkbWluLXdpZHRoLCAkbWF4LXdpZHRoKSB7XG4gICAgZmxleDogMCAwICR3aWR0aDtcbiAgICBtaW4td2lkdGg6ICRtaW4td2lkdGg7XG4gICAgbWF4LXdpZHRoOiAkbWF4LXdpZHRoO1xuICAgIGFsaWduLXNlbGY6IHN0cmV0Y2g7XG4gICAgZGlzcGxheTogYmxvY2s7XG5cbiAgICBpb24tY2FyZCB7XG4gICAgICAgIC0tdmVydGljYWwtbWFyZ2luOiAxMHB4O1xuICAgICAgICAtLWhvcml6b250YWwtbWFyZ2luOiAxMHB4O1xuXG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSB2YXIoLS1ob3Jpem9udGFsLW1hcmdpbikgLSB2YXIoLS1ob3Jpem9udGFsLW1hcmdpbikpO1xuICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIHZhcigtLXZlcnRpY2FsLW1hcmdpbikgLSB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pKTtcbiAgICAgICAgbWFyZ2luOiB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pIHZhcigtLWhvcml6b250YWwtbWFyZ2luKTtcblxuICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogMzYwcHgpIHtcbiAgICAgICAgICAgIC0taG9yaXpvbnRhbC1tYXJnaW46IDZweDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gQ29sb3IgbWl4aW5zLlxuQGZ1bmN0aW9uIGdldF9icmlnaHRuZXNzKCRjb2xvcikge1xuICAgIEByZXR1cm4gbWF0aC5kaXYocmVkKCRjb2xvcikgKyBncmVlbigkY29sb3IpICsgYmx1ZSgkY29sb3IpLCAzKTtcbn1cblxuLy8gR2V0IHRoZSBiZXR0ZXIgY29sb3IgY29udHJhc3QgdXNpbmcgV0NBRyBhbGdvcnl0aG0uXG5AZnVuY3Rpb24gZ2V0X2NvbnRyYXN0X2NvbG9yKCRjb2xvcikge1xuICAgICRsdW1pYW5jZTogbHVtaW5hbmNlKCRjb2xvcik7XG5cbiAgICAvLyBXaGl0ZSBsdW1pYW5jZSBpcyAxLlxuICAgICR3aGl0ZUNvbnRyYXN0OiBtYXRoLmRpdigkbHVtaWFuY2UgKyAwLjA1LCAxICsgMC4wNSk7XG4gICAgLy8gV2hpdGUgbHVtaWFuY2UgaXMgMC5cbiAgICAkYmxhY2tDb250cmFzdDogbWF0aC5kaXYoMC4wNSwgJGx1bWlhbmNlICsgMC4wNSk7XG5cbiAgICBAcmV0dXJuIGlmKCR3aGl0ZUNvbnRyYXN0IDwgJGJsYWNrQ29udHJhc3QsIHdoaXRlLCBibGFjayk7XG59XG5cbi8vIENvbG9yIGNvbnRyYXN0IHVzaW5nIHlpcSBhcHJveGltYXRpb24gd2l0aCAxNTAgdGhyZXNob2xkLlxuQGZ1bmN0aW9uIGdldF9jb250cmFzdF9jb2xvcl95aXEoJGNvbG9yLCAkZGFyazogYmxhY2ssICRsaWdodDogd2hpdGUpIHtcbiAgICAkcjogcmVkKCRjb2xvcik7XG4gICAgJGc6IGdyZWVuKCRjb2xvcik7XG4gICAgJGI6IGJsdWUoJGNvbG9yKTtcblxuICAgICR5aXE6IG1hdGguZGl2KCgkciAqIDI5OSkgKyAoJGcgKiA1ODcpICsgKCRiICogMTE0KSwgMTAwMCk7XG5cbiAgICBAcmV0dXJuIGlmKCR5aXEgPj0gMTI4LCAkZGFyaywgJGxpZ2h0KTtcbn1cblxuLy8gV0NBRyBjb250cmFzdCBhbGdvcml0aG1cbkBmdW5jdGlvbiBjaGVjay1jb250cmFzdCgkZm9yZWdyb3VuZCwgJGJhY2tncm91bmQpIHtcbiAgICAkZm9yZWdyb3VuZEx1bWlhbmNlOiBsdW1pbmFuY2UoJGZvcmVncm91bmQpO1xuICAgICRiYWNrZ3JvdW5kTHVtaW5hbmNlOiBsdW1pbmFuY2UoJGJhY2tncm91bmQpO1xuXG4gICAgQGlmICgkYmFja2dyb3VuZEx1bWluYW5jZSA8ICRmb3JlZ3JvdW5kTHVtaWFuY2UpIHtcbiAgICAgICAgQHJldHVybiBtYXRoLmRpdigkYmFja2dyb3VuZEx1bWluYW5jZSArIDAuMDUsICRmb3JlZ3JvdW5kTHVtaWFuY2UgKyAwLjA1KTtcbiAgICB9IEBlbHNlIHtcbiAgICAgICAgQHJldHVybiBtYXRoLmRpdigkZm9yZWdyb3VuZEx1bWlhbmNlICsgMC4wNSwgJGJhY2tncm91bmRMdW1pbmFuY2UgKyAwLjA1KTtcbiAgICB9XG59XG5cbkBmdW5jdGlvbiBsdW1pbmFuY2UoJGNvbG9yKSB7XG4gICAgJHI6IHJlZCgkY29sb3IpO1xuICAgICRnOiBncmVlbigkY29sb3IpO1xuICAgICRiOiBibHVlKCRjb2xvcik7XG5cbiAgICAkcjogY29tcG9uZW50LWx1bWluYW5jZSgkcik7XG4gICAgJGc6IGNvbXBvbmVudC1sdW1pbmFuY2UoJGcpO1xuICAgICRiOiBjb21wb25lbnQtbHVtaW5hbmNlKCRiKTtcblxuICAgIEByZXR1cm4gJHIgKiAwLjIxMjYgKyAkZyAqIDAuNzE1MiArICRiICogMC4wNzIyO1xufVxuXG5AZnVuY3Rpb24gY29tcG9uZW50LWx1bWluYW5jZSgkdmFsdWUpIHtcbiAgICAkdmFsdWU6IG1hdGguZGl2KCR2YWx1ZSwgMjU1KTtcblxuICAgIEBpZiAoJHZhbHVlIDw9IDAuMDM5MjgpIHtcbiAgICAgICAgQHJldHVybiBtYXRoLmRpdigkdmFsdWUsIDEyLjkyKTtcbiAgICB9IEBlbHNlIHtcbiAgICAgICAgQHJldHVybiBtYXRoLnBvdyhtYXRoLmRpdigkdmFsdWUgKyAwLjA1NSwgMS4wNTUpLCAyLjQpO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBBcHAgQ3VzdG9tIEFwcCB2YXJpYWJsZXMgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUGxhY2UgaGVyZSBhbGwgY3VzdG9tIGFwcCB2YXJpYWJsZXMuXG4gKi9cbiIsIi8qXG4gKiBBcHAgR2xvYmFsIHZhcmlhYmxlcyBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQbGFjZSBoZXJlIGFsbCBnbG9iYWwgdmFyaWFibGVzLlxuICovXG5cbiR3aGl0ZTogICAgICAgI2ZmZmZmZiAhZGVmYXVsdDtcbiRncmF5LTEwMDogICAgI2Y4ZjlmYSAhZGVmYXVsdDtcbiRncmF5LTIwMDogICAgI2U5ZWNlZiAhZGVmYXVsdDtcbiRncmF5LTMwMDogICAgI2RlZTJlNiAhZGVmYXVsdDsgLy8gU3Ryb2tlXG4kZ3JheS00MDA6ICAgICNjZWQ0ZGEgIWRlZmF1bHQ7XG4kZ3JheS01MDA6ICAgICM4Zjk1OWUgIWRlZmF1bHQ7IC8vIFN0cm9rZSBvbiBpbnB1dHNcbiRncmF5LTYwMDogICAgIzZhNzM3YiAhZGVmYXVsdDtcbiRncmF5LTcwMDogICAgIzQ5NTA1NyAhZGVmYXVsdDtcbiRncmF5LTgwMDogICAgIzM0M2E0MCAhZGVmYXVsdDtcbiRncmF5LTkwMDogICAgIzI4MjgyOCAhZGVmYXVsdDsgLy8gQ29weSB0ZXh0XG4kYmxhY2s6ICAgICAgICMwMDAwMDAgIWRlZmF1bHQ7IC8vIEF2b2lkIHVzYWdlXG5cbiRibHVlOiAgICAgICAgIzBmNmNiZiAhZGVmYXVsdDtcbiRjeWFuOiAgICAgICAgIzAwODE5NiAhZGVmYXVsdDsgLy8gTm90IHVzZWQuXG4kZ3JlZW46ICAgICAgICMzNTdhMzIgIWRlZmF1bHQ7XG4kcmVkOiAgICAgICAgICNjYTMxMjAgIWRlZmF1bHQ7XG4keWVsbG93OiAgICAgICNmMGFkNGUgIWRlZmF1bHQ7XG5cbiRicmFuZC1jb2xvcjogI2Y5ODAxMiAhZGVmYXVsdDtcblxuJHRleHQtY29sb3I6ICAgICAgICAgICAgICAgJGdyYXktOTAwICFkZWZhdWx0O1xuJHRleHQtY29sb3ItcmdiOiAgICAgICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJHRleHQtY29sb3IpICFkZWZhdWx0O1xuJHRleHQtY29sb3ItZGFyazogICAgICAgICAgJHdoaXRlICFkZWZhdWx0O1xuJHRleHQtY29sb3ItZGFyay1yZ2I6ICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJHRleHQtY29sb3ItZGFyaykgIWRlZmF1bHQ7XG5cbiRiYWNrZ3JvdW5kLWNvbG9yOiAgICAgICAgICAkd2hpdGUgIWRlZmF1bHQ7XG4kYmFja2dyb3VuZC1jb2xvci1yZ2I6ICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJGJhY2tncm91bmQtY29sb3IpICFkZWZhdWx0O1xuJGJhY2tncm91bmQtY29sb3ItZGFyazogICAgICRncmF5LTkwMCAhZGVmYXVsdDsgLy8gIzFhMWExYVxuJGJhY2tncm91bmQtY29sb3ItZGFyay1yZ2I6IGNvbG9yLXRvLXJnYi1saXN0KCRiYWNrZ3JvdW5kLWNvbG9yLWRhcmspICFkZWZhdWx0O1xuXG4kaW9uLWl0ZW0tYmFja2dyb3VuZDogICAgICAkd2hpdGUgIWRlZmF1bHQ7XG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1yZ2I6ICBjb2xvci10by1yZ2ItbGlzdCgkaW9uLWl0ZW0tYmFja2dyb3VuZCkgIWRlZmF1bHQ7XG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1kYXJrOiAkZ3JheS05MDAgIWRlZmF1bHQ7XG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1kYXJrLXJnYjogY29sb3ItdG8tcmdiLWxpc3QoJGlvbi1pdGVtLWJhY2tncm91bmQtZGFyaykgIWRlZmF1bHQ7XG5cbiRwcmltYXJ5OiAgICAkYnJhbmQtY29sb3IgIWRlZmF1bHQ7XG4kc2Vjb25kYXJ5OiAgJGdyYXktMzAwICFkZWZhdWx0O1xuJGRhbmdlcjogICAgICRyZWQgIWRlZmF1bHQ7XG4kd2FybmluZzogICAgJHllbGxvdyAhZGVmYXVsdDtcbiRzdWNjZXNzOiAgICAkZ3JlZW4gIWRlZmF1bHQ7XG4kaW5mbzogICAgICAgJGJsdWUgIWRlZmF1bHQ7XG4kbGlnaHQ6ICAgICAgJGdyYXktMTAwICFkZWZhdWx0O1xuJG1lZGl1bTogICAgICRncmF5LTcwMCAhZGVmYXVsdDtcbiRkYXJrOiAgICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7XG5cbiRjb2xvcnM6ICAoXG4gICAgcHJpbWFyeTogKGxpZ2h0OiAkcHJpbWFyeSwgZGFyazogJHByaW1hcnkpLFxuICAgIHNlY29uZGFyeTogKGxpZ2h0OiAkc2Vjb25kYXJ5LCBkYXJrOiAkZ3JheS03MDApLFxuICAgIHN1Y2Nlc3M6IChsaWdodDogJHN1Y2Nlc3MpLFxuICAgIHdhcm5pbmc6IChsaWdodDogJHdhcm5pbmcpLFxuICAgIGRhbmdlcjogIChsaWdodDogJGRhbmdlciksXG4gICAgaW5mbzogKGxpZ2h0OiAkaW5mbyksXG4gICAgbGlnaHQ6IChsaWdodDogJGxpZ2h0LCBkYXJrOiAkZGFyayksXG4gICAgbWVkaXVtOiAobGlnaHQ6ICRtZWRpdW0sIGRhcms6ICRncmF5LTIwMCksXG4gICAgZGFyazogKGxpZ2h0OiAkZGFyaywgZGFyazogJGxpZ2h0KSxcbikgIWRlZmF1bHQ7XG5cbi8qKlxuICogTGF5b3V0IEJyZWFrcG9pbnRzXG4gKlxuICogaHR0cHM6Ly9pb25pY2ZyYW1ld29yay5jb20vZG9jcy9sYXlvdXQvZ3JpZCNkZWZhdWx0LWJyZWFrcG9pbnRzXG4gKi9cblxuLy8gVGhlIG1pbmltdW0gZGltZW5zaW9ucyBhdCB3aGljaCB5b3VyIGxheW91dCB3aWxsIGNoYW5nZSxcbi8vIGFkYXB0aW5nIHRvIGRpZmZlcmVudCBzY3JlZW4gc2l6ZXMsIGZvciB1c2UgaW4gbWVkaWEgcXVlcmllc1xuJHNjcmVlbi1icmVha3BvaW50czogKFxuICAgIHhzOiAwcHgsXG4gICAgc206IDU3NnB4LFxuICAgIG1kOiA3NjhweCxcbiAgICBsZzogOTkycHgsXG4gICAgdGFibGV0OiA5OTJweCxcbiAgICB4bDogMTIwMHB4XG4pICFkZWZhdWx0O1xuXG4kY29yZS1jb3Vyc2UtaW1hZ2UtYmFja2dyb3VuZDogIzgxZWNlYywgIzc0YjlmZiwgI2EyOWJmZSwgI2RmZTZlOSwgIzAwYjg5NCwgIzA5ODRlMywgI2IyYmVjMywgI2ZkY2I2ZSwgI2ZkNzlhOCwgIzZjNWNlNyAhZGVmYXVsdDtcbiRjb3JlLWRkLXF1ZXN0aW9uLWNvbG9yczogI0ZGRkZGRiwgI0IwQzRERSwgI0RDRENEQywgI0Q4QkZEOCwgIzg3Q0VGQSwgI0RBQTUyMCwgI0ZGRDcwMCwgI0YwRTY4QyAhZGVmYXVsdDtcbiRjb3JlLXRleHQtaGlnaHRsaWdodC1iYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGVuKCRibHVlLCA0MCUpICFkZWZhdWx0O1xuXG4kY29yZS1maXhlZC11cmw6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtZGFzaGJvYXJkLWxvZ286IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtYWx3YXlzLXNob3ctbWFpbi1tZW51OiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWZvcm1hdC10ZXh0LW5ldmVyLXNob3J0ZW46IGZhbHNlICFkZWZhdWx0O1xuXG4kY29yZS1oaWRlLWNvdXJzZWltYWdlLW9uLWNvdXJzZTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1oaWRlLXByb2dyZXNzLW9uLWNvdXJzZTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1oaWRlLXByb2dyZXNzLW9uLXNlY3Rpb24tc2VsZWN0b3I6IGZhbHNlICFkZWZhdWx0O1xuXG4kY29yZS1jb3Vyc2UtaGlkZS10aHVtYi1vbi1jYXJkczogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1jb3Vyc2UtdGh1bWItb24tY2FyZHMtYmFja2dyb3VuZDogbnVsbCAhZGVmYXVsdDtcbiRjb3JlLWNvdXJzZS1oaWRlLXByb2dyZXNzLW9uLWNhcmRzOiBmYWxzZSAhZGVmYXVsdDtcblxuLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBsb2dpbiBwYWdlLlxuJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmU6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmUtZGFyazogJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmUgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1sb2FkaW5nLWNvbG9yOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWxvYWRpbmctY29sb3ItZGFyazogJHRleHQtY29sb3ItZGFyayAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWhpZGUtZm9yZ290LXBhc3N3b3JkOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWhpZGUtbmVlZC1oZWxwOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWhpZGUtcXJjb2RlOiBmYWxzZSAhZGVmYXVsdDtcblxuLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBtb3JlIHBhZ2UuIChkZXByZWNhdGVkIG9uIDQuMClcbiRjb3JlLW1vcmUtaGlkZS1zaXRlaW5mbzogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1tb3JlLWhpZGUtc2l0ZW5hbWU6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbW9yZS1oaWRlLXNpdGV1cmw6IGZhbHNlICFkZWZhdWx0O1xuXG4vLyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHVzZXIgcGFnZS5cbiRjb3JlLXVzZXItaGlkZS1zaXRlaW5mbzogJGNvcmUtbW9yZS1oaWRlLXNpdGVpbmZvICFkZWZhdWx0O1xuJGNvcmUtdXNlci1oaWRlLXNpdGVuYW1lOiAkY29yZS1tb3JlLWhpZGUtc2l0ZW5hbWUgIWRlZmF1bHQ7XG4kY29yZS11c2VyLWhpZGUtc2l0ZXVybDogJGNvcmUtbW9yZS1oaWRlLXNpdGV1cmwgIWRlZmF1bHQ7XG5cbi8vIEFjdGl2aXR5IGljb24gYmFja2dyb3VuZCBjb2xvcnMuXG4kYWN0aXZpdHktaWNvbi1jb2xvcnM6IChcbiAgICBhZG1pbmlzdHJhdGlvbjogIzVkNjNmNixcbiAgICBhc3Nlc3NtZW50OiAjZWI2NmEyLFxuICAgIGNvbGxhYm9yYXRpb246ICNmNzYzNGQsXG4gICAgY29tbXVuaWNhdGlvbjogIzExYTY3NixcbiAgICBjb250ZW50OiAjMzk5YmUyLFxuICAgIGludGVyZmFjZTogI2EzNzhmZlxuKSAhZGVmYXVsdDtcblxuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNhdGVnb3J5OiAjOGUyNGFhICFkZWZhdWx0O1xuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvdXJzZTogJHJlZCAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1ncm91cDogJHllbGxvdyAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS11c2VyOiAkYmx1ZSAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1zaXRlOiAkZ3JlZW4gIWRlZmF1bHQ7XG5cbi8vIENhbGVuZGFyIGV2ZW50IGNhdGVnb3J5IGJhY2tncm91bmQgY29sb3JzLlxuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvbG9yczogKFxuICAgIGNhdGVnb3J5OiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY2F0ZWdvcnksXG4gICAgY291cnNlOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY291cnNlLFxuICAgIGdyb3VwOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktZ3JvdXAsXG4gICAgdXNlcjogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXVzZXIsXG4gICAgc2l0ZTogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXNpdGUsXG4pICFkZWZhdWx0O1xuIiwiQHVzZSBcInRoZW1lL2dsb2JhbHNcIiBhcyAqO1xuXG46aG9zdCB7XG4gICAgLS10aHVtYi1oZWlnaHQ6IDE4MHB4O1xuXG4gICAgaW9uLWNvbnRlbnQge1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgfVxuXG4gICAgLmNvcmUtY291cnNlLXRodW1iIHtcbiAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tY291cnNlLWNvbG9yLCB3aGl0ZSk7XG4gICAgICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgaGVpZ2h0OiB2YXIoLS10aHVtYi1oZWlnaHQpO1xuICAgICAgICBwb3NpdGlvbjogZml4ZWQ7XG4gICAgICAgIHotaW5kZXg6IC0xO1xuICAgICAgICB3aWR0aDogMTAwJTtcblxuICAgICAgICBAZm9yICRpIGZyb20gMCB0byBsZW5ndGgoJGNvcmUtY291cnNlLWltYWdlLWJhY2tncm91bmQpIHtcbiAgICAgICAgICAgICYuY291cnNlLWNvbG9yLSN7JGl9IHtcbiAgICAgICAgICAgICAgICAtLWNvdXJzZS1jb2xvcjogdmFyKC0tY29yZS1jb3Vyc2UtY29sb3ItI3skaX0pO1xuICAgICAgICAgICAgICAgIC0tY291cnNlLWNvbG9yLXRpbnQ6IHZhcigtLWNvcmUtY291cnNlLWNvbG9yLSN7JGl9LXRpbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaW1nIHtcbiAgICAgICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgaGVpZ2h0OiAxMDAlO1xuICAgICAgICAgICAgb2JqZWN0LWZpdDogY292ZXI7XG5cbiAgICAgICAgICAgIC8vIEZpbGwgZ2VvcGF0ZXJuc1xuICAgICAgICAgICAgJltzcmMkPVwiLnN2Z1wiXSB7XG4gICAgICAgICAgICAgICAgbWluLXdpZHRoOiAxMDAlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaW9uLWljb24uY291cnNlLWljb24ge1xuICAgICAgICAgICAgcGFkZGluZzogMjRweDtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogY2FsYyh2YXIoLS10aHVtYi1oZWlnaHQpIC0gNDhweCk7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tY291cnNlLWNvbG9yLXRpbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmNvdXJzZS1jb250YWluZXIge1xuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgIHRvcDogY2FsYyh2YXIoLS10aHVtYi1oZWlnaHQpIC0gdmFyKC0tcmFkaXVzLWxnKSk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cy1sZykgdmFyKC0tcmFkaXVzLWxnKSAwIDA7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1iYWNrZ3JvdW5kLWNvbG9yKTtcbiAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tZHJvcC1zaGFkb3ctdG9wKTtcbiAgICAgICAgY2xpcC1wYXRoOiBpbnNldCgtNXB4IDBweCAwcHggMHB4KTtcbiAgICB9XG5cbiAgICAuY291cnNlLW5hbWUge1xuICAgICAgICAtLWJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICAgICAgICBpb24tbGFiZWwge1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMHB4O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaDEge1xuICAgICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgfVxuXG4gICAgLmNvcmUtY291cnNlLWNhdGVnb3J5IHtcbiAgICAgICAgbWFyZ2luLWxlZnQ6IDA7XG4gICAgICAgIG1hcmdpbi1yaWdodDogMDtcbiAgICB9XG5cbiAgICAuY29yZS1jb3Vyc2UtZGF0ZXMge1xuICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1saWdodCk7XG4gICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLXJhZGl1cy14cyk7XG4gICAgICAgIHBhZGRpbmc6IDhweDtcbiAgICAgICAgd2lkdGg6IDEwMCU7XG5cbiAgICAgICAgcCB7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICBwOmxhc3QtY2hpbGQge1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMHB4O1xuICAgICAgICB9XG5cbiAgICAgICAgaW9uLWljb24ge1xuICAgICAgICAgICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwobnVsbCwgOHB4KTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgLmNvcmUtY3VzdG9tZmllbGQge1xuICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG5cbiAgICAgICAgJi5jb3JlLWN1c3RvbWZpZWxkX3RleHRhcmVhIHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5jb3JlLWN1c3RvbWZpZWxkbmFtZSB7XG4gICAgICAgICAgICBAaW5jbHVkZSBtYXJnaW4taG9yaXpvbnRhbChudWxsLCA0cHgpO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgICAgIH1cbiAgICAgICAgLmNvcmUtY3VzdG9tZmllbGR2YWx1ZSB7XG4gICAgICAgICAgICBkaXNwbGF5OiBpbmxpbmU7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["CoreEvents","CoreSites","CoreDomUtils","CoreCourses","CoreCoursesProvider","CoreCourseOptionsDelegate","CoreCourseHelper","ActionSheetController","ModalController","NgZone","Translate","CoreNavigator","CoreUtils","CoreCoursesHelper","CoreColors","CorePath","CorePlatform","CoreTime","CoreAnalytics","CoreAnalyticsEventType","CoreEnrolHelper","CoreEnrolDelegate","CoreEnrol","i0","ɵɵelementStart","ɵɵlistener","CoreCourseSummaryPage_ion_buttons_6_Template_ion_button_click_1_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","closeModal","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵattribute","ɵɵpipeBind1","CoreCourseSummaryPage_div_12_img_2_Template_img_error_0_listener","_r10","ctx_r9","loadFallbackCourseIcon","ɵɵproperty","ctx_r7","course","courseimage","ɵɵsanitizeUrl","ɵɵtemplate","CoreCourseSummaryPage_div_12_img_2_Template","CoreCourseSummaryPage_div_12_ion_icon_3_Template","ctx_r1","ctx_r11","shortname","id","ɵɵtext","ɵɵtextInterpolate","ctx_r12","categoryname","categoryid","ctx_r13","courseUrl","ctx_r18","progress","ctx_r20","startdate","fullname","ctx_r21","enddate","CoreCourseSummaryPage_div_13_ion_item_12_div_3_core_reminders_date_1_Template","CoreCourseSummaryPage_div_13_ion_item_12_div_3_core_reminders_date_2_Template","ctx_r19","CoreCourseSummaryPage_div_13_ion_item_12_div_2_Template","CoreCourseSummaryPage_div_13_ion_item_12_div_3_Template","ctx_r14","undefined","ɵɵtextInterpolate1","ctx_r15","summary","ɵɵclassProp","ctx_r22","contactsExpanded","contact_r25","ctx_r24","isEnrolled","ɵɵelementContainerStart","CoreCourseSummaryPage_div_13_ion_list_14_ng_container_8_ion_item_1_Template","ɵɵelementContainerEnd","ctx_r23","contacts","CoreCourseSummaryPage_div_13_ion_list_14_Template_ion_item_click_1_listener","_r27","ctx_r26","toggleContacts","CoreCourseSummaryPage_div_13_ion_list_14_ion_icon_3_Template","CoreCourseSummaryPage_div_13_ion_list_14_ng_container_8_Template","ctx_r16","length","ɵɵclassMapInterpolate2","field_r29","type","name","ctx_r30","value","CoreCourseSummaryPage_div_13_ion_item_15_ng_container_2_div_1_Template","CoreCourseSummaryPage_div_13_ion_item_15_ng_container_2_Template","ctx_r17","customfields","CoreCourseSummaryPage_div_13_p_4_Template","CoreCourseSummaryPage_div_13_ion_chip_10_Template","CoreCourseSummaryPage_div_13_ion_button_11_Template","CoreCourseSummaryPage_div_13_ion_item_12_Template","CoreCourseSummaryPage_div_13_ion_item_13_Template","CoreCourseSummaryPage_div_13_ion_list_14_Template","CoreCourseSummaryPage_div_13_ion_item_15_Template","ctx_r2","displayname","displayOpenInBrowser","item_r36","data","icon","CoreCourseSummaryPage_ion_footer_14_ng_container_2_ion_button_1_Template_ion_button_click_0_listener","restoredCtx","_r40","$implicit","ctx_r39","openMenuItem","CoreCourseSummaryPage_ion_footer_14_ng_container_2_ion_button_1_ion_icon_1_Template","ɵɵclassMap","class","title","CoreCourseSummaryPage_ion_footer_14_ng_container_2_ion_button_1_Template","ctx_r32","courseMenuHandlers","CoreCourseSummaryPage_ion_footer_14_ng_container_3_ion_button_1_Template_ion_button_click_0_listener","_r44","ctx_r43","enrolMe","CoreCourseSummaryPage_ion_footer_14_ng_container_3_ion_button_1_Template","CoreCourseSummaryPage_ion_footer_14_ng_container_3_ion_card_2_Template","ctx_r33","selfEnrolInstances","hasBrowserEnrolments","CoreCourseSummaryPage_ion_footer_14_ion_button_4_Template_ion_button_click_0_listener","_r46","ctx_r45","openCourse","CoreCourseSummaryPage_ion_footer_14_ng_container_2_Template","CoreCourseSummaryPage_ion_footer_14_ng_container_3_Template","CoreCourseSummaryPage_ion_footer_14_ion_button_4_Template","ctx_r3","canAccessCourse","isModal","CoreCourseSummaryPage","constructor","_this","courseId","useGuestAccess","guestEnrolInstances","dataLoaded","waitStart","enrolUrl","pageDestroyed","waitingForBrowserEnrol","appResumeSubscription","resume","subscribe","run","_asyncToGenerator","refreshData","logView","once","logEvent","VIEW_ITEM","ws","category","url","ngOnInit","_this2","getRequiredRouteNumberParam","error","showErrorModal","back","getRouteParam","currentSiteUrl","getRequiredCurrentSite","getURL","concatenatePaths","shouldDisplayInformativeLinks","getCourse","refresh","_this3","getCourseData","showErrorModalDefault","setCourseColor","completionusertracked","loadMenuHandlers","_this4","getUserCourse","_unused","_unused2","courseByField","ignoreErrors","getCourseByField","overviewfiles","getEnrolmentInfo","enrollmentmethods","enrolmentMethods","_this5","enrolByType","getEnrolmentsByType","hasBrowser","self","guest","promises","map","_ref3","method","canAccess","_x","apply","arguments","Promise","all","_this6","getMenuHandlersToDisplay","validateAccessAndOpen","enrolMethod","replaceCurrentPage","_this7","validated","validateAccess","_unused3","params","isGuest","replace","_this8","hasAccess","userHasAccessToCourse","buttons","text","handler","push","instant","role","actionSheet","create","header","present","browserEnrol","_this9","showConfirm","_unused4","openInBrowserWithAutoLogin","showBrowserWarning","selfEnrolInCourse","_this10","enrolled","enrol","_unused5","waitForEnrolled","finally","trigger","EVENT_MY_COURSES_UPDATED","action","ACTION_ENROL","getCurrentSiteId","refresher","_this11","invalidateUserCourses","invalidateCourse","clearAndInvalidateCoursesOptions","invalidateCoursesByField","invalidateCourseEnrolmentMethods","forEach","invalidate","complete","first","_this12","Date","now","_unused6","resolve","setTimeout","item","Object","assign","pageParams","navigateToSitePath","page","_this13","loadCourseColorAndImage","courseThumb","color","nativeElement","style","setProperty","tint","lighter","colorNumber","classList","add","_this14","dismiss","ngOnDestroy","_this$courseStatusObs","courseStatusObserver","off","unsubscribe","selectors","viewQuery","CoreCourseSummaryPage_Query","rf","ctx","CoreCourseSummaryPage_ion_buttons_6_Template","CoreCourseSummaryPage_Template_ion_refresher_ionRefresh_8_listener","$event","target","CoreCourseSummaryPage_div_12_Template","CoreCourseSummaryPage_div_13_Template","CoreCourseSummaryPage_ion_footer_14_Template","ɵɵpropertyInterpolate"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/course/pages/course-summary/course-summary.page.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/course/pages/course-summary/course-summary.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnDestroy, OnInit, Input, ViewChild, ElementRef } from '@angular/core';\nimport { ActionSheetButton } from '@ionic/angular';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport {\n    CoreCourseCustomField,\n    CoreCourses,\n    CoreCourseSearchedData,\n    CoreCoursesProvider,\n    CoreEnrolledCourseData,\n} from '@features/courses/services/courses';\nimport {\n    CoreCourseOptionsDelegate,\n    CoreCourseOptionsMenuHandlerToDisplay,\n} from '@features/course/services/course-options-delegate';\nimport { CoreCourseHelper } from '@features/course/services/course-helper';\nimport { ActionSheetController, ModalController, NgZone, Translate } from '@singletons';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreCoursesHelper, CoreCourseWithImageAndColor } from '@features/courses/services/courses-helper';\nimport { Subscription } from 'rxjs';\nimport { CoreColors } from '@singletons/colors';\nimport { CorePath } from '@singletons/path';\nimport { CorePlatform } from '@services/platform';\nimport { CoreTime } from '@singletons/time';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\nimport { CoreEnrolHelper } from '@features/enrol/services/enrol-helper';\nimport { CoreEnrolDelegate } from '@features/enrol/services/enrol-delegate';\nimport { CoreEnrol, CoreEnrolEnrolmentMethod } from '@features/enrol/services/enrol';\n\n/**\n * Page that shows the summary of a course including buttons to enrol and other available options.\n */\n@Component({\n    selector: 'page-core-course-summary',\n    templateUrl: 'course-summary.html',\n    styleUrls: ['course-summary.scss'],\n})\nexport class CoreCourseSummaryPage implements OnInit, OnDestroy {\n\n    @Input() course?: CoreCourseSummaryData;\n    @Input() courseId = 0;\n\n    @ViewChild('courseThumb') courseThumb?: ElementRef;\n\n    isEnrolled = false;\n\n    canAccessCourse = true;\n    useGuestAccess = false;\n\n    selfEnrolInstances: CoreEnrolEnrolmentMethod[] = [];\n    guestEnrolInstances: CoreEnrolEnrolmentMethod[] = [];\n    hasBrowserEnrolments = false;\n    dataLoaded = false;\n    isModal = false;\n    contactsExpanded = false;\n    courseUrl = '';\n    progress?: number;\n    courseMenuHandlers: CoreCourseOptionsMenuHandlerToDisplay[] = [];\n    displayOpenInBrowser = false;\n\n    protected actionSheet?: HTMLIonActionSheetElement;\n    protected waitStart = 0;\n    protected enrolUrl = '';\n    protected pageDestroyed = false;\n    protected courseStatusObserver?: CoreEventObserver;\n    protected appResumeSubscription: Subscription;\n    protected waitingForBrowserEnrol = false;\n    protected logView: () => void;\n\n    constructor() {\n        // Refresh the view when the app is resumed.\n        this.appResumeSubscription = CorePlatform.resume.subscribe(() => {\n            if (!this.waitingForBrowserEnrol || !this.dataLoaded) {\n                return;\n            }\n\n            NgZone.run(async () => {\n                this.waitingForBrowserEnrol = false;\n                this.dataLoaded = false;\n\n                await this.refreshData();\n            });\n        });\n\n        this.logView = CoreTime.once(async () => {\n            if (!this.course || this.isModal) {\n                return;\n            }\n\n            CoreAnalytics.logEvent({\n                type: CoreAnalyticsEventType.VIEW_ITEM,\n                ws: 'core_course_get_courses',\n                name: this.course.fullname,\n                data: { id: this.course.id, category: 'course' },\n                url: `/enrol/index.php?id=${this.course.id}`,\n            });\n        });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        if (!this.courseId) {\n            // Opened as a page.\n            try {\n                this.courseId = CoreNavigator.getRequiredRouteNumberParam('courseId');\n            } catch (error) {\n                CoreDomUtils.showErrorModal(error);\n                CoreNavigator.back();\n                this.closeModal(); // Just in case.\n\n                return;\n            }\n\n            this.course = CoreNavigator.getRouteParam('course');\n        } else {\n            // Opened as a modal.\n            this.isModal = true;\n        }\n\n        const currentSiteUrl = CoreSites.getRequiredCurrentSite().getURL();\n        this.enrolUrl = CorePath.concatenatePaths(currentSiteUrl, 'enrol/index.php?id=' + this.courseId);\n        this.courseUrl = CorePath.concatenatePaths(currentSiteUrl, 'course/view.php?id=' + this.courseId);\n        this.displayOpenInBrowser = CoreSites.getRequiredCurrentSite().shouldDisplayInformativeLinks();\n\n        await this.getCourse();\n    }\n\n    /**\n     * Convenience function to get course. We use this to determine if a user can see the course or not.\n     *\n     * @param refresh If it's refreshing content.\n     */\n    protected async getCourse(refresh = false): Promise<void> {\n        try {\n            await this.getCourseData();\n\n            this.logView();\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error getting enrolment data');\n        }\n\n        await this.setCourseColor();\n\n        if (!this.course ||\n            !('progress' in this.course) ||\n            typeof this.course.progress !== 'number' ||\n            this.course.progress < 0 ||\n            this.course.completionusertracked === false\n        ) {\n            this.progress = undefined;\n        } else {\n            this.progress = this.course.progress;\n        }\n\n        await this.loadMenuHandlers(refresh);\n\n        this.dataLoaded = true;\n    }\n\n    /**\n     * Get course data.\n     */\n    protected async getCourseData(): Promise<void> {\n        this.canAccessCourse = false;\n        this.useGuestAccess = false;\n\n        try {\n            // Check if user is enrolled in the course.\n            try {\n                this.course = await CoreCourses.getUserCourse(this.courseId);\n                this.isEnrolled = true;\n            } catch {\n                // The user is not enrolled in the course. Use getCourses to see if it's an admin/manager and can see the course.\n                this.isEnrolled = false;\n                this.course = await CoreCourses.getCourse(this.courseId);\n            }\n\n            // Success retrieving the course, we can assume the user has permissions to view it.\n            this.canAccessCourse = true;\n            this.useGuestAccess = false;\n        } catch {\n            // Ignore errors.\n        }\n\n        const courseByField = await CoreUtils.ignoreErrors(CoreCourses.getCourseByField('id', this.courseId));\n        if (courseByField) {\n            if (this.course) {\n                this.course.customfields = courseByField.customfields;\n                this.course.contacts = courseByField.contacts;\n                this.course.displayname = courseByField.displayname;\n                this.course.categoryname = courseByField.categoryname;\n                this.course.overviewfiles = courseByField.overviewfiles;\n            } else  {\n                this.course = courseByField;\n            }\n        }\n\n        await this.getEnrolmentInfo(courseByField?.enrollmentmethods);\n    }\n\n    /**\n     * Get course enrolment info.\n     *\n     * @param enrolmentMethods Enrolment methods.\n     */\n    protected async getEnrolmentInfo(enrolmentMethods?: string[]): Promise<void> {\n        if (this.isEnrolled) {\n            return;\n        }\n\n        const enrolByType = await CoreEnrolHelper.getEnrolmentsByType(this.courseId, enrolmentMethods);\n\n        this.hasBrowserEnrolments = enrolByType.hasBrowser;\n        this.selfEnrolInstances = enrolByType.self;\n        this.guestEnrolInstances = enrolByType.guest;\n\n        if (!this.canAccessCourse) {\n            // The user is not an admin/manager. Check if we can provide guest access to the course.\n            const promises = this.guestEnrolInstances.map(async (method) => {\n                const { canAccess } = await CoreEnrolDelegate.canAccess(method);\n                if (canAccess) {\n                    this.canAccessCourse = true;\n                }\n            });\n\n            await Promise.all(promises);\n\n            this.useGuestAccess = this.canAccessCourse;\n        }\n    }\n\n    /**\n     * Load the course menu handlers.\n     *\n     * @param refresh If it's refreshing content.\n     * @returns Promise resolved when done.\n     */\n    protected async loadMenuHandlers(refresh?: boolean): Promise<void> {\n        if (!this.course) {\n            return;\n        }\n\n        this.courseMenuHandlers =\n            await CoreCourseOptionsDelegate.getMenuHandlersToDisplay(this.course, refresh, this.useGuestAccess);\n    }\n\n    /**\n     * Validates if the user has access to the course and opens it.\n     *\n     * @param enrolMethod The enrolment method.\n     * @param replaceCurrentPage If current place should be replaced in the navigation stack.\n     */\n    async validateAccessAndOpen(enrolMethod: CoreEnrolEnrolmentMethod, replaceCurrentPage: boolean): Promise<void> {\n        if (!this.canAccessCourse || !this.course || this.isModal) {\n            return;\n        }\n\n        let validated = false;\n        try {\n            validated = await CoreEnrolDelegate.validateAccess(enrolMethod);\n        } catch {\n            this.refreshData();\n\n            return;\n        }\n\n        if (!validated) {\n            return;\n        }\n\n        CoreCourseHelper.openCourse(this.course, { params: { isGuest: this.useGuestAccess }, replace: replaceCurrentPage });\n    }\n\n    /**\n     * Open the course.\n     *\n     * @param replaceCurrentPage If current place should be replaced in the navigation stack.\n     */\n    async openCourse(replaceCurrentPage = false): Promise<void> {\n        if (!this.canAccessCourse || !this.course || this.isModal) {\n            return;\n        }\n\n        const hasAccess = await CoreCourseHelper.userHasAccessToCourse(this.courseId);\n        if (!hasAccess && this.guestEnrolInstances.length) {\n            if (this.guestEnrolInstances.length == 1) {\n                this.validateAccessAndOpen(this.guestEnrolInstances[0], replaceCurrentPage);\n\n                return;\n            }\n\n            const buttons: ActionSheetButton[] = this.guestEnrolInstances.map((enrolMethod) => ({\n                text: enrolMethod.name,\n                handler: (): void => {\n                    this.validateAccessAndOpen(enrolMethod, replaceCurrentPage);\n                },\n            }));\n\n            buttons.push({\n                text: Translate.instant('core.cancel'),\n                role: 'cancel',\n            });\n\n            this.actionSheet = await ActionSheetController.create({\n                header:  Translate.instant('core.course.viewcourse'),\n                buttons: buttons,\n            });\n\n            await this.actionSheet.present();\n\n            return;\n        }\n\n        CoreCourseHelper.openCourse(this.course, { params: { isGuest: this.useGuestAccess }, replace: replaceCurrentPage });\n    }\n\n    /**\n     * Enrol in browser.\n     */\n    async browserEnrol(): Promise<void> {\n        // Send user to browser to enrol. Warn the user first.\n        try {\n            await CoreDomUtils.showConfirm(\n                Translate.instant('core.courses.browserenrolinstructions'),\n                Translate.instant('core.courses.completeenrolmentbrowser'),\n                Translate.instant('core.openinbrowser'),\n            );\n        } catch {\n            // User canceled.\n            return;\n        }\n\n        this.waitingForBrowserEnrol = true;\n\n        await CoreSites.getRequiredCurrentSite().openInBrowserWithAutoLogin(\n            this.enrolUrl,\n            undefined,\n            {\n                showBrowserWarning: false,\n            },\n        );\n    }\n\n    /**\n     * Self enrol in a course.\n     *\n     * @param enrolMethod The enrolment method.\n     */\n    async selfEnrolInCourse(enrolMethod: CoreEnrolEnrolmentMethod): Promise<void> {\n        let enrolled = false;\n        try {\n            enrolled = await CoreEnrolDelegate.enrol(enrolMethod);\n        } catch {\n            this.refreshData();\n\n            return;\n        }\n\n        if (!enrolled) {\n            return;\n        }\n\n        // Refresh data.\n        this.isEnrolled = true;\n        this.dataLoaded = false;\n\n        // Sometimes the list of enrolled courses takes a while to be updated. Wait for it.\n        await this.waitForEnrolled(true);\n\n        await this.refreshData().finally(() => {\n            // My courses have been updated, trigger event.\n            CoreEvents.trigger(CoreCoursesProvider.EVENT_MY_COURSES_UPDATED, {\n                courseId: this.courseId,\n                course: this.course,\n                action: CoreCoursesProvider.ACTION_ENROL,\n            }, CoreSites.getCurrentSiteId());\n        });\n\n        this.openCourse(true);\n    }\n\n    /**\n     * Refresh the data.\n     *\n     * @param refresher The refresher if this was triggered by a Pull To Refresh.\n     */\n    async refreshData(refresher?: HTMLIonRefresherElement): Promise<void> {\n        const promises: Promise<void>[] = [];\n\n        promises.push(CoreCourses.invalidateUserCourses());\n        promises.push(CoreCourses.invalidateCourse(this.courseId));\n        promises.push(CoreCourseOptionsDelegate.clearAndInvalidateCoursesOptions(this.courseId));\n        promises.push(CoreCourses.invalidateCoursesByField('id', this.courseId));\n        promises.push(CoreEnrol.invalidateCourseEnrolmentMethods(this.courseId));\n\n        this.selfEnrolInstances.forEach((method) => {\n            promises.push(CoreEnrolDelegate.invalidate(method));\n        });\n\n        this.guestEnrolInstances.forEach((method) => {\n            promises.push(CoreEnrolDelegate.invalidate(method));\n        });\n\n        await Promise.all(promises).finally(() => this.getCourse()).finally(() => {\n            refresher?.complete();\n        });\n    }\n\n    /**\n     * Wait for the user to be enrolled in the course.\n     *\n     * @param first If it's the first call (true) or it's a recursive call (false).\n     * @returns Promise resolved when enrolled or timeout.\n     */\n    protected async waitForEnrolled(first?: boolean): Promise<void> {\n        if (first) {\n            this.waitStart = Date.now();\n        }\n\n        // Check if user is enrolled in the course.\n        await CoreUtils.ignoreErrors(CoreCourses.invalidateUserCourses());\n\n        try {\n            await CoreCourses.getUserCourse(this.courseId);\n        } catch {\n            // Not enrolled, wait a bit and try again.\n            if (this.pageDestroyed || (Date.now() - this.waitStart > 60000)) {\n                // Max time reached or the user left the view, stop.\n                return;\n            }\n\n            return new Promise((resolve): void => {\n                setTimeout(async () => {\n                    if (!this.pageDestroyed) {\n                        // Wait again.\n                        await this.waitForEnrolled();\n                    }\n                    resolve();\n                }, 5000);\n            });\n        }\n    }\n\n    /**\n     * Opens a menu item registered to the delegate.\n     *\n     * @param item Item to open\n     */\n    openMenuItem(item: CoreCourseOptionsMenuHandlerToDisplay): void {\n        const params = Object.assign({ course: this.course }, item.data.pageParams);\n        CoreNavigator.navigateToSitePath(item.data.page, { params });\n    }\n\n    /**\n     * Removes the course image set because it cannot be loaded and set the fallback icon color.\n     */\n    loadFallbackCourseIcon(): void {\n        if (!this.course) {\n            return;\n        }\n\n        this.course.courseimage = undefined;\n\n        // Set the color because it won't be set at this point.\n        this.setCourseColor();\n    }\n\n    /**\n     * Set course color.\n     */\n    protected async setCourseColor(): Promise<void> {\n        if (!this.course) {\n            return;\n        }\n\n        await CoreCoursesHelper.loadCourseColorAndImage(this.course);\n\n        if (!this.courseThumb) {\n            return;\n        }\n\n        if (this.course.color) {\n            this.courseThumb.nativeElement.style.setProperty('--course-color', this.course.color);\n\n            const tint = CoreColors.lighter(this.course.color, 50);\n            this.courseThumb.nativeElement.style.setProperty('--course-color-tint', tint);\n        } else if(this.course.colorNumber !== undefined) {\n            this.courseThumb.nativeElement.classList.add('course-color-' + this.course.colorNumber);\n        }\n    }\n\n    /**\n     * Open enrol action sheet.\n     */\n    async enrolMe(): Promise<void> {\n        if (this.selfEnrolInstances.length == 1 && !this.hasBrowserEnrolments) {\n            this.selfEnrolInCourse(this.selfEnrolInstances[0]);\n\n            return;\n        }\n\n        if (this.selfEnrolInstances.length == 0 && this.hasBrowserEnrolments) {\n            this.browserEnrol();\n\n            return;\n        }\n\n        const buttons: ActionSheetButton[] = this.selfEnrolInstances.map((enrolMethod) => ({\n            text: enrolMethod.name,\n            handler: (): void => {\n                this.selfEnrolInCourse(enrolMethod);\n            },\n        }));\n\n        if (this.hasBrowserEnrolments) {\n            buttons.push({\n                text: Translate.instant('core.courses.completeenrolmentbrowser'),\n                handler: (): void => {\n                    this.browserEnrol();\n                },\n            });\n        }\n\n        buttons.push({\n            text: Translate.instant('core.cancel'),\n            role: 'cancel',\n        });\n\n        this.actionSheet = await ActionSheetController.create({\n            header:  Translate.instant('core.courses.enrolme'),\n            buttons: buttons,\n        });\n\n        await this.actionSheet.present();\n    }\n\n    /**\n     * Toggle list of contacts.\n     */\n    toggleContacts(): void {\n        this.contactsExpanded = !this.contactsExpanded;\n    }\n\n    /**\n     * Close the modal.\n     */\n    closeModal(): void {\n        ModalController.dismiss();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        this.pageDestroyed = true;\n        this.courseStatusObserver?.off();\n        this.appResumeSubscription.unsubscribe();\n    }\n\n}\n\ntype CoreCourseSummaryData = CoreCourseWithImageAndColor & (CoreEnrolledCourseData | CoreCourseSearchedData) & {\n    contacts?: { // Contact users.\n        id: number; // Contact user id.\n        fullname: string; // Contact user fullname.\n    }[];\n    customfields?: CoreCourseCustomField[]; // Custom fields and associated values.\n    categoryname?: string; // Category name.\n};\n","<ion-header class=\"no-title\">\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button [text]=\"'core.back' | translate\" />\n        </ion-buttons>\n        <ion-title />\n        <ion-buttons slot=\"end\" *ngIf=\"isModal\">\n            <ion-button fill=\"clear\" (click)=\"closeModal()\" [attr.aria-label]=\"'core.close' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"fas-xmark\" aria-hidden=\"true\" />\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <ion-refresher slot=\"fixed\" [disabled]=\"!dataLoaded\" (ionRefresh)=\"refreshData($event.target)\">\n        <ion-refresher-content pullingText=\"{{ 'core.pulltorefresh' | translate }}\" />\n    </ion-refresher>\n    <core-loading [hideUntil]=\"dataLoaded\">\n        <div *ngIf=\"course\" class=\"core-course-thumb\" #courseThumb>\n            <img *ngIf=\"course.courseimage\" [src]=\"course.courseimage\" core-external-content alt=\"\" (error)=\"loadFallbackCourseIcon()\" />\n            <ion-icon *ngIf=\"!course.courseimage\" name=\"fas-graduation-cap\" class=\"course-icon\" aria-hidden=\"true\" />\n        </div>\n        <div *ngIf=\"course\" class=\"course-container\">\n            <div class=\"list-item-limited-width\">\n                <ion-item class=\"ion-text-wrap course-name\">\n                    <ion-label>\n                        <p *ngIf=\"course.displayname && course.shortname && course.fullname !== course.displayname\"\n                            class=\"core-course-shortname\">\n                            <core-format-text [text]=\"course.shortname\" contextLevel=\"course\" [contextInstanceId]=\"course.id\" />\n                        </p>\n                        <h1>\n                            <span class=\"sr-only\">{{ 'core.courses.aria:coursename' | translate }}</span>\n                            <core-format-text [text]=\"course.fullname\" contextLevel=\"course\" [contextInstanceId]=\"course.id\" />\n                        </h1>\n                        <ion-chip color=\"primary\" *ngIf=\"course.categoryname\" class=\"core-course-category ion-text-nowrap\">\n                            <span class=\"sr-only\">{{ 'core.courses.aria:coursecategory' | translate }}</span>\n                            <ion-label>\n                                <core-format-text [text]=\"course.categoryname\" contextLevel=\"coursecat\"\n                                    [contextInstanceId]=\"course.categoryid\" />\n                            </ion-label>\n                        </ion-chip>\n                    </ion-label>\n                    <ion-button *ngIf=\"displayOpenInBrowser\" fill=\"clear\" [href]=\"courseUrl\" core-link [showBrowserWarning]=\"false\"\n                        [attr.aria-label]=\"'core.openinbrowser' | translate\" slot=\"end\">\n                        <ion-icon name=\"fas-up-right-from-square\" slot=\"icon-only\" aria-hidden=\"true\" />\n                    </ion-button>\n                </ion-item>\n                <ion-item class=\"ion-text-wrap\" *ngIf=\"progress !== undefined || course.startdate || course.enddate\">\n                    <ion-label>\n                        <div class=\"core-course-progress\" *ngIf=\"progress !== undefined\">\n                            <core-progress-bar [progress]=\"progress\" a11yText=\"core.course.aria:sectionprogress\" />\n                        </div>\n                        <div *ngIf=\"course.startdate || course.enddate\" class=\"core-course-dates\">\n                            <core-reminders-date *ngIf=\"course.startdate\" component=\"course\" [instanceId]=\"course.id\" type=\"coursestart\"\n                                [label]=\"'core.course.startdate' | translate\" [time]=\"course.startdate\" [title]=\"course.fullname\"\n                                [url]=\"courseUrl\" />\n                            <core-reminders-date *ngIf=\"course.enddate\" component=\"course\" [instanceId]=\"course.id\" type=\"courseend\"\n                                [label]=\"'core.course.enddate' | translate\" [time]=\"course.enddate\" [title]=\"course.fullname\"\n                                [url]=\"courseUrl\" />\n                        </div>\n                    </ion-label>\n                </ion-item>\n\n                <ion-item class=\"ion-text-wrap\" *ngIf=\"course.summary\" [detail]=\"false\">\n                    <ion-label>\n                        <h2 class=\"item-heading\">\n                            {{'core.course.coursesummary' | translate}}\n                        </h2>\n                        <core-format-text [text]=\"course.summary\" collapsible-item contextLevel=\"course\" [contextInstanceId]=\"course.id\" />\n                    </ion-label>\n                </ion-item>\n\n                <ion-list *ngIf=\"course.contacts && course.contacts.length\">\n                    <ion-item [button]=\"course.contacts.length >= 5\" class=\"ion-text-wrap\" (click)=\"toggleContacts()\"\n                        [attr.aria-label]=\"(contactsExpanded ? 'core.collapse' : 'core.expand') | translate\" [detail]=\"false\">\n                        <ion-icon *ngIf=\"course.contacts.length >= 5\" name=\"fas-chevron-right\" flip-rtl slot=\"start\" aria-hidden=\"true\"\n                            class=\"expandable-status-icon\" [class.expandable-status-icon-expanded]=\"contactsExpanded\" />\n                        <ion-label>\n                            <h2 class=\"item-heading\">\n                                {{ 'core.teachers' | translate }}\n                            </h2>\n                        </ion-label>\n                    </ion-item>\n                    <ng-container *ngIf=\"contactsExpanded || course.contacts.length < 5\">\n                        <ion-item button class=\"ion-text-wrap\" *ngFor=\"let contact of course.contacts\" core-user-link [userId]=\"contact.id\"\n                            [courseId]=\"isEnrolled ? course.id : null\" [attr.aria-label]=\"'core.viewprofile' | translate\" [detail]=\"true\">\n                            <core-user-avatar [user]=\"contact\" slot=\"start\" [userId]=\"contact.id\" [courseId]=\"isEnrolled ? course.id : null\"\n                                [linkProfile]=\"false\" />\n                            <ion-label>\n                                <p class=\"item-heading\">{{contact.fullname}}</p>\n                            </ion-label>\n                        </ion-item>\n                    </ng-container>\n                    <core-spacer />\n                </ion-list>\n\n                <ion-item class=\"ion-text-wrap\" *ngIf=\"course.customfields\">\n                    <ion-label>\n                        <ng-container *ngFor=\"let field of course.customfields\">\n                            <div *ngIf=\"field.value\"\n                                class=\"core-customfield core-customfield_{{field.type}} core-customfield_{{field.shortname}}\">\n                                <span class=\"core-customfieldname\">\n                                    <core-format-text [text]=\"field.name\" contextLevel=\"course\" [contextInstanceId]=\"course.id\" />\n                                    <span class=\"core-customfieldseparator\">: </span>\n                                </span>\n                                <span class=\"core-customfieldvalue\">\n                                    <core-format-text [text]=\"field.value\" [collapsible-item]=\"field.type === 'textarea'  ? '' : null\"\n                                        contextLevel=\"course\" [contextInstanceId]=\"course.id\" />\n                                </span>\n                            </div>\n                        </ng-container>\n                    </ion-label>\n                </ion-item>\n            </div>\n        </div>\n    </core-loading>\n</ion-content>\n\n<ion-footer *ngIf=\"course && dataLoaded\">\n    <div class=\"list-item-limited-width\">\n        <ng-container *ngIf=\"canAccessCourse\">\n            <ion-button *ngFor=\"let item of courseMenuHandlers\" (click)=\"openMenuItem(item)\" [class]=\"'ion-text-wrap '+ item.data.class\"\n                expand=\"block\">\n                <ion-icon *ngIf=\"item.data.icon\" [name]=\"item.data.icon\" slot=\"start\" aria-hidden=\"true\" />\n                <ion-label>{{item.data.title | translate }}</ion-label>\n            </ion-button>\n        </ng-container>\n        <ng-container *ngIf=\"!isEnrolled\">\n            <ion-button expand=\"block\" (click)=\"enrolMe()\" *ngIf=\"selfEnrolInstances.length || hasBrowserEnrolments\" class=\"ion-text-wrap\">\n                {{ 'core.courses.enrolme' | translate }}\n            </ion-button>\n\n            <ion-card class=\"core-info-card ion-text-wrap\" *ngIf=\"!selfEnrolInstances.length && !hasBrowserEnrolments\">\n                <ion-item>\n                    <ion-icon name=\"fas-circle-info\" slot=\"start\" aria-hidden=\"true\" />\n                    <ion-label>{{ 'core.courses.notenrollable' | translate }}</ion-label>\n                </ion-item>\n            </ion-card>\n        </ng-container>\n        <ion-button (click)=\"openCourse()\" *ngIf=\"!isModal && canAccessCourse\" expand=\"block\" fill=\"outline\" class=\"ion-text-wrap\">\n            <ion-icon name=\"fas-eye\" slot=\"start\" aria-hidden=\"true\" />\n            {{ 'core.course.viewcourse' | translate }}\n        </ion-button>\n    </div>\n</ion-footer>\n"],"mappings":";;AAgBA,SAA4BA,UAAU,QAAQ,oBAAoB;AAClE,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,YAAY,QAAQ,qBAAqB;AAClD,SAEIC,WAAW,EAEXC,mBAAmB,QAEhB,oCAAoC;AAC3C,SACIC,yBAAyB,QAEtB,mDAAmD;AAC1D,SAASC,gBAAgB,QAAQ,yCAAyC;AAC1E,SAASC,qBAAqB,EAAEC,eAAe,EAAEC,MAAM,EAAEC,SAAS,QAAQ,aAAa;AACvF,SAASC,aAAa,QAAQ,qBAAqB;AACnD,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,iBAAiB,QAAqC,2CAA2C;AAE1G,SAASC,UAAU,QAAQ,oBAAoB;AAC/C,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,YAAY,QAAQ,oBAAoB;AACjD,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,aAAa,EAAEC,sBAAsB,QAAQ,qBAAqB;AAC3E,SAASC,eAAe,QAAQ,uCAAuC;AACvE,SAASC,iBAAiB,QAAQ,yCAAyC;AAC3E,SAASC,SAAS,QAAkC,gCAAgC;;;;;;ICrC5EC,EAAA,CAAAC,cAAA,sBAAwC;IACXD,EAAA,CAAAE,UAAA,mBAAAC,yEAAA;MAAAH,EAAA,CAAAI,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAN,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAF,MAAA,CAAAG,UAAA,EAAY;IAAA,EAAC;;IAC3CT,EAAA,CAAAU,SAAA,mBAAiE;IACrEV,EAAA,CAAAW,YAAA,EAAa;;;IAFmCX,EAAA,CAAAY,SAAA,GAA4C;IAA5CZ,EAAA,CAAAa,WAAA,eAAAb,EAAA,CAAAc,WAAA,qBAA4C;;;;;;IAY5Fd,EAAA,CAAAC,cAAA,cAA6H;IAArCD,EAAA,CAAAE,UAAA,mBAAAa,iEAAA;MAAAf,EAAA,CAAAI,aAAA,CAAAY,IAAA;MAAA,MAAAC,MAAA,GAAAjB,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAS,MAAA,CAAAC,sBAAA,EAAwB;IAAA,EAAC;IAA1HlB,EAAA,CAAAW,YAAA,EAA6H;;;;IAA7FX,EAAA,CAAAmB,UAAA,QAAAC,MAAA,CAAAC,MAAA,CAAAC,WAAA,EAAAtB,EAAA,CAAAuB,aAAA,CAA0B;;;;;IAC1DvB,EAAA,CAAAU,SAAA,mBAAyG;;;;;IAF7GV,EAAA,CAAAC,cAAA,kBAA2D;IACvDD,EAAA,CAAAwB,UAAA,IAAAC,2CAAA,kBAA6H;IAC7HzB,EAAA,CAAAwB,UAAA,IAAAE,gDAAA,uBAAyG;IAC7G1B,EAAA,CAAAW,YAAA,EAAM;;;;IAFIX,EAAA,CAAAY,SAAA,GAAwB;IAAxBZ,EAAA,CAAAmB,UAAA,SAAAQ,MAAA,CAAAN,MAAA,CAAAC,WAAA,CAAwB;IACnBtB,EAAA,CAAAY,SAAA,GAAyB;IAAzBZ,EAAA,CAAAmB,UAAA,UAAAQ,MAAA,CAAAN,MAAA,CAAAC,WAAA,CAAyB;;;;;IAMxBtB,EAAA,CAAAC,cAAA,YACkC;IAC9BD,EAAA,CAAAU,SAAA,2BAAoG;IACxGV,EAAA,CAAAW,YAAA,EAAI;;;;IADkBX,EAAA,CAAAY,SAAA,GAAyB;IAAzBZ,EAAA,CAAAmB,UAAA,SAAAS,OAAA,CAAAP,MAAA,CAAAQ,SAAA,CAAyB,sBAAAD,OAAA,CAAAP,MAAA,CAAAS,EAAA;;;;;IAM/C9B,EAAA,CAAAC,cAAA,mBAAmG;IACzED,EAAA,CAAA+B,MAAA,GAAoD;;IAAA/B,EAAA,CAAAW,YAAA,EAAO;IACjFX,EAAA,CAAAC,cAAA,gBAAW;IACPD,EAAA,CAAAU,SAAA,2BAC8C;IAClDV,EAAA,CAAAW,YAAA,EAAY;;;;IAJUX,EAAA,CAAAY,SAAA,GAAoD;IAApDZ,EAAA,CAAAgC,iBAAA,CAAAhC,EAAA,CAAAc,WAAA,2CAAoD;IAEpDd,EAAA,CAAAY,SAAA,GAA4B;IAA5BZ,EAAA,CAAAmB,UAAA,SAAAc,OAAA,CAAAZ,MAAA,CAAAa,YAAA,CAA4B,sBAAAD,OAAA,CAAAZ,MAAA,CAAAc,UAAA;;;;;IAK1DnC,EAAA,CAAAC,cAAA,qBACoE;;IAChED,EAAA,CAAAU,SAAA,mBAAgF;IACpFV,EAAA,CAAAW,YAAA,EAAa;;;;IAHyCX,EAAA,CAAAmB,UAAA,SAAAiB,OAAA,CAAAC,SAAA,CAAkB;IACpErC,EAAA,CAAAa,WAAA,eAAAb,EAAA,CAAAc,WAAA,6BAAoD;;;;;IAMpDd,EAAA,CAAAC,cAAA,cAAiE;IAC7DD,EAAA,CAAAU,SAAA,4BAAuF;IAC3FV,EAAA,CAAAW,YAAA,EAAM;;;;IADiBX,EAAA,CAAAY,SAAA,GAAqB;IAArBZ,EAAA,CAAAmB,UAAA,aAAAmB,OAAA,CAAAC,QAAA,CAAqB;;;;;IAGxCvC,EAAA,CAAAU,SAAA,8BAEwB;;;;;IAFyCV,EAAA,CAAAmB,UAAA,eAAAqB,OAAA,CAAAnB,MAAA,CAAAS,EAAA,CAAwB,UAAA9B,EAAA,CAAAc,WAAA,yCAAA0B,OAAA,CAAAnB,MAAA,CAAAoB,SAAA,WAAAD,OAAA,CAAAnB,MAAA,CAAAqB,QAAA,SAAAF,OAAA,CAAAH,SAAA;;;;;IAGzFrC,EAAA,CAAAU,SAAA,8BAEwB;;;;;IAFuCV,EAAA,CAAAmB,UAAA,eAAAwB,OAAA,CAAAtB,MAAA,CAAAS,EAAA,CAAwB,UAAA9B,EAAA,CAAAc,WAAA,uCAAA6B,OAAA,CAAAtB,MAAA,CAAAuB,OAAA,WAAAD,OAAA,CAAAtB,MAAA,CAAAqB,QAAA,SAAAC,OAAA,CAAAN,SAAA;;;;;IAJ3FrC,EAAA,CAAAC,cAAA,cAA0E;IACtED,EAAA,CAAAwB,UAAA,IAAAqB,6EAAA,kCAEwB;IACxB7C,EAAA,CAAAwB,UAAA,IAAAsB,6EAAA,kCAEwB;IAC5B9C,EAAA,CAAAW,YAAA,EAAM;;;;IANoBX,EAAA,CAAAY,SAAA,GAAsB;IAAtBZ,EAAA,CAAAmB,UAAA,SAAA4B,OAAA,CAAA1B,MAAA,CAAAoB,SAAA,CAAsB;IAGtBzC,EAAA,CAAAY,SAAA,GAAoB;IAApBZ,EAAA,CAAAmB,UAAA,SAAA4B,OAAA,CAAA1B,MAAA,CAAAuB,OAAA,CAAoB;;;;;IATtD5C,EAAA,CAAAC,cAAA,mBAAqG;IAE7FD,EAAA,CAAAwB,UAAA,IAAAwB,uDAAA,kBAEM;IACNhD,EAAA,CAAAwB,UAAA,IAAAyB,uDAAA,kBAOM;IACVjD,EAAA,CAAAW,YAAA,EAAY;;;;IAX2BX,EAAA,CAAAY,SAAA,GAA4B;IAA5BZ,EAAA,CAAAmB,UAAA,SAAA+B,OAAA,CAAAX,QAAA,KAAAY,SAAA,CAA4B;IAGzDnD,EAAA,CAAAY,SAAA,GAAwC;IAAxCZ,EAAA,CAAAmB,UAAA,SAAA+B,OAAA,CAAA7B,MAAA,CAAAoB,SAAA,IAAAS,OAAA,CAAA7B,MAAA,CAAAuB,OAAA,CAAwC;;;;;IAWtD5C,EAAA,CAAAC,cAAA,mBAAwE;IAG5DD,EAAA,CAAA+B,MAAA,GACJ;;IAAA/B,EAAA,CAAAW,YAAA,EAAK;IACLX,EAAA,CAAAU,SAAA,2BAAmH;IACvHV,EAAA,CAAAW,YAAA,EAAY;;;;IANuCX,EAAA,CAAAmB,UAAA,iBAAgB;IAG3DnB,EAAA,CAAAY,SAAA,GACJ;IADIZ,EAAA,CAAAoD,kBAAA,MAAApD,EAAA,CAAAc,WAAA,yCACJ;IACkBd,EAAA,CAAAY,SAAA,GAAuB;IAAvBZ,EAAA,CAAAmB,UAAA,SAAAkC,OAAA,CAAAhC,MAAA,CAAAiC,OAAA,CAAuB,sBAAAD,OAAA,CAAAhC,MAAA,CAAAS,EAAA;;;;;IAOzC9B,EAAA,CAAAU,SAAA,mBACgG;;;;IAA7DV,EAAA,CAAAuD,WAAA,oCAAAC,OAAA,CAAAC,gBAAA,CAA0D;;;;;IAQ7FzD,EAAA,CAAAC,cAAA,mBACkH;;IAC9GD,EAAA,CAAAU,SAAA,2BAC4B;IAC5BV,EAAA,CAAAC,cAAA,gBAAW;IACiBD,EAAA,CAAA+B,MAAA,GAAoB;IAAA/B,EAAA,CAAAW,YAAA,EAAI;;;;;IALsCX,EAAA,CAAAmB,UAAA,WAAAuC,WAAA,CAAA5B,EAAA,CAAqB,aAAA6B,OAAA,CAAAC,UAAA,GAAAD,OAAA,CAAAtC,MAAA,CAAAS,EAAA;IACpE9B,EAAA,CAAAa,WAAA,eAAAb,EAAA,CAAAc,WAAA,2BAAkD;IAC3Ed,EAAA,CAAAY,SAAA,GAAgB;IAAhBZ,EAAA,CAAAmB,UAAA,SAAAuC,WAAA,CAAgB,WAAAA,WAAA,CAAA5B,EAAA,cAAA6B,OAAA,CAAAC,UAAA,GAAAD,OAAA,CAAAtC,MAAA,CAAAS,EAAA;IAGN9B,EAAA,CAAAY,SAAA,GAAoB;IAApBZ,EAAA,CAAAgC,iBAAA,CAAA0B,WAAA,CAAAhB,QAAA,CAAoB;;;;;IANxD1C,EAAA,CAAA6D,uBAAA,GAAqE;IACjE7D,EAAA,CAAAwB,UAAA,IAAAsC,2EAAA,wBAOW;IACf9D,EAAA,CAAA+D,qBAAA,EAAe;;;;IARgD/D,EAAA,CAAAY,SAAA,GAAkB;IAAlBZ,EAAA,CAAAmB,UAAA,YAAA6C,OAAA,CAAA3C,MAAA,CAAA4C,QAAA,CAAkB;;;;;;IAZrFjE,EAAA,CAAAC,cAAA,eAA4D;IACeD,EAAA,CAAAE,UAAA,mBAAAgE,4EAAA;MAAAlE,EAAA,CAAAI,aAAA,CAAA+D,IAAA;MAAA,MAAAC,OAAA,GAAApE,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAA4D,OAAA,CAAAC,cAAA,EAAgB;IAAA,EAAC;;IAE7FrE,EAAA,CAAAwB,UAAA,IAAA8C,4DAAA,uBACgG;IAChGtE,EAAA,CAAAC,cAAA,gBAAW;IAEHD,EAAA,CAAA+B,MAAA,GACJ;;IAAA/B,EAAA,CAAAW,YAAA,EAAK;IAGbX,EAAA,CAAAwB,UAAA,IAAA+C,gEAAA,0BASe;IACfvE,EAAA,CAAAU,SAAA,kBAAe;IACnBV,EAAA,CAAAW,YAAA,EAAW;;;;IArBGX,EAAA,CAAAY,SAAA,GAAsC;IAAtCZ,EAAA,CAAAmB,UAAA,WAAAqD,OAAA,CAAAnD,MAAA,CAAA4C,QAAA,CAAAQ,MAAA,MAAsC;IAC5CzE,EAAA,CAAAa,WAAA,eAAAb,EAAA,CAAAc,WAAA,OAAA0D,OAAA,CAAAf,gBAAA,oCAAoF;IACzEzD,EAAA,CAAAY,SAAA,GAAiC;IAAjCZ,EAAA,CAAAmB,UAAA,SAAAqD,OAAA,CAAAnD,MAAA,CAAA4C,QAAA,CAAAQ,MAAA,MAAiC;IAIpCzE,EAAA,CAAAY,SAAA,GACJ;IADIZ,EAAA,CAAAoD,kBAAA,MAAApD,EAAA,CAAAc,WAAA,6BACJ;IAGOd,EAAA,CAAAY,SAAA,GAAoD;IAApDZ,EAAA,CAAAmB,UAAA,SAAAqD,OAAA,CAAAf,gBAAA,IAAAe,OAAA,CAAAnD,MAAA,CAAA4C,QAAA,CAAAQ,MAAA,KAAoD;;;;;IAgB3DzE,EAAA,CAAAC,cAAA,UACkG;IAE1FD,EAAA,CAAAU,SAAA,2BAA8F;IAC9FV,EAAA,CAAAC,cAAA,eAAwC;IAAAD,EAAA,CAAA+B,MAAA,SAAE;IAAA/B,EAAA,CAAAW,YAAA,EAAO;IAErDX,EAAA,CAAAC,cAAA,eAAoC;IAChCD,EAAA,CAAAU,SAAA,2BAC4D;IAChEV,EAAA,CAAAW,YAAA,EAAO;;;;;IARPX,EAAA,CAAA0E,sBAAA,uCAAAC,SAAA,CAAAC,IAAA,wBAAAD,SAAA,CAAA9C,SAAA,KAA6F;IAEvE7B,EAAA,CAAAY,SAAA,GAAmB;IAAnBZ,EAAA,CAAAmB,UAAA,SAAAwD,SAAA,CAAAE,IAAA,CAAmB,sBAAAC,OAAA,CAAAzD,MAAA,CAAAS,EAAA;IAInB9B,EAAA,CAAAY,SAAA,GAAoB;IAApBZ,EAAA,CAAAmB,UAAA,SAAAwD,SAAA,CAAAI,KAAA,CAAoB,qBAAAJ,SAAA,CAAAC,IAAA,kDAAAE,OAAA,CAAAzD,MAAA,CAAAS,EAAA;;;;;IARlD9B,EAAA,CAAA6D,uBAAA,GAAwD;IACpD7D,EAAA,CAAAwB,UAAA,IAAAwD,sEAAA,kBAUM;IACVhF,EAAA,CAAA+D,qBAAA,EAAe;;;;IAXL/D,EAAA,CAAAY,SAAA,GAAiB;IAAjBZ,EAAA,CAAAmB,UAAA,SAAAwD,SAAA,CAAAI,KAAA,CAAiB;;;;;IAHnC/E,EAAA,CAAAC,cAAA,mBAA4D;IAEpDD,EAAA,CAAAwB,UAAA,IAAAyD,gEAAA,2BAYe;IACnBjF,EAAA,CAAAW,YAAA,EAAY;;;;IAbwBX,EAAA,CAAAY,SAAA,GAAsB;IAAtBZ,EAAA,CAAAmB,UAAA,YAAA+D,OAAA,CAAA7D,MAAA,CAAA8D,YAAA,CAAsB;;;;;IA5EtEnF,EAAA,CAAAC,cAAA,cAA6C;IAI7BD,EAAA,CAAAwB,UAAA,IAAA4D,yCAAA,gBAGI;IACJpF,EAAA,CAAAC,cAAA,SAAI;IACsBD,EAAA,CAAA+B,MAAA,GAAgD;;IAAA/B,EAAA,CAAAW,YAAA,EAAO;IAC7EX,EAAA,CAAAU,SAAA,2BAAmG;IACvGV,EAAA,CAAAW,YAAA,EAAK;IACLX,EAAA,CAAAwB,UAAA,KAAA6D,iDAAA,uBAMW;IACfrF,EAAA,CAAAW,YAAA,EAAY;IACZX,EAAA,CAAAwB,UAAA,KAAA8D,mDAAA,yBAGa;IACjBtF,EAAA,CAAAW,YAAA,EAAW;IACXX,EAAA,CAAAwB,UAAA,KAAA+D,iDAAA,uBAcW;IAEXvF,EAAA,CAAAwB,UAAA,KAAAgE,iDAAA,uBAOW;IAEXxF,EAAA,CAAAwB,UAAA,KAAAiE,iDAAA,wBAsBW;IAEXzF,EAAA,CAAAwB,UAAA,KAAAkE,iDAAA,uBAgBW;IACf1F,EAAA,CAAAW,YAAA,EAAM;;;;IAvFUX,EAAA,CAAAY,SAAA,GAAsF;IAAtFZ,EAAA,CAAAmB,UAAA,SAAAwE,MAAA,CAAAtE,MAAA,CAAAuE,WAAA,IAAAD,MAAA,CAAAtE,MAAA,CAAAQ,SAAA,IAAA8D,MAAA,CAAAtE,MAAA,CAAAqB,QAAA,KAAAiD,MAAA,CAAAtE,MAAA,CAAAuE,WAAA,CAAsF;IAKhE5F,EAAA,CAAAY,SAAA,GAAgD;IAAhDZ,EAAA,CAAAgC,iBAAA,CAAAhC,EAAA,CAAAc,WAAA,wCAAgD;IACpDd,EAAA,CAAAY,SAAA,GAAwB;IAAxBZ,EAAA,CAAAmB,UAAA,SAAAwE,MAAA,CAAAtE,MAAA,CAAAqB,QAAA,CAAwB,sBAAAiD,MAAA,CAAAtE,MAAA,CAAAS,EAAA;IAEnB9B,EAAA,CAAAY,SAAA,GAAyB;IAAzBZ,EAAA,CAAAmB,UAAA,SAAAwE,MAAA,CAAAtE,MAAA,CAAAa,YAAA,CAAyB;IAQ3ClC,EAAA,CAAAY,SAAA,GAA0B;IAA1BZ,EAAA,CAAAmB,UAAA,SAAAwE,MAAA,CAAAE,oBAAA,CAA0B;IAKV7F,EAAA,CAAAY,SAAA,GAAkE;IAAlEZ,EAAA,CAAAmB,UAAA,SAAAwE,MAAA,CAAApD,QAAA,KAAAY,SAAA,IAAAwC,MAAA,CAAAtE,MAAA,CAAAoB,SAAA,IAAAkD,MAAA,CAAAtE,MAAA,CAAAuB,OAAA,CAAkE;IAgBlE5C,EAAA,CAAAY,SAAA,GAAoB;IAApBZ,EAAA,CAAAmB,UAAA,SAAAwE,MAAA,CAAAtE,MAAA,CAAAiC,OAAA,CAAoB;IAS1CtD,EAAA,CAAAY,SAAA,GAA+C;IAA/CZ,EAAA,CAAAmB,UAAA,SAAAwE,MAAA,CAAAtE,MAAA,CAAA4C,QAAA,IAAA0B,MAAA,CAAAtE,MAAA,CAAA4C,QAAA,CAAAQ,MAAA,CAA+C;IAwBzBzE,EAAA,CAAAY,SAAA,GAAyB;IAAzBZ,EAAA,CAAAmB,UAAA,SAAAwE,MAAA,CAAAtE,MAAA,CAAA8D,YAAA,CAAyB;;;;;IA2B1DnF,EAAA,CAAAU,SAAA,mBAA2F;;;;IAA1DV,EAAA,CAAAmB,UAAA,SAAA2E,QAAA,CAAAC,IAAA,CAAAC,IAAA,CAAuB;;;;;;IAF5DhG,EAAA,CAAAC,cAAA,qBACmB;IADiCD,EAAA,CAAAE,UAAA,mBAAA+F,qGAAA;MAAA,MAAAC,WAAA,GAAAlG,EAAA,CAAAI,aAAA,CAAA+F,IAAA;MAAA,MAAAL,QAAA,GAAAI,WAAA,CAAAE,SAAA;MAAA,MAAAC,OAAA,GAAArG,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAA6F,OAAA,CAAAC,YAAA,CAAAR,QAAA,CAAkB;IAAA,EAAC;IAE5E9F,EAAA,CAAAwB,UAAA,IAAA+E,mFAAA,uBAA2F;IAC3FvG,EAAA,CAAAC,cAAA,gBAAW;IAAAD,EAAA,CAAA+B,MAAA,GAAgC;;IAAA/B,EAAA,CAAAW,YAAA,EAAY;;;;IAHsBX,EAAA,CAAAwG,UAAA,oBAAAV,QAAA,CAAAC,IAAA,CAAAU,KAAA,CAA2C;IAE7GzG,EAAA,CAAAY,SAAA,GAAoB;IAApBZ,EAAA,CAAAmB,UAAA,SAAA2E,QAAA,CAAAC,IAAA,CAAAC,IAAA,CAAoB;IACpBhG,EAAA,CAAAY,SAAA,GAAgC;IAAhCZ,EAAA,CAAAgC,iBAAA,CAAAhC,EAAA,CAAAc,WAAA,OAAAgF,QAAA,CAAAC,IAAA,CAAAW,KAAA,EAAgC;;;;;IAJnD1G,EAAA,CAAA6D,uBAAA,GAAsC;IAClC7D,EAAA,CAAAwB,UAAA,IAAAmF,wEAAA,yBAIa;IACjB3G,EAAA,CAAA+D,qBAAA,EAAe;;;;IALkB/D,EAAA,CAAAY,SAAA,GAAqB;IAArBZ,EAAA,CAAAmB,UAAA,YAAAyF,OAAA,CAAAC,kBAAA,CAAqB;;;;;;IAOlD7G,EAAA,CAAAC,cAAA,qBAA+H;IAApGD,EAAA,CAAAE,UAAA,mBAAA4G,qGAAA;MAAA9G,EAAA,CAAAI,aAAA,CAAA2G,IAAA;MAAA,MAAAC,OAAA,GAAAhH,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAwG,OAAA,CAAAC,OAAA,EAAS;IAAA,EAAC;IAC1CjH,EAAA,CAAA+B,MAAA,GACJ;;IAAA/B,EAAA,CAAAW,YAAA,EAAa;;;IADTX,EAAA,CAAAY,SAAA,GACJ;IADIZ,EAAA,CAAAoD,kBAAA,MAAApD,EAAA,CAAAc,WAAA,oCACJ;;;;;IAEAd,EAAA,CAAAC,cAAA,mBAA2G;IAEnGD,EAAA,CAAAU,SAAA,mBAAmE;IACnEV,EAAA,CAAAC,cAAA,gBAAW;IAAAD,EAAA,CAAA+B,MAAA,GAA8C;;IAAA/B,EAAA,CAAAW,YAAA,EAAY;;;IAA1DX,EAAA,CAAAY,SAAA,GAA8C;IAA9CZ,EAAA,CAAAgC,iBAAA,CAAAhC,EAAA,CAAAc,WAAA,qCAA8C;;;;;IARrEd,EAAA,CAAA6D,uBAAA,GAAkC;IAC9B7D,EAAA,CAAAwB,UAAA,IAAA0F,wEAAA,yBAEa;IAEblH,EAAA,CAAAwB,UAAA,IAAA2F,sEAAA,uBAKW;IACfnH,EAAA,CAAA+D,qBAAA,EAAe;;;;IAVqC/D,EAAA,CAAAY,SAAA,GAAuD;IAAvDZ,EAAA,CAAAmB,UAAA,SAAAiG,OAAA,CAAAC,kBAAA,CAAA5C,MAAA,IAAA2C,OAAA,CAAAE,oBAAA,CAAuD;IAIvDtH,EAAA,CAAAY,SAAA,GAAyD;IAAzDZ,EAAA,CAAAmB,UAAA,UAAAiG,OAAA,CAAAC,kBAAA,CAAA5C,MAAA,KAAA2C,OAAA,CAAAE,oBAAA,CAAyD;;;;;;IAO7GtH,EAAA,CAAAC,cAAA,qBAA2H;IAA/GD,EAAA,CAAAE,UAAA,mBAAAqH,sFAAA;MAAAvH,EAAA,CAAAI,aAAA,CAAAoH,IAAA;MAAA,MAAAC,OAAA,GAAAzH,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAiH,OAAA,CAAAC,UAAA,EAAY;IAAA,EAAC;IAC9B1H,EAAA,CAAAU,SAAA,mBAA2D;IAC3DV,EAAA,CAAA+B,MAAA,GACJ;;IAAA/B,EAAA,CAAAW,YAAA,EAAa;;;IADTX,EAAA,CAAAY,SAAA,GACJ;IADIZ,EAAA,CAAAoD,kBAAA,MAAApD,EAAA,CAAAc,WAAA,sCACJ;;;;;IAxBRd,EAAA,CAAAC,cAAA,iBAAyC;IAEjCD,EAAA,CAAAwB,UAAA,IAAAmG,2DAAA,0BAMe;IACf3H,EAAA,CAAAwB,UAAA,IAAAoG,2DAAA,0BAWe;IACf5H,EAAA,CAAAwB,UAAA,IAAAqG,yDAAA,yBAGa;IACjB7H,EAAA,CAAAW,YAAA,EAAM;;;;IAvBaX,EAAA,CAAAY,SAAA,GAAqB;IAArBZ,EAAA,CAAAmB,UAAA,SAAA2G,MAAA,CAAAC,eAAA,CAAqB;IAOrB/H,EAAA,CAAAY,SAAA,GAAiB;IAAjBZ,EAAA,CAAAmB,UAAA,UAAA2G,MAAA,CAAAlE,UAAA,CAAiB;IAYI5D,EAAA,CAAAY,SAAA,GAAiC;IAAjCZ,EAAA,CAAAmB,UAAA,UAAA2G,MAAA,CAAAE,OAAA,IAAAF,MAAA,CAAAC,eAAA,CAAiC;;;AD9F7E;;;AAQA,OAAM,MAAOE,qBAAqB;EAgC9BC,YAAA;IAAA,IAAAC,KAAA;IA7BS,KAAAC,QAAQ,GAAG,CAAC;IAIrB,KAAAxE,UAAU,GAAG,KAAK;IAElB,KAAAmE,eAAe,GAAG,IAAI;IACtB,KAAAM,cAAc,GAAG,KAAK;IAEtB,KAAAhB,kBAAkB,GAA+B,EAAE;IACnD,KAAAiB,mBAAmB,GAA+B,EAAE;IACpD,KAAAhB,oBAAoB,GAAG,KAAK;IAC5B,KAAAiB,UAAU,GAAG,KAAK;IAClB,KAAAP,OAAO,GAAG,KAAK;IACf,KAAAvE,gBAAgB,GAAG,KAAK;IACxB,KAAApB,SAAS,GAAG,EAAE;IAEd,KAAAwE,kBAAkB,GAA4C,EAAE;IAChE,KAAAhB,oBAAoB,GAAG,KAAK;IAGlB,KAAA2C,SAAS,GAAG,CAAC;IACb,KAAAC,QAAQ,GAAG,EAAE;IACb,KAAAC,aAAa,GAAG,KAAK;IAGrB,KAAAC,sBAAsB,GAAG,KAAK;IAIpC;IACA,IAAI,CAACC,qBAAqB,GAAGnJ,YAAY,CAACoJ,MAAM,CAACC,SAAS,CAAC,MAAK;MAC5D,IAAI,CAAC,IAAI,CAACH,sBAAsB,IAAI,CAAC,IAAI,CAACJ,UAAU,EAAE;QAClD;;MAGJrJ,MAAM,CAAC6J,GAAG,eAAAC,iBAAA,CAAC,aAAW;QAClBb,KAAI,CAACQ,sBAAsB,GAAG,KAAK;QACnCR,KAAI,CAACI,UAAU,GAAG,KAAK;QAEvB,MAAMJ,KAAI,CAACc,WAAW,EAAE;MAC5B,CAAC,EAAC;IACN,CAAC,CAAC;IAEF,IAAI,CAACC,OAAO,GAAGxJ,QAAQ,CAACyJ,IAAI,eAAAH,iBAAA,CAAC,aAAW;MACpC,IAAI,CAACb,KAAI,CAAC9G,MAAM,IAAI8G,KAAI,CAACH,OAAO,EAAE;QAC9B;;MAGJrI,aAAa,CAACyJ,QAAQ,CAAC;QACnBxE,IAAI,EAAEhF,sBAAsB,CAACyJ,SAAS;QACtCC,EAAE,EAAE,yBAAyB;QAC7BzE,IAAI,EAAEsD,KAAI,CAAC9G,MAAM,CAACqB,QAAQ;QAC1BqD,IAAI,EAAE;UAAEjE,EAAE,EAAEqG,KAAI,CAAC9G,MAAM,CAACS,EAAE;UAAEyH,QAAQ,EAAE;QAAQ,CAAE;QAChDC,GAAG,EAAE,uBAAuBrB,KAAI,CAAC9G,MAAM,CAACS,EAAE;OAC7C,CAAC;IACN,CAAC,EAAC;EACN;EAEA;;;EAGM2H,QAAQA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAV,iBAAA;MACV,IAAI,CAACU,MAAI,CAACtB,QAAQ,EAAE;QAChB;QACA,IAAI;UACAsB,MAAI,CAACtB,QAAQ,GAAGhJ,aAAa,CAACuK,2BAA2B,CAAC,UAAU,CAAC;SACxE,CAAC,OAAOC,KAAK,EAAE;UACZjL,YAAY,CAACkL,cAAc,CAACD,KAAK,CAAC;UAClCxK,aAAa,CAAC0K,IAAI,EAAE;UACpBJ,MAAI,CAACjJ,UAAU,EAAE,CAAC,CAAC;UAEnB;;QAGJiJ,MAAI,CAACrI,MAAM,GAAGjC,aAAa,CAAC2K,aAAa,CAAC,QAAQ,CAAC;OACtD,MAAM;QACH;QACAL,MAAI,CAAC1B,OAAO,GAAG,IAAI;;MAGvB,MAAMgC,cAAc,GAAGtL,SAAS,CAACuL,sBAAsB,EAAE,CAACC,MAAM,EAAE;MAClER,MAAI,CAACjB,QAAQ,GAAGjJ,QAAQ,CAAC2K,gBAAgB,CAACH,cAAc,EAAE,qBAAqB,GAAGN,MAAI,CAACtB,QAAQ,CAAC;MAChGsB,MAAI,CAACrH,SAAS,GAAG7C,QAAQ,CAAC2K,gBAAgB,CAACH,cAAc,EAAE,qBAAqB,GAAGN,MAAI,CAACtB,QAAQ,CAAC;MACjGsB,MAAI,CAAC7D,oBAAoB,GAAGnH,SAAS,CAACuL,sBAAsB,EAAE,CAACG,6BAA6B,EAAE;MAE9F,MAAMV,MAAI,CAACW,SAAS,EAAE;IAAC;EAC3B;EAEA;;;;;EAKgBA,SAASA,CAACC,OAAO,GAAG,KAAK;IAAA,IAAAC,MAAA;IAAA,OAAAvB,iBAAA;MACrC,IAAI;QACA,MAAMuB,MAAI,CAACC,aAAa,EAAE;QAE1BD,MAAI,CAACrB,OAAO,EAAE;OACjB,CAAC,OAAOU,KAAK,EAAE;QACZjL,YAAY,CAAC8L,qBAAqB,CAACb,KAAK,EAAE,8BAA8B,CAAC;;MAG7E,MAAMW,MAAI,CAACG,cAAc,EAAE;MAE3B,IAAI,CAACH,MAAI,CAAClJ,MAAM,IACZ,EAAE,UAAU,IAAIkJ,MAAI,CAAClJ,MAAM,CAAC,IAC5B,OAAOkJ,MAAI,CAAClJ,MAAM,CAACkB,QAAQ,KAAK,QAAQ,IACxCgI,MAAI,CAAClJ,MAAM,CAACkB,QAAQ,GAAG,CAAC,IACxBgI,MAAI,CAAClJ,MAAM,CAACsJ,qBAAqB,KAAK,KAAK,EAC7C;QACEJ,MAAI,CAAChI,QAAQ,GAAGY,SAAS;OAC5B,MAAM;QACHoH,MAAI,CAAChI,QAAQ,GAAGgI,MAAI,CAAClJ,MAAM,CAACkB,QAAQ;;MAGxC,MAAMgI,MAAI,CAACK,gBAAgB,CAACN,OAAO,CAAC;MAEpCC,MAAI,CAAChC,UAAU,GAAG,IAAI;IAAC;EAC3B;EAEA;;;EAGgBiC,aAAaA,CAAA;IAAA,IAAAK,MAAA;IAAA,OAAA7B,iBAAA;MACzB6B,MAAI,CAAC9C,eAAe,GAAG,KAAK;MAC5B8C,MAAI,CAACxC,cAAc,GAAG,KAAK;MAE3B,IAAI;QACA;QACA,IAAI;UACAwC,MAAI,CAACxJ,MAAM,SAASzC,WAAW,CAACkM,aAAa,CAACD,MAAI,CAACzC,QAAQ,CAAC;UAC5DyC,MAAI,CAACjH,UAAU,GAAG,IAAI;SACzB,CAAC,OAAAmH,OAAA,EAAM;UACJ;UACAF,MAAI,CAACjH,UAAU,GAAG,KAAK;UACvBiH,MAAI,CAACxJ,MAAM,SAASzC,WAAW,CAACyL,SAAS,CAACQ,MAAI,CAACzC,QAAQ,CAAC;;QAG5D;QACAyC,MAAI,CAAC9C,eAAe,GAAG,IAAI;QAC3B8C,MAAI,CAACxC,cAAc,GAAG,KAAK;OAC9B,CAAC,OAAA2C,QAAA,EAAM;QACJ;MAAA;MAGJ,MAAMC,aAAa,SAAS5L,SAAS,CAAC6L,YAAY,CAACtM,WAAW,CAACuM,gBAAgB,CAAC,IAAI,EAAEN,MAAI,CAACzC,QAAQ,CAAC,CAAC;MACrG,IAAI6C,aAAa,EAAE;QACf,IAAIJ,MAAI,CAACxJ,MAAM,EAAE;UACbwJ,MAAI,CAACxJ,MAAM,CAAC8D,YAAY,GAAG8F,aAAa,CAAC9F,YAAY;UACrD0F,MAAI,CAACxJ,MAAM,CAAC4C,QAAQ,GAAGgH,aAAa,CAAChH,QAAQ;UAC7C4G,MAAI,CAACxJ,MAAM,CAACuE,WAAW,GAAGqF,aAAa,CAACrF,WAAW;UACnDiF,MAAI,CAACxJ,MAAM,CAACa,YAAY,GAAG+I,aAAa,CAAC/I,YAAY;UACrD2I,MAAI,CAACxJ,MAAM,CAAC+J,aAAa,GAAGH,aAAa,CAACG,aAAa;SAC1D,MAAO;UACJP,MAAI,CAACxJ,MAAM,GAAG4J,aAAa;;;MAInC,MAAMJ,MAAI,CAACQ,gBAAgB,CAACJ,aAAa,aAAbA,aAAa,uBAAbA,aAAa,CAAEK,iBAAiB,CAAC;IAAC;EAClE;EAEA;;;;;EAKgBD,gBAAgBA,CAACE,gBAA2B;IAAA,IAAAC,MAAA;IAAA,OAAAxC,iBAAA;MACxD,IAAIwC,MAAI,CAAC5H,UAAU,EAAE;QACjB;;MAGJ,MAAM6H,WAAW,SAAS5L,eAAe,CAAC6L,mBAAmB,CAACF,MAAI,CAACpD,QAAQ,EAAEmD,gBAAgB,CAAC;MAE9FC,MAAI,CAAClE,oBAAoB,GAAGmE,WAAW,CAACE,UAAU;MAClDH,MAAI,CAACnE,kBAAkB,GAAGoE,WAAW,CAACG,IAAI;MAC1CJ,MAAI,CAAClD,mBAAmB,GAAGmD,WAAW,CAACI,KAAK;MAE5C,IAAI,CAACL,MAAI,CAACzD,eAAe,EAAE;QACvB;QACA,MAAM+D,QAAQ,GAAGN,MAAI,CAAClD,mBAAmB,CAACyD,GAAG;UAAA,IAAAC,KAAA,GAAAhD,iBAAA,CAAC,WAAOiD,MAAM,EAAI;YAC3D,MAAM;cAAEC;YAAS,CAAE,SAASpM,iBAAiB,CAACoM,SAAS,CAACD,MAAM,CAAC;YAC/D,IAAIC,SAAS,EAAE;cACXV,MAAI,CAACzD,eAAe,GAAG,IAAI;;UAEnC,CAAC;UAAA,iBAAAoE,EAAA;YAAA,OAAAH,KAAA,CAAAI,KAAA,OAAAC,SAAA;UAAA;QAAA,IAAC;QAEF,MAAMC,OAAO,CAACC,GAAG,CAACT,QAAQ,CAAC;QAE3BN,MAAI,CAACnD,cAAc,GAAGmD,MAAI,CAACzD,eAAe;;IAC7C;EACL;EAEA;;;;;;EAMgB6C,gBAAgBA,CAACN,OAAiB;IAAA,IAAAkC,MAAA;IAAA,OAAAxD,iBAAA;MAC9C,IAAI,CAACwD,MAAI,CAACnL,MAAM,EAAE;QACd;;MAGJmL,MAAI,CAAC3F,kBAAkB,SACb/H,yBAAyB,CAAC2N,wBAAwB,CAACD,MAAI,CAACnL,MAAM,EAAEiJ,OAAO,EAAEkC,MAAI,CAACnE,cAAc,CAAC;IAAC;EAC5G;EAEA;;;;;;EAMMqE,qBAAqBA,CAACC,WAAqC,EAAEC,kBAA2B;IAAA,IAAAC,MAAA;IAAA,OAAA7D,iBAAA;MAC1F,IAAI,CAAC6D,MAAI,CAAC9E,eAAe,IAAI,CAAC8E,MAAI,CAACxL,MAAM,IAAIwL,MAAI,CAAC7E,OAAO,EAAE;QACvD;;MAGJ,IAAI8E,SAAS,GAAG,KAAK;MACrB,IAAI;QACAA,SAAS,SAAShN,iBAAiB,CAACiN,cAAc,CAACJ,WAAW,CAAC;OAClE,CAAC,OAAAK,QAAA,EAAM;QACJH,MAAI,CAAC5D,WAAW,EAAE;QAElB;;MAGJ,IAAI,CAAC6D,SAAS,EAAE;QACZ;;MAGJ/N,gBAAgB,CAAC2I,UAAU,CAACmF,MAAI,CAACxL,MAAM,EAAE;QAAE4L,MAAM,EAAE;UAAEC,OAAO,EAAEL,MAAI,CAACxE;QAAc,CAAE;QAAE8E,OAAO,EAAEP;MAAkB,CAAE,CAAC;IAAC;EACxH;EAEA;;;;;EAKMlF,UAAUA,CAACkF,kBAAkB,GAAG,KAAK;IAAA,IAAAQ,MAAA;IAAA,OAAApE,iBAAA;MACvC,IAAI,CAACoE,MAAI,CAACrF,eAAe,IAAI,CAACqF,MAAI,CAAC/L,MAAM,IAAI+L,MAAI,CAACpF,OAAO,EAAE;QACvD;;MAGJ,MAAMqF,SAAS,SAAStO,gBAAgB,CAACuO,qBAAqB,CAACF,MAAI,CAAChF,QAAQ,CAAC;MAC7E,IAAI,CAACiF,SAAS,IAAID,MAAI,CAAC9E,mBAAmB,CAAC7D,MAAM,EAAE;QAC/C,IAAI2I,MAAI,CAAC9E,mBAAmB,CAAC7D,MAAM,IAAI,CAAC,EAAE;UACtC2I,MAAI,CAACV,qBAAqB,CAACU,MAAI,CAAC9E,mBAAmB,CAAC,CAAC,CAAC,EAAEsE,kBAAkB,CAAC;UAE3E;;QAGJ,MAAMW,OAAO,GAAwBH,MAAI,CAAC9E,mBAAmB,CAACyD,GAAG,CAAEY,WAAW,KAAM;UAChFa,IAAI,EAAEb,WAAW,CAAC9H,IAAI;UACtB4I,OAAO,EAAEA,CAAA,KAAW;YAChBL,MAAI,CAACV,qBAAqB,CAACC,WAAW,EAAEC,kBAAkB,CAAC;UAC/D;SACH,CAAC,CAAC;QAEHW,OAAO,CAACG,IAAI,CAAC;UACTF,IAAI,EAAErO,SAAS,CAACwO,OAAO,CAAC,aAAa,CAAC;UACtCC,IAAI,EAAE;SACT,CAAC;QAEFR,MAAI,CAACS,WAAW,SAAS7O,qBAAqB,CAAC8O,MAAM,CAAC;UAClDC,MAAM,EAAG5O,SAAS,CAACwO,OAAO,CAAC,wBAAwB,CAAC;UACpDJ,OAAO,EAAEA;SACZ,CAAC;QAEF,MAAMH,MAAI,CAACS,WAAW,CAACG,OAAO,EAAE;QAEhC;;MAGJjP,gBAAgB,CAAC2I,UAAU,CAAC0F,MAAI,CAAC/L,MAAM,EAAE;QAAE4L,MAAM,EAAE;UAAEC,OAAO,EAAEE,MAAI,CAAC/E;QAAc,CAAE;QAAE8E,OAAO,EAAEP;MAAkB,CAAE,CAAC;IAAC;EACxH;EAEA;;;EAGMqB,YAAYA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAlF,iBAAA;MACd;MACA,IAAI;QACA,MAAMrK,YAAY,CAACwP,WAAW,CAC1BhP,SAAS,CAACwO,OAAO,CAAC,uCAAuC,CAAC,EAC1DxO,SAAS,CAACwO,OAAO,CAAC,uCAAuC,CAAC,EAC1DxO,SAAS,CAACwO,OAAO,CAAC,oBAAoB,CAAC,CAC1C;OACJ,CAAC,OAAAS,QAAA,EAAM;QACJ;QACA;;MAGJF,MAAI,CAACvF,sBAAsB,GAAG,IAAI;MAElC,MAAMjK,SAAS,CAACuL,sBAAsB,EAAE,CAACoE,0BAA0B,CAC/DH,MAAI,CAACzF,QAAQ,EACbtF,SAAS,EACT;QACImL,kBAAkB,EAAE;OACvB,CACJ;IAAC;EACN;EAEA;;;;;EAKMC,iBAAiBA,CAAC5B,WAAqC;IAAA,IAAA6B,OAAA;IAAA,OAAAxF,iBAAA;MACzD,IAAIyF,QAAQ,GAAG,KAAK;MACpB,IAAI;QACAA,QAAQ,SAAS3O,iBAAiB,CAAC4O,KAAK,CAAC/B,WAAW,CAAC;OACxD,CAAC,OAAAgC,QAAA,EAAM;QACJH,OAAI,CAACvF,WAAW,EAAE;QAElB;;MAGJ,IAAI,CAACwF,QAAQ,EAAE;QACX;;MAGJ;MACAD,OAAI,CAAC5K,UAAU,GAAG,IAAI;MACtB4K,OAAI,CAACjG,UAAU,GAAG,KAAK;MAEvB;MACA,MAAMiG,OAAI,CAACI,eAAe,CAAC,IAAI,CAAC;MAEhC,MAAMJ,OAAI,CAACvF,WAAW,EAAE,CAAC4F,OAAO,CAAC,MAAK;QAClC;QACApQ,UAAU,CAACqQ,OAAO,CAACjQ,mBAAmB,CAACkQ,wBAAwB,EAAE;UAC7D3G,QAAQ,EAAEoG,OAAI,CAACpG,QAAQ;UACvB/G,MAAM,EAAEmN,OAAI,CAACnN,MAAM;UACnB2N,MAAM,EAAEnQ,mBAAmB,CAACoQ;SAC/B,EAAEvQ,SAAS,CAACwQ,gBAAgB,EAAE,CAAC;MACpC,CAAC,CAAC;MAEFV,OAAI,CAAC9G,UAAU,CAAC,IAAI,CAAC;IAAC;EAC1B;EAEA;;;;;EAKMuB,WAAWA,CAACkG,SAAmC;IAAA,IAAAC,OAAA;IAAA,OAAApG,iBAAA;MACjD,MAAM8C,QAAQ,GAAoB,EAAE;MAEpCA,QAAQ,CAAC4B,IAAI,CAAC9O,WAAW,CAACyQ,qBAAqB,EAAE,CAAC;MAClDvD,QAAQ,CAAC4B,IAAI,CAAC9O,WAAW,CAAC0Q,gBAAgB,CAACF,OAAI,CAAChH,QAAQ,CAAC,CAAC;MAC1D0D,QAAQ,CAAC4B,IAAI,CAAC5O,yBAAyB,CAACyQ,gCAAgC,CAACH,OAAI,CAAChH,QAAQ,CAAC,CAAC;MACxF0D,QAAQ,CAAC4B,IAAI,CAAC9O,WAAW,CAAC4Q,wBAAwB,CAAC,IAAI,EAAEJ,OAAI,CAAChH,QAAQ,CAAC,CAAC;MACxE0D,QAAQ,CAAC4B,IAAI,CAAC3N,SAAS,CAAC0P,gCAAgC,CAACL,OAAI,CAAChH,QAAQ,CAAC,CAAC;MAExEgH,OAAI,CAAC/H,kBAAkB,CAACqI,OAAO,CAAEzD,MAAM,IAAI;QACvCH,QAAQ,CAAC4B,IAAI,CAAC5N,iBAAiB,CAAC6P,UAAU,CAAC1D,MAAM,CAAC,CAAC;MACvD,CAAC,CAAC;MAEFmD,OAAI,CAAC9G,mBAAmB,CAACoH,OAAO,CAAEzD,MAAM,IAAI;QACxCH,QAAQ,CAAC4B,IAAI,CAAC5N,iBAAiB,CAAC6P,UAAU,CAAC1D,MAAM,CAAC,CAAC;MACvD,CAAC,CAAC;MAEF,MAAMK,OAAO,CAACC,GAAG,CAACT,QAAQ,CAAC,CAAC+C,OAAO,CAAC,MAAMO,OAAI,CAAC/E,SAAS,EAAE,CAAC,CAACwE,OAAO,CAAC,MAAK;QACrEM,SAAS,aAATA,SAAS,eAATA,SAAS,CAAES,QAAQ,EAAE;MACzB,CAAC,CAAC;IAAC;EACP;EAEA;;;;;;EAMgBhB,eAAeA,CAACiB,KAAe;IAAA,IAAAC,OAAA;IAAA,OAAA9G,iBAAA;MAC3C,IAAI6G,KAAK,EAAE;QACPC,OAAI,CAACtH,SAAS,GAAGuH,IAAI,CAACC,GAAG,EAAE;;MAG/B;MACA,MAAM3Q,SAAS,CAAC6L,YAAY,CAACtM,WAAW,CAACyQ,qBAAqB,EAAE,CAAC;MAEjE,IAAI;QACA,MAAMzQ,WAAW,CAACkM,aAAa,CAACgF,OAAI,CAAC1H,QAAQ,CAAC;OACjD,CAAC,OAAA6H,QAAA,EAAM;QACJ;QACA,IAAIH,OAAI,CAACpH,aAAa,IAAKqH,IAAI,CAACC,GAAG,EAAE,GAAGF,OAAI,CAACtH,SAAS,GAAG,KAAM,EAAE;UAC7D;UACA;;QAGJ,OAAO,IAAI8D,OAAO,CAAE4D,OAAO,IAAU;UACjCC,UAAU,eAAAnH,iBAAA,CAAC,aAAW;YAClB,IAAI,CAAC8G,OAAI,CAACpH,aAAa,EAAE;cACrB;cACA,MAAMoH,OAAI,CAAClB,eAAe,EAAE;;YAEhCsB,OAAO,EAAE;UACb,CAAC,GAAE,IAAI,CAAC;QACZ,CAAC,CAAC;;IACL;EACL;EAEA;;;;;EAKA5J,YAAYA,CAAC8J,IAA2C;IACpD,MAAMnD,MAAM,GAAGoD,MAAM,CAACC,MAAM,CAAC;MAAEjP,MAAM,EAAE,IAAI,CAACA;IAAM,CAAE,EAAE+O,IAAI,CAACrK,IAAI,CAACwK,UAAU,CAAC;IAC3EnR,aAAa,CAACoR,kBAAkB,CAACJ,IAAI,CAACrK,IAAI,CAAC0K,IAAI,EAAE;MAAExD;IAAM,CAAE,CAAC;EAChE;EAEA;;;EAGA/L,sBAAsBA,CAAA;IAClB,IAAI,CAAC,IAAI,CAACG,MAAM,EAAE;MACd;;IAGJ,IAAI,CAACA,MAAM,CAACC,WAAW,GAAG6B,SAAS;IAEnC;IACA,IAAI,CAACuH,cAAc,EAAE;EACzB;EAEA;;;EAGgBA,cAAcA,CAAA;IAAA,IAAAgG,OAAA;IAAA,OAAA1H,iBAAA;MAC1B,IAAI,CAAC0H,OAAI,CAACrP,MAAM,EAAE;QACd;;MAGJ,MAAM/B,iBAAiB,CAACqR,uBAAuB,CAACD,OAAI,CAACrP,MAAM,CAAC;MAE5D,IAAI,CAACqP,OAAI,CAACE,WAAW,EAAE;QACnB;;MAGJ,IAAIF,OAAI,CAACrP,MAAM,CAACwP,KAAK,EAAE;QACnBH,OAAI,CAACE,WAAW,CAACE,aAAa,CAACC,KAAK,CAACC,WAAW,CAAC,gBAAgB,EAAEN,OAAI,CAACrP,MAAM,CAACwP,KAAK,CAAC;QAErF,MAAMI,IAAI,GAAG1R,UAAU,CAAC2R,OAAO,CAACR,OAAI,CAACrP,MAAM,CAACwP,KAAK,EAAE,EAAE,CAAC;QACtDH,OAAI,CAACE,WAAW,CAACE,aAAa,CAACC,KAAK,CAACC,WAAW,CAAC,qBAAqB,EAAEC,IAAI,CAAC;OAChF,MAAM,IAAGP,OAAI,CAACrP,MAAM,CAAC8P,WAAW,KAAKhO,SAAS,EAAE;QAC7CuN,OAAI,CAACE,WAAW,CAACE,aAAa,CAACM,SAAS,CAACC,GAAG,CAAC,eAAe,GAAGX,OAAI,CAACrP,MAAM,CAAC8P,WAAW,CAAC;;IAC1F;EACL;EAEA;;;EAGMlK,OAAOA,CAAA;IAAA,IAAAqK,OAAA;IAAA,OAAAtI,iBAAA;MACT,IAAIsI,OAAI,CAACjK,kBAAkB,CAAC5C,MAAM,IAAI,CAAC,IAAI,CAAC6M,OAAI,CAAChK,oBAAoB,EAAE;QACnEgK,OAAI,CAAC/C,iBAAiB,CAAC+C,OAAI,CAACjK,kBAAkB,CAAC,CAAC,CAAC,CAAC;QAElD;;MAGJ,IAAIiK,OAAI,CAACjK,kBAAkB,CAAC5C,MAAM,IAAI,CAAC,IAAI6M,OAAI,CAAChK,oBAAoB,EAAE;QAClEgK,OAAI,CAACrD,YAAY,EAAE;QAEnB;;MAGJ,MAAMV,OAAO,GAAwB+D,OAAI,CAACjK,kBAAkB,CAAC0E,GAAG,CAAEY,WAAW,KAAM;QAC/Ea,IAAI,EAAEb,WAAW,CAAC9H,IAAI;QACtB4I,OAAO,EAAEA,CAAA,KAAW;UAChB6D,OAAI,CAAC/C,iBAAiB,CAAC5B,WAAW,CAAC;QACvC;OACH,CAAC,CAAC;MAEH,IAAI2E,OAAI,CAAChK,oBAAoB,EAAE;QAC3BiG,OAAO,CAACG,IAAI,CAAC;UACTF,IAAI,EAAErO,SAAS,CAACwO,OAAO,CAAC,uCAAuC,CAAC;UAChEF,OAAO,EAAEA,CAAA,KAAW;YAChB6D,OAAI,CAACrD,YAAY,EAAE;UACvB;SACH,CAAC;;MAGNV,OAAO,CAACG,IAAI,CAAC;QACTF,IAAI,EAAErO,SAAS,CAACwO,OAAO,CAAC,aAAa,CAAC;QACtCC,IAAI,EAAE;OACT,CAAC;MAEF0D,OAAI,CAACzD,WAAW,SAAS7O,qBAAqB,CAAC8O,MAAM,CAAC;QAClDC,MAAM,EAAG5O,SAAS,CAACwO,OAAO,CAAC,sBAAsB,CAAC;QAClDJ,OAAO,EAAEA;OACZ,CAAC;MAEF,MAAM+D,OAAI,CAACzD,WAAW,CAACG,OAAO,EAAE;IAAC;EACrC;EAEA;;;EAGA3J,cAAcA,CAAA;IACV,IAAI,CAACZ,gBAAgB,GAAG,CAAC,IAAI,CAACA,gBAAgB;EAClD;EAEA;;;EAGAhD,UAAUA,CAAA;IACNxB,eAAe,CAACsS,OAAO,EAAE;EAC7B;EAEA;;;EAGAC,WAAWA,CAAA;IAAA,IAAAC,qBAAA;IACP,IAAI,CAAC/I,aAAa,GAAG,IAAI;IACzB,CAAA+I,qBAAA,OAAI,CAACC,oBAAoB,cAAAD,qBAAA,eAAzBA,qBAAA,CAA2BE,GAAG,EAAE;IAChC,IAAI,CAAC/I,qBAAqB,CAACgJ,WAAW,EAAE;EAC5C;;SA1gBS3J,qBAAqB;;mBAArBA,MAAqB;AAAA;;QAArBA,MAAqB;EAAA4J,SAAA;EAAAC,SAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;;;;;;;;;;;;;;;;;MCrDlChS,EAAA,CAAAC,cAAA,oBAA6B;MAGjBD,EAAA,CAAAU,SAAA,yBAAoD;;MACxDV,EAAA,CAAAW,YAAA,EAAc;MACdX,EAAA,CAAAU,SAAA,gBAAa;MACbV,EAAA,CAAAwB,UAAA,IAAA0Q,4CAAA,yBAIc;MAClBlS,EAAA,CAAAW,YAAA,EAAc;MAElBX,EAAA,CAAAC,cAAA,kBAAa;MAC4CD,EAAA,CAAAE,UAAA,wBAAAiS,mEAAAC,MAAA;QAAA,OAAcH,GAAA,CAAAhJ,WAAA,CAAAmJ,MAAA,CAAAC,MAAA,CAA0B;MAAA,EAAC;MAC1FrS,EAAA,CAAAU,SAAA,+BAA8E;;MAClFV,EAAA,CAAAW,YAAA,EAAgB;MAChBX,EAAA,CAAAC,cAAA,uBAAuC;MACnCD,EAAA,CAAAwB,UAAA,KAAA8Q,qCAAA,iBAGM;MACNtS,EAAA,CAAAwB,UAAA,KAAA+Q,qCAAA,mBA4FM;MACVvS,EAAA,CAAAW,YAAA,EAAe;MAGnBX,EAAA,CAAAwB,UAAA,KAAAgR,4CAAA,wBA0Ba;;;MA7IgBxS,EAAA,CAAAY,SAAA,GAAgC;MAAhCZ,EAAA,CAAAmB,UAAA,SAAAnB,EAAA,CAAAc,WAAA,oBAAgC;MAG5Bd,EAAA,CAAAY,SAAA,GAAa;MAAbZ,EAAA,CAAAmB,UAAA,SAAA8Q,GAAA,CAAAjK,OAAA,CAAa;MAQdhI,EAAA,CAAAY,SAAA,GAAwB;MAAxBZ,EAAA,CAAAmB,UAAA,cAAA8Q,GAAA,CAAA1J,UAAA,CAAwB;MACzBvI,EAAA,CAAAY,SAAA,GAAoD;MAApDZ,EAAA,CAAAyS,qBAAA,gBAAAzS,EAAA,CAAAc,WAAA,+BAAoD;MAEjEd,EAAA,CAAAY,SAAA,GAAwB;MAAxBZ,EAAA,CAAAmB,UAAA,cAAA8Q,GAAA,CAAA1J,UAAA,CAAwB;MAC5BvI,EAAA,CAAAY,SAAA,GAAY;MAAZZ,EAAA,CAAAmB,UAAA,SAAA8Q,GAAA,CAAA5Q,MAAA,CAAY;MAIZrB,EAAA,CAAAY,SAAA,GAAY;MAAZZ,EAAA,CAAAmB,UAAA,SAAA8Q,GAAA,CAAA5Q,MAAA,CAAY;MAgGbrB,EAAA,CAAAY,SAAA,GAA0B;MAA1BZ,EAAA,CAAAmB,UAAA,SAAA8Q,GAAA,CAAA5Q,MAAA,IAAA4Q,GAAA,CAAA1J,UAAA,CAA0B"},"metadata":{},"sourceType":"module","externalDependencies":[]}