{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreError } from '@classes/errors/error';\nimport { CoreUser } from '@features/user/services/user';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreTextUtils } from '@services/utils/text';\nimport { CoreUtils } from '@services/utils/utils';\nimport { Translate } from '@singletons';\nimport { AddonModLesson, AddonModLessonProvider } from '../../services/lesson';\nimport { AddonModLessonHelper } from '../../services/lesson-helper';\nimport { CoreTime } from '@singletons/time';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../../../../../core/components/loading/loading\";\nimport * as i3 from \"../../../../../core/components/progress-bar/progress-bar\";\nimport * as i4 from \"../../../../../core/components/user-avatar/user-avatar\";\nimport * as i5 from \"../../../../../core/directives/format-text\";\nimport * as i6 from \"../../../../../core/directives/user-link\";\nimport * as i7 from \"../../../../../core/directives/collapsible-item\";\nimport * as i8 from \"../../../../../core/directives/content\";\nimport * as i9 from \"../../../../../core/directives/update-non-reactive-attributes\";\nimport * as i10 from \"@angular/forms\";\nimport * as i11 from \"@ionic/angular\";\nimport * as i12 from \"../../../../../core/pipes/format-date\";\nimport * as i13 from \"@ngx-translate/core\";\nfunction AddonModLessonUserRetakePage_div_14_ion_item_7_ion_select_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const retake_r6 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", retake_r6.try);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", retake_r6.label, \" \");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    header: a0\n  };\n};\nfunction AddonModLessonUserRetakePage_div_14_ion_item_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 12)(1, \"ion-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-select\", 13);\n    i0.ɵɵlistener(\"ngModelChange\", function AddonModLessonUserRetakePage_div_14_ion_item_7_Template_ion_select_ngModelChange_4_listener($event) {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r7.selectedRetake = $event);\n    })(\"ionChange\", function AddonModLessonUserRetakePage_div_14_ion_item_7_Template_ion_select_ionChange_4_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r9 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r9.changeRetake(ctx_r9.selectedRetake));\n    });\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵtemplate(7, AddonModLessonUserRetakePage_div_14_ion_item_7_ion_select_option_7_Template, 2, 2, \"ion-select-option\", 14);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 5, \"addon.mod_lesson.attemptheader\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.selectedRetake)(\"cancelText\", i0.ɵɵpipeBind1(5, 7, \"core.cancel\"))(\"interfaceOptions\", i0.ɵɵpureFunction1(11, _c0, i0.ɵɵpipeBind1(6, 9, \"addon.mod_lesson.attemptheader\")));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.student.attempts);\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    $a: a0\n  };\n};\nfunction AddonModLessonUserRetakePage_div_14_ion_list_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list\", 16)(1, \"ion-item\")(2, \"ion-label\", 12)(3, \"ion-grid\", 17)(4, \"ion-row\")(5, \"ion-col\")(6, \"p\", 18);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵtext(10);\n    i0.ɵɵpipe(11, \"translate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"ion-col\")(13, \"p\", 18);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"p\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd()()()()()();\n    i0.ɵɵelementStart(18, \"ion-item\", 12)(19, \"ion-label\")(20, \"p\", 18);\n    i0.ɵɵtext(21);\n    i0.ɵɵpipe(22, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(23, \"p\");\n    i0.ɵɵtext(24);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(25, \"ion-item\", 12)(26, \"ion-label\")(27, \"p\", 18);\n    i0.ɵɵtext(28);\n    i0.ɵɵpipe(29, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(30, \"p\");\n    i0.ɵɵtext(31);\n    i0.ɵɵpipe(32, \"coreFormatDate\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(7);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 9, \"addon.mod_lesson.grade\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(11, 11, \"core.percentagenumber\", i0.ɵɵpureFunction1(22, _c1, ctx_r2.retake.userstats.grade)));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(15, 14, \"addon.mod_lesson.rawgrade\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", ctx_r2.retake.userstats.gradeinfo.earned, \" / \", ctx_r2.retake.userstats.gradeinfo.total, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(22, 16, \"addon.mod_lesson.timetaken\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r2.timeTakenReadable);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(29, 18, \"addon.mod_lesson.completed\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(32, 20, ctx_r2.retake.userstats.completed * 1000));\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ion_item_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 12)(1, \"ion-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 1, \"addon.mod_lesson.notcompleted\"));\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_ion_item_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 12)(1, \"ion-label\")(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 1, \"addon.mod_lesson.didnotanswerquestion\"));\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\", 12)(2, \"ion-grid\", 17)(3, \"ion-row\")(4, \"ion-col\")(5, \"ion-button\", 25);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"ion-col\");\n    i0.ɵɵelement(8, \"p\", 26);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const answer_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", answer_r17[0].buttonText, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", answer_r17[0].content, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_1_ion_badge_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 33);\n    i0.ɵɵelement(1, \"core-format-text\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const answer_r17 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r26 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"component\", ctx_r26.component)(\"componentId\", ctx_r26.lesson == null ? null : ctx_r26.lesson.coursemodule)(\"text\", answer_r17[1])(\"contextInstanceId\", ctx_r26.lesson == null ? null : ctx_r26.lesson.coursemodule)(\"courseId\", ctx_r26.courseId);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_1_ion_badge_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 34);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const answer_r17 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", answer_r17[0].successBadge, \" \");\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    \"addon-mod_lesson-highlight\": a0\n  };\n};\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 28)(1, \"ion-label\")(2, \"p\");\n    i0.ɵɵelement(3, \"core-format-text\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_1_ion_badge_4_Template, 2, 5, \"ion-badge\", 30);\n    i0.ɵɵtemplate(5, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_1_ion_badge_5_Template, 2, 1, \"ion-badge\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"ion-checkbox\", 32);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const answer_r17 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r22 = i0.ɵɵnextContext(5);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c2, answer_r17[0].highlight));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"component\", ctx_r22.component)(\"componentId\", ctx_r22.lesson == null ? null : ctx_r22.lesson.coursemodule)(\"text\", answer_r17[0].content)(\"contextInstanceId\", ctx_r22.lesson == null ? null : ctx_r22.lesson.coursemodule)(\"courseId\", ctx_r22.courseId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", answer_r17[1]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", answer_r17[0].successBadge);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", answer_r17[0].checked)(\"disabled\", true);\n    i0.ɵɵattribute(\"name\", answer_r17[0].name);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_2_ion_badge_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 36);\n    i0.ɵɵelement(1, \"core-format-text\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const answer_r17 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r31 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"component\", ctx_r31.component)(\"componentId\", ctx_r31.lesson == null ? null : ctx_r31.lesson.coursemodule)(\"text\", answer_r17[1])(\"contextInstanceId\", ctx_r31.lesson == null ? null : ctx_r31.lesson.coursemodule)(\"courseId\", ctx_r31.courseId);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 12)(1, \"ion-label\")(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_2_ion_badge_4_Template, 2, 5, \"ion-badge\", 35);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const answer_r17 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(answer_r17[0].value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", answer_r17[1]);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_3_ion_badge_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 36);\n    i0.ɵɵelement(1, \"core-format-text\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const answer_r17 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r34 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"component\", ctx_r34.component)(\"componentId\", ctx_r34.lesson == null ? null : ctx_r34.lesson.coursemodule)(\"text\", answer_r17[1])(\"contextInstanceId\", ctx_r34.lesson == null ? null : ctx_r34.lesson.coursemodule)(\"courseId\", ctx_r34.courseId);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\", 12)(2, \"ion-grid\", 17)(3, \"ion-row\")(4, \"ion-col\")(5, \"p\");\n    i0.ɵɵelement(6, \"core-format-text\", 29);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(7, \"ion-col\")(8, \"p\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(10, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_3_ion_badge_10_Template, 2, 5, \"ion-badge\", 35);\n    i0.ɵɵelementEnd()()()()();\n  }\n  if (rf & 2) {\n    const answer_r17 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r24 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(6);\n    i0.ɵɵproperty(\"component\", ctx_r24.component)(\"componentId\", ctx_r24.lesson == null ? null : ctx_r24.lesson.coursemodule)(\"text\", answer_r17[0].content)(\"contextInstanceId\", ctx_r24.lesson == null ? null : ctx_r24.lesson.coursemodule)(\"courseId\", ctx_r24.courseId);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(answer_r17[0].value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", answer_r17[1]);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_4_ion_badge_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 36);\n    i0.ɵɵelement(1, \"core-format-text\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const answer_r17 = i0.ɵɵnextContext(3).$implicit;\n    const ctx_r37 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"component\", ctx_r37.component)(\"componentId\", ctx_r37.lesson == null ? null : ctx_r37.lesson.coursemodule)(\"text\", answer_r17[1])(\"contextInstanceId\", ctx_r37.lesson == null ? null : ctx_r37.lesson.coursemodule)(\"courseId\", ctx_r37.courseId);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 12)(1, \"ion-label\")(2, \"p\");\n    i0.ɵɵelement(3, \"core-format-text\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_4_ion_badge_4_Template, 2, 5, \"ion-badge\", 35);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const answer_r17 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r25 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"component\", ctx_r25.component)(\"componentId\", ctx_r25.lesson == null ? null : ctx_r25.lesson.coursemodule)(\"text\", answer_r17[0])(\"contextInstanceId\", ctx_r25.lesson == null ? null : ctx_r25.lesson.coursemodule)(\"courseId\", ctx_r25.courseId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", answer_r17[1]);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_1_Template, 7, 13, \"ion-item\", 27);\n    i0.ɵɵtemplate(2, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_2_Template, 5, 2, \"ion-item\", 10);\n    i0.ɵɵtemplate(3, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_3_Template, 11, 7, \"ion-item\", 6);\n    i0.ɵɵtemplate(4, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_4_Template, 5, 6, \"ion-item\", 10);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const answer_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", answer_r17[0].isCheckbox);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", answer_r17[0].isText);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", answer_r17[0].isSelect);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !answer_r17[0].isCheckbox && !answer_r17[0].isText && !answer_r17[0].isSelect);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ion_item_3_ion_badge_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 36);\n    i0.ɵɵelement(1, \"core-format-text\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const answer_r17 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r41 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"component\", ctx_r41.component)(\"componentId\", ctx_r41.lesson == null ? null : ctx_r41.lesson.coursemodule)(\"text\", answer_r17[1])(\"contextInstanceId\", ctx_r41.lesson == null ? null : ctx_r41.lesson.coursemodule)(\"courseId\", ctx_r41.courseId);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ion_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 12)(1, \"ion-label\")(2, \"p\");\n    i0.ɵɵelement(3, \"core-format-text\", 29);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ion_item_3_ion_badge_4_Template, 2, 5, \"ion-badge\", 35);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const answer_r17 = i0.ɵɵnextContext().$implicit;\n    const ctx_r20 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"component\", ctx_r20.component)(\"componentId\", ctx_r20.lesson == null ? null : ctx_r20.lesson.coursemodule)(\"text\", answer_r17[0])(\"contextInstanceId\", ctx_r20.lesson == null ? null : ctx_r20.lesson.coursemodule)(\"courseId\", ctx_r20.courseId);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", answer_r17[1]);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ion_item_1_Template, 9, 3, \"ion-item\", 6);\n    i0.ɵɵtemplate(2, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_Template, 5, 4, \"ng-container\", 6);\n    i0.ɵɵtemplate(3, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ion_item_3_Template, 5, 6, \"ion-item\", 10);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const page_r11 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", page_r11.isContent);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", page_r11.isQuestion);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !page_r11.isContent && !page_r11.isQuestion);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ion_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 12)(1, \"ion-label\")(2, \"p\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵelement(6, \"core-format-text\", 29);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const page_r11 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r15 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 6, \"addon.mod_lesson.response\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"component\", ctx_r15.component)(\"componentId\", ctx_r15.lesson == null ? null : ctx_r15.lesson.coursemodule)(\"text\", page_r11.answerdata.response)(\"contextInstanceId\", ctx_r15.lesson == null ? null : ctx_r15.lesson.coursemodule)(\"courseId\", ctx_r15.courseId);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ion_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 12)(1, \"ion-label\")(2, \"p\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const page_r11 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(page_r11.answerdata.score);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_Template, 4, 3, \"ng-container\", 24);\n    i0.ɵɵtemplate(2, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ion_item_2_Template, 7, 8, \"ion-item\", 10);\n    i0.ɵɵtemplate(3, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ion_item_3_Template, 4, 1, \"ion-item\", 10);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const page_r11 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", page_r11.answerdata.answers);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", page_r11.answerdata.response);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", page_r11.answerdata.score);\n  }\n}\nconst _c3 = function (a0) {\n  return {\n    \"text-dimmed\": a0\n  };\n};\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\", 20)(1, \"ion-card-header\", 12)(2, \"ion-card-title\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(4, \"ion-item\", 12)(5, \"ion-label\")(6, \"p\", 18);\n    i0.ɵɵtext(7);\n    i0.ɵɵpipe(8, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"p\");\n    i0.ɵɵelement(10, \"core-format-text\", 21);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(11, \"ion-item\", 12)(12, \"ion-label\")(13, \"p\", 18);\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(16, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_ion_item_16_Template, 5, 3, \"ion-item\", 10);\n    i0.ɵɵtemplate(17, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_Template, 4, 3, \"div\", 22);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const page_r11 = ctx.$implicit;\n    const ctx_r10 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(16, _c3, page_r11.grayout));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate2(\"\", page_r11.qtype, \": \", page_r11.title, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 12, \"addon.mod_lesson.question\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"component\", ctx_r10.component)(\"componentId\", ctx_r10.lesson == null ? null : ctx_r10.lesson.coursemodule)(\"text\", page_r11.contents)(\"contextInstanceId\", ctx_r10.lesson == null ? null : ctx_r10.lesson.coursemodule)(\"courseId\", ctx_r10.courseId);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(15, 14, \"addon.mod_lesson.answer\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !page_r11.answerdata || !page_r11.answerdata.answers || !page_r11.answerdata.answers.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", page_r11.answerdata && page_r11.answerdata.answers && page_r11.answerdata.answers.length);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_Template, 18, 18, \"ion-card\", 19);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.retake.answerpages);\n  }\n}\nfunction AddonModLessonUserRetakePage_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"ion-item\", 7);\n    i0.ɵɵelement(2, \"core-user-avatar\", 8);\n    i0.ɵɵelementStart(3, \"ion-label\")(4, \"h2\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(6, \"core-progress-bar\", 9);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, AddonModLessonUserRetakePage_div_14_ion_item_7_Template, 8, 13, \"ion-item\", 10);\n    i0.ɵɵtemplate(8, AddonModLessonUserRetakePage_div_14_ion_list_8_Template, 33, 24, \"ion-list\", 11);\n    i0.ɵɵtemplate(9, AddonModLessonUserRetakePage_div_14_ion_item_9_Template, 4, 3, \"ion-item\", 10);\n    i0.ɵɵtemplate(10, AddonModLessonUserRetakePage_div_14_ng_container_10_Template, 2, 1, \"ng-container\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"userId\", ctx_r0.student.id)(\"courseId\", ctx_r0.courseId);\n    i0.ɵɵattribute(\"aria-label\", ctx_r0.student.fullname);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"user\", ctx_r0.student)(\"userId\", ctx_r0.student.id)(\"courseId\", ctx_r0.courseId)(\"linkProfile\", false);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.student.fullname);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"progress\", ctx_r0.student.bestgrade);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.student.attempts && ctx_r0.student.attempts.length > 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.retake && ctx_r0.retake.userstats && ctx_r0.retake.userstats.gradeinfo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.retake && (!ctx_r0.retake.userstats || !ctx_r0.retake.userstats.gradeinfo));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.retake);\n  }\n}\n/**\n * Page that displays a retake made by a certain user.\n */\nexport class AddonModLessonUserRetakePage {\n  constructor() {\n    this.component = AddonModLessonProvider.COMPONENT;\n    this.logView = CoreTime.once(() => this.performLogView());\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    try {\n      this.cmId = CoreNavigator.getRequiredRouteNumberParam('cmId');\n      this.courseId = CoreNavigator.getRequiredRouteNumberParam('courseId');\n      this.userId = CoreNavigator.getRouteNumberParam('userId') || CoreSites.getCurrentSiteUserId();\n      this.retakeNumber = CoreNavigator.getRouteNumberParam('retake');\n    } catch (error) {\n      CoreDomUtils.showErrorModal(error);\n      CoreNavigator.back();\n      return;\n    }\n    // Fetch the data.\n    this.fetchData().finally(() => {\n      this.loaded = true;\n    });\n  }\n  /**\n   * Change the retake displayed.\n   *\n   * @param retakeNumber The new retake number.\n   */\n  changeRetake(retakeNumber) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.loaded = false;\n      try {\n        yield _this.setRetake(retakeNumber);\n        _this.performLogView();\n      } catch (error) {\n        var _this$previousSelecte;\n        _this.selectedRetake = (_this$previousSelecte = _this.previousSelectedRetake) !== null && _this$previousSelecte !== void 0 ? _this$previousSelecte : _this.selectedRetake;\n        CoreDomUtils.showErrorModal(CoreUtils.addDataNotDownloadedError(error, 'Error getting attempt.'));\n      } finally {\n        _this.loaded = true;\n      }\n    })();\n  }\n  /**\n   * Pull to refresh.\n   *\n   * @param refresher Refresher.\n   */\n  doRefresh(refresher) {\n    this.refreshData().finally(() => {\n      refresher === null || refresher === void 0 || refresher.complete();\n    });\n  }\n  /**\n   * Get lesson and retake data.\n   *\n   * @returns Promise resolved when done.\n   */\n  fetchData() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        var _data$students;\n        _this2.lesson = yield AddonModLesson.getLesson(_this2.courseId, _this2.cmId);\n        // Get the retakes overview for all participants.\n        const data = yield AddonModLesson.getRetakesOverview(_this2.lesson.id, {\n          cmId: _this2.cmId\n        });\n        // Search the student.\n        const student = data === null || data === void 0 || (_data$students = data.students) === null || _data$students === void 0 ? void 0 : _data$students.find(student => student.id == _this2.userId);\n        if (!student) {\n          // Student not found.\n          throw new CoreError(Translate.instant('addon.mod_lesson.cannotfinduser'));\n        }\n        if (!student.attempts.length) {\n          // No retakes.\n          throw new CoreError(Translate.instant('addon.mod_lesson.cannotfindattempt'));\n        }\n        student.bestgrade = CoreTextUtils.roundToDecimals(student.bestgrade, 2);\n        student.attempts.forEach(retake => {\n          if (!_this2.selectedRetake && _this2.retakeNumber == retake.try) {\n            // The retake specified as parameter exists. Use it.\n            _this2.selectedRetake = _this2.retakeNumber;\n          }\n          retake.label = AddonModLessonHelper.getRetakeLabel(retake);\n        });\n        if (!_this2.selectedRetake) {\n          // Retake number not specified or not valid, use the last retake.\n          _this2.selectedRetake = student.attempts[student.attempts.length - 1].try;\n        }\n        // Get the profile image of the user.\n        const user = yield CoreUtils.ignoreErrors(CoreUser.getProfile(student.id, _this2.courseId, true));\n        _this2.student = student;\n        _this2.student.profileimageurl = user === null || user === void 0 ? void 0 : user.profileimageurl;\n        yield _this2.setRetake(_this2.selectedRetake);\n        _this2.logView();\n      } catch (error) {\n        CoreDomUtils.showErrorModalDefault(error, 'Error getting data.', true);\n      }\n    })();\n  }\n  /**\n   * Refreshes data.\n   *\n   * @returns Promise resolved when done.\n   */\n  refreshData() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const promises = [];\n      promises.push(AddonModLesson.invalidateLessonData(_this3.courseId));\n      if (_this3.lesson) {\n        promises.push(AddonModLesson.invalidateRetakesOverview(_this3.lesson.id));\n        promises.push(AddonModLesson.invalidateUserRetakesForUser(_this3.lesson.id, _this3.userId));\n      }\n      yield CoreUtils.ignoreErrors(Promise.all(promises));\n      yield _this3.fetchData();\n    })();\n  }\n  /**\n   * Set the retake to view and load its data.\n   *\n   * @param retakeNumber Retake number to set.\n   * @returns Promise resolved when done.\n   */\n  setRetake(retakeNumber) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      _this4.selectedRetake = retakeNumber;\n      const retakeData = yield AddonModLesson.getUserRetake(_this4.lesson.id, retakeNumber, {\n        cmId: _this4.cmId,\n        userId: _this4.userId\n      });\n      _this4.retake = _this4.formatRetake(retakeData);\n      _this4.previousSelectedRetake = _this4.selectedRetake;\n    })();\n  }\n  /**\n   * Format retake data, adding some calculated data.\n   *\n   * @param retakeData Retake data.\n   * @returns Formatted data.\n   */\n  formatRetake(retakeData) {\n    const formattedData = retakeData;\n    if (formattedData.userstats.gradeinfo) {\n      // Completed.\n      formattedData.userstats.grade = CoreTextUtils.roundToDecimals(formattedData.userstats.grade, 2);\n      this.timeTakenReadable = CoreTime.formatTime(formattedData.userstats.timetotake);\n    }\n    // Format pages data.\n    formattedData.answerpages.forEach(page => {\n      if (AddonModLesson.answerPageIsContent(page)) {\n        var _contentPage$answerda;\n        const contentPage = page;\n        contentPage.isContent = true;\n        if ((_contentPage$answerda = contentPage.answerdata) !== null && _contentPage$answerda !== void 0 && _contentPage$answerda.answers) {\n          contentPage.answerdata.answers.forEach(answer => {\n            // Content pages only have 1 valid field in the answer array.\n            answer[0] = AddonModLessonHelper.getContentPageAnswerDataFromHtml(answer[0]);\n          });\n        }\n      } else if (AddonModLesson.answerPageIsQuestion(page)) {\n        var _questionPage$answerd;\n        const questionPage = page;\n        questionPage.isQuestion = true;\n        if ((_questionPage$answerd = questionPage.answerdata) !== null && _questionPage$answerd !== void 0 && _questionPage$answerd.answers) {\n          questionPage.answerdata.answers.forEach(answer => {\n            // Only the first field of the answer array requires to be parsed.\n            answer[0] = AddonModLessonHelper.getQuestionPageAnswerDataFromHtml(answer[0]);\n          });\n        }\n      }\n    });\n    return formattedData;\n  }\n  /**\n   * Log view.\n   */\n  performLogView() {\n    if (!this.lesson) {\n      return;\n    }\n    CoreAnalytics.logEvent({\n      type: CoreAnalyticsEventType.VIEW_ITEM,\n      ws: 'mod_lesson_get_user_attempt',\n      name: this.lesson.name + ': ' + Translate.instant('addon.mod_lesson.detailedstats'),\n      data: {\n        id: this.lesson.id,\n        userid: this.userId,\n        try: this.selectedRetake,\n        category: 'lesson'\n      },\n      url: `/mod/lesson/report.php?id=${this.cmId}&action=reportdetail&userid=${this.userId}&try=${this.selectedRetake}`\n    });\n  }\n}\n_class = AddonModLessonUserRetakePage;\n_class.ɵfac = function AddonModLessonUserRetakePage_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"page-addon-mod-lesson-user-retake\"]],\n  decls: 15,\n  vars: 12,\n  consts: [[\"slot\", \"start\"], [3, \"text\"], [1, \"limited-width\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [4, \"ngIf\"], [\"core-user-link\", \"\", 1, \"ion-text-wrap\", 3, \"userId\", \"courseId\"], [\"slot\", \"start\", 3, \"user\", \"userId\", \"courseId\", \"linkProfile\"], [\"a11yText\", \"addon.mod_lesson.grade\", 3, \"progress\"], [\"class\", \"ion-text-wrap\", 4, \"ngIf\"], [\"class\", \"addon-mod_lesson-userstats\", 4, \"ngIf\"], [1, \"ion-text-wrap\"], [\"interface\", \"action-sheet\", 3, \"ngModel\", \"cancelText\", \"interfaceOptions\", \"ngModelChange\", \"ionChange\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"addon-mod_lesson-userstats\"], [1, \"ion-no-padding\"], [1, \"item-heading\"], [\"class\", \"addon-mod_lesson-answerpage\", 3, \"ngClass\", 4, \"ngFor\", \"ngForOf\"], [1, \"addon-mod_lesson-answerpage\", 3, \"ngClass\"], [\"collapsible-item\", \"\", \"contextLevel\", \"module\", 3, \"component\", \"componentId\", \"text\", \"contextInstanceId\", \"courseId\"], [\"class\", \"addon-mod_lesson-answer\", 4, \"ngIf\"], [1, \"addon-mod_lesson-answer\"], [4, \"ngFor\", \"ngForOf\"], [\"expand\", \"block\", \"fill\", \"outline\", 1, \"ion-text-wrap\", 3, \"disabled\"], [3, \"innerHTML\"], [\"class\", \"ion-text-wrap\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"ion-text-wrap\", 3, \"ngClass\"], [\"contextLevel\", \"module\", 3, \"component\", \"componentId\", \"text\", \"contextInstanceId\", \"courseId\"], [\"color\", \"dark\", \"class\", \"addon-mod_lesson-answer-stats\", 4, \"ngIf\"], [\"color\", \"success\", \"class\", \"addon-mod_lesson-answer-success\", 4, \"ngIf\"], [\"slot\", \"end\", 3, \"ngModel\", \"disabled\"], [\"color\", \"dark\", 1, \"addon-mod_lesson-answer-stats\"], [\"color\", \"success\", 1, \"addon-mod_lesson-answer-success\"], [\"color\", \"dark\", 4, \"ngIf\"], [\"color\", \"dark\"]],\n  template: function AddonModLessonUserRetakePage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n      i0.ɵɵelement(3, \"ion-back-button\", 1);\n      i0.ɵɵpipe(4, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ion-title\")(6, \"h1\");\n      i0.ɵɵtext(7);\n      i0.ɵɵpipe(8, \"translate\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(9, \"ion-content\", 2)(10, \"ion-refresher\", 3);\n      i0.ɵɵlistener(\"ionRefresh\", function AddonModLessonUserRetakePage_Template_ion_refresher_ionRefresh_10_listener($event) {\n        return ctx.doRefresh($event.target);\n      });\n      i0.ɵɵelement(11, \"ion-refresher-content\", 4);\n      i0.ɵɵpipe(12, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"core-loading\", 5);\n      i0.ɵɵtemplate(14, AddonModLessonUserRetakePage_div_14_Template, 11, 13, \"div\", 6);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"text\", i0.ɵɵpipeBind1(4, 6, \"core.back\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 8, \"addon.mod_lesson.detailedstats\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !ctx.loaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"pullingText\", i0.ɵɵpipeBind1(12, 10, \"core.pulltorefresh\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hideUntil\", ctx.loaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.student);\n    }\n  },\n  dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf, i2.CoreLoadingComponent, i3.CoreProgressBarComponent, i4.CoreUserAvatarComponent, i5.CoreFormatTextDirective, i6.CoreUserLinkDirective, i7.CoreCollapsibleItemDirective, i8.CoreContentDirective, i9.CoreUpdateNonReactiveAttributesDirective, i10.NgControlStatus, i10.NgModel, i11.IonBadge, i11.IonButton, i11.IonButtons, i11.IonCard, i11.IonCardHeader, i11.IonCardTitle, i11.IonCheckbox, i11.IonCol, i11.IonContent, i11.IonGrid, i11.IonHeader, i11.IonItem, i11.IonLabel, i11.IonList, i11.IonRefresher, i11.IonRefresherContent, i11.IonRow, i11.IonSelect, i11.IonSelectOption, i11.IonTitle, i11.IonToolbar, i11.BooleanValueAccessor, i11.SelectValueAccessor, i11.IonBackButton, i12.CoreFormatDatePipe, i13.TranslatePipe],\n  styles: [\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n[_nghost-%COMP%]   .button-disabled[_ngcontent-%COMP%] {\\n  opacity: 0.4;\\n}\\n[_nghost-%COMP%]   .addon-mod_lesson-highlight[_ngcontent-%COMP%] {\\n  --background: var(--primary-tint);\\n}\\n[_nghost-%COMP%]   .addon-mod_lesson-highlight[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%], [_nghost-%COMP%]   .addon-mod_lesson-highlight[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] {\\n  color: var(--primary-shade);\\n}\\n[_nghost-%COMP%]   .item-interactive-disabled[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%] {\\n  opacity: 0.5;\\n}\\n[_nghost-%COMP%]   .addon-mod_lesson-answer-stats[_ngcontent-%COMP%] {\\n  -webkit-margin-end: 4px;\\n  margin-inline-end: 4px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuc3RyaW5nLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2lvbmljLm1peGlucy5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2hlbHBlcnMvaW9uaWMuY29tcG9uZW50cy5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2N1c3RvbS5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLmN1c3RvbS5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2dsb2JhbHMudmFyaWFibGVzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvYWRkb25zL21vZC9sZXNzb24vcGFnZXMvdXNlci1yZXRha2UvdXNlci1yZXRha2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBO0FDQUE7Ozs7O0VBQUE7QUNBQTs7Ozs7RUFBQTtBQ0FBOzs7OztFQUFBO0FDQUE7Ozs7OztFQUFBO0FDRUE7Ozs7RUFBQTtBQTRHQTs7RUFBQTtBQzlHQTs7OztFQUFBO0FDQUE7Ozs7RUFBQTtBQStEQTs7OztFQUFBO0FDNURJO0VBQ0ksWUFBQTtBQW1EUjtBQWhESTtFQUNJLGlDQUFBO0FBa0RSO0FBaERRO0VBQ0ksMkJBQUE7QUFrRFo7QUE5Q0k7RUFDSSxZQUFBO0FBZ0RSO0FBN0NJO0VMb1NBLHVCS25TcUM7RUxvU3JDLHNCS3BTcUM7QUFnRHpDIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBBcHAgR2xvYmFsIHZhcmlhYmxlcyBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQbGFjZSBoZXJlIHRoZSBkaWZmZXJlbnQgZmlsZXMgeW91IHNob3VsZCBpbXBvcnQgdG8gdXNlIGdsb2JhbCB2YXJpYWJsZXMuXG4gKi9cblxuJGZvbnQtcGF0aDogXCIuLi9hc3NldHMvZm9udHNcIjtcbiRhc3NldHMtcGF0aDogXCIuLi9hc3NldHNcIjtcblxuQGltcG9ydCBcIi4vaGVscGVycy9oZWxwZXJzLnNjc3NcIjtcbkBpbXBvcnQgXCIuL2dsb2JhbHMuY3VzdG9tLnNjc3NcIjtcbkBpbXBvcnQgXCIuL2dsb2JhbHMudmFyaWFibGVzLnNjc3NcIjtcbiIsIi8qKlxuICogSW1wb3J0ZWQgaW9uaWMgc3RyaW5nIGZ1bmN0aW9ucyBmb3IgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRXh0cmFjdGVkIGZyb21cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy90aGVtZXMvaW9uaWMuZnVuY3Rpb25zLnN0cmluZy5zY3NzXG4gKi9cblxuXG4vLyBTdHJpbmcgVXRpbGl0eSBGdW5jdGlvbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIFN0cmluZyBSZXBsYWNlIEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gc3RyLXJlcGxhY2UoJHN0cmluZywgJHNlYXJjaCwgJHJlcGxhY2U6IFwiXCIpIHtcbiAgJGluZGV4OiBzdHItaW5kZXgoJHN0cmluZywgJHNlYXJjaCk7XG5cbiAgQGlmICRpbmRleCB7XG4gICAgQHJldHVybiBzdHItc2xpY2UoJHN0cmluZywgMSwgJGluZGV4IC0gMSkgKyAkcmVwbGFjZSArIHN0ci1yZXBsYWNlKHN0ci1zbGljZSgkc3RyaW5nLCAkaW5kZXggKyBzdHItbGVuZ3RoKCRzZWFyY2gpKSwgJHNlYXJjaCwgJHJlcGxhY2UpO1xuICB9XG5cbiAgQHJldHVybiAkc3RyaW5nO1xufVxuXG4vLyBTdHJpbmcgU3BsaXQgRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuQGZ1bmN0aW9uIHN0ci1zcGxpdCgkc3RyaW5nLCAkc2VwYXJhdG9yKSB7XG4gIC8vIGVtcHR5IGFycmF5L2xpc3RcbiAgJHNwbGl0LWFycjogKCk7XG4gIC8vIGZpcnN0IGluZGV4IG9mIHNlcGFyYXRvciBpbiBzdHJpbmdcbiAgJGluZGV4OiBzdHItaW5kZXgoJHN0cmluZywgJHNlcGFyYXRvcik7XG4gIC8vIGxvb3AgdGhyb3VnaCBzdHJpbmdcbiAgQHdoaWxlICRpbmRleCAhPSBudWxsIHtcbiAgICAvLyBnZXQgdGhlIHN1YnN0cmluZyBmcm9tIHRoZSBmaXJzdCBjaGFyYWN0ZXIgdG8gdGhlIHNlcGFyYXRvclxuICAgICRpdGVtOiBzdHItc2xpY2UoJHN0cmluZywgMSwgJGluZGV4IC0gMSk7XG4gICAgLy8gcHVzaCBpdGVtIHRvIGFycmF5XG4gICAgJHNwbGl0LWFycjogYXBwZW5kKCRzcGxpdC1hcnIsICRpdGVtKTtcbiAgICAvLyByZW1vdmUgaXRlbSBhbmQgc2VwYXJhdG9yIGZyb20gc3RyaW5nXG4gICAgJHN0cmluZzogc3RyLXNsaWNlKCRzdHJpbmcsICRpbmRleCArIDEpO1xuICAgIC8vIGZpbmQgbmV3IGluZGV4IG9mIHNlcGFyYXRvclxuICAgICRpbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzZXBhcmF0b3IpO1xuICB9XG4gIC8vIGFkZCB0aGUgcmVtYWluaW5nIHN0cmluZyB0byBsaXN0ICh0aGUgbGFzdCBpdGVtKVxuICAkc3BsaXQtYXJyOiBhcHBlbmQoJHNwbGl0LWFyciwgJHN0cmluZyk7XG5cbiAgQHJldHVybiAkc3BsaXQtYXJyO1xufVxuXG5cbi8vIFN0cmluZyBFeHRyYWN0IEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gc3RyLWV4dHJhY3QoJHN0cmluZywgJHN0YXJ0LCAkZW5kKSB7XG4gICRzdGFydC1pbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzdGFydCk7XG5cbiAgQGlmICRzdGFydC1pbmRleCB7XG4gICAgJHBvc3Q6IHN0ci1zbGljZSgkc3RyaW5nLCAkc3RhcnQtaW5kZXggKyBzdHItbGVuZ3RoKCRzdGFydCkpO1xuICAgICRlbmQtaW5kZXg6IHN0ci1pbmRleCgkcG9zdCwgJGVuZCk7XG5cbiAgICBAaWYgJGVuZC1pbmRleCB7XG4gICAgICBAcmV0dXJuIHN0ci1zbGljZSgkcG9zdCwgMSwgJGVuZC1pbmRleCAtIDEpO1xuICAgIH1cbiAgfVxuXG4gIEByZXR1cm4gbnVsbDtcbn1cblxuXG4vLyBTdHJpbmcgQ29udGFpbnMgRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBmdW5jdGlvbiBzdHItY29udGFpbnMoJHN0cmluZywgJG5lZWRsZSkge1xuICBAaWYgKHR5cGUtb2YoJHN0cmluZykgPT0gc3RyaW5nKSB7XG4gICAgQHJldHVybiBzdHItaW5kZXgoJHN0cmluZywgJG5lZWRsZSkgIT0gbnVsbDtcbiAgfVxuXG4gIEByZXR1cm4gZmFsc2U7XG59XG5cblxuLy8gVVJMIEVuY29kZSBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIHVybC1lbmNvZGUoJHZhbCkge1xuICAkc3BhY2VzOiBzdHItcmVwbGFjZSgkdmFsLCBcIiBcIiwgXCIlMjBcIik7XG4gICRlbmNvZGVkOiBzdHItcmVwbGFjZSgkc3BhY2VzLCBcIiNcIiwgXCIlMjNcIik7XG4gIEByZXR1cm4gJGVuY29kZWQ7XG59XG5cblxuLy8gQWRkIFJvb3QgU2VsZWN0b3Jcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBBZGRzIGEgcm9vdCBzZWxlY3RvciB1c2luZyBob3N0IGJhc2VkIG9uIHRoZSBzZWxlY3RvciBwYXNzZWRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBmdW5jdGlvbiBhZGQtcm9vdC1zZWxlY3Rvcigkcm9vdCwgJGFkZEhvc3RTZWxlY3Rvcikge1xuICAkc2VsZWN0b3JzOiBzdHItc3BsaXQoJHJvb3QsIFwiLFwiKTtcblxuICAkbGlzdDogKCk7XG5cbiAgQGVhY2ggJHNlbGVjdG9yIGluICRzZWxlY3RvcnMge1xuICAgIC8vIElmIHRoZSBzZWxlY3RvciBjb250YWlucyA6aG9zdCggaXQgbWVhbnMgaXQgaXMgdGFyZ2V0aW5nIGEgY2xhc3Mgb24gdGhlIGhvc3RcbiAgICAvLyBlbGVtZW50IHNvIHdlIG5lZWQgdG8gY2hhbmdlIGhvdyB3ZSB0YXJnZXQgaXQ6XG4gICAgLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCI6aG9zdCguZml4ZWQpXCIsIFwiW2Rpcj1ydGxdXCIpXG4gICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5maXhlZClcbiAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLmZpeGVkXG4gICAgQGlmIHN0ci1jb250YWlucygkc2VsZWN0b3IsIFwiOmhvc3QoXCIpIHtcbiAgICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3QoLmZpeGVkKVwiLCBcIltkaXI9cnRsXVwiKVxuICAgICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5maXhlZClcbiAgICAgICRzaGFkb3ctZWxlbWVudDogc3RyLXJlcGxhY2UoJHNlbGVjdG9yLCBcIjpob3N0KFwiLCBcIjpob3N0LWNvbnRleHQoI3skYWRkSG9zdFNlbGVjdG9yfSk6aG9zdChcIik7XG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCAkc2hhZG93LWVsZW1lbnQsIGNvbW1hKTtcblxuICAgICAgJG5ldy1lbGVtZW50OiAoKTtcbiAgICAgICRlbGVtZW50czogc3RyLXNwbGl0KCRzZWxlY3RvciwgXCIgXCIpO1xuXG4gICAgICBAZWFjaCAkZWxlbWVudCBpbiAkZWxlbWVudHMge1xuICAgICAgICBAaWYgc3RyLWNvbnRhaW5zKCRlbGVtZW50LCBcIjpob3N0KFwiKSB7XG4gICAgICAgICAgJHNjb3BlZC1lbGVtZW50OiAkZWxlbWVudDtcblxuICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIDpob3N0KCBhbmQgKSBzbyBhbGwgd2UgaGF2ZSBsZWZ0IGlzIHRoZSBjbGFzc1xuICAgICAgICAgIC8vIGluc2lkZSBvZiBpdDpcbiAgICAgICAgICAvLyA6aG9zdCguZml4ZWQpIC0+IC5maXhlZFxuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJHNjb3BlZC1lbGVtZW50LCBcIilcIiwgXCJcIik7XG4gICAgICAgICAgJHNjb3BlZC1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2NvcGVkLWVsZW1lbnQsIFwiOmhvc3QoXCIsIFwiXCIpO1xuXG4gICAgICAgICAgLy8gQWRkIHRoZSBjbGFzcyBiYWNrIGluc2lkZSBvZiBob3N0IHdpdGggdGhlIHJ0bCBzZWxlY3RvcjpcbiAgICAgICAgICAvLyAuZml4ZWQgLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLmZpeGVkXG4gICAgICAgICAgJHNjb3BlZC1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2NvcGVkLWVsZW1lbnQsICRzY29wZWQtZWxlbWVudCwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pI3skc2NvcGVkLWVsZW1lbnR9XCIpO1xuXG4gICAgICAgICAgLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCI6aG9zdCguZml4ZWQpXCIsIFwiW2Rpcj1ydGxdXCIpXG4gICAgICAgICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5maXhlZFxuICAgICAgICAgICRuZXctZWxlbWVudDogYXBwZW5kKCRuZXctZWxlbWVudCwgJHNjb3BlZC1lbGVtZW50LCBzcGFjZSk7XG4gICAgICAgIH0gQGVsc2Uge1xuICAgICAgICAgIC8vIEFkZCBiYWNrIGFueSBzZWxlY3RvcnMgdGhhdCBmb2xsb3dlZCB0aGUgaG9zdCBhZnRlciB0cmFuc2Zvcm1pbmcgdGhlXG4gICAgICAgICAgLy8gZmlyc3Qgc2VsZWN0b3I6XG4gICAgICAgICAgLy8gOmhvc3QoLmZpeGVkKSA6OnNsb3R0ZWQoaW9uLWljb24pXG4gICAgICAgICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKTpob3N0KC5maXhlZCkgOjpzbG90dGVkKGlvbi1pY29uKVxuICAgICAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkuZml4ZWQgOjpzbG90dGVkKGlvbi1pY29uKVxuICAgICAgICAgICRuZXctZWxlbWVudDogYXBwZW5kKCRuZXctZWxlbWVudCwgJGVsZW1lbnQsIHNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCAkbmV3LWVsZW1lbnQsIGNvbW1hKTtcbiAgICAvLyBJZiB0aGUgc2VsZWN0b3IgY29udGFpbnMgOmhvc3Qgd2l0aG91dCBhIHBhcmFudGhlc2VzXG4gICAgLy8gaXQgbWVhbnMgaXQgaXMgdGFyZ2V0aW5nIGp1c3QgdGhlIGhvc3RcbiAgICAvLyBlbGVtZW50IHNvIHdlIGNhbiBjaGFuZ2UgaXQgdG8gbG9vayBmb3IgaG9zdC1jb250ZXh0XG4gICAgLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCI6aG9zdFwiLCBcIltkaXI9cnRsXVwiKVxuICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSlcbiAgICAvLyAtLT4gOmhvc3Q6ZGlyKHJ0bClcbiAgICB9IEBlbHNlIGlmIHN0ci1jb250YWlucygkc2VsZWN0b3IsIFwiOmhvc3RcIikge1xuICAgICAgJG5ldy1lbGVtZW50OiAoKTtcbiAgICAgICRlbGVtZW50czogc3RyLXNwbGl0KCRzZWxlY3RvciwgXCIgXCIpO1xuXG4gICAgICBAZWFjaCAkZWxlbWVudCBpbiAkZWxlbWVudHMge1xuICAgICAgICBAaWYgc3RyLWNvbnRhaW5zKCRlbGVtZW50LCBcIjpob3N0XCIpIHtcbiAgICAgICAgICAvLyBSZXBsYWNlIHRoZSA6aG9zdCB3aXRoIHRoZSBhZGRIb3N0U2VsZWN0b3I6XG4gICAgICAgICAgLy8gOmhvc3QgLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pXG4gICAgICAgICAgJHVwZGF0ZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJGVsZW1lbnQsIFwiOmhvc3RcIiwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pXCIpO1xuXG4gICAgICAgICAgLy8gQWRkIHRoZSBmaW5hbCBzZWxlY3RvciBhZnRlciBhbGwgdHJhbnNmb3JtYXRpb25zOlxuICAgICAgICAgIC8vIDpob3N0IC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKVxuICAgICAgICAgICRuZXctZWxlbWVudDogYXBwZW5kKCRuZXctZWxlbWVudCwgJHVwZGF0ZWQtZWxlbWVudCwgc3BhY2UpO1xuICAgICAgICB9IEBlbHNlIHtcbiAgICAgICAgICAvLyBBZGQgYmFjayBhbnkgc2VsZWN0b3JzIHRoYXQgZm9sbG93ZWQgdGhlIGhvc3QgYWZ0ZXIgdHJhbnNmb3JtaW5nIHRoZVxuICAgICAgICAgIC8vIGZpcnN0IHNlbGVjdG9yOlxuICAgICAgICAgIC8vIDpob3N0IDo6c2xvdHRlZChpb24taWNvbikgLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pIDo6c2xvdHRlZChpb24taWNvbilcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICRlbGVtZW50LCBzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJG5ldy1lbGVtZW50LCBjb21tYSk7XG4gICAgLy8gSWYgdGhlIHNlbGVjdG9yIGRvZXMgbm90IGNvbnRhaW4gaG9zdCBhdCBhbGwgaXQgaXMgZWl0aGVyIGEgc2hhZG93XG4gICAgLy8gb3Igbm9ybWFsIGVsZW1lbnQgc28gYXBwZW5kIGJvdGggdGhlIGFkZEhvc3RTZWxlY3RvciBhbmQgaG9zdC1jb250ZXh0XG4gICAgLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCJpb24tY29tcG9uZW50XCIsIFwiW2Rpcj1ydGxdXCIpXG4gICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSBpb24tY29tcG9uZW50XG4gICAgLy8gLS0+IFtkaXI9cnRsXSBpb24tY29tcG9uZW50XG4gICAgfSBAZWxzZSB7XG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCBcIiN7JGFkZEhvc3RTZWxlY3Rvcn0gI3skc2VsZWN0b3J9XCIsIGNvbW1hKTtcbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KSAjeyRzZWxlY3Rvcn1cIiwgY29tbWEpO1xuICAgIH1cbiAgfVxuXG4gIEByZXR1cm4gJGxpc3Q7XG59XG4iLCIvKipcbiAqIEltcG9ydGVkIGlvbmljIGNvbG9yIGZ1bmN0aW9ucyBmb3IgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRXh0cmFjdGVkIGZyb21cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy90aGVtZXMvaW9uaWMuZnVuY3Rpb25zLmNvbG9yLnNjc3NcbiAqL1xuXG4vLyBHZXRzIHRoZSBhY3RpdmUgY29sb3IncyBjc3MgdmFyaWFibGUgZnJvbSBhIHZhcmlhdGlvbi4gQWxwaGEgaXMgb3B0aW9uYWwuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXhhbXBsZSB1c2FnZTpcbi8vIGN1cnJlbnQtY29sb3IoYmFzZSkgPT4gdmFyKC0taW9uLWNvbG9yLWJhc2UpXG4vLyBjdXJyZW50LWNvbG9yKGNvbnRyYXN0LCAwLjEpID0+IHJnYmEodmFyKC0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYiksIDAuMSlcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gY3VycmVudC1jb2xvcigkdmFyaWF0aW9uLCAkYWxwaGE6IG51bGwpIHtcbiAgQGlmICRhbHBoYSA9PSBudWxsIHtcbiAgICBAcmV0dXJuIHZhcigtLWlvbi1jb2xvci0jeyR2YXJpYXRpb259KTtcbiAgfSBAZWxzZSB7XG4gICAgQHJldHVybiByZ2JhKHZhcigtLWlvbi1jb2xvci0jeyR2YXJpYXRpb259LXJnYiksICN7JGFscGhhfSk7XG4gIH1cbn1cblxuLy8gR2V0cyB0aGUgc3BlY2lmaWMgY29sb3IncyBjc3MgdmFyaWFibGUgZnJvbSB0aGUgbmFtZSBhbmQgdmFyaWF0aW9uLiBBbHBoYS9yZ2IgYXJlIG9wdGlvbmFsLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEV4YW1wbGUgdXNhZ2U6XG4vLyBpb24tY29sb3IocHJpbWFyeSwgYmFzZSkgPT4gdmFyKC0taW9uLWNvbG9yLXByaW1hcnksICMzODgwZmYpXG4vLyBpb24tY29sb3Ioc2Vjb25kYXJ5LCBjb250cmFzdCkgPT4gdmFyKC0taW9uLWNvbG9yLXNlY29uZGFyeS1jb250cmFzdClcbi8vIGlvbi1jb2xvcihwcmltYXJ5LCBiYXNlLCAwLjUpID0+IHJnYmEodmFyKC0taW9uLWNvbG9yLXByaW1hcnktcmdiLCA1NiwgMTI4LCAyNTUpLCAwLjUpXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGlvbi1jb2xvcigkbmFtZSwgJHZhcmlhdGlvbiwgJGFscGhhOiBudWxsLCAkcmdiOiBudWxsKSB7XG4gICR2YWx1ZXM6IG1hcC1nZXQoJGNvbG9ycywgJG5hbWUpO1xuICAkdmFsdWU6IG1hcC1nZXQoJHZhbHVlcywgJHZhcmlhdGlvbik7XG4gICR2YXJpYWJsZTogLS1pb24tY29sb3ItI3skbmFtZX0tI3skdmFyaWF0aW9ufTtcblxuICBAaWYgKCR2YXJpYXRpb24gPT0gYmFzZSkge1xuICAgICR2YXJpYWJsZTogLS1pb24tY29sb3ItI3skbmFtZX07XG4gIH1cblxuICBAaWYgKCRhbHBoYSkge1xuICAgICR2YWx1ZTogY29sb3ItdG8tcmdiLWxpc3QoJHZhbHVlKTtcbiAgICBAcmV0dXJuIHJnYmEodmFyKCN7JHZhcmlhYmxlfS1yZ2IsICR2YWx1ZSksICRhbHBoYSk7XG4gIH1cbiAgQGlmICgkcmdiKSB7XG4gICAgJHZhbHVlOiBjb2xvci10by1yZ2ItbGlzdCgkdmFsdWUpO1xuICAgICR2YXJpYWJsZTogI3skdmFyaWFibGV9LXJnYjtcbiAgfVxuXG4gIEByZXR1cm4gdmFyKCN7JHZhcmlhYmxlfSwgJHZhbHVlKTtcbn1cblxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIGJsYWNrIHRvIGNyZWF0ZSBpdHMgc2hhZGUuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGdldC1jb2xvci1zaGFkZSgkY29sb3IpIHtcbiAgQHJldHVybiBtaXgoIzAwMCwgJGNvbG9yLCAxMiUpO1xufVxuXG4vLyBNaXhlcyBhIGNvbG9yIHdpdGggd2hpdGUgdG8gY3JlYXRlIGl0cyB0aW50LlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBnZXQtY29sb3ItdGludCgkY29sb3IpIHtcbiAgQHJldHVybiBtaXgoI2ZmZiwgJGNvbG9yLCAxMCUpO1xufVxuXG4vLyBDb252ZXJ0cyBhIGNvbG9yIHRvIGEgY29tbWEgc2VwYXJhdGVkIHJnYi5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gY29sb3ItdG8tcmdiLWxpc3QoJGNvbG9yKSB7XG4gIEByZXR1cm4gI3tyZWQoJGNvbG9yKX0sI3tncmVlbigkY29sb3IpfSwje2JsdWUoJGNvbG9yKX07XG59XG4iLCIvKipcbiAqIEltcG9ydGVkIGlvbmljIG1peGlucyBmb3IgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRXh0cmFjdGVkIGZyb21cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy90aGVtZXMvaW9uaWMubWl4aW5zLnNjc3NcbiAqL1xuXG5AbWl4aW4gaW5wdXQtY292ZXIoKSB7XG4gIEBpbmNsdWRlIHBvc2l0aW9uKDAsIG51bGwsIG51bGwsIDApO1xuICBAaW5jbHVkZSBtYXJnaW4oMCk7XG5cbiAgcG9zaXRpb246IGFic29sdXRlO1xuXG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG5cbiAgYm9yZGVyOiAwO1xuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgY3Vyc29yOiBwb2ludGVyO1xuXG4gIGFwcGVhcmFuY2U6IG5vbmU7XG4gIG91dGxpbmU6IG5vbmU7XG5cbiAgJjo6LW1vei1mb2N1cy1pbm5lciB7XG4gICAgYm9yZGVyOiAwO1xuICB9XG59XG5cbkBtaXhpbiB2aXN1YWxseS1oaWRkZW4oKSB7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHJpZ2h0OiAwO1xuICBib3R0b206IDA7XG5cbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcblxuICBtYXJnaW46IDA7XG4gIHBhZGRpbmc6IDA7XG5cbiAgYm9yZGVyOiAwO1xuICBvdXRsaW5lOiAwO1xuICBjbGlwOiByZWN0KDAgMCAwIDApO1xuXG4gIG9wYWNpdHk6IDA7XG4gIG92ZXJmbG93OiBoaWRkZW47XG5cbiAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xuICAtbW96LWFwcGVhcmFuY2U6IG5vbmU7XG59XG5cbkBtaXhpbiB0ZXh0LWluaGVyaXQoKSB7XG4gIGZvbnQtZmFtaWx5OiBpbmhlcml0O1xuICBmb250LXNpemU6IGluaGVyaXQ7XG4gIGZvbnQtc3R5bGU6IGluaGVyaXQ7XG4gIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xuICBsZXR0ZXItc3BhY2luZzogaW5oZXJpdDtcbiAgdGV4dC1kZWNvcmF0aW9uOiBpbmhlcml0O1xuICB0ZXh0LWluZGVudDogaW5oZXJpdDtcbiAgdGV4dC1vdmVyZmxvdzogaW5oZXJpdDtcbiAgdGV4dC10cmFuc2Zvcm06IGluaGVyaXQ7XG4gIHRleHQtYWxpZ246IGluaGVyaXQ7XG4gIHdoaXRlLXNwYWNlOiBpbmhlcml0O1xuICBjb2xvcjogaW5oZXJpdDtcbn1cblxuQG1peGluIGJ1dHRvbi1zdGF0ZSgpIHtcbiAgQGluY2x1ZGUgcG9zaXRpb24oMCwgMCwgMCwgMCk7XG5cbiAgcG9zaXRpb246IGFic29sdXRlO1xuXG4gIGNvbnRlbnQ6IFwiXCI7XG5cbiAgb3BhY2l0eTogMDtcbn1cblxuLy8gRm9udCBzbW9vdGhpbmdcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBtaXhpbiBmb250LXNtb290aGluZygpIHtcbiAgLW1vei1vc3gtZm9udC1zbW9vdGhpbmc6IGdyYXlzY2FsZTtcbiAgLXdlYmtpdC1mb250LXNtb290aGluZzogYW50aWFsaWFzZWQ7XG59XG5cbi8vIEdldCB0aGUga2V5IGZyb20gYSBtYXAgYmFzZWQgb24gdGhlIGluZGV4XG5AZnVuY3Rpb24gaW5kZXgtdG8ta2V5KCRtYXAsICRpbmRleCkge1xuICAka2V5czogbWFwLWtleXMoJG1hcCk7XG5cbiAgQHJldHVybiBudGgoJGtleXMsICRpbmRleCk7XG59XG5cblxuLy8gQnJlYWtwb2ludCBNaXhpbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBCcmVha3BvaW50IHZpZXdwb3J0IHNpemVzIGFuZCBtZWRpYSBxdWVyaWVzLlxuLy9cbi8vIEJyZWFrcG9pbnRzIGFyZSBkZWZpbmVkIGFzIGEgbWFwIG9mIChuYW1lOiBtaW5pbXVtIHdpZHRoKSwgb3JkZXIgZnJvbSBzbWFsbCB0byBsYXJnZTpcbi8vXG4vLyAgICAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpXG4vL1xuLy8gVGhlIG1hcCBkZWZpbmVkIGluIHRoZSBgJHNjcmVlbi1icmVha3BvaW50c2AgZ2xvYmFsIHZhcmlhYmxlIGlzIHVzZWQgYXMgdGhlIGAkYnJlYWtwb2ludHNgIGFyZ3VtZW50IGJ5IGRlZmF1bHQuXG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBNaW5pbXVtIGJyZWFrcG9pbnQgd2lkdGguIE51bGwgZm9yIHRoZSBzbWFsbGVzdCAoZmlyc3QpIGJyZWFrcG9pbnQuXG4vL1xuLy8gICAgPj4gYnJlYWtwb2ludC1taW4oc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICA1NzZweFxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbWluKCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgJG1pbjogbWFwLWdldCgkYnJlYWtwb2ludHMsICRuYW1lKTtcblxuICBAcmV0dXJuIGlmKCRuYW1lICE9IGluZGV4LXRvLWtleSgkYnJlYWtwb2ludHMsIDEpLCAkbWluLCBudWxsKTtcbn1cblxuLy8gUmV0dXJucyBhIGJsYW5rIHN0cmluZyBpZiBzbWFsbGVzdCBicmVha3BvaW50LCBvdGhlcndpc2UgcmV0dXJucyB0aGUgbmFtZSB3aXRoIGEgZGFzaCBpbmZyb250LlxuLy8gVXNlZnVsIGZvciBtYWtpbmcgcmVzcG9uc2l2ZSB1dGlsaXRpZXMuXG4vL1xuLy8gICAgPj4gYnJlYWtwb2ludC1pbmZpeCh4cywgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcbi8vICAgIFwiXCIgIChSZXR1cm5zIGEgYmxhbmsgc3RyaW5nKVxuLy8gICAgPj4gYnJlYWtwb2ludC1pbmZpeChzbSwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcbi8vICAgIFwiLXNtXCJcbkBmdW5jdGlvbiBicmVha3BvaW50LWluZml4KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgQHJldHVybiBpZihicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzKSA9PSBudWxsLCBcIlwiLCBcIi0jeyRuYW1lfVwiKTtcbn1cblxuLy8gTWVkaWEgb2YgYXQgbGVhc3QgdGhlIG1pbmltdW0gYnJlYWtwb2ludCB3aWR0aC4gTm8gcXVlcnkgZm9yIHRoZSBzbWFsbGVzdCBicmVha3BvaW50LlxuLy8gTWFrZXMgdGhlIEBjb250ZW50IGFwcGx5IHRvIHRoZSBnaXZlbiBicmVha3BvaW50IGFuZCB3aWRlci5cbkBtaXhpbiBtZWRpYS1icmVha3BvaW50LXVwKCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgJG1pbjogYnJlYWtwb2ludC1taW4oJG5hbWUsICRicmVha3BvaW50cyk7XG4gIEBpZiAkbWluIHtcbiAgICBAbWVkaWEgKG1pbi13aWR0aDogJG1pbikge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuXG4vLyBOYW1lIG9mIHRoZSBuZXh0IGJyZWFrcG9pbnQsIG9yIG51bGwgZm9yIHRoZSBsYXN0IGJyZWFrcG9pbnQuXG4vL1xuLy8gICAgPj4gYnJlYWtwb2ludC1uZXh0KHNtKVxuLy8gICAgbWRcbi8vICAgID4+IGJyZWFrcG9pbnQtbmV4dChzbSwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcbi8vICAgIG1kXG4vLyAgICA+PiBicmVha3BvaW50LW5leHQoc20sICRicmVha3BvaW50LW5hbWVzOiAoeHMgc20gbWQgbGcgeGwpKVxuLy8gICAgbWRcbkBmdW5jdGlvbiBicmVha3BvaW50LW5leHQoJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cywgJGJyZWFrcG9pbnQtbmFtZXM6IG1hcC1rZXlzKCRicmVha3BvaW50cykpIHtcbiAgJG46IGluZGV4KCRicmVha3BvaW50LW5hbWVzLCAkbmFtZSk7XG4gIEByZXR1cm4gaWYoJG4gPCBsZW5ndGgoJGJyZWFrcG9pbnQtbmFtZXMpLCBudGgoJGJyZWFrcG9pbnQtbmFtZXMsICRuICsgMSksIG51bGwpO1xufVxuXG4vLyBNYXhpbXVtIGJyZWFrcG9pbnQgd2lkdGguIE51bGwgZm9yIHRoZSBzbWFsbGVzdCAoZmlyc3QpIGJyZWFrcG9pbnQuXG4vLyBUaGUgbWF4aW11bSB2YWx1ZSBpcyByZWR1Y2VkIGJ5IDAuMDJweCB0byB3b3JrIGFyb3VuZCB0aGUgbGltaXRhdGlvbnMgb2Zcbi8vIGBtaW4tYCBhbmQgYG1heC1gIHByZWZpeGVzIGFuZCB2aWV3cG9ydHMgd2l0aCBmcmFjdGlvbmFsIHdpZHRocy5cbi8vXG4vLyBTZWUgaHR0cHM6Ly93d3cudzMub3JnL1RSL21lZGlhcXVlcmllcy00LyNtcS1taW4tbWF4XG4vLyBVc2VzIDAuMDJweCByYXRoZXIgdGhhbiAwLjAxcHggdG8gd29yayBhcm91bmQgYSBjdXJyZW50IHJvdW5kaW5nIGJ1ZyBpbiBTYWZhcmkuXHQvLyBVc2VzIDAuMDJweCByYXRoZXIgdGhhbiAwLjAxcHggdG8gd29yayBhcm91bmQgYSBjdXJyZW50IHJvdW5kaW5nIGJ1ZyBpbiBTYWZhcmkuXG4vLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE3ODI2MVx0Ly8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNzgyNjFcbi8vXG4vLyAgICA+PiBicmVha3BvaW50LW1heChtZCwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcbi8vICAgIDc2Ny45OHB4XG5AZnVuY3Rpb24gYnJlYWtwb2ludC1tYXgoJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xuICAkbWF4OiBtYXAtZ2V0KCRicmVha3BvaW50cywgJG5hbWUpO1xuICBAcmV0dXJuIGlmKCRtYXggYW5kICRtYXggPiAwLCAkbWF4IC0gLjAyLCBudWxsKTtcbn1cblxuLy8gTWVkaWEgb2YgYXQgbW9zdCB0aGUgbWF4aW11bSBicmVha3BvaW50IHdpZHRoLiBObyBxdWVyeSBmb3IgdGhlIGxhcmdlc3QgYnJlYWtwb2ludC5cbi8vIE1ha2VzIHRoZSBAY29udGVudCBhcHBseSB0byB0aGUgZ2l2ZW4gYnJlYWtwb2ludCBhbmQgbmFycm93ZXIuXG5AbWl4aW4gbWVkaWEtYnJlYWtwb2ludC1kb3duKCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgJG1heDogYnJlYWtwb2ludC1tYXgoJG5hbWUsICRicmVha3BvaW50cyk7XG4gIEBpZiAkbWF4IHtcbiAgICBAbWVkaWEgKG1heC13aWR0aDogJG1heCkge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAY29udGVudDtcbiAgfVxufVxuXG5cbi8vIFRleHQgRGlyZWN0aW9uIC0gbHRyIC8gcnRsXG4vL1xuLy8gQ1NTIGRlZmF1bHRzIHRvIHVzZSB0aGUgbHRyIGNzcywgYW5kIGFkZHMgW2Rpcj1ydGxdIHNlbGVjdG9yc1xuLy8gdG8gb3ZlcnJpZGUgbHRyIGRlZmF1bHRzLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gbXVsdGktZGlyKCkge1xuICBAY29udGVudDtcblxuICAvLyAkcm9vdDogI3smfTtcbiAgLy8gQGF0LXJvb3QgW2Rpcl0ge1xuICAvLyAgICN7JHJvb3R9IHtcbiAgLy8gICAgIEBjb250ZW50O1xuICAvLyAgIH1cbiAgLy8gfVxufVxuXG5AbWl4aW4gcnRsKCkge1xuICAkcm9vdDogI3smfTtcblxuICAkcm9vdFNwbGl0OiBzdHItc3BsaXQoJHJvb3QsIFwiLFwiKTtcbiAgJHNlbGVjdG9yczogI3thZGQtcm9vdC1zZWxlY3Rvcigkcm9vdCwgXCJbZGlyPXJ0bF1cIil9O1xuICAkc2VsZWN0b3JzU3BsaXQ6IHN0ci1zcGxpdCgkc2VsZWN0b3JzLCBcIixcIik7XG5cbiAgJGhvc3RDb250ZXh0U2VsZWN0b3JzOiAoKTtcbiAgJHJlc3RTZWxlY3RvcnM6ICgpO1xuICAkZGlyU2VsZWN0b3JzOiAoKTtcblxuICAvLyBTZWxlY3RvcnMgbXVzdCBiZSBzcGxpdCBpbnRvIGluZGl2aWR1YWwgc2VsZWN0b3JzIGluIGNhc2UgdGhlIGJyb3dzZXJcbiAgLy8gZG9lc24ndCBzdXBwb3J0IGEgc3BlY2lmaWMgc2VsZWN0b3IuXG4gIC8vIEZvciBleGFtcGxlLCBGaXJlZm94IGFuZCBTYWZhcmkgZG9lc24ndCBzdXBwb3J0IGA6aG9zdC1jb250ZXh0KClgLlxuICAvLyBJZiBhbiBpbnZhbGlkIHNlbGVjdG9yIGlzIHVzZWQsIHRoZW4gdGhlIGVudGlyZSBncm91cCBvZiBzZWxlY3RvcnNcbiAgLy8gd2lsbCBiZSBpZ25vcmVkLlxuICAvLyBAbGluayBodHRwczovL3d3dy53My5vcmcvVFIvc2VsZWN0b3JzLTMvI2dyb3VwaW5nXG4gIEBlYWNoICRzZWxlY3RvciBpbiAkc2VsZWN0b3JzU3BsaXQge1xuICAgIC8vIEdyb3VwIHRoZSBzZWxlY3RvcnMgYmFjayBpbnRvIGEgc2luZ2xlIHNlbGVjdG9yIHRvIG9wdGltaXplIHRoZSBvdXRwdXQuXG4gICAgQGlmIHN0ci1pbmRleCgkc2VsZWN0b3IsIFwiOmhvc3QtY29udGV4dFwiKSB7XG4gICAgICAkaG9zdENvbnRleHRTZWxlY3RvcnM6IGFwcGVuZCgkaG9zdENvbnRleHRTZWxlY3RvcnMsICRzZWxlY3RvciwgY29tbWEpO1xuICAgIH0gQGVsc2Uge1xuICAgICAgLy8gR3JvdXAgdGhlIHNlbGVjdG9ycyBiYWNrIGludG8gYSBzaW5nbGUgc2VsZWN0b3IgdG8gb3B0aW1pemUgdGhlIG91dHB1dC5cbiAgICAgICRyZXN0U2VsZWN0b3JzOiBhcHBlbmQoJHJlc3RTZWxlY3RvcnMsICRzZWxlY3RvciwgY29tbWEpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFN1cHBvcnRlZCBieSBDaHJvbWUuXG4gIEBpZiBsZW5ndGgoJGhvc3RDb250ZXh0U2VsZWN0b3JzKSA+IDAge1xuICAgIEBhdC1yb290ICN7JGhvc3RDb250ZXh0U2VsZWN0b3JzfSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cblxuICAvLyBTdXBwb3J0ZWQgYnkgYWxsIGJyb3dzZXJzLlxuICBAaWYgbGVuZ3RoKCRyZXN0U2VsZWN0b3JzKSA+IDAge1xuICAgIEBhdC1yb290ICN7JHJlc3RTZWxlY3RvcnN9IHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfVxuXG4gIC8vIElmIGJyb3dzZXIgY2FuIHN1cHBvcnQgYDpkaXIoKWAsIHRoZW4gYWRkIHRoZSBgOmRpcigpYCBzZWxlY3RvcnMuXG4gIC8vIEBzdXBwb3J0cyBzZWxlY3Rvcig6ZGlyKHJ0bCkpIHsgLy8gQCBJTVBPVEFOVCBOT1RFOiBUaGlzIGhhcyBiZWVuIHJlbW92ZWQgYmVjYXVzZSBzZWxlY3RvciBmdW5jdGlvbiBpcyBub3Qgc3VwcG9ydGVkIGluIGN1cnJlbnQgU0NTU1xuICAvLyBBZGRpbmcgOmRpcigpIGluIGNhc2UgdGhlIGJyb3dzZXIgZG9lc24ndCBzdXBwb3J0IGA6aG9zdC1jb250ZXh0KClgIGFuZCBkb2VzIHN1cHBvcnQgYDpkaXIoKWAuXG4gIC8vIGA6aG9zdC1jb250ZXh0KClgIGlzIGFkZGVkOlxuICAvLyAtIHRocm91Z2ggdGhlIGBhZGQtcm9vdC1zZWxlY3RvcigpYCBmdW5jdGlvbi5cbiAgLy8gLSBmaXJzdCBzbyB0aGF0IGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgOmRpcigpYC5cbiAgLy8gRm9yIGV4YW1wbGUsXG4gIC8vIC0gRmlyZWZveCBkb2Vzbid0IHN1cHBvcnQgYDpob3N0LWNvbnRleHQoKWAsIGJ1dCBkb2VzIHN1cHBvcnQgYDpkaXIoKWAuXG4gIC8vIC0gU2FmYXJpIGRvZXNuJ3Qgc3VwcG9ydCBgOmhvc3QtY29udGV4dCgpYCwgYnV0IFNhZmFyaSAxNi40KyBzdXBwb3J0cyBgOmRpcigpYFxuICAvLyBAbGluayBodHRwczovL3dlYmtpdC5vcmcvYmxvZy8xMzk2Ni93ZWJraXQtZmVhdHVyZXMtaW4tc2FmYXJpLTE2LTQvXG4gIEBlYWNoICRzZWxlY3RvciBpbiAkcm9vdFNwbGl0IHtcbiAgICAkZGlyU2VsZWN0b3I6IFwiI3skc2VsZWN0b3J9OmRpcihydGwpXCI7XG4gICAgLy8gR3JvdXAgdGhlIHNlbGVjdG9ycyBiYWNrIGludG8gYSBzaW5nbGUgc2VsZWN0b3IgdG8gb3B0aW1pemUgdGhlIG91dHB1dC5cbiAgICAkZGlyU2VsZWN0b3JzOiBhcHBlbmQoJGRpclNlbGVjdG9ycywgJGRpclNlbGVjdG9yLCBjb21tYSk7XG4gIH1cblxuICAvLyBTdXBwb3J0ZWQgYnkgRmlyZWZveC5cbiAgQGlmIGxlbmd0aCgkZGlyU2VsZWN0b3JzKSA+IDAge1xuICAgIEBhdC1yb290ICN7JGRpclNlbGVjdG9yc30ge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9XG4gIC8vfVxufVxuXG5AbWl4aW4gbHRyKCkge1xuICBAY29udGVudDtcbn1cblxuXG4vLyBTVkcgQmFja2dyb3VuZCBJbWFnZSBNaXhpblxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdmdcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBzdmctYmFja2dyb3VuZC1pbWFnZSgkc3ZnLCAkZmxpcC1ydGw6IGZhbHNlKSB7XG4gICR1cmw6IHVybC1lbmNvZGUoJHN2Zyk7XG4gICR2aWV3Qm94OiBzdHItc3BsaXQoc3RyLWV4dHJhY3QoJHN2ZywgXCJ2aWV3Qm94PSdcIiwgXCInXCIpLCBcIiBcIik7XG5cbiAgQGlmICRmbGlwLXJ0bCAhPSB0cnVlIG9yICR2aWV3Qm94ID09IG51bGwge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCN7JHVybH1cIik7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICAkdHJhbnNmb3JtOiBcInRyYW5zZm9ybT0ndHJhbnNsYXRlKCN7bnRoKCR2aWV3Qm94LCAzKX0sIDApIHNjYWxlKC0xLCAxKSdcIjtcbiAgICAkZmxpcHBlZC11cmw6ICRzdmc7XG4gICAgJGZsaXBwZWQtdXJsOiBzdHItcmVwbGFjZSgkZmxpcHBlZC11cmwsIFwiPHBhdGhcIiwgXCI8cGF0aCAjeyR0cmFuc2Zvcm19XCIpO1xuICAgICRmbGlwcGVkLXVybDogc3RyLXJlcGxhY2UoJGZsaXBwZWQtdXJsLCBcIjxsaW5lXCIsIFwiPGxpbmUgI3skdHJhbnNmb3JtfVwiKTtcbiAgICAkZmxpcHBlZC11cmw6IHN0ci1yZXBsYWNlKCRmbGlwcGVkLXVybCwgXCI8cG9seWdvblwiLCBcIjxwb2x5Z29uICN7JHRyYW5zZm9ybX1cIik7XG4gICAgJGZsaXBwZWQtdXJsOiB1cmwtZW5jb2RlKCRmbGlwcGVkLXVybCk7XG5cbiAgICBAaW5jbHVkZSBsdHIgKCkge1xuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsI3skdXJsfVwiKTtcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsI3skZmxpcHBlZC11cmx9XCIpO1xuICAgIH1cbiAgfVxufVxuXG4vLyBBZGQgcHJvcGVydHkgaG9yaXpvbnRhbFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwcm9wZXJ0eS1ob3Jpem9udGFsKCRwcm9wLCAkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xuICBAaWYgJHN0YXJ0ID09IDAgYW5kICRlbmQgPT0gMCB7XG4gICAgI3skcHJvcH0tbGVmdDogJHN0YXJ0O1xuICAgICN7JHByb3B9LXJpZ2h0OiAkZW5kO1xuXG4gIH0gQGVsc2Uge1xuICAgIC13ZWJraXQtI3skcHJvcH0tc3RhcnQ6ICRzdGFydDtcbiAgICAjeyRwcm9wfS1pbmxpbmUtc3RhcnQ6ICRzdGFydDtcbiAgICAtd2Via2l0LSN7JHByb3B9LWVuZDogJGVuZDtcbiAgICAjeyRwcm9wfS1pbmxpbmUtZW5kOiAkZW5kO1xuICB9XG59XG5cbi8vIEFkZCBwcm9wZXJ0eSBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkcHJvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gQHBhcmFtIHtib29sZWFufSAkY29udGVudCBpbmNsdWRlIGNvbnRlbnQgb3IgdXNlIGRlZmF1bHRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwcm9wZXJ0eSgkcHJvcCwgJHRvcCwgJGVuZDogJHRvcCwgJGJvdHRvbTogJHRvcCwgJHN0YXJ0OiAkZW5kKSB7XG4gIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwoJHByb3AsICRzdGFydCwgJGVuZCk7XG4gICN7JHByb3B9LXRvcDogJHRvcDtcbiAgI3skcHJvcH0tYm90dG9tOiAkYm90dG9tO1xufVxuXG4vLyBBZGQgcGFkZGluZyBob3Jpem9udGFsXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHBhZGRpbmctaG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKHBhZGRpbmcsICRzdGFydCwgJGVuZCk7XG59XG5cbi8vIEFkZCBwYWRkaW5nIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHBhZGRpbmcoJHRvcCwgJGVuZDogJHRvcCwgJGJvdHRvbTogJHRvcCwgJHN0YXJ0OiAkZW5kKSB7XG4gIEBpbmNsdWRlIHByb3BlcnR5KHBhZGRpbmcsICR0b3AsICRlbmQsICRib3R0b20sICRzdGFydCk7XG59XG5cbi8vIEFkZCBtYXJnaW4gaG9yaXpvbnRhbFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBtYXJnaW4taG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKG1hcmdpbiwgJHN0YXJ0LCAkZW5kKTtcbn1cblxuLy8gQWRkIG1hcmdpbiBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBtYXJnaW4oJHRvcCwgJGVuZDogJHRvcCwgJGJvdHRvbTogJHRvcCwgJHN0YXJ0OiAkZW5kKSB7XG4gIEBpbmNsdWRlIHByb3BlcnR5KG1hcmdpbiwgJHRvcCwgJGVuZCwgJGJvdHRvbSwgJHN0YXJ0KTtcbn1cblxuLy8gQWRkIHBvc2l0aW9uIGhvcml6b250YWxcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnQgLSBhbW91bnQgdG8gcG9zaXRpb24gc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kIC0gYW1vdW50IHRvIGxlZnQ6IDA7IGVuZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHBvc2l0aW9uLWhvcml6b250YWwoJHN0YXJ0OiBudWxsLCAkZW5kOiBudWxsKSB7XG4gIEBpZiAkc3RhcnQgPT0gJGVuZCB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgbGVmdDogJHN0YXJ0O1xuICAgICAgcmlnaHQ6ICRlbmQ7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAYXQtcm9vdCB7XG4gICAgICBAc3VwcG9ydHMgKGluc2V0LWlubGluZS1zdGFydDogMCkge1xuICAgICAgICAmIHtcbiAgICAgICAgICBpbnNldC1pbmxpbmUtc3RhcnQ6ICRzdGFydDtcbiAgICAgICAgICBpbnNldC1pbmxpbmUtZW5kOiAkZW5kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gVE9ETyBGVy0zNzY2XG4gICAgQGF0LXJvb3Qge1xuICAgICAgQHN1cHBvcnRzIG5vdCAoaW5zZXQtaW5saW5lLXN0YXJ0OiAwKSB7XG4gICAgICAgICYge1xuICAgICAgICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgICAgICAgIGxlZnQ6ICRzdGFydDtcbiAgICAgICAgICAgIHJpZ2h0OiAkZW5kO1xuICAgICAgICAgIH1cbiAgICAgICAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICAgICAgICBsZWZ0OiB1bnNldDtcbiAgICAgICAgICAgIHJpZ2h0OiB1bnNldDtcblxuICAgICAgICAgICAgbGVmdDogJGVuZDtcbiAgICAgICAgICAgIHJpZ2h0OiAkc3RhcnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIEFkZCBwb3NpdGlvbiBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwb3NpdGlvbigkdG9wOiBudWxsLCAkZW5kOiBudWxsLCAkYm90dG9tOiBudWxsLCAkc3RhcnQ6IG51bGwpIHtcbiAgQGluY2x1ZGUgcG9zaXRpb24taG9yaXpvbnRhbCgkc3RhcnQsICRlbmQpO1xuICB0b3A6ICR0b3A7XG4gIGJvdHRvbTogJGJvdHRvbTtcbn1cblxuLy8gQWRkIGJvcmRlciBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBib3JkZXIoJHRvcCwgJGVuZDogJHRvcCwgJGJvdHRvbTogJHRvcCwgJHN0YXJ0OiAkZW5kKSB7XG4gIEBpbmNsdWRlIHByb3BlcnR5KGJvcmRlciwgJHRvcCwgJGVuZCwgJGJvdHRvbSwgJHN0YXJ0KTtcbn1cblxuLy8gQWRkIGJvcmRlciByYWRpdXMgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcC1zdGFydFxuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3AtZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbS1lbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tLXN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gYm9yZGVyLXJhZGl1cygkdG9wLXN0YXJ0LCAkdG9wLWVuZDogJHRvcC1zdGFydCwgJGJvdHRvbS1lbmQ6ICR0b3Atc3RhcnQsICRib3R0b20tc3RhcnQ6ICR0b3AtZW5kKSB7XG4gIEBpZiAkdG9wLXN0YXJ0ID09ICR0b3AtZW5kIGFuZCAkdG9wLXN0YXJ0ID09ICRib3R0b20tZW5kIGFuZCAkdG9wLXN0YXJ0ID09ICRib3R0b20tc3RhcnQge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIGJvcmRlci1yYWRpdXM6ICR0b3Atc3RhcnQ7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAkdG9wLXN0YXJ0O1xuICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6ICR0b3AtZW5kO1xuICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6ICRib3R0b20tZW5kO1xuICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogJGJvdHRvbS1zdGFydDtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAkdG9wLWVuZDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAkdG9wLXN0YXJ0O1xuICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6ICRib3R0b20tc3RhcnQ7XG4gICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAkYm90dG9tLWVuZDtcbiAgICB9XG4gIH1cbn1cblxuLy8gQWRkIGRpcmVjdGlvbiBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZGlyIC0gRGlyZWN0aW9uIG9uIExUUlxuQG1peGluIGRpcmVjdGlvbigkZGlyKSB7XG4gICRvdGhlci1kaXI6IG51bGw7XG5cbiAgQGlmICRkaXIgPT0gbHRyIHtcbiAgICAkb3RoZXItZGlyOiBydGw7XG4gIH0gQGVsc2Uge1xuICAgICRvdGhlci1kaXI6IGx0cjtcbiAgfVxuXG4gIEBpbmNsdWRlIGx0cigpIHtcbiAgICBkaXJlY3Rpb246ICRkaXI7XG4gIH1cbiAgQGluY2x1ZGUgcnRsKCkge1xuICAgIGRpcmVjdGlvbjogJG90aGVyLWRpcjtcbiAgfVxufVxuXG4vLyBBZGQgZmxvYXQgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHNpZGVcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZGVjb3JhdG9yIC0gIWltcG9ydGFudFxuQG1peGluIGZsb2F0KCRzaWRlLCAkZGVjb3JhdG9yOiBudWxsKSB7XG4gIEBpZiAkc2lkZSA9PSBzdGFydCB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgZmxvYXQ6IGxlZnQgJGRlY29yYXRvcjtcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgZmxvYXQ6IHJpZ2h0ICRkZWNvcmF0b3I7XG4gICAgfVxuICB9IEBlbHNlIGlmICRzaWRlID09IGVuZCB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgZmxvYXQ6IHJpZ2h0ICRkZWNvcmF0b3I7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGZsb2F0OiBsZWZ0ICRkZWNvcmF0b3I7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBmbG9hdDogJHNpZGUgJGRlY29yYXRvcjtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIGJhY2tncm91bmQtcG9zaXRpb24oJGhvcml6b250YWwsICRob3Jpem9udGFsLWFtb3VudDogbnVsbCwgJHZlcnRpY2FsOiBudWxsLCAkdmVydGljYWwtYW1vdW50OiBudWxsKSB7XG4gIEBpZiAkaG9yaXpvbnRhbCA9PSBzdGFydCBvciAkaG9yaXpvbnRhbCA9PSBlbmQge1xuICAgICRob3Jpem9udGFsLWx0cjogbnVsbDtcbiAgICAkaG9yaXpvbnRhbC1ydGw6IG51bGw7XG4gICAgQGlmICRob3Jpem9udGFsID09IHN0YXJ0IHtcbiAgICAgICRob3Jpem9udGFsLWx0cjogbGVmdDtcbiAgICAgICRob3Jpem9udGFsLXJ0bDogcmlnaHQ7XG4gICAgfSBAZWxzZSB7XG4gICAgICAkaG9yaXpvbnRhbC1sdHI6IHJpZ2h0O1xuICAgICAgJGhvcml6b250YWwtcnRsOiBsZWZ0O1xuICAgIH1cblxuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246ICRob3Jpem9udGFsLWx0ciAkaG9yaXpvbnRhbC1hbW91bnQgJHZlcnRpY2FsICR2ZXJ0aWNhbC1hbW91bnQ7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246ICRob3Jpem9udGFsLXJ0bCAkaG9yaXpvbnRhbC1hbW91bnQgJHZlcnRpY2FsICR2ZXJ0aWNhbC1hbW91bnQ7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAkaG9yaXpvbnRhbCAkaG9yaXpvbnRhbC1hbW91bnQgJHZlcnRpY2FsICR2ZXJ0aWNhbC1hbW91bnQ7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiB0cmFuc2Zvcm0tb3JpZ2luKCR4LWF4aXMsICR5LWF4aXM6IG51bGwpIHtcbiAgQGlmICR4LWF4aXMgPT0gc3RhcnQge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgJHktYXhpcztcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgJHktYXhpcztcbiAgICB9XG4gIH0gQGVsc2UgaWYgJHgtYXhpcyA9PSBlbmQge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0ICR5LWF4aXM7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGxlZnQgJHktYXhpcztcbiAgICB9XG4gIH0gQGVsc2UgaWYgJHgtYXhpcyA9PSBsZWZ0IG9yICR4LWF4aXMgPT0gcmlnaHQge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46ICR4LWF4aXMgJHktYXhpcztcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46ICR4LWF4aXMgJHktYXhpcztcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogY2FsYygxMDAlIC0gI3skeC1heGlzfSkgJHktYXhpcztcbiAgICB9XG4gIH1cbn1cblxuLy8gQWRkIHRyYW5zZm9ybSBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdHJhbnNmb3JtcyAtIGNvbW1hIHNlcGFyYXRlZCBsaXN0IG9mIHRyYW5zZm9ybXNcbkBtaXhpbiB0cmFuc2Zvcm0oJHRyYW5zZm9ybXMuLi4pIHtcbiAgJGV4dHJhOiBudWxsO1xuXG4gICR4OiBudWxsO1xuICAkbHRyLXRyYW5zbGF0ZTogbnVsbDtcbiAgJHJ0bC10cmFuc2xhdGU6IG51bGw7XG5cbiAgQGVhY2ggJHRyYW5zZm9ybSBpbiAkdHJhbnNmb3JtcyB7XG4gICAgQGlmIChzdHItaW5kZXgoJHRyYW5zZm9ybSwgdHJhbnNsYXRlM2QpKSB7XG4gICAgICAkdHJhbnNmb3JtOiBzdHItcmVwbGFjZSgkdHJhbnNmb3JtLCAndHJhbnNsYXRlM2QoJyk7XG4gICAgICAkdHJhbnNmb3JtOiBzdHItcmVwbGFjZSgkdHJhbnNmb3JtLCAnKScpO1xuXG4gICAgICAkY29vcmRpbmF0ZXM6IHN0ci1zcGxpdCgkdHJhbnNmb3JtLCAnLCcpO1xuXG4gICAgICAkeDogbnRoKCRjb29yZGluYXRlcywgMSk7XG4gICAgICAkeTogbnRoKCRjb29yZGluYXRlcywgMik7XG4gICAgICAkejogbnRoKCRjb29yZGluYXRlcywgMyk7XG5cbiAgICAgICRsdHItdHJhbnNsYXRlOiB0cmFuc2xhdGUzZCgkeCwgJHksICR6KTtcbiAgICAgICRydGwtdHJhbnNsYXRlOiB0cmFuc2xhdGUzZChjYWxjKC0xICogI3skeH0pLCAkeSwgJHopO1xuICAgIH0gQGVsc2Uge1xuICAgICAgQGlmICRleHRyYSA9PSBudWxsIHtcbiAgICAgICAgJGV4dHJhOiAkdHJhbnNmb3JtO1xuICAgICAgfSBAZWxzZSB7XG4gICAgICAgICRleHRyYTogJGV4dHJhICR0cmFuc2Zvcm07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgQGlmICR4ID09ICcwJyBvciAkeCA9PSBudWxsIHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICB0cmFuc2Zvcm06ICRsdHItdHJhbnNsYXRlICRleHRyYTtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIHRyYW5zZm9ybTogJGx0ci10cmFuc2xhdGUgJGV4dHJhO1xuICAgIH1cblxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIHRyYW5zZm9ybTogJHJ0bC10cmFuc2xhdGUgJGV4dHJhO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqXG4gKiBJbXBvcnRlZCBpb25pYyBtaXhpbnMgZm9yIFNDU1MgZnJvbSBkaWZmZXJlbnQgY29tcG9uZW50c1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogRXh0cmFjdGVkIGZyb21cbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy9jb21wb25lbnRzL2dyaWQvZ3JpZC5taXhpbnMuc2Nzc1xuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL2NvbXBvbmVudHMvaXRlbS9pdGVtLm1peGlucy5zY3NzXG4gKi9cblxuLy8gUmVzcG9uc2l2ZSBNaXhpbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cblxuLy8gQ3JlYXRlcyBhIGZpeGVkIHdpZHRoIGZvciB0aGUgZ3JpZCBiYXNlZCBvbiB0aGUgc2NyZWVuIHNpemVcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gbWFrZS1ncmlkLXdpZHRocygkd2lkdGhzOiAkZ3JpZC13aWR0aHMsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xuICBAZWFjaCAkYnJlYWtwb2ludCwgJHdpZHRoIGluICR3aWR0aHMge1xuICAgIEBpbmNsdWRlIG1lZGlhLWJyZWFrcG9pbnQtdXAoJGJyZWFrcG9pbnQsICRicmVha3BvaW50cykge1xuICAgICAgd2lkdGg6ICR3aWR0aDtcbiAgICB9XG4gIH1cblxuICBtYXgtd2lkdGg6IDEwMCU7XG59XG5cblxuLy8gQWRkcyBwYWRkaW5nIHRvIHRoZSBlbGVtZW50IGJhc2VkIG9uIGJyZWFrcG9pbnRzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIG1ha2UtYnJlYWtwb2ludC1wYWRkaW5nKCRwYWRkaW5ncykge1xuICBAZWFjaCAkYnJlYWtwb2ludCBpbiBtYXAta2V5cygkcGFkZGluZ3MpIHtcbiAgICBAaW5jbHVkZSBtZWRpYS1icmVha3BvaW50LXVwKCRicmVha3BvaW50KSB7XG4gICAgICAkcGFkZGluZzogbWFwLWdldCgkcGFkZGluZ3MsICRicmVha3BvaW50KTtcblxuICAgICAgQGluY2x1ZGUgcGFkZGluZygkcGFkZGluZyk7XG4gICAgfVxuICB9XG59XG5cblxuLy8gSXRlbSBNaXhpbnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBtaXhpbiBpdGVtLXB1c2gtc3ZnLXVybCgkZmlsbCkge1xuICAkaXRlbS1kZXRhaWwtcHVzaC1zdmc6IFwiPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMiAyMCc+PHBhdGggZD0nTTIsMjBsLTItMmw4LThMMCwybDItMmwxMCwxMEwyLDIweicgZmlsbD0nI3skZmlsbH0nLz48L3N2Zz5cIjtcblxuICBAaW5jbHVkZSBzdmctYmFja2dyb3VuZC1pbWFnZSgkaXRlbS1kZXRhaWwtcHVzaC1zdmcsIHRydWUpO1xufVxuIiwiQHVzZSBcInNhc3M6bWF0aFwiIGFzIG1hdGg7XG5cbi8qKlxuICogQXBwIGN1c3RvbSBtaXhpbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBsYWNlIGhlcmUgb3VyIGN1c3RvbSBtaXhpbnMuXG4gKi9cblxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIGJsYWNrIHRvIGNyZWF0ZSBpdHMgc2hhZGUuXG4vLyBEZWZhdWx0IHRvIGJvb3RzdHJhcCBsZXZlbCA2LlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBnZXQtY29sb3Itc2hhZGUtcGVyY2VudCgkY29sb3IsICRwZXJjZW50OiA0OCUpIHtcbiAgICBAcmV0dXJuIG1peCgjMDAwLCAkY29sb3IsICRwZXJjZW50KTtcbn1cblxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIHdoaXRlIHRvIGNyZWF0ZSBpdHMgdGludC5cbi8vIERlZmF1bHQgdG8gYm9vdHN0cmFwIGxldmVsIC0xMC5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXRpbnQtcGVyY2VudCgkY29sb3IsICRwZXJjZW50OiA4MCUpIHtcbiAgICBAcmV0dXJuIG1peCgjZmZmLCAkY29sb3IsICRwZXJjZW50KTtcbn1cblxuLy8gSW9uaWMgQ29sb3JzXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gR2VuZXJhdGVzIHRoZSBjb2xvciBjbGFzc2VzIGFuZCB2YXJpYWJsZXMgYmFzZWQgb24gdGhlXG4vLyBjb2xvcnMgbWFwXG5cbkBtaXhpbiBnZW5lcmF0ZS1jb2xvcigkY29sb3ItbmFtZSwgJGNvbG9ycywgJHRoZW1lKSB7XG4gICAgJGNvbG9yLXRoZW1lczogbWFwLWdldCgkY29sb3JzLCAkY29sb3ItbmFtZSk7XG4gICAgJGJhc2U6IG1hcC1nZXQoJGNvbG9yLXRoZW1lcywgJHRoZW1lKTtcblxuICAgIEBpZiAkdGhlbWUgPT0gJ2RhcmsnIHtcbiAgICAgICAgJGJhc2U6IG1peChtYXAtZ2V0KCRjb2xvci10aGVtZXMsICdsaWdodCcpLCB3aGl0ZSwgODAlKSAhZGVmYXVsdDtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBnZW5lcmF0ZS1jb2xvci12YXJpYW50cygkY29sb3ItbmFtZSwgJGJhc2UpO1xufVxuXG5AbWl4aW4gZ2VuZXJhdGUtY29sb3ItdmFyaWFudHMoJGNvbG9yLW5hbWUsICRiYXNlKSB7XG4gICAgJGNvbnRyYXN0OiBnZXRfY29udHJhc3RfY29sb3IoJGJhc2UpO1xuICAgICRzaGFkZTogZ2V0LWNvbG9yLXNoYWRlLXBlcmNlbnQoJGJhc2UpO1xuICAgICR0aW50OiBnZXQtY29sb3ItdGludC1wZXJjZW50KCRiYXNlKTtcblxuICAgIC0tI3skY29sb3ItbmFtZX06ICN7JGJhc2V9O1xuICAgIC0tI3skY29sb3ItbmFtZX0tc2hhZGU6ICN7JHNoYWRlfTtcbiAgICAtLSN7JGNvbG9yLW5hbWV9LXRpbnQ6ICN7JHRpbnR9O1xuICAgIC0tI3skY29sb3ItbmFtZX0tY29udHJhc3Q6ICN7JGNvbnRyYXN0fTtcblxuICAgIC8vIEludGVybmFsIGlvbmljIHVzZSBvbmx5LlxuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9OiB2YXIoLS0jeyRjb2xvci1uYW1lfSk7XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tYmFzZTogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9KTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1yZ2I6ICN7Y29sb3ItdG8tcmdiLWxpc3QoJGJhc2UpfTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdDogI3skY29udHJhc3R9O1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0LXJnYjogI3tjb2xvci10by1yZ2ItbGlzdCgkY29udHJhc3QpfTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1zaGFkZTogI3skc2hhZGV9O1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXRpbnQ6ICN7JHRpbnR9O1xuXG4gICAgLmlvbi1jb2xvci0jeyRjb2xvci1uYW1lfSB7XG4gICAgICAgIC0taW9uLWNvbG9yOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0pO1xuICAgICAgICAtLWlvbi1jb2xvci1iYXNlOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tYmFzZSk7XG4gICAgICAgIC0taW9uLWNvbG9yLXJnYjogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXJnYik7XG4gICAgICAgIC0taW9uLWNvbG9yLWNvbnRyYXN0OiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3QpO1xuICAgICAgICAtLWlvbi1jb2xvci1jb250cmFzdC1yZ2I6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdC1yZ2IpO1xuICAgICAgICAtLWlvbi1jb2xvci1zaGFkZTogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXNoYWRlKTtcbiAgICAgICAgLS1pb24tY29sb3ItdGludDogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXRpbnQpO1xuICAgIH1cbn1cblxuQG1peGluIGNvcmUtZm9jdXMoKSB7XG4gICAgb3V0bGluZTogbm9uZTtcbiAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgJjo6YWZ0ZXIge1xuICAgICAgICBAaW5jbHVkZSBwb3NpdGlvbigwLCAwLCAwLCAwKTtcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgICBjb250ZW50OiBcIlwiO1xuICAgICAgICBvcGFjaXR5OiAxO1xuICAgICAgICB6LWluZGV4OiAxO1xuICAgICAgICBAaW5jbHVkZSBjb3JlLWZvY3VzLXN0eWxlKCk7XG4gICAgfVxufVxuXG5AbWl4aW4gY29yZS1mb2N1cy1zdHlsZSgpIHtcbiAgICBib3gtc2hhZG93OiBpbnNldCAwIDAgdmFyKC0tYTExeS1mb2N1cy13aWR0aCkgMXB4IHZhcigtLWExMXktZm9jdXMtY29sb3IpO1xuICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlci1yYWRpdXMpO1xuICAgIC8vIFRoaWNrZXIgb3B0aW9uOlxuICAgIC8vIGJvcmRlcjogdmFyKC0tYTExeS1mb2N1cy13aWR0aCkgc29saWQgdmFyKC0tYTExeS1mb2N1cy1jb2xvcik7XG59XG5cbkBtaXhpbiBjb3JlLXRyYW5zaXRpb24oJHByb3BlcnRpZXM6IGFsbCwgJGR1cmF0aW9uOiA1MDBtcywgJHRpbWluZy1mdW5jdGlvbjogZWFzZS1pbi1vdXQpIHtcbiAgICAkdHJhbnNpdGlvbnM6ICgpO1xuICAgIEBlYWNoICRwcm9wZXJ0eSBpbiAkcHJvcGVydGllcyB7XG4gICAgICAkdHJhbnNpdGlvbnM6IGFwcGVuZCgkdHJhbnNpdGlvbnMsICRwcm9wZXJ0eSAkZHVyYXRpb24gJHRpbWluZy1mdW5jdGlvbiwgY29tbWEpO1xuICAgIH1cblxuICAgIC13ZWJraXQtdHJhbnNpdGlvbjogJHRyYW5zaXRpb25zO1xuICAgIHRyYW5zaXRpb246ICR0cmFuc2l0aW9ucztcbn1cblxuQG1peGluIHNyLW9ubHkoKSB7XG4gICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgIHdpZHRoOiAxcHg7XG4gICAgaGVpZ2h0OiAxcHg7XG4gICAgcGFkZGluZzogMDtcbiAgICBtYXJnaW46IC0xcHg7XG4gICAgb3ZlcmZsb3c6IGhpZGRlbjtcbiAgICBjbGlwOiByZWN0KDAsIDAsIDAsIDApO1xuICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7XG4gICAgYm9yZGVyOiAwO1xufVxuXG4vKipcbiAqIFNhbWUgYXMgaXRlbS1wdXNoLXN2Zy11cmwgYnV0IGFkbWl0cyBmbGlwLXJ0bFxuICovXG5AbWl4aW4gcHVzaC1hcnJvdy1jb2xvcigkZmlsbDogNjI2MjYyLCAkZmxpcC1ydGw6IGZhbHNlKSB7XG4gICAgJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnOiBcIjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTIgMjAnPjxwYXRoIGQ9J00yLDIwbC0yLTJsOC04TDAsMmwyLTJsMTAsMTBMMiwyMHonIGZpbGw9JyN7JGZpbGx9Jy8+PC9zdmc+XCI7XG5cbiAgICBAaW5jbHVkZSBzdmctYmFja2dyb3VuZC1pbWFnZSgkaXRlbS1kZXRhaWwtcHVzaC1zdmcsICRmbGlwLXJ0bCk7XG59XG5cbkBtaXhpbiBib3JkZXItc3RhcnQoJHB4LCAkdHlwZTogbnVsbCwgJGNvbG9yOiBudWxsKSB7XG4gICAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChib3JkZXIsICRweCAkdHlwZSAkY29sb3IsIG51bGwpO1xufVxuXG5AbWl4aW4gYm9yZGVyLWVuZCgkcHgsICR0eXBlOiBudWxsLCAkY29sb3I6IG51bGwpIHtcbiAgICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKGJvcmRlciwgbnVsbCwgJHB4ICR0eXBlICRjb2xvcik7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtYm9yZGVyLXN0YXJ0KCRweCwgJHR5cGUsICRjb2xvcikge1xuICAgICRzYWZlLWFyZWEtcG9zaXRpb246IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHB4fSk7XG5cbiAgICBAaW5jbHVkZSBib3JkZXItc3RhcnQoJHNhZmUtYXJlYS1wb3NpdGlvbiwgJHR5cGUsICRjb2xvcik7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtYm9yZGVyLWVuZCgkcHgsICR0eXBlLCAkY29sb3IpIHtcbiAgICAkc2FmZS1hcmVhLXBvc2l0aW9uOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skcHh9KTtcblxuICAgIEBpbmNsdWRlIGJvcmRlci1lbmQoJHNhZmUtYXJlYS1wb3NpdGlvbiwgJHR5cGUsICRjb2xvcik7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtbWFyZ2luLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgICAkc2FmZS1hcmVhLWVuZDogbnVsbDtcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBudWxsO1xuXG4gICAgQGlmICgkZW5kKSB7XG4gICAgICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XG4gICAgfVxuICAgIEBpZiAoJHN0YXJ0KSB7XG4gICAgICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLW1hcmdpbi1zdGFydCgkc3RhcnQsICRlbmQpIHtcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xuXG4gICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJGVuZCk7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtbWFyZ2luLWVuZCgkc3RhcnQsICRlbmQpIHtcbiAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuXG4gICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwoJHN0YXJ0LCAkc2FmZS1hcmVhLWVuZCk7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtcGFkZGluZy1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IG51bGw7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogbnVsbDtcblxuICAgIEBpZiAoJGVuZCkge1xuICAgICAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuICAgIH1cbiAgICBAaWYgKCRzdGFydCkge1xuICAgICAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xuICAgIH1cblxuICAgIEBpbmNsdWRlIHBhZGRpbmctaG9yaXpvbnRhbCgkc2FmZS1hcmVhLXN0YXJ0LCAkc2FmZS1hcmVhLWVuZCk7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtcGFkZGluZy1zdGFydCgkc3RhcnQsICRlbmQpIHtcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xuXG4gICAgQGluY2x1ZGUgcGFkZGluZy1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRlbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBhZGRpbmctZW5kKCRzdGFydCwgJGVuZCkge1xuICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XG5cbiAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoJHN0YXJ0LCAkc2FmZS1hcmVhLWVuZCk7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtcG9zaXRpb24oJHRvcDogbnVsbCwgJGVuZDogbnVsbCwgJGJvdHRvbTogbnVsbCwgJHN0YXJ0OiBudWxsKSB7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcbiAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuXG4gICAgQGluY2x1ZGUgcG9zaXRpb24oJHRvcCwgJHNhZmUtYXJlYS1lbmQsICRib3R0b20sICRzYWZlLWFyZWEtc3RhcnQpO1xufVxuXG5AbWl4aW4gY29yZS1oZWFkaW5ncygpIHtcbiAgICBoMSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMjZweDtcbiAgICB9XG4gICAgaDIsIC5pdGVtLWhlYWRpbmcge1xuICAgICAgICBmb250LXNpemU6IDI0cHg7XG4gICAgfVxuICAgIGgzIHtcbiAgICAgICAgZm9udC1zaXplOiAyMnB4O1xuICAgIH1cbiAgICBoNCB7XG4gICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICB9XG4gICAgaDUge1xuICAgICAgICBmb250LXNpemU6IDE4cHg7XG4gICAgfVxuICAgIGg2IHtcbiAgICAgICAgZm9udC1zaXplOiAxNnB4O1xuICAgIH1cbn1cblxuQG1peGluIGRhcmttb2RlKCkge1xuICAgICRyb290OiAjeyZ9O1xuXG4gICAgQGF0LXJvb3QgI3thZGQtcm9vdC1zZWxlY3Rvcigkcm9vdCwgXCJodG1sLmRhcmtcIil9IHtcbiAgICAgICAgQGNvbnRlbnQ7XG4gICAgfVxufVxuXG5AbWl4aW4gaG9yaXpvbnRhbF9zY3JvbGxfaXRlbSgkd2lkdGgsICRtaW4td2lkdGgsICRtYXgtd2lkdGgpIHtcbiAgICBmbGV4OiAwIDAgJHdpZHRoO1xuICAgIG1pbi13aWR0aDogJG1pbi13aWR0aDtcbiAgICBtYXgtd2lkdGg6ICRtYXgtd2lkdGg7XG4gICAgYWxpZ24tc2VsZjogc3RyZXRjaDtcbiAgICBkaXNwbGF5OiBibG9jaztcblxuICAgIGlvbi1jYXJkIHtcbiAgICAgICAgLS12ZXJ0aWNhbC1tYXJnaW46IDEwcHg7XG4gICAgICAgIC0taG9yaXpvbnRhbC1tYXJnaW46IDEwcHg7XG5cbiAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIHZhcigtLWhvcml6b250YWwtbWFyZ2luKSAtIHZhcigtLWhvcml6b250YWwtbWFyZ2luKSk7XG4gICAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gdmFyKC0tdmVydGljYWwtbWFyZ2luKSAtIHZhcigtLXZlcnRpY2FsLW1hcmdpbikpO1xuICAgICAgICBtYXJnaW46IHZhcigtLXZlcnRpY2FsLW1hcmdpbikgdmFyKC0taG9yaXpvbnRhbC1tYXJnaW4pO1xuXG4gICAgICAgIEBtZWRpYSAobWF4LXdpZHRoOiAzNjBweCkge1xuICAgICAgICAgICAgLS1ob3Jpem9udGFsLW1hcmdpbjogNnB4O1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBDb2xvciBtaXhpbnMuXG5AZnVuY3Rpb24gZ2V0X2JyaWdodG5lc3MoJGNvbG9yKSB7XG4gICAgQHJldHVybiBtYXRoLmRpdihyZWQoJGNvbG9yKSArIGdyZWVuKCRjb2xvcikgKyBibHVlKCRjb2xvciksIDMpO1xufVxuXG4vLyBHZXQgdGhlIGJldHRlciBjb2xvciBjb250cmFzdCB1c2luZyBXQ0FHIGFsZ29yeXRobS5cbkBmdW5jdGlvbiBnZXRfY29udHJhc3RfY29sb3IoJGNvbG9yKSB7XG4gICAgJGx1bWlhbmNlOiBsdW1pbmFuY2UoJGNvbG9yKTtcblxuICAgIC8vIFdoaXRlIGx1bWlhbmNlIGlzIDEuXG4gICAgJHdoaXRlQ29udHJhc3Q6IG1hdGguZGl2KCRsdW1pYW5jZSArIDAuMDUsIDEgKyAwLjA1KTtcbiAgICAvLyBXaGl0ZSBsdW1pYW5jZSBpcyAwLlxuICAgICRibGFja0NvbnRyYXN0OiBtYXRoLmRpdigwLjA1LCAkbHVtaWFuY2UgKyAwLjA1KTtcblxuICAgIEByZXR1cm4gaWYoJHdoaXRlQ29udHJhc3QgPCAkYmxhY2tDb250cmFzdCwgd2hpdGUsIGJsYWNrKTtcbn1cblxuLy8gQ29sb3IgY29udHJhc3QgdXNpbmcgeWlxIGFwcm94aW1hdGlvbiB3aXRoIDE1MCB0aHJlc2hvbGQuXG5AZnVuY3Rpb24gZ2V0X2NvbnRyYXN0X2NvbG9yX3lpcSgkY29sb3IsICRkYXJrOiBibGFjaywgJGxpZ2h0OiB3aGl0ZSkge1xuICAgICRyOiByZWQoJGNvbG9yKTtcbiAgICAkZzogZ3JlZW4oJGNvbG9yKTtcbiAgICAkYjogYmx1ZSgkY29sb3IpO1xuXG4gICAgJHlpcTogbWF0aC5kaXYoKCRyICogMjk5KSArICgkZyAqIDU4NykgKyAoJGIgKiAxMTQpLCAxMDAwKTtcblxuICAgIEByZXR1cm4gaWYoJHlpcSA+PSAxMjgsICRkYXJrLCAkbGlnaHQpO1xufVxuXG4vLyBXQ0FHIGNvbnRyYXN0IGFsZ29yaXRobVxuQGZ1bmN0aW9uIGNoZWNrLWNvbnRyYXN0KCRmb3JlZ3JvdW5kLCAkYmFja2dyb3VuZCkge1xuICAgICRmb3JlZ3JvdW5kTHVtaWFuY2U6IGx1bWluYW5jZSgkZm9yZWdyb3VuZCk7XG4gICAgJGJhY2tncm91bmRMdW1pbmFuY2U6IGx1bWluYW5jZSgkYmFja2dyb3VuZCk7XG5cbiAgICBAaWYgKCRiYWNrZ3JvdW5kTHVtaW5hbmNlIDwgJGZvcmVncm91bmRMdW1pYW5jZSkge1xuICAgICAgICBAcmV0dXJuIG1hdGguZGl2KCRiYWNrZ3JvdW5kTHVtaW5hbmNlICsgMC4wNSwgJGZvcmVncm91bmRMdW1pYW5jZSArIDAuMDUpO1xuICAgIH0gQGVsc2Uge1xuICAgICAgICBAcmV0dXJuIG1hdGguZGl2KCRmb3JlZ3JvdW5kTHVtaWFuY2UgKyAwLjA1LCAkYmFja2dyb3VuZEx1bWluYW5jZSArIDAuMDUpO1xuICAgIH1cbn1cblxuQGZ1bmN0aW9uIGx1bWluYW5jZSgkY29sb3IpIHtcbiAgICAkcjogcmVkKCRjb2xvcik7XG4gICAgJGc6IGdyZWVuKCRjb2xvcik7XG4gICAgJGI6IGJsdWUoJGNvbG9yKTtcblxuICAgICRyOiBjb21wb25lbnQtbHVtaW5hbmNlKCRyKTtcbiAgICAkZzogY29tcG9uZW50LWx1bWluYW5jZSgkZyk7XG4gICAgJGI6IGNvbXBvbmVudC1sdW1pbmFuY2UoJGIpO1xuXG4gICAgQHJldHVybiAkciAqIDAuMjEyNiArICRnICogMC43MTUyICsgJGIgKiAwLjA3MjI7XG59XG5cbkBmdW5jdGlvbiBjb21wb25lbnQtbHVtaW5hbmNlKCR2YWx1ZSkge1xuICAgICR2YWx1ZTogbWF0aC5kaXYoJHZhbHVlLCAyNTUpO1xuXG4gICAgQGlmICgkdmFsdWUgPD0gMC4wMzkyOCkge1xuICAgICAgICBAcmV0dXJuIG1hdGguZGl2KCR2YWx1ZSwgMTIuOTIpO1xuICAgIH0gQGVsc2Uge1xuICAgICAgICBAcmV0dXJuIG1hdGgucG93KG1hdGguZGl2KCR2YWx1ZSArIDAuMDU1LCAxLjA1NSksIDIuNCk7XG4gICAgfVxufVxuIiwiLypcbiAqIEFwcCBDdXN0b20gQXBwIHZhcmlhYmxlcyBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQbGFjZSBoZXJlIGFsbCBjdXN0b20gYXBwIHZhcmlhYmxlcy5cbiAqL1xuIiwiLypcbiAqIEFwcCBHbG9iYWwgdmFyaWFibGVzIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBsYWNlIGhlcmUgYWxsIGdsb2JhbCB2YXJpYWJsZXMuXG4gKi9cblxuJHdoaXRlOiAgICAgICAjZmZmZmZmICFkZWZhdWx0O1xuJGdyYXktMTAwOiAgICAjZjhmOWZhICFkZWZhdWx0O1xuJGdyYXktMjAwOiAgICAjZTllY2VmICFkZWZhdWx0O1xuJGdyYXktMzAwOiAgICAjZGVlMmU2ICFkZWZhdWx0OyAvLyBTdHJva2VcbiRncmF5LTQwMDogICAgI2NlZDRkYSAhZGVmYXVsdDtcbiRncmF5LTUwMDogICAgIzhmOTU5ZSAhZGVmYXVsdDsgLy8gU3Ryb2tlIG9uIGlucHV0c1xuJGdyYXktNjAwOiAgICAjNmE3MzdiICFkZWZhdWx0O1xuJGdyYXktNzAwOiAgICAjNDk1MDU3ICFkZWZhdWx0O1xuJGdyYXktODAwOiAgICAjMzQzYTQwICFkZWZhdWx0O1xuJGdyYXktOTAwOiAgICAjMjgyODI4ICFkZWZhdWx0OyAvLyBDb3B5IHRleHRcbiRibGFjazogICAgICAgIzAwMDAwMCAhZGVmYXVsdDsgLy8gQXZvaWQgdXNhZ2VcblxuJGJsdWU6ICAgICAgICAjMGY2Y2JmICFkZWZhdWx0O1xuJGN5YW46ICAgICAgICAjMDA4MTk2ICFkZWZhdWx0OyAvLyBOb3QgdXNlZC5cbiRncmVlbjogICAgICAgIzM1N2EzMiAhZGVmYXVsdDtcbiRyZWQ6ICAgICAgICAgI2NhMzEyMCAhZGVmYXVsdDtcbiR5ZWxsb3c6ICAgICAgI2YwYWQ0ZSAhZGVmYXVsdDtcblxuJGJyYW5kLWNvbG9yOiAjZjk4MDEyICFkZWZhdWx0O1xuXG4kdGV4dC1jb2xvcjogICAgICAgICAgICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7XG4kdGV4dC1jb2xvci1yZ2I6ICAgICAgICAgICBjb2xvci10by1yZ2ItbGlzdCgkdGV4dC1jb2xvcikgIWRlZmF1bHQ7XG4kdGV4dC1jb2xvci1kYXJrOiAgICAgICAgICAkd2hpdGUgIWRlZmF1bHQ7XG4kdGV4dC1jb2xvci1kYXJrLXJnYjogICAgICBjb2xvci10by1yZ2ItbGlzdCgkdGV4dC1jb2xvci1kYXJrKSAhZGVmYXVsdDtcblxuJGJhY2tncm91bmQtY29sb3I6ICAgICAgICAgICR3aGl0ZSAhZGVmYXVsdDtcbiRiYWNrZ3JvdW5kLWNvbG9yLXJnYjogICAgICBjb2xvci10by1yZ2ItbGlzdCgkYmFja2dyb3VuZC1jb2xvcikgIWRlZmF1bHQ7XG4kYmFja2dyb3VuZC1jb2xvci1kYXJrOiAgICAgJGdyYXktOTAwICFkZWZhdWx0OyAvLyAjMWExYTFhXG4kYmFja2dyb3VuZC1jb2xvci1kYXJrLXJnYjogY29sb3ItdG8tcmdiLWxpc3QoJGJhY2tncm91bmQtY29sb3ItZGFyaykgIWRlZmF1bHQ7XG5cbiRpb24taXRlbS1iYWNrZ3JvdW5kOiAgICAgICR3aGl0ZSAhZGVmYXVsdDtcbiRpb24taXRlbS1iYWNrZ3JvdW5kLXJnYjogIGNvbG9yLXRvLXJnYi1saXN0KCRpb24taXRlbS1iYWNrZ3JvdW5kKSAhZGVmYXVsdDtcbiRpb24taXRlbS1iYWNrZ3JvdW5kLWRhcms6ICRncmF5LTkwMCAhZGVmYXVsdDtcbiRpb24taXRlbS1iYWNrZ3JvdW5kLWRhcmstcmdiOiBjb2xvci10by1yZ2ItbGlzdCgkaW9uLWl0ZW0tYmFja2dyb3VuZC1kYXJrKSAhZGVmYXVsdDtcblxuJHByaW1hcnk6ICAgICRicmFuZC1jb2xvciAhZGVmYXVsdDtcbiRzZWNvbmRhcnk6ICAkZ3JheS0zMDAgIWRlZmF1bHQ7XG4kZGFuZ2VyOiAgICAgJHJlZCAhZGVmYXVsdDtcbiR3YXJuaW5nOiAgICAkeWVsbG93ICFkZWZhdWx0O1xuJHN1Y2Nlc3M6ICAgICRncmVlbiAhZGVmYXVsdDtcbiRpbmZvOiAgICAgICAkYmx1ZSAhZGVmYXVsdDtcbiRsaWdodDogICAgICAkZ3JheS0xMDAgIWRlZmF1bHQ7XG4kbWVkaXVtOiAgICAgJGdyYXktNzAwICFkZWZhdWx0O1xuJGRhcms6ICAgICAgICRncmF5LTkwMCAhZGVmYXVsdDtcblxuJGNvbG9yczogIChcbiAgICBwcmltYXJ5OiAobGlnaHQ6ICRwcmltYXJ5LCBkYXJrOiAkcHJpbWFyeSksXG4gICAgc2Vjb25kYXJ5OiAobGlnaHQ6ICRzZWNvbmRhcnksIGRhcms6ICRncmF5LTcwMCksXG4gICAgc3VjY2VzczogKGxpZ2h0OiAkc3VjY2VzcyksXG4gICAgd2FybmluZzogKGxpZ2h0OiAkd2FybmluZyksXG4gICAgZGFuZ2VyOiAgKGxpZ2h0OiAkZGFuZ2VyKSxcbiAgICBpbmZvOiAobGlnaHQ6ICRpbmZvKSxcbiAgICBsaWdodDogKGxpZ2h0OiAkbGlnaHQsIGRhcms6ICRkYXJrKSxcbiAgICBtZWRpdW06IChsaWdodDogJG1lZGl1bSwgZGFyazogJGdyYXktMjAwKSxcbiAgICBkYXJrOiAobGlnaHQ6ICRkYXJrLCBkYXJrOiAkbGlnaHQpLFxuKSAhZGVmYXVsdDtcblxuLyoqXG4gKiBMYXlvdXQgQnJlYWtwb2ludHNcbiAqXG4gKiBodHRwczovL2lvbmljZnJhbWV3b3JrLmNvbS9kb2NzL2xheW91dC9ncmlkI2RlZmF1bHQtYnJlYWtwb2ludHNcbiAqL1xuXG4vLyBUaGUgbWluaW11bSBkaW1lbnNpb25zIGF0IHdoaWNoIHlvdXIgbGF5b3V0IHdpbGwgY2hhbmdlLFxuLy8gYWRhcHRpbmcgdG8gZGlmZmVyZW50IHNjcmVlbiBzaXplcywgZm9yIHVzZSBpbiBtZWRpYSBxdWVyaWVzXG4kc2NyZWVuLWJyZWFrcG9pbnRzOiAoXG4gICAgeHM6IDBweCxcbiAgICBzbTogNTc2cHgsXG4gICAgbWQ6IDc2OHB4LFxuICAgIGxnOiA5OTJweCxcbiAgICB0YWJsZXQ6IDk5MnB4LFxuICAgIHhsOiAxMjAwcHhcbikgIWRlZmF1bHQ7XG5cbiRjb3JlLWNvdXJzZS1pbWFnZS1iYWNrZ3JvdW5kOiAjODFlY2VjLCAjNzRiOWZmLCAjYTI5YmZlLCAjZGZlNmU5LCAjMDBiODk0LCAjMDk4NGUzLCAjYjJiZWMzLCAjZmRjYjZlLCAjZmQ3OWE4LCAjNmM1Y2U3ICFkZWZhdWx0O1xuJGNvcmUtZGQtcXVlc3Rpb24tY29sb3JzOiAjRkZGRkZGLCAjQjBDNERFLCAjRENEQ0RDLCAjRDhCRkQ4LCAjODdDRUZBLCAjREFBNTIwLCAjRkZENzAwLCAjRjBFNjhDICFkZWZhdWx0O1xuJGNvcmUtdGV4dC1oaWdodGxpZ2h0LWJhY2tncm91bmQtY29sb3I6IGxpZ2h0ZW4oJGJsdWUsIDQwJSkgIWRlZmF1bHQ7XG5cbiRjb3JlLWZpeGVkLXVybDogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1kYXNoYm9hcmQtbG9nbzogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1hbHdheXMtc2hvdy1tYWluLW1lbnU6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtZm9ybWF0LXRleHQtbmV2ZXItc2hvcnRlbjogZmFsc2UgIWRlZmF1bHQ7XG5cbiRjb3JlLWhpZGUtY291cnNlaW1hZ2Utb24tY291cnNlOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWhpZGUtcHJvZ3Jlc3Mtb24tY291cnNlOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWhpZGUtcHJvZ3Jlc3Mtb24tc2VjdGlvbi1zZWxlY3RvcjogZmFsc2UgIWRlZmF1bHQ7XG5cbiRjb3JlLWNvdXJzZS1oaWRlLXRodW1iLW9uLWNhcmRzOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWNvdXJzZS10aHVtYi1vbi1jYXJkcy1iYWNrZ3JvdW5kOiBudWxsICFkZWZhdWx0O1xuJGNvcmUtY291cnNlLWhpZGUtcHJvZ3Jlc3Mtb24tY2FyZHM6IGZhbHNlICFkZWZhdWx0O1xuXG4vLyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIGxvZ2luIHBhZ2UuXG4kY29yZS1sb2dpbi1idXR0b24tb3V0bGluZTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1idXR0b24tb3V0bGluZS1kYXJrOiAkY29yZS1sb2dpbi1idXR0b24tb3V0bGluZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWxvYWRpbmctY29sb3I6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbG9naW4tbG9hZGluZy1jb2xvci1kYXJrOiAkdGV4dC1jb2xvci1kYXJrICFkZWZhdWx0O1xuJGNvcmUtbG9naW4taGlkZS1mb3Jnb3QtcGFzc3dvcmQ6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbG9naW4taGlkZS1uZWVkLWhlbHA6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbG9naW4taGlkZS1xcmNvZGU6IGZhbHNlICFkZWZhdWx0O1xuXG4vLyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIG1vcmUgcGFnZS4gKGRlcHJlY2F0ZWQgb24gNC4wKVxuJGNvcmUtbW9yZS1oaWRlLXNpdGVpbmZvOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLW1vcmUtaGlkZS1zaXRlbmFtZTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1tb3JlLWhpZGUtc2l0ZXVybDogZmFsc2UgIWRlZmF1bHQ7XG5cbi8vIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgdXNlciBwYWdlLlxuJGNvcmUtdXNlci1oaWRlLXNpdGVpbmZvOiAkY29yZS1tb3JlLWhpZGUtc2l0ZWluZm8gIWRlZmF1bHQ7XG4kY29yZS11c2VyLWhpZGUtc2l0ZW5hbWU6ICRjb3JlLW1vcmUtaGlkZS1zaXRlbmFtZSAhZGVmYXVsdDtcbiRjb3JlLXVzZXItaGlkZS1zaXRldXJsOiAkY29yZS1tb3JlLWhpZGUtc2l0ZXVybCAhZGVmYXVsdDtcblxuLy8gQWN0aXZpdHkgaWNvbiBiYWNrZ3JvdW5kIGNvbG9ycy5cbiRhY3Rpdml0eS1pY29uLWNvbG9yczogKFxuICAgIGFkbWluaXN0cmF0aW9uOiAjNWQ2M2Y2LFxuICAgIGFzc2Vzc21lbnQ6ICNlYjY2YTIsXG4gICAgY29sbGFib3JhdGlvbjogI2Y3NjM0ZCxcbiAgICBjb21tdW5pY2F0aW9uOiAjMTFhNjc2LFxuICAgIGNvbnRlbnQ6ICMzOTliZTIsXG4gICAgaW50ZXJmYWNlOiAjYTM3OGZmXG4pICFkZWZhdWx0O1xuXG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY2F0ZWdvcnk6ICM4ZTI0YWEgIWRlZmF1bHQ7XG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY291cnNlOiAkcmVkICFkZWZhdWx0O1xuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWdyb3VwOiAkeWVsbG93ICFkZWZhdWx0O1xuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXVzZXI6ICRibHVlICFkZWZhdWx0O1xuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXNpdGU6ICRncmVlbiAhZGVmYXVsdDtcblxuLy8gQ2FsZW5kYXIgZXZlbnQgY2F0ZWdvcnkgYmFja2dyb3VuZCBjb2xvcnMuXG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY29sb3JzOiAoXG4gICAgY2F0ZWdvcnk6ICRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jYXRlZ29yeSxcbiAgICBjb3Vyc2U6ICRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jb3Vyc2UsXG4gICAgZ3JvdXA6ICRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1ncm91cCxcbiAgICB1c2VyOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktdXNlcixcbiAgICBzaXRlOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktc2l0ZSxcbikgIWRlZmF1bHQ7XG4iLCJAdXNlIFwidGhlbWUvZ2xvYmFsc1wiIGFzICo7XG5cbjpob3N0IHtcbiAgICAuYnV0dG9uLWRpc2FibGVkIHtcbiAgICAgICAgb3BhY2l0eTogMC40O1xuICAgIH1cblxuICAgIC5hZGRvbi1tb2RfbGVzc29uLWhpZ2hsaWdodCB7XG4gICAgICAgIC0tYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeS10aW50KTtcblxuICAgICAgICBpb24tbGFiZWwsIGlvbi1sYWJlbCBwIHtcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5LXNoYWRlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC5pdGVtLWludGVyYWN0aXZlLWRpc2FibGVkIGlvbi1sYWJlbCB7XG4gICAgICAgIG9wYWNpdHk6IDAuNTtcbiAgICB9XG5cbiAgICAuYWRkb24tbW9kX2xlc3Nvbi1hbnN3ZXItc3RhdHMge1xuICAgICAgICBAaW5jbHVkZSBtYXJnaW4taG9yaXpvbnRhbChudWxsLCA0cHgpO1xuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["CoreError","CoreUser","CoreNavigator","CoreSites","CoreDomUtils","CoreTextUtils","CoreUtils","Translate","AddonModLesson","AddonModLessonProvider","AddonModLessonHelper","CoreTime","CoreAnalytics","CoreAnalyticsEventType","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵproperty","retake_r6","try","ɵɵadvance","ɵɵtextInterpolate1","label","ɵɵlistener","AddonModLessonUserRetakePage_div_14_ion_item_7_Template_ion_select_ngModelChange_4_listener","$event","ɵɵrestoreView","_r8","ctx_r7","ɵɵnextContext","ɵɵresetView","selectedRetake","AddonModLessonUserRetakePage_div_14_ion_item_7_Template_ion_select_ionChange_4_listener","ctx_r9","changeRetake","ɵɵtemplate","AddonModLessonUserRetakePage_div_14_ion_item_7_ion_select_option_7_Template","ɵɵtextInterpolate","ɵɵpipeBind1","ctx_r1","ɵɵpureFunction1","_c0","student","attempts","ɵɵpipeBind2","_c1","ctx_r2","retake","userstats","grade","ɵɵtextInterpolate2","gradeinfo","earned","total","timeTakenReadable","completed","ɵɵelement","answer_r17","buttonText","content","ɵɵsanitizeHtml","ctx_r26","component","lesson","coursemodule","courseId","successBadge","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_1_ion_badge_4_Template","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_1_ion_badge_5_Template","_c2","highlight","ctx_r22","checked","ɵɵattribute","name","ctx_r31","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_2_ion_badge_4_Template","value","ctx_r34","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_3_ion_badge_10_Template","ctx_r24","ctx_r37","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_4_ion_badge_4_Template","ctx_r25","ɵɵelementContainerStart","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_1_Template","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_2_Template","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_3_Template","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_ion_item_4_Template","ɵɵelementContainerEnd","isCheckbox","isText","isSelect","ctx_r41","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ion_item_3_ion_badge_4_Template","ctx_r20","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ion_item_1_Template","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ng_container_2_Template","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_ion_item_3_Template","page_r11","isContent","isQuestion","ctx_r15","answerdata","response","score","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ng_container_1_Template","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ion_item_2_Template","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_ion_item_3_Template","answers","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_ion_item_16_Template","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_div_17_Template","_c3","grayout","qtype","title","ctx_r10","contents","length","AddonModLessonUserRetakePage_div_14_ng_container_10_ion_card_1_Template","ctx_r4","answerpages","AddonModLessonUserRetakePage_div_14_ion_item_7_Template","AddonModLessonUserRetakePage_div_14_ion_list_8_Template","AddonModLessonUserRetakePage_div_14_ion_item_9_Template","AddonModLessonUserRetakePage_div_14_ng_container_10_Template","ctx_r0","id","fullname","bestgrade","AddonModLessonUserRetakePage","constructor","COMPONENT","logView","once","performLogView","ngOnInit","cmId","getRequiredRouteNumberParam","userId","getRouteNumberParam","getCurrentSiteUserId","retakeNumber","error","showErrorModal","back","fetchData","finally","loaded","_this","_asyncToGenerator","setRetake","_this$previousSelecte","previousSelectedRetake","addDataNotDownloadedError","doRefresh","refresher","refreshData","complete","_this2","_data$students","getLesson","data","getRetakesOverview","students","find","instant","roundToDecimals","forEach","getRetakeLabel","user","ignoreErrors","getProfile","profileimageurl","showErrorModalDefault","_this3","promises","push","invalidateLessonData","invalidateRetakesOverview","invalidateUserRetakesForUser","Promise","all","_this4","retakeData","getUserRetake","formatRetake","formattedData","formatTime","timetotake","page","answerPageIsContent","_contentPage$answerda","contentPage","answer","getContentPageAnswerDataFromHtml","answerPageIsQuestion","_questionPage$answerd","questionPage","getQuestionPageAnswerDataFromHtml","logEvent","type","VIEW_ITEM","ws","userid","category","url","selectors","decls","vars","consts","template","AddonModLessonUserRetakePage_Template","rf","ctx","AddonModLessonUserRetakePage_Template_ion_refresher_ionRefresh_10_listener","target","AddonModLessonUserRetakePage_div_14_Template","ɵɵpropertyInterpolate"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/lesson/pages/user-retake/user-retake.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/lesson/pages/user-retake/user-retake.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit } from '@angular/core';\n\nimport { CoreError } from '@classes/errors/error';\nimport { CoreUser } from '@features/user/services/user';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreTextUtils } from '@services/utils/text';\nimport { CoreUtils } from '@services/utils/utils';\nimport { Translate } from '@singletons';\nimport {\n    AddonModLesson,\n    AddonModLessonAttemptsOverviewsAttemptWSData,\n    AddonModLessonAttemptsOverviewsStudentWSData,\n    AddonModLessonGetUserAttemptWSResponse,\n    AddonModLessonLessonWSData,\n    AddonModLessonProvider,\n    AddonModLessonUserAttemptAnswerData,\n    AddonModLessonUserAttemptAnswerPageWSData,\n} from '../../services/lesson';\nimport { AddonModLessonAnswerData, AddonModLessonHelper } from '../../services/lesson-helper';\nimport { CoreTime } from '@singletons/time';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\n\n/**\n * Page that displays a retake made by a certain user.\n */\n@Component({\n    selector: 'page-addon-mod-lesson-user-retake',\n    templateUrl: 'user-retake.html',\n    styleUrls: ['user-retake.scss'],\n})\nexport class AddonModLessonUserRetakePage implements OnInit {\n\n    component = AddonModLessonProvider.COMPONENT;\n    lesson?: AddonModLessonLessonWSData; // The lesson the retake belongs to.\n    courseId!: number; // Course ID the lesson belongs to.\n    selectedRetake?: number; // The retake to see.\n    student?: StudentData; // Data about the student and his retakes.\n    retake?: RetakeToDisplay; // Data about the retake.\n    loaded?: boolean; // Whether the data has been loaded.\n    timeTakenReadable?: string; // Time taken in a readable format.\n\n    protected cmId!: number; // The lesson ID the retake belongs to.\n    protected userId?: number; // User ID to see the retakes.\n    protected retakeNumber?: number; // Number of the initial retake to see.\n    protected previousSelectedRetake?: number; // To be able to detect the previous selected retake when it has changed.\n    protected logView: () => void;\n\n    constructor() {\n        this.logView = CoreTime.once(() => this.performLogView());\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnInit(): void {\n        try {\n            this.cmId = CoreNavigator.getRequiredRouteNumberParam('cmId');\n            this.courseId = CoreNavigator.getRequiredRouteNumberParam('courseId');\n            this.userId = CoreNavigator.getRouteNumberParam('userId') || CoreSites.getCurrentSiteUserId();\n            this.retakeNumber = CoreNavigator.getRouteNumberParam('retake');\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n\n            CoreNavigator.back();\n\n            return;\n        }\n\n        // Fetch the data.\n        this.fetchData().finally(() => {\n            this.loaded = true;\n        });\n    }\n\n    /**\n     * Change the retake displayed.\n     *\n     * @param retakeNumber The new retake number.\n     */\n    async changeRetake(retakeNumber: number): Promise<void> {\n        this.loaded = false;\n\n        try {\n            await this.setRetake(retakeNumber);\n\n            this.performLogView();\n        } catch (error) {\n            this.selectedRetake = this.previousSelectedRetake ?? this.selectedRetake;\n            CoreDomUtils.showErrorModal(CoreUtils.addDataNotDownloadedError(error, 'Error getting attempt.'));\n        } finally {\n            this.loaded = true;\n        }\n    }\n\n    /**\n     * Pull to refresh.\n     *\n     * @param refresher Refresher.\n     */\n    doRefresh(refresher: HTMLIonRefresherElement): void {\n        this.refreshData().finally(() => {\n            refresher?.complete();\n        });\n    }\n\n    /**\n     * Get lesson and retake data.\n     *\n     * @returns Promise resolved when done.\n     */\n    protected async fetchData(): Promise<void> {\n        try {\n            this.lesson = await AddonModLesson.getLesson(this.courseId, this.cmId);\n\n            // Get the retakes overview for all participants.\n            const data = await AddonModLesson.getRetakesOverview(this.lesson.id, {\n                cmId: this.cmId,\n            });\n\n            // Search the student.\n            const student: StudentData | undefined = data?.students?.find(student => student.id == this.userId);\n            if (!student) {\n                // Student not found.\n                throw new CoreError(Translate.instant('addon.mod_lesson.cannotfinduser'));\n            }\n\n            if (!student.attempts.length) {\n                // No retakes.\n                throw new CoreError(Translate.instant('addon.mod_lesson.cannotfindattempt'));\n            }\n\n            student.bestgrade = CoreTextUtils.roundToDecimals(student.bestgrade, 2);\n            student.attempts.forEach((retake) => {\n                if (!this.selectedRetake && this.retakeNumber == retake.try) {\n                    // The retake specified as parameter exists. Use it.\n                    this.selectedRetake = this.retakeNumber;\n                }\n\n                retake.label = AddonModLessonHelper.getRetakeLabel(retake);\n            });\n\n            if (!this.selectedRetake) {\n                // Retake number not specified or not valid, use the last retake.\n                this.selectedRetake = student.attempts[student.attempts.length - 1].try;\n            }\n\n            // Get the profile image of the user.\n            const user = await CoreUtils.ignoreErrors(CoreUser.getProfile(student.id, this.courseId, true));\n\n            this.student = student;\n            this.student.profileimageurl = user?.profileimageurl;\n\n            await this.setRetake(this.selectedRetake);\n\n            this.logView();\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error getting data.', true);\n        }\n    }\n\n    /**\n     * Refreshes data.\n     *\n     * @returns Promise resolved when done.\n     */\n    protected async refreshData(): Promise<void> {\n        const promises: Promise<void>[] = [];\n\n        promises.push(AddonModLesson.invalidateLessonData(this.courseId));\n        if (this.lesson) {\n            promises.push(AddonModLesson.invalidateRetakesOverview(this.lesson.id));\n            promises.push(AddonModLesson.invalidateUserRetakesForUser(this.lesson.id, this.userId));\n        }\n\n        await CoreUtils.ignoreErrors(Promise.all(promises));\n\n        await this.fetchData();\n    }\n\n    /**\n     * Set the retake to view and load its data.\n     *\n     * @param retakeNumber Retake number to set.\n     * @returns Promise resolved when done.\n     */\n    protected async setRetake(retakeNumber: number): Promise<void> {\n        this.selectedRetake = retakeNumber;\n\n        const retakeData = await AddonModLesson.getUserRetake(this.lesson!.id, retakeNumber, {\n            cmId: this.cmId,\n            userId: this.userId,\n        });\n\n        this.retake = this.formatRetake(retakeData);\n        this.previousSelectedRetake = this.selectedRetake;\n    }\n\n    /**\n     * Format retake data, adding some calculated data.\n     *\n     * @param retakeData Retake data.\n     * @returns Formatted data.\n     */\n    protected formatRetake(retakeData: AddonModLessonGetUserAttemptWSResponse): RetakeToDisplay {\n        const formattedData = retakeData;\n\n        if (formattedData.userstats.gradeinfo) {\n            // Completed.\n            formattedData.userstats.grade = CoreTextUtils.roundToDecimals(formattedData.userstats.grade, 2);\n            this.timeTakenReadable = CoreTime.formatTime(formattedData.userstats.timetotake);\n        }\n\n        // Format pages data.\n        formattedData.answerpages.forEach((page) => {\n            if (AddonModLesson.answerPageIsContent(page)) {\n                const contentPage = page as AnswerPage;\n\n                contentPage.isContent = true;\n\n                if (contentPage.answerdata?.answers) {\n                    contentPage.answerdata.answers.forEach((answer) => {\n                        // Content pages only have 1 valid field in the answer array.\n                        answer[0] = AddonModLessonHelper.getContentPageAnswerDataFromHtml(answer[0]);\n                    });\n                }\n            } else if (AddonModLesson.answerPageIsQuestion(page)) {\n                const questionPage = page as AnswerPage;\n\n                questionPage.isQuestion = true;\n\n                if (questionPage.answerdata?.answers) {\n                    questionPage.answerdata.answers.forEach((answer) => {\n                        // Only the first field of the answer array requires to be parsed.\n                        answer[0] = AddonModLessonHelper.getQuestionPageAnswerDataFromHtml(answer[0]);\n                    });\n                }\n            }\n        });\n\n        return formattedData;\n    }\n\n    /**\n     * Log view.\n     */\n    protected performLogView(): void {\n        if (!this.lesson) {\n            return;\n        }\n\n        CoreAnalytics.logEvent({\n            type: CoreAnalyticsEventType.VIEW_ITEM,\n            ws: 'mod_lesson_get_user_attempt',\n            name: this.lesson.name + ': ' + Translate.instant('addon.mod_lesson.detailedstats'),\n            data: { id: this.lesson.id, userid: this.userId, try: this.selectedRetake, category: 'lesson' },\n            url: `/mod/lesson/report.php?id=${this.cmId}&action=reportdetail&userid=${this.userId}&try=${this.selectedRetake}`,\n        });\n    }\n\n}\n\n/**\n * Student data with some calculated data.\n */\ntype StudentData = Omit<AddonModLessonAttemptsOverviewsStudentWSData, 'attempts'> & {\n    profileimageurl?: string;\n    attempts: AttemptWithLabel[];\n};\n\n/**\n * Student attempt with a calculated label.\n */\ntype AttemptWithLabel = AddonModLessonAttemptsOverviewsAttemptWSData & {\n    label?: string;\n};\n/**\n * Retake with calculated data.\n */\ntype RetakeToDisplay = Omit<AddonModLessonGetUserAttemptWSResponse, 'answerpages'> & {\n    answerpages: AnswerPage[];\n};\n\n/**\n * Answer page with calculated data.\n */\ntype AnswerPage = Omit<AddonModLessonUserAttemptAnswerPageWSData, 'answerdata'> & {\n    isContent?: boolean;\n    isQuestion?: boolean;\n    answerdata?: AnswerData;\n};\n\n/**\n * Answer data with calculated data.\n */\ntype AnswerData = Omit<AddonModLessonUserAttemptAnswerData, 'answers'> & {\n    answers?: (string[] | AddonModLessonAnswerData)[]; // User answers.\n};\n","<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button [text]=\"'core.back' | translate\" />\n        </ion-buttons>\n        <ion-title>\n            <h1>{{ 'addon.mod_lesson.detailedstats' | translate }}</h1>\n        </ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content class=\"limited-width\">\n    <ion-refresher slot=\"fixed\" [disabled]=\"!loaded\" (ionRefresh)=\"doRefresh($event.target)\">\n        <ion-refresher-content pullingText=\"{{ 'core.pulltorefresh' | translate }}\" />\n    </ion-refresher>\n\n    <core-loading [hideUntil]=\"loaded\">\n        <div *ngIf=\"student\">\n            <!-- Student data. -->\n            <ion-item class=\"ion-text-wrap\" core-user-link [userId]=\"student.id\" [courseId]=\"courseId\" [attr.aria-label]=\"student.fullname\">\n                <core-user-avatar [user]=\"student\" slot=\"start\" [userId]=\"student.id\" [courseId]=\"courseId\" [linkProfile]=\"false\" />\n                <ion-label>\n                    <h2>{{student.fullname}}</h2>\n                    <core-progress-bar [progress]=\"student.bestgrade\" a11yText=\"addon.mod_lesson.grade\" />\n                </ion-label>\n            </ion-item>\n\n            <!-- Retake selector if there is more than one retake. -->\n            <ion-item class=\"ion-text-wrap\" *ngIf=\"student.attempts && student.attempts.length > 1\">\n                <ion-label>{{ 'addon.mod_lesson.attemptheader' | translate }}</ion-label>\n                <ion-select [(ngModel)]=\"selectedRetake\" (ionChange)=\"changeRetake(selectedRetake!)\"\n                    [cancelText]=\"'core.cancel' | translate\" interface=\"action-sheet\"\n                    [interfaceOptions]=\"{header: 'addon.mod_lesson.attemptheader' | translate}\">\n                    <ion-select-option *ngFor=\"let retake of student.attempts\" [value]=\"retake.try\">\n                        {{retake.label}}\n                    </ion-select-option>\n                </ion-select>\n            </ion-item>\n\n            <!-- Retake stats. -->\n            <ion-list *ngIf=\"retake && retake.userstats && retake.userstats.gradeinfo\" class=\"addon-mod_lesson-userstats\">\n                <ion-item>\n                    <ion-label class=\"ion-text-wrap\">\n                        <ion-grid class=\"ion-no-padding\">\n                            <ion-row>\n                                <ion-col>\n                                    <p class=\"item-heading\">{{ 'addon.mod_lesson.grade' | translate }}</p>\n                                    <p>{{ 'core.percentagenumber' | translate:{$a: retake.userstats.grade} }}</p>\n                                </ion-col>\n\n                                <ion-col>\n                                    <p class=\"item-heading\">{{ 'addon.mod_lesson.rawgrade' | translate }}</p>\n                                    <p>{{ retake.userstats.gradeinfo.earned }} / {{ retake.userstats.gradeinfo.total }}</p>\n                                </ion-col>\n                            </ion-row>\n                        </ion-grid>\n                    </ion-label>\n                </ion-item>\n                <ion-item class=\"ion-text-wrap\">\n                    <ion-label>\n                        <p class=\"item-heading\">{{ 'addon.mod_lesson.timetaken' | translate }}</p>\n                        <p>{{ timeTakenReadable }}</p>\n                    </ion-label>\n                </ion-item>\n                <ion-item class=\"ion-text-wrap\">\n                    <ion-label>\n                        <p class=\"item-heading\">{{ 'addon.mod_lesson.completed' | translate }}</p>\n                        <p>{{ retake.userstats.completed * 1000 | coreFormatDate }}</p>\n                    </ion-label>\n                </ion-item>\n            </ion-list>\n\n            <!-- Not completed, no stats. -->\n            <ion-item class=\"ion-text-wrap\" *ngIf=\"retake && (!retake.userstats || !retake.userstats.gradeinfo)\">\n                <ion-label>{{ 'addon.mod_lesson.notcompleted' | translate }}</ion-label>\n            </ion-item>\n\n            <!-- Pages. -->\n            <ng-container *ngIf=\"retake\">\n                <!-- The \"text-dimmed\" class does nothing, but the same goes for the \"dimmed\" class in Moodle. -->\n                <ion-card *ngFor=\"let page of retake.answerpages\" class=\"addon-mod_lesson-answerpage\"\n                    [ngClass]=\"{'text-dimmed': page.grayout}\">\n                    <ion-card-header class=\"ion-text-wrap\">\n                        <ion-card-title>{{page.qtype}}: {{page.title}}</ion-card-title>\n                    </ion-card-header>\n                    <ion-item class=\"ion-text-wrap\">\n                        <ion-label>\n                            <p class=\"item-heading\">{{ 'addon.mod_lesson.question' | translate }}</p>\n                            <p>\n                                <core-format-text [component]=\"component\" [componentId]=\"lesson?.coursemodule\" collapsible-item\n                                    [text]=\"page.contents\" contextLevel=\"module\" [contextInstanceId]=\"lesson?.coursemodule\"\n                                    [courseId]=\"courseId\" />\n                            </p>\n                        </ion-label>\n                    </ion-item>\n                    <ion-item class=\"ion-text-wrap\">\n                        <ion-label>\n                            <p class=\"item-heading\">{{ 'addon.mod_lesson.answer' | translate }}</p>\n                        </ion-label>\n                    </ion-item>\n                    <ion-item class=\"ion-text-wrap\" *ngIf=\"!page.answerdata || !page.answerdata.answers || !page.answerdata.answers.length\">\n                        <ion-label>\n                            <p>{{ 'addon.mod_lesson.didnotanswerquestion' | translate }}</p>\n                        </ion-label>\n                    </ion-item>\n                    <div *ngIf=\"page.answerdata && page.answerdata.answers && page.answerdata.answers.length\"\n                        class=\"addon-mod_lesson-answer\">\n                        <ng-container *ngFor=\"let answer of page.answerdata.answers\">\n                            <ion-item *ngIf=\"page.isContent\">\n                                <ion-label class=\"ion-text-wrap\">\n                                    <ion-grid class=\"ion-no-padding\">\n                                        <!-- Content page, display a button and the content. -->\n                                        <ion-row>\n                                            <ion-col>\n                                                <ion-button expand=\"block\" class=\"ion-text-wrap\" fill=\"outline\" [disabled]=\"true\">\n                                                    {{ answer[0].buttonText }}\n                                                </ion-button>\n                                            </ion-col>\n                                            <ion-col>\n                                                <p [innerHTML]=\"answer[0].content\"></p>\n                                            </ion-col>\n                                        </ion-row>\n                                    </ion-grid>\n                                </ion-label>\n                            </ion-item>\n\n                            <ng-container *ngIf=\"page.isQuestion\">\n                                <!-- Question page, show the right input for the answer. -->\n\n                                <!-- Truefalse or multichoice. -->\n                                <ion-item class=\"ion-text-wrap\" *ngIf=\"answer[0].isCheckbox\"\n                                    [ngClass]=\"{'addon-mod_lesson-highlight': answer[0].highlight}\">\n                                    <ion-label>\n                                        <p>\n                                            <core-format-text [component]=\"component\" [componentId]=\"lesson?.coursemodule\"\n                                                [text]=\"answer[0].content\" contextLevel=\"module\" [contextInstanceId]=\"lesson?.coursemodule\"\n                                                [courseId]=\"courseId\" />\n                                        </p>\n                                        <ion-badge *ngIf=\"answer[1]\" color=\"dark\" class=\"addon-mod_lesson-answer-stats\">\n                                            <core-format-text [component]=\"component\" [componentId]=\"lesson?.coursemodule\"\n                                                [text]=\"answer[1]\" contextLevel=\"module\" [contextInstanceId]=\"lesson?.coursemodule\"\n                                                [courseId]=\"courseId\" />\n                                        </ion-badge>\n                                        <ion-badge *ngIf=\"answer[0].successBadge\" color=\"success\" class=\"addon-mod_lesson-answer-success\">\n                                            {{ answer[0].successBadge }}\n                                        </ion-badge>\n                                    </ion-label>\n                                    <ion-checkbox [attr.name]=\"answer[0].name\" [ngModel]=\"answer[0].checked\" [disabled]=\"true\" slot=\"end\" />\n                                </ion-item>\n\n                                <!-- Short answer or numeric. -->\n                                <ion-item class=\"ion-text-wrap\" *ngIf=\"answer[0].isText\">\n                                    <ion-label>\n                                        <p>{{ answer[0].value }}</p>\n                                        <ion-badge *ngIf=\"answer[1]\" color=\"dark\">\n                                            <core-format-text [component]=\"component\" [componentId]=\"lesson?.coursemodule\"\n                                                [text]=\"answer[1]\" contextLevel=\"module\" [contextInstanceId]=\"lesson?.coursemodule\"\n                                                [courseId]=\"courseId\" />\n                                        </ion-badge>\n                                    </ion-label>\n                                </ion-item>\n\n                                <!-- Matching. -->\n                                <ion-item *ngIf=\"answer[0].isSelect\">\n                                    <ion-label class=\"ion-text-wrap\">\n                                        <ion-grid class=\"ion-no-padding\">\n                                            <ion-row>\n                                                <ion-col>\n                                                    <p>\n                                                        <core-format-text [component]=\"component\" [componentId]=\"lesson?.coursemodule\"\n                                                            [text]=\" answer[0].content\" contextLevel=\"module\"\n                                                            [contextInstanceId]=\"lesson?.coursemodule\" [courseId]=\"courseId\" />\n                                                    </p>\n                                                </ion-col>\n                                                <ion-col>\n                                                    <p>{{answer[0].value}}</p>\n                                                    <ion-badge *ngIf=\"answer[1]\" color=\"dark\">\n                                                        <core-format-text [component]=\"component\" [componentId]=\"lesson?.coursemodule\"\n                                                            [text]=\"answer[1]\" contextLevel=\"module\"\n                                                            [contextInstanceId]=\"lesson?.coursemodule\" [courseId]=\"courseId\" />\n                                                    </ion-badge>\n                                                </ion-col>\n                                            </ion-row>\n                                        </ion-grid>\n                                    </ion-label>\n                                </ion-item>\n\n                                <!-- Essay or couldn't determine. -->\n                                <ion-item class=\"ion-text-wrap\" *ngIf=\"!answer[0].isCheckbox && !answer[0].isText && !answer[0].isSelect\">\n                                    <ion-label>\n                                        <p>\n                                            <core-format-text [component]=\"component\" [componentId]=\"lesson?.coursemodule\"\n                                                [text]=\"answer[0]\" contextLevel=\"module\" [contextInstanceId]=\"lesson?.coursemodule\"\n                                                [courseId]=\"courseId\" />\n                                        </p>\n                                        <ion-badge *ngIf=\"answer[1]\" color=\"dark\">\n                                            <core-format-text [component]=\"component\" [componentId]=\"lesson?.coursemodule\"\n                                                [text]=\"answer[1]\" contextLevel=\"module\" [contextInstanceId]=\"lesson?.coursemodule\"\n                                                [courseId]=\"courseId\" />\n                                        </ion-badge>\n                                    </ion-label>\n                                </ion-item>\n                            </ng-container>\n\n                            <ion-item class=\"ion-text-wrap\" *ngIf=\"!page.isContent && !page.isQuestion\">\n                                <!-- Another page (end of branch, ...). -->\n                                <ion-label>\n                                    <p>\n                                        <core-format-text [component]=\"component\" [componentId]=\"lesson?.coursemodule\" [text]=\"answer[0]\"\n                                            contextLevel=\"module\" [contextInstanceId]=\"lesson?.coursemodule\" [courseId]=\"courseId\" />\n                                    </p>\n                                    <ion-badge *ngIf=\"answer[1]\" color=\"dark\">\n                                        <core-format-text [component]=\"component\" [componentId]=\"lesson?.coursemodule\" [text]=\"answer[1]\"\n                                            contextLevel=\"module\" [contextInstanceId]=\"lesson?.coursemodule\" [courseId]=\"courseId\" />\n                                    </ion-badge>\n                                </ion-label>\n                            </ion-item>\n                        </ng-container>\n\n                        <ion-item class=\"ion-text-wrap\" *ngIf=\"page.answerdata.response\">\n                            <ion-label>\n                                <p class=\"item-heading\">{{ 'addon.mod_lesson.response' | translate }}</p>\n                                <p>\n                                    <core-format-text [component]=\"component\" [componentId]=\"lesson?.coursemodule\"\n                                        [text]=\"page.answerdata.response\" contextLevel=\"module\" [contextInstanceId]=\"lesson?.coursemodule\"\n                                        [courseId]=\"courseId\" />\n                                </p>\n                            </ion-label>\n                        </ion-item>\n                        <ion-item class=\"ion-text-wrap\" *ngIf=\"page.answerdata.score\">\n                            <ion-label>\n                                <p>{{page.answerdata.score}}</p>\n                            </ion-label>\n                        </ion-item>\n                    </div>\n                </ion-card>\n            </ng-container>\n        </div>\n    </core-loading>\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}