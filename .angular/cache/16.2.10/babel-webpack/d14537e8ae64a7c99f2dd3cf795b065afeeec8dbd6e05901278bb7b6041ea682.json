{"ast":null,"code":"// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Statement agent (user) object for xAPI structure checking and usage.\n */\nexport class CoreXAPIItemAgent {\n  constructor(data, user) {\n    this.data = data;\n    this.user = user;\n  }\n  /**\n   * Get agent's user.\n   *\n   * @returns User.\n   */\n  getUser() {\n    return this.user;\n  }\n  /**\n   * Get agent's data.\n   *\n   * @returns Data.\n   */\n  getData() {\n    return this.data;\n  }\n  /**\n   * Create an item agent based on a certain's site user.\n   *\n   * @param site Site to use.\n   * @returns Item agent instance.\n   */\n  static createFromSite(site) {\n    var _site$getInfo$usernam, _site$getInfo;\n    const username = (_site$getInfo$usernam = (_site$getInfo = site.getInfo()) === null || _site$getInfo === void 0 ? void 0 : _site$getInfo.username) !== null && _site$getInfo$usernam !== void 0 ? _site$getInfo$usernam : '';\n    const data = {\n      name: username,\n      objectType: 'Agent',\n      account: {\n        name: site.getUserId(),\n        homePage: site.getURL()\n      }\n    };\n    return new CoreXAPIItemAgent(data, {\n      id: site.getUserId(),\n      username\n    });\n  }\n}","map":{"version":3,"names":["CoreXAPIItemAgent","constructor","data","user","getUser","getData","createFromSite","site","_site$getInfo$usernam","_site$getInfo","username","getInfo","name","objectType","account","getUserId","homePage","getURL","id"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/xapi/classes/item-agent.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { CoreSite } from '@classes/sites/site';\n\n/**\n * Statement agent (user) object for xAPI structure checking and usage.\n */\nexport class CoreXAPIItemAgent {\n\n    protected constructor(protected data: Record<string, unknown>, protected user: CoreXAPIItemAgentUser) { }\n\n    /**\n     * Get agent's user.\n     *\n     * @returns User.\n     */\n    getUser(): CoreXAPIItemAgentUser {\n        return this.user;\n    }\n\n    /**\n     * Get agent's data.\n     *\n     * @returns Data.\n     */\n    getData(): Record<string, unknown> {\n        return this.data;\n    }\n\n    /**\n     * Create an item agent based on a certain's site user.\n     *\n     * @param site Site to use.\n     * @returns Item agent instance.\n     */\n    static createFromSite(site: CoreSite): CoreXAPIItemAgent {\n        const username = site.getInfo()?.username ?? '';\n        const data = {\n            name: username,\n            objectType: 'Agent',\n            account: {\n                name: site.getUserId(),\n                homePage: site.getURL(),\n            },\n        };\n\n        return new CoreXAPIItemAgent(data, {\n            id: site.getUserId(),\n            username,\n        });\n    }\n\n}\n\ntype CoreXAPIItemAgentUser = {\n    id: number;\n    username: string;\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;;AAGA,OAAM,MAAOA,iBAAiB;EAE1BC,YAAgCC,IAA6B,EAAYC,IAA2B;IAApE,KAAAD,IAAI,GAAJA,IAAI;IAAqC,KAAAC,IAAI,GAAJA,IAAI;EAA2B;EAExG;;;;;EAKAC,OAAOA,CAAA;IACH,OAAO,IAAI,CAACD,IAAI;EACpB;EAEA;;;;;EAKAE,OAAOA,CAAA;IACH,OAAO,IAAI,CAACH,IAAI;EACpB;EAEA;;;;;;EAMA,OAAOI,cAAcA,CAACC,IAAc;IAAA,IAAAC,qBAAA,EAAAC,aAAA;IAChC,MAAMC,QAAQ,IAAAF,qBAAA,IAAAC,aAAA,GAAGF,IAAI,CAACI,OAAO,EAAE,cAAAF,aAAA,uBAAdA,aAAA,CAAgBC,QAAQ,cAAAF,qBAAA,cAAAA,qBAAA,GAAI,EAAE;IAC/C,MAAMN,IAAI,GAAG;MACTU,IAAI,EAAEF,QAAQ;MACdG,UAAU,EAAE,OAAO;MACnBC,OAAO,EAAE;QACLF,IAAI,EAAEL,IAAI,CAACQ,SAAS,EAAE;QACtBC,QAAQ,EAAET,IAAI,CAACU,MAAM;;KAE5B;IAED,OAAO,IAAIjB,iBAAiB,CAACE,IAAI,EAAE;MAC/BgB,EAAE,EAAEX,IAAI,CAACQ,SAAS,EAAE;MACpBL;KACH,CAAC;EACN"},"metadata":{},"sourceType":"module","externalDependencies":[]}