{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreEvents } from '@singletons/events';\nimport { CoreUser, USER_PROFILE_REFRESHED } from '@features/user/services/user';\nimport { CoreUserHelper } from '@features/user/services/user-helper';\nimport { CoreUserDelegate, CoreUserDelegateContext, CoreUserDelegateService } from '@features/user/services/user-delegate';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreCourses } from '@features/courses/services/courses';\nimport { CoreSwipeNavigationItemsManager } from '@classes/items-management/swipe-navigation-items-manager';\nimport { CoreUserParticipantsSource } from '@features/user/classes/participants-source';\nimport { CoreRoutedItemsManagerSourcesTracker } from '@classes/items-management/routed-items-manager-sources-tracker';\nimport { CoreTime } from '@singletons/time';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\nimport { Translate } from '@singletons';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../../components/empty-box/empty-box\";\nimport * as i4 from \"../../../../components/loading/loading\";\nimport * as i5 from \"../../../../components/user-avatar/user-avatar\";\nimport * as i6 from \"../../../../directives/fa-icon\";\nimport * as i7 from \"../../../../directives/collapsible-header\";\nimport * as i8 from \"../../../../directives/swipe-navigation\";\nimport * as i9 from \"../../../../directives/content\";\nimport * as i10 from \"../../../../directives/update-non-reactive-attributes\";\nimport * as i11 from \"@ionic/angular\";\nimport * as i12 from \"../../../../pipes/time-ago\";\nimport * as i13 from \"@ngx-translate/core\";\nfunction CoreUserProfilePage_ion_list_13_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵelement(1, \"ion-icon\", 17);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"aria-hidden\", true);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r5.user.address, \" \");\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_p_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(3, 3, \"core.user.roles\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate2(\"\", i0.ɵɵpipeBind1(5, 5, \"core.labelsep\"), \" \", ctx_r6.rolesFormatted, \" \");\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_p_8_span_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"coreTimeAgo\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, ctx_r12.user.lastaccess));\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_p_8_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"core.never\"));\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"strong\");\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, CoreUserProfilePage_ion_list_13_p_8_span_4_Template, 3, 3, \"span\", 7);\n    i0.ɵɵtemplate(5, CoreUserProfilePage_ion_list_13_p_8_ng_container_5_Template, 3, 3, \"ng-container\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(3, 3, \"core.lastaccess\"), \": \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.user.lastaccess);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.user.lastaccess);\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_div_9_ion_item_1_ion_button_2_ion_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 22);\n  }\n  if (rf & 2) {\n    const handler_r17 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"name\", handler_r17.icon);\n  }\n}\nconst _c0 = function (a1) {\n  return [\"core-user-profile-handler\", a1];\n};\nfunction CoreUserProfilePage_ion_list_13_div_9_ion_item_1_ion_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 20);\n    i0.ɵɵlistener(\"click\", function CoreUserProfilePage_ion_list_13_div_9_ion_item_1_ion_button_2_Template_ion_button_click_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r21);\n      const handler_r17 = restoredCtx.$implicit;\n      const ctx_r20 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r20.handlerClicked($event, handler_r17));\n    });\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵtemplate(2, CoreUserProfilePage_ion_list_13_div_9_ion_item_1_ion_button_2_ion_icon_2_Template, 1, 1, \"ion-icon\", 21);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const handler_r17 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(10, _c0, handler_r17.class || \"\"))(\"hidden\", handler_r17.hidden)(\"disabled\", handler_r17.spinner);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 6, handler_r17.title));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", handler_r17.icon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 8, handler_r17.title), \" \");\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_div_9_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\");\n    i0.ɵɵtemplate(2, CoreUserProfilePage_ion_list_13_div_9_ion_item_1_ion_button_2_Template, 5, 12, \"ion-button\", 19);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r14.communicationHandlers);\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_div_9_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵelement(1, \"ion-spinner\");\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(2, 1, \"core.loading\"));\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtemplate(1, CoreUserProfilePage_ion_list_13_div_9_ion_item_1_Template, 3, 1, \"ion-item\", 7);\n    i0.ɵɵtemplate(2, CoreUserProfilePage_ion_list_13_div_9_div_2_Template, 3, 3, \"div\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.communicationHandlers && ctx_r8.communicationHandlers.length);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r8.isLoadingHandlers);\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_ion_item_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 23)(1, \"ion-label\");\n    i0.ɵɵelement(2, \"ion-spinner\");\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(3, 1, \"core.loading\"));\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_ion_item_18_ion_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 22);\n  }\n  if (rf & 2) {\n    const handler_r22 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"name\", handler_r22.icon);\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_ion_item_18_ion_badge_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 28);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const handler_r22 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"hidden\", handler_r22.loading || !handler_r22.badge);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", handler_r22.badge, \" \");\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    $a: a0\n  };\n};\nfunction CoreUserProfilePage_ion_list_13_ion_item_18_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const handler_r22 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, handler_r22.badgeA11yText, i0.ɵɵpureFunction1(4, _c1, handler_r22.badge)), \" \");\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_ion_item_18_ion_spinner_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-spinner\", 30);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.loading\"));\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_ion_item_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r31 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 24);\n    i0.ɵɵlistener(\"click\", function CoreUserProfilePage_ion_list_13_ion_item_18_Template_ion_item_click_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r31);\n      const handler_r22 = restoredCtx.$implicit;\n      const ctx_r30 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r30.handlerClicked($event, handler_r22));\n    });\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵtemplate(2, CoreUserProfilePage_ion_list_13_ion_item_18_ion_icon_2_Template, 1, 1, \"ion-icon\", 21);\n    i0.ɵɵelementStart(3, \"ion-label\")(4, \"p\", 14);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, CoreUserProfilePage_ion_list_13_ion_item_18_ion_badge_7_Template, 2, 2, \"ion-badge\", 25);\n    i0.ɵɵtemplate(8, CoreUserProfilePage_ion_list_13_ion_item_18_span_8_Template, 3, 6, \"span\", 26);\n    i0.ɵɵtemplate(9, CoreUserProfilePage_ion_list_13_ion_item_18_ion_spinner_9_Template, 2, 3, \"ion-spinner\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const handler_r22 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c0, handler_r22.class || \"\"))(\"hidden\", handler_r22.hidden)(\"detail\", true);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 9, handler_r22.title));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", handler_r22.icon);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 11, handler_r22.title));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", handler_r22.showBadge);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", handler_r22.showBadge && handler_r22.badge && handler_r22.badgeA11yText);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", handler_r22.showBadge && handler_r22.loading);\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_ion_item_19_ion_button_2_ion_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 22);\n  }\n  if (rf & 2) {\n    const handler_r33 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"name\", handler_r33.icon);\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_ion_item_19_ion_button_2_ion_spinner_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-spinner\", 30);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.loading\"));\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_ion_item_19_ion_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r38 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 32);\n    i0.ɵɵlistener(\"click\", function CoreUserProfilePage_ion_list_13_ion_item_19_ion_button_2_Template_ion_button_click_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r38);\n      const handler_r33 = restoredCtx.$implicit;\n      const ctx_r37 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r37.handlerClicked($event, handler_r33));\n    });\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵtemplate(2, CoreUserProfilePage_ion_list_13_ion_item_19_ion_button_2_ion_icon_2_Template, 1, 1, \"ion-icon\", 21);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵtemplate(5, CoreUserProfilePage_ion_list_13_ion_item_19_ion_button_2_ion_spinner_5_Template, 2, 3, \"ion-spinner\", 27);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const handler_r33 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(11, _c0, handler_r33.class || \"\"))(\"hidden\", handler_r33.hidden)(\"disabled\", handler_r33.spinner);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 7, handler_r33.title));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", handler_r33.icon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 9, handler_r33.title), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", handler_r33.spinner);\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_ion_item_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\")(1, \"ion-label\");\n    i0.ɵɵtemplate(2, CoreUserProfilePage_ion_list_13_ion_item_19_ion_button_2_Template, 6, 13, \"ion-button\", 31);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r11.actionHandlers);\n  }\n}\nfunction CoreUserProfilePage_ion_list_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r40 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-list\")(1, \"ion-item\", 9);\n    i0.ɵɵelement(2, \"core-user-avatar\", 10);\n    i0.ɵɵelementStart(3, \"ion-label\")(4, \"h1\");\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, CoreUserProfilePage_ion_list_13_p_6_Template, 3, 2, \"p\", 7);\n    i0.ɵɵtemplate(7, CoreUserProfilePage_ion_list_13_p_7_Template, 6, 7, \"p\", 7);\n    i0.ɵɵtemplate(8, CoreUserProfilePage_ion_list_13_p_8_Template, 6, 5, \"p\", 7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, CoreUserProfilePage_ion_list_13_div_9_Template, 3, 2, \"div\", 11);\n    i0.ɵɵelementStart(10, \"ion-item\", 12);\n    i0.ɵɵlistener(\"click\", function CoreUserProfilePage_ion_list_13_Template_ion_item_click_10_listener() {\n      i0.ɵɵrestoreView(_r40);\n      const ctx_r39 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r39.openUserDetails());\n    });\n    i0.ɵɵpipe(11, \"translate\");\n    i0.ɵɵelement(12, \"ion-icon\", 13);\n    i0.ɵɵelementStart(13, \"ion-label\")(14, \"p\", 14);\n    i0.ɵɵtext(15);\n    i0.ɵɵpipe(16, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(17, CoreUserProfilePage_ion_list_13_ion_item_17_Template, 4, 3, \"ion-item\", 15);\n    i0.ɵɵtemplate(18, CoreUserProfilePage_ion_list_13_ion_item_18_Template, 10, 15, \"ion-item\", 16);\n    i0.ɵɵtemplate(19, CoreUserProfilePage_ion_list_13_ion_item_19_Template, 3, 1, \"ion-item\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"user\", ctx_r0.user)(\"userId\", ctx_r0.user.id)(\"linkProfile\", false)(\"checkOnline\", true);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.user.fullname);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.address);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.rolesFormatted);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.lastaccess !== undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.communicationHandlers && ctx_r0.communicationHandlers.length || ctx_r0.isLoadingHandlers);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"detail\", true);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(11, 15, \"core.user.details\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(16, 17, \"core.user.details\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.isLoadingHandlers);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.newPageHandlers);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.actionHandlers && ctx_r0.actionHandlers.length);\n  }\n}\nfunction CoreUserProfilePage_core_empty_box_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-empty-box\", 33);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"message\", i0.ɵɵpipeBind1(1, 1, \"core.user.detailsnotavailable\"));\n  }\n}\nfunction CoreUserProfilePage_core_empty_box_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-empty-box\", 33);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"message\", i0.ɵɵpipeBind1(1, 1, \"core.userdeleted\"));\n  }\n}\nfunction CoreUserProfilePage_core_empty_box_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-empty-box\", 33);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"message\", i0.ɵɵpipeBind1(1, 1, \"core.usersuspended\"));\n  }\n}\nfunction CoreUserProfilePage_core_empty_box_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-empty-box\", 33);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"message\", i0.ɵɵpipeBind1(1, 1, \"core.notenrolledprofile\"));\n  }\n}\nexport class CoreUserProfilePage {\n  constructor(route) {\n    var _this = this;\n    this.route = route;\n    this.userLoaded = false;\n    this.isLoadingHandlers = false;\n    this.isDeleted = false;\n    this.isSuspended = false;\n    this.isEnrolled = true;\n    this.actionHandlers = [];\n    this.newPageHandlers = [];\n    this.communicationHandlers = [];\n    this.obsProfileRefreshed = CoreEvents.on(USER_PROFILE_REFRESHED, data => {\n      if (!this.user || !data.user) {\n        return;\n      }\n      this.user.email = data.user.email;\n    }, CoreSites.getCurrentSiteId());\n    this.logView = CoreTime.once( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (user) {\n        try {\n          yield CoreUser.logView(_this.userId, _this.courseId, user.fullname);\n        } catch (error) {\n          _this.isDeleted = (error === null || error === void 0 ? void 0 : error.errorcode) === 'userdeleted' || (error === null || error === void 0 ? void 0 : error.errorcode) === 'wsaccessuserdeleted';\n          _this.isSuspended = (error === null || error === void 0 ? void 0 : error.errorcode) === 'wsaccessusersuspended';\n          _this.isEnrolled = (error === null || error === void 0 ? void 0 : error.errorcode) !== 'notenrolledprofile';\n        }\n        let extraParams = '';\n        if (_this.userId !== CoreSites.getCurrentSiteUserId()) {\n          const isCourseProfile = _this.courseId && _this.courseId !== CoreSites.getCurrentSiteHomeId();\n          extraParams = `?id=${_this.userId}` + (isCourseProfile ? `&course=${_this.courseId}` : '');\n        }\n        CoreAnalytics.logEvent({\n          type: CoreAnalyticsEventType.VIEW_ITEM,\n          ws: 'core_user_view_user_profile',\n          name: user.fullname + ': ' + Translate.instant('core.publicprofile'),\n          data: {\n            id: _this.userId,\n            courseid: _this.courseId || undefined,\n            category: 'user'\n          },\n          url: `/user/profile.php${extraParams}`\n        });\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        _this2.site = CoreSites.getRequiredCurrentSite();\n        _this2.courseId = CoreNavigator.getRouteNumberParam('courseId');\n        _this2.userId = CoreNavigator.getRequiredRouteNumberParam('userId');\n      } catch (error) {\n        CoreDomUtils.showErrorModal(error);\n        CoreNavigator.back();\n        return;\n      }\n      if (_this2.courseId === _this2.site.getSiteHomeId()) {\n        // Get site profile.\n        _this2.courseId = undefined;\n      }\n      if (_this2.courseId && _this2.route.snapshot.data.swipeManagerSource === 'participants') {\n        const search = CoreNavigator.getRouteParam('search');\n        const source = CoreRoutedItemsManagerSourcesTracker.getOrCreateSource(CoreUserParticipantsSource, [_this2.courseId, search]);\n        _this2.users = new CoreUserSwipeItemsManager(source);\n        _this2.users.start();\n      }\n      try {\n        yield _this2.fetchUser();\n      } finally {\n        _this2.userLoaded = true;\n      }\n    })();\n  }\n  /**\n   * Fetches the user and updates the view.\n   */\n  fetchUser() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        var _this3$subscription;\n        const user = yield CoreUser.getProfile(_this3.userId, _this3.courseId);\n        _this3.rolesFormatted = 'roles' in user ? CoreUserHelper.formatRoleList(user.roles) : '';\n        _this3.user = user;\n        // If there's already a subscription, unsubscribe because we'll get a new one.\n        (_this3$subscription = _this3.subscription) === null || _this3$subscription === void 0 || _this3$subscription.unsubscribe();\n        const context = _this3.courseId ? CoreUserDelegateContext.COURSE : CoreUserDelegateContext.SITE;\n        _this3.subscription = CoreUserDelegate.getProfileHandlersFor(user, context, _this3.courseId).subscribe(handlers => {\n          _this3.actionHandlers = [];\n          _this3.newPageHandlers = [];\n          _this3.communicationHandlers = [];\n          handlers.forEach(handler => {\n            switch (handler.type) {\n              case CoreUserDelegateService.TYPE_COMMUNICATION:\n                _this3.communicationHandlers.push(handler.data);\n                break;\n              case CoreUserDelegateService.TYPE_ACTION:\n                _this3.actionHandlers.push(handler.data);\n                break;\n              case CoreUserDelegateService.TYPE_NEW_PAGE:\n              default:\n                _this3.newPageHandlers.push(handler.data);\n                break;\n            }\n          });\n          _this3.isLoadingHandlers = !CoreUserDelegate.areHandlersLoaded(user.id, context, _this3.courseId);\n        });\n        _this3.logView(user);\n      } catch (error) {\n        // Error is null for deleted users, do not show the modal.\n        CoreDomUtils.showErrorModal(error);\n      }\n    })();\n  }\n  /**\n   * Refresh the user.\n   *\n   * @param event Event.\n   * @returns Promise resolved when done.\n   */\n  refreshUser(event) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      yield CoreUtils.ignoreErrors(Promise.all([CoreUser.invalidateUserCache(_this4.userId), CoreCourses.invalidateUserNavigationOptions(), CoreCourses.invalidateUserAdministrationOptions()]));\n      yield _this4.fetchUser();\n      event === null || event === void 0 || event.complete();\n      if (_this4.user) {\n        var _this4$site;\n        CoreEvents.trigger(USER_PROFILE_REFRESHED, {\n          courseId: _this4.courseId,\n          userId: _this4.userId,\n          user: _this4.user\n        }, (_this4$site = _this4.site) === null || _this4$site === void 0 ? void 0 : _this4$site.getId());\n      }\n    })();\n  }\n  /**\n   * Open the page with the user details.\n   */\n  openUserDetails() {\n    CoreNavigator.navigateToSitePath('user/about', {\n      params: {\n        courseId: this.courseId,\n        userId: this.userId\n      }\n    });\n  }\n  /**\n   * A handler was clicked.\n   *\n   * @param event Click event.\n   * @param handler Handler that was clicked.\n   */\n  handlerClicked(event, handler) {\n    if (!this.user) {\n      return;\n    }\n    const context = this.courseId ? CoreUserDelegateContext.COURSE : CoreUserDelegateContext.SITE;\n    handler.action(event, this.user, context, this.courseId);\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnDestroy() {\n    var _this$users, _this$subscription;\n    (_this$users = this.users) === null || _this$users === void 0 || _this$users.destroy();\n    (_this$subscription = this.subscription) === null || _this$subscription === void 0 || _this$subscription.unsubscribe();\n    this.obsProfileRefreshed.off();\n  }\n}\n/**\n * Helper to manage swiping within a collection of users.\n */\n_class = CoreUserProfilePage;\n_class.ɵfac = function CoreUserProfilePage_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ActivatedRoute));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"page-core-user-profile\"]],\n  decls: 18,\n  vars: 15,\n  consts: [[\"collapsible\", \"\"], [\"slot\", \"start\"], [3, \"text\"], [1, \"limited-width\", 3, \"core-swipe-navigation\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [4, \"ngIf\"], [\"icon\", \"far-user\", 3, \"message\", 4, \"ngIf\"], [\"collapsible\", \"\", 1, \"core-user-profile-maininfo\", \"ion-text-wrap\"], [\"slot\", \"start\", 3, \"user\", \"userId\", \"linkProfile\", \"checkOnline\"], [\"class\", \"core-user-communication-handlers\", 4, \"ngIf\"], [\"button\", \"\", 1, \"ion-text-wrap\", \"core-user-profile-handler\", 3, \"detail\", \"click\"], [\"name\", \"fas-user\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [1, \"item-heading\"], [\"class\", \"ion-text-center core-loading-handlers\", 4, \"ngIf\"], [\"button\", \"\", \"class\", \"ion-text-wrap\", 3, \"ngClass\", \"hidden\", \"detail\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"name\", \"fas-location-dot\"], [1, \"core-user-communication-handlers\"], [\"expand\", \"block\", \"size\", \"default\", 3, \"ngClass\", \"hidden\", \"disabled\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"expand\", \"block\", \"size\", \"default\", 3, \"ngClass\", \"hidden\", \"disabled\", \"click\"], [\"slot\", \"start\", \"aria-hidden\", \"true\", 3, \"name\", 4, \"ngIf\"], [\"slot\", \"start\", \"aria-hidden\", \"true\", 3, \"name\"], [1, \"ion-text-center\", \"core-loading-handlers\"], [\"button\", \"\", 1, \"ion-text-wrap\", 3, \"ngClass\", \"hidden\", \"detail\", \"click\"], [\"slot\", \"end\", \"aria-hidden\", \"true\", 3, \"hidden\", 4, \"ngIf\"], [\"class\", \"sr-only\", 4, \"ngIf\"], [\"slot\", \"end\", 4, \"ngIf\"], [\"slot\", \"end\", \"aria-hidden\", \"true\", 3, \"hidden\"], [1, \"sr-only\"], [\"slot\", \"end\"], [\"expand\", \"block\", \"fill\", \"outline\", \"size\", \"default\", 3, \"ngClass\", \"hidden\", \"disabled\", \"click\", 4, \"ngFor\", \"ngForOf\"], [\"expand\", \"block\", \"fill\", \"outline\", \"size\", \"default\", 3, \"ngClass\", \"hidden\", \"disabled\", \"click\"], [\"icon\", \"far-user\", 3, \"message\"]],\n  template: function CoreUserProfilePage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\", 0)(1, \"ion-toolbar\")(2, \"ion-buttons\", 1);\n      i0.ɵɵelement(3, \"ion-back-button\", 2);\n      i0.ɵɵpipe(4, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ion-title\")(6, \"h1\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(8, \"ion-content\", 3)(9, \"ion-refresher\", 4);\n      i0.ɵɵlistener(\"ionRefresh\", function CoreUserProfilePage_Template_ion_refresher_ionRefresh_9_listener($event) {\n        return ctx.refreshUser($event.target);\n      });\n      i0.ɵɵelement(10, \"ion-refresher-content\", 5);\n      i0.ɵɵpipe(11, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"core-loading\", 6);\n      i0.ɵɵtemplate(13, CoreUserProfilePage_ion_list_13_Template, 20, 19, \"ion-list\", 7);\n      i0.ɵɵtemplate(14, CoreUserProfilePage_core_empty_box_14_Template, 2, 3, \"core-empty-box\", 8);\n      i0.ɵɵtemplate(15, CoreUserProfilePage_core_empty_box_15_Template, 2, 3, \"core-empty-box\", 8);\n      i0.ɵɵtemplate(16, CoreUserProfilePage_core_empty_box_16_Template, 2, 3, \"core-empty-box\", 8);\n      i0.ɵɵtemplate(17, CoreUserProfilePage_core_empty_box_17_Template, 2, 3, \"core-empty-box\", 8);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"text\", i0.ɵɵpipeBind1(4, 11, \"core.back\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.user == null ? null : ctx.user.fullname);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"core-swipe-navigation\", ctx.users);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !ctx.userLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"pullingText\", i0.ɵɵpipeBind1(11, 13, \"core.pulltorefresh\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hideUntil\", ctx.userLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user && !ctx.isDeleted && ctx.isEnrolled);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.user && !ctx.isDeleted && ctx.isEnrolled);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isDeleted);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isSuspended);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isEnrolled);\n    }\n  },\n  dependencies: [i2.NgClass, i2.NgForOf, i2.NgIf, i3.CoreEmptyBoxComponent, i4.CoreLoadingComponent, i5.CoreUserAvatarComponent, i6.CoreFaIconDirective, i7.CoreCollapsibleHeaderDirective, i8.CoreSwipeNavigationDirective, i9.CoreContentDirective, i10.CoreUpdateNonReactiveAttributesDirective, i11.IonBadge, i11.IonButton, i11.IonButtons, i11.IonContent, i11.IonHeader, i11.IonIcon, i11.IonItem, i11.IonLabel, i11.IonList, i11.IonRefresher, i11.IonRefresherContent, i11.IonSpinner, i11.IonTitle, i11.IonToolbar, i11.IonBackButton, i12.CoreTimeAgoPipe, i13.TranslatePipe],\n  styles: [\"[_nghost-%COMP%]   core-user-avatar[_ngcontent-%COMP%] {\\n  --core-avatar-size: var(--core-large-avatar-size);\\n  --contact-status-size: 24px;\\n  --margin-end-on-item: 16px;\\n}\\n[_nghost-%COMP%]   core-user-avatar[_ngcontent-%COMP%]   .contact-status[_ngcontent-%COMP%] {\\n  right: calc(50% - 12px - var(--core-avatar-size) / 2) !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9jb3JlL2ZlYXR1cmVzL3VzZXIvcGFnZXMvcHJvZmlsZS9wcm9maWxlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFDSSxpREFBQTtFQUNBLDJCQUFBO0VBQ0EsMEJBQUE7QUFBUjtBQUNRO0VBQ0ksZ0VBQUE7QUFDWiIsInNvdXJjZXNDb250ZW50IjpbIjpob3N0IHtcbiAgICBjb3JlLXVzZXItYXZhdGFyIHtcbiAgICAgICAgLS1jb3JlLWF2YXRhci1zaXplOiB2YXIoLS1jb3JlLWxhcmdlLWF2YXRhci1zaXplKTtcbiAgICAgICAgLS1jb250YWN0LXN0YXR1cy1zaXplOiAyNHB4O1xuICAgICAgICAtLW1hcmdpbi1lbmQtb24taXRlbTogMTZweDtcbiAgICAgICAgLmNvbnRhY3Qtc3RhdHVzIHtcbiAgICAgICAgICAgIHJpZ2h0OiBjYWxjKDUwJSAtIDEycHggLSB2YXIoLS1jb3JlLWF2YXRhci1zaXplKSAvIDIpICFpbXBvcnRhbnQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});\nclass CoreUserSwipeItemsManager extends CoreSwipeNavigationItemsManager {\n  /**\n   * @inheritdoc\n   */\n  getSelectedItemPathFromRoute(route) {\n    return route.params.userId;\n  }\n}","map":{"version":3,"names":["CoreSites","CoreDomUtils","CoreEvents","CoreUser","USER_PROFILE_REFRESHED","CoreUserHelper","CoreUserDelegate","CoreUserDelegateContext","CoreUserDelegateService","CoreUtils","CoreNavigator","CoreCourses","CoreSwipeNavigationItemsManager","CoreUserParticipantsSource","CoreRoutedItemsManagerSourcesTracker","CoreTime","CoreAnalytics","CoreAnalyticsEventType","Translate","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵattribute","ɵɵtextInterpolate1","ctx_r5","user","address","ɵɵtextInterpolate","ɵɵpipeBind1","ɵɵtextInterpolate2","ctx_r6","rolesFormatted","ctx_r12","lastaccess","ɵɵelementContainerStart","ɵɵelementContainerEnd","ɵɵtemplate","CoreUserProfilePage_ion_list_13_p_8_span_4_Template","CoreUserProfilePage_ion_list_13_p_8_ng_container_5_Template","ɵɵproperty","ctx_r7","handler_r17","icon","ɵɵlistener","CoreUserProfilePage_ion_list_13_div_9_ion_item_1_ion_button_2_Template_ion_button_click_0_listener","$event","restoredCtx","ɵɵrestoreView","_r21","$implicit","ctx_r20","ɵɵnextContext","ɵɵresetView","handlerClicked","CoreUserProfilePage_ion_list_13_div_9_ion_item_1_ion_button_2_ion_icon_2_Template","ɵɵpureFunction1","_c0","class","hidden","spinner","title","CoreUserProfilePage_ion_list_13_div_9_ion_item_1_ion_button_2_Template","ctx_r14","communicationHandlers","CoreUserProfilePage_ion_list_13_div_9_ion_item_1_Template","CoreUserProfilePage_ion_list_13_div_9_div_2_Template","ctx_r8","length","isLoadingHandlers","handler_r22","loading","badge","ɵɵpipeBind2","badgeA11yText","_c1","CoreUserProfilePage_ion_list_13_ion_item_18_Template_ion_item_click_0_listener","_r31","ctx_r30","CoreUserProfilePage_ion_list_13_ion_item_18_ion_icon_2_Template","CoreUserProfilePage_ion_list_13_ion_item_18_ion_badge_7_Template","CoreUserProfilePage_ion_list_13_ion_item_18_span_8_Template","CoreUserProfilePage_ion_list_13_ion_item_18_ion_spinner_9_Template","showBadge","handler_r33","CoreUserProfilePage_ion_list_13_ion_item_19_ion_button_2_Template_ion_button_click_0_listener","_r38","ctx_r37","CoreUserProfilePage_ion_list_13_ion_item_19_ion_button_2_ion_icon_2_Template","CoreUserProfilePage_ion_list_13_ion_item_19_ion_button_2_ion_spinner_5_Template","CoreUserProfilePage_ion_list_13_ion_item_19_ion_button_2_Template","ctx_r11","actionHandlers","CoreUserProfilePage_ion_list_13_p_6_Template","CoreUserProfilePage_ion_list_13_p_7_Template","CoreUserProfilePage_ion_list_13_p_8_Template","CoreUserProfilePage_ion_list_13_div_9_Template","CoreUserProfilePage_ion_list_13_Template_ion_item_click_10_listener","_r40","ctx_r39","openUserDetails","CoreUserProfilePage_ion_list_13_ion_item_17_Template","CoreUserProfilePage_ion_list_13_ion_item_18_Template","CoreUserProfilePage_ion_list_13_ion_item_19_Template","ctx_r0","id","fullname","undefined","newPageHandlers","CoreUserProfilePage","constructor","route","_this","userLoaded","isDeleted","isSuspended","isEnrolled","obsProfileRefreshed","on","data","email","getCurrentSiteId","logView","once","_ref","_asyncToGenerator","userId","courseId","error","errorcode","extraParams","getCurrentSiteUserId","isCourseProfile","getCurrentSiteHomeId","logEvent","type","VIEW_ITEM","ws","name","instant","courseid","category","url","_x","apply","arguments","ngOnInit","_this2","site","getRequiredCurrentSite","getRouteNumberParam","getRequiredRouteNumberParam","showErrorModal","back","getSiteHomeId","snapshot","swipeManagerSource","search","getRouteParam","source","getOrCreateSource","users","CoreUserSwipeItemsManager","start","fetchUser","_this3","_this3$subscription","getProfile","formatRoleList","roles","subscription","unsubscribe","context","COURSE","SITE","getProfileHandlersFor","subscribe","handlers","forEach","handler","TYPE_COMMUNICATION","push","TYPE_ACTION","TYPE_NEW_PAGE","areHandlersLoaded","refreshUser","event","_this4","ignoreErrors","Promise","all","invalidateUserCache","invalidateUserNavigationOptions","invalidateUserAdministrationOptions","complete","_this4$site","trigger","getId","navigateToSitePath","params","action","ngOnDestroy","_this$users","_this$subscription","destroy","off","_class","ɵɵdirectiveInject","i1","ActivatedRoute","selectors","decls","vars","consts","template","CoreUserProfilePage_Template","rf","ctx","CoreUserProfilePage_Template_ion_refresher_ionRefresh_9_listener","target","CoreUserProfilePage_ion_list_13_Template","CoreUserProfilePage_core_empty_box_14_Template","CoreUserProfilePage_core_empty_box_15_Template","CoreUserProfilePage_core_empty_box_16_Template","CoreUserProfilePage_core_empty_box_17_Template","ɵɵpropertyInterpolate","getSelectedItemPathFromRoute"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/user/pages/profile/profile.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/user/pages/profile/profile.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { ActivatedRoute, ActivatedRouteSnapshot } from '@angular/router';\nimport { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { CoreSite } from '@classes/sites/site';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\nimport { CoreUser, CoreUserProfile, USER_PROFILE_REFRESHED } from '@features/user/services/user';\nimport { CoreUserHelper } from '@features/user/services/user-helper';\nimport {\n    CoreUserDelegate,\n    CoreUserDelegateContext,\n    CoreUserDelegateService,\n    CoreUserProfileHandlerData,\n} from '@features/user/services/user-delegate';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreCourses } from '@features/courses/services/courses';\nimport { CoreSwipeNavigationItemsManager } from '@classes/items-management/swipe-navigation-items-manager';\nimport { CoreUserParticipantsSource } from '@features/user/classes/participants-source';\nimport { CoreRoutedItemsManagerSourcesTracker } from '@classes/items-management/routed-items-manager-sources-tracker';\nimport { CoreTime } from '@singletons/time';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\nimport { Translate } from '@singletons';\n\n@Component({\n    selector: 'page-core-user-profile',\n    templateUrl: 'profile.html',\n    styleUrls: ['profile.scss'],\n})\nexport class CoreUserProfilePage implements OnInit, OnDestroy {\n\n    protected courseId?: number;\n    protected userId!: number;\n    protected site!: CoreSite;\n    protected obsProfileRefreshed: CoreEventObserver;\n    protected subscription?: Subscription;\n    protected logView: (user: CoreUserProfile) => void;\n\n    userLoaded = false;\n    isLoadingHandlers = false;\n    user?: CoreUserProfile;\n    isDeleted = false;\n    isSuspended = false;\n    isEnrolled = true;\n    rolesFormatted?: string;\n    actionHandlers: CoreUserProfileHandlerData[] = [];\n    newPageHandlers: CoreUserProfileHandlerData[] = [];\n    communicationHandlers: CoreUserProfileHandlerData[] = [];\n\n    users?: CoreUserSwipeItemsManager;\n\n    constructor(private route: ActivatedRoute) {\n        this.obsProfileRefreshed = CoreEvents.on(USER_PROFILE_REFRESHED, (data) => {\n            if (!this.user || !data.user) {\n                return;\n            }\n\n            this.user.email = data.user.email;\n        }, CoreSites.getCurrentSiteId());\n\n        this.logView = CoreTime.once(async (user) => {\n            try {\n                await CoreUser.logView(this.userId, this.courseId, user.fullname);\n            } catch (error) {\n                this.isDeleted = error?.errorcode === 'userdeleted' || error?.errorcode === 'wsaccessuserdeleted';\n                this.isSuspended = error?.errorcode === 'wsaccessusersuspended';\n                this.isEnrolled = error?.errorcode !== 'notenrolledprofile';\n            }\n            let extraParams = '';\n            if (this.userId !== CoreSites.getCurrentSiteUserId()) {\n                const isCourseProfile = this.courseId && this.courseId !== CoreSites.getCurrentSiteHomeId();\n                extraParams = `?id=${this.userId}` + (isCourseProfile ? `&course=${this.courseId}` : '');\n            }\n\n            CoreAnalytics.logEvent({\n                type: CoreAnalyticsEventType.VIEW_ITEM,\n                ws: 'core_user_view_user_profile',\n                name: user.fullname + ': ' + Translate.instant('core.publicprofile'),\n                data: { id: this.userId, courseid: this.courseId || undefined, category: 'user' },\n                url: `/user/profile.php${extraParams}`,\n            });\n        });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        try {\n            this.site = CoreSites.getRequiredCurrentSite();\n            this.courseId = CoreNavigator.getRouteNumberParam('courseId');\n            this.userId = CoreNavigator.getRequiredRouteNumberParam('userId');\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n            CoreNavigator.back();\n\n            return;\n        }\n\n        if (this.courseId === this.site.getSiteHomeId()) {\n            // Get site profile.\n            this.courseId = undefined;\n        }\n\n        if (this.courseId && this.route.snapshot.data.swipeManagerSource === 'participants') {\n            const search = CoreNavigator.getRouteParam('search');\n            const source = CoreRoutedItemsManagerSourcesTracker.getOrCreateSource(\n                CoreUserParticipantsSource,\n                [this.courseId, search],\n            );\n            this.users = new CoreUserSwipeItemsManager(source);\n\n            this.users.start();\n        }\n\n        try {\n            await this.fetchUser();\n        } finally {\n            this.userLoaded = true;\n        }\n    }\n\n    /**\n     * Fetches the user and updates the view.\n     */\n    async fetchUser(): Promise<void> {\n        try {\n            const user = await CoreUser.getProfile(this.userId, this.courseId);\n\n            this.rolesFormatted = 'roles' in user ? CoreUserHelper.formatRoleList(user.roles) : '';\n\n            this.user = user;\n\n            // If there's already a subscription, unsubscribe because we'll get a new one.\n            this.subscription?.unsubscribe();\n\n            const context = this.courseId ? CoreUserDelegateContext.COURSE : CoreUserDelegateContext.SITE;\n\n            this.subscription = CoreUserDelegate.getProfileHandlersFor(user, context, this.courseId).subscribe((handlers) => {\n                this.actionHandlers = [];\n                this.newPageHandlers = [];\n                this.communicationHandlers = [];\n                handlers.forEach((handler) => {\n                    switch (handler.type) {\n                        case CoreUserDelegateService.TYPE_COMMUNICATION:\n                            this.communicationHandlers.push(handler.data);\n                            break;\n                        case CoreUserDelegateService.TYPE_ACTION:\n                            this.actionHandlers.push(handler.data);\n                            break;\n                        case CoreUserDelegateService.TYPE_NEW_PAGE:\n                        default:\n                            this.newPageHandlers.push(handler.data);\n                            break;\n                    }\n                });\n\n                this.isLoadingHandlers = !CoreUserDelegate.areHandlersLoaded(user.id, context, this.courseId);\n            });\n\n            this.logView(user);\n        } catch (error) {\n            // Error is null for deleted users, do not show the modal.\n            CoreDomUtils.showErrorModal(error);\n        }\n    }\n\n    /**\n     * Refresh the user.\n     *\n     * @param event Event.\n     * @returns Promise resolved when done.\n     */\n    async refreshUser(event?: HTMLIonRefresherElement): Promise<void> {\n        await CoreUtils.ignoreErrors(Promise.all([\n            CoreUser.invalidateUserCache(this.userId),\n            CoreCourses.invalidateUserNavigationOptions(),\n            CoreCourses.invalidateUserAdministrationOptions(),\n        ]));\n\n        await this.fetchUser();\n\n        event?.complete();\n\n        if (this.user) {\n            CoreEvents.trigger(USER_PROFILE_REFRESHED, {\n                courseId: this.courseId,\n                userId: this.userId,\n                user: this.user,\n            }, this.site?.getId());\n        }\n    }\n\n    /**\n     * Open the page with the user details.\n     */\n    openUserDetails(): void {\n        CoreNavigator.navigateToSitePath('user/about', {\n            params: {\n                courseId: this.courseId,\n                userId: this.userId,\n            },\n        });\n    }\n\n    /**\n     * A handler was clicked.\n     *\n     * @param event Click event.\n     * @param handler Handler that was clicked.\n     */\n    handlerClicked(event: Event, handler: CoreUserProfileHandlerData): void {\n        if (!this.user) {\n            return;\n        }\n\n        const context = this.courseId ? CoreUserDelegateContext.COURSE : CoreUserDelegateContext.SITE;\n        handler.action(event, this.user, context, this.courseId);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        this.users?.destroy();\n        this.subscription?.unsubscribe();\n        this.obsProfileRefreshed.off();\n    }\n\n}\n\n/**\n * Helper to manage swiping within a collection of users.\n */\nclass CoreUserSwipeItemsManager extends CoreSwipeNavigationItemsManager {\n\n    /**\n     * @inheritdoc\n     */\n    protected getSelectedItemPathFromRoute(route: ActivatedRouteSnapshot): string | null {\n        return route.params.userId;\n    }\n\n}\n","<ion-header collapsible>\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button [text]=\"'core.back' | translate\" />\n        </ion-buttons>\n        <ion-title>\n            <h1>{{ user?.fullname }}</h1>\n        </ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content [core-swipe-navigation]=\"users\" class=\"limited-width\">\n    <ion-refresher slot=\"fixed\" [disabled]=\"!userLoaded\" (ionRefresh)=\"refreshUser($event.target)\">\n        <ion-refresher-content pullingText=\"{{ 'core.pulltorefresh' | translate }}\" />\n    </ion-refresher>\n    <core-loading [hideUntil]=\"userLoaded\">\n        <ion-list *ngIf=\"user && !isDeleted && isEnrolled\">\n            <ion-item class=\"core-user-profile-maininfo ion-text-wrap\" collapsible>\n                <core-user-avatar [user]=\"user\" [userId]=\"user.id\" [linkProfile]=\"false\" [checkOnline]=\"true\" slot=\"start\" />\n                <ion-label>\n                    <h1>{{ user.fullname }}</h1>\n                    <p *ngIf=\"user.address\">\n                        <ion-icon name=\"fas-location-dot\" [attr.aria-hidden]=\"true\" /> {{ user.address }}\n                    </p>\n                    <p *ngIf=\"rolesFormatted\">\n                        <strong>{{ 'core.user.roles' | translate}}</strong>{{'core.labelsep' | translate}}\n                        {{ rolesFormatted }}\n                    </p>\n                    <p *ngIf=\"user.lastaccess !== undefined\">\n                        <strong>{{ 'core.lastaccess' | translate }}: </strong>\n                        <span *ngIf=\"user.lastaccess\">{{ user.lastaccess | coreTimeAgo }}</span>\n                        <ng-container *ngIf=\"!user.lastaccess\">{{ 'core.never' | translate }}</ng-container>\n                    </p>\n                </ion-label>\n            </ion-item>\n\n            <div class=\"core-user-communication-handlers\"\n                *ngIf=\"(communicationHandlers && communicationHandlers.length) || isLoadingHandlers\">\n                <ion-item *ngIf=\"communicationHandlers && communicationHandlers.length\">\n                    <ion-label>\n                        <ion-button *ngFor=\"let handler of communicationHandlers\" expand=\"block\" size=\"default\"\n                            [ngClass]=\"['core-user-profile-handler', handler.class || '']\" (click)=\"handlerClicked($event, handler)\"\n                            [hidden]=\"handler.hidden\" [attr.aria-label]=\"handler.title | translate\" [disabled]=\"handler.spinner\">\n                            <ion-icon *ngIf=\"handler.icon\" [name]=\"handler.icon\" slot=\"start\" aria-hidden=\"true\" />\n                            {{ handler.title | translate }}\n                        </ion-button>\n                    </ion-label>\n                </ion-item>\n                <div *ngIf=\"isLoadingHandlers\" class=\"ion-text-center core-loading-handlers\">\n                    <ion-spinner [attr.aria-label]=\"'core.loading' | translate\" />\n                </div>\n            </div>\n            <ion-item button class=\"ion-text-wrap core-user-profile-handler\" (click)=\"openUserDetails()\"\n                [attr.aria-label]=\"'core.user.details' | translate\" [detail]=\"true\">\n                <ion-icon name=\"fas-user\" slot=\"start\" aria-hidden=\"true\" />\n                <ion-label>\n                    <p class=\"item-heading\">{{ 'core.user.details' | translate }}</p>\n                </ion-label>\n            </ion-item>\n            <ion-item class=\"ion-text-center core-loading-handlers\" *ngIf=\"isLoadingHandlers\">\n                <ion-label>\n                    <ion-spinner [attr.aria-label]=\"'core.loading' | translate\" />\n                </ion-label>\n            </ion-item>\n            <ion-item button *ngFor=\"let handler of newPageHandlers\" class=\"ion-text-wrap\" (click)=\"handlerClicked($event, handler)\"\n                [ngClass]=\"['core-user-profile-handler', handler.class || '']\" [hidden]=\"handler.hidden\"\n                [attr.aria-label]=\"handler.title | translate\" [detail]=\"true\">\n                <ion-icon *ngIf=\"handler.icon\" [name]=\"handler.icon\" slot=\"start\" aria-hidden=\"true\" />\n                <ion-label>\n                    <p class=\"item-heading\">{{ handler.title | translate }}</p>\n                </ion-label>\n                <ion-badge slot=\"end\" *ngIf=\"handler.showBadge\" [hidden]=\"handler.loading || !handler.badge\" aria-hidden=\"true\">\n                    {{handler.badge}}\n                </ion-badge>\n                <span *ngIf=\"handler.showBadge && handler.badge && handler.badgeA11yText\" class=\"sr-only\">\n                    {{ handler.badgeA11yText | translate: {$a : handler.badge } }}\n                </span>\n                <ion-spinner slot=\"end\" *ngIf=\"handler.showBadge && handler.loading\" [attr.aria-label]=\"'core.loading' | translate\" />\n            </ion-item>\n            <ion-item *ngIf=\"actionHandlers && actionHandlers.length\">\n                <ion-label>\n                    <ion-button *ngFor=\"let handler of actionHandlers\" expand=\"block\" fill=\"outline\" size=\"default\"\n                        [ngClass]=\"['core-user-profile-handler', handler.class || '']\" (click)=\"handlerClicked($event, handler)\"\n                        [hidden]=\"handler.hidden\" [attr.aria-label]=\"handler.title | translate\" [disabled]=\"handler.spinner\">\n                        <ion-icon *ngIf=\"handler.icon\" [name]=\"handler.icon\" slot=\"start\" aria-hidden=\"true\" />\n                        {{ handler.title | translate }}\n                        <ion-spinner *ngIf=\"handler.spinner\" slot=\"end\" [attr.aria-label]=\"'core.loading' | translate\" />\n                    </ion-button>\n                </ion-label>\n            </ion-item>\n        </ion-list>\n        <core-empty-box *ngIf=\"!user && !isDeleted && isEnrolled\" icon=\"far-user\"\n            [message]=\" 'core.user.detailsnotavailable' | translate\" />\n        <core-empty-box *ngIf=\"isDeleted\" icon=\"far-user\" [message]=\"'core.userdeleted' | translate\" />\n        <core-empty-box *ngIf=\"isSuspended\" icon=\"far-user\" [message]=\"'core.usersuspended' | translate\" />\n        <core-empty-box *ngIf=\"!isEnrolled\" icon=\"far-user\" [message]=\"'core.notenrolledprofile' | translate\" />\n    </core-loading>\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}