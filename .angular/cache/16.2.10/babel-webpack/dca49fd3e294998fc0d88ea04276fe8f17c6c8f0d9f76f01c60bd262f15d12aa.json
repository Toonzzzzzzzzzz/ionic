{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { PopoverController } from '@singletons';\nimport { CoreEvents } from '@singletons/events';\nimport { AddonModForum, AddonModForumProvider } from '../../services/forum';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../../../../../core/directives/fa-icon\";\nimport * as i3 from \"../../../../../core/directives/content\";\nimport * as i4 from \"@ionic/angular\";\nimport * as i5 from \"@ngx-translate/core\";\nfunction AddonModForumDiscussionOptionsMenuComponent_ion_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 1);\n    i0.ɵɵlistener(\"click\", function AddonModForumDiscussionOptionsMenuComponent_ion_item_2_Template_ion_item_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.setLockState(true));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 2);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"p\", 3);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, \"addon.mod_forum.lockdiscussion\"));\n  }\n}\nfunction AddonModForumDiscussionOptionsMenuComponent_ion_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 1);\n    i0.ɵɵlistener(\"click\", function AddonModForumDiscussionOptionsMenuComponent_ion_item_3_Template_ion_item_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.setLockState(false));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 4);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"p\", 3);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, \"addon.mod_forum.unlockdiscussion\"));\n  }\n}\nfunction AddonModForumDiscussionOptionsMenuComponent_ion_item_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 1);\n    i0.ɵɵlistener(\"click\", function AddonModForumDiscussionOptionsMenuComponent_ion_item_4_Template_ion_item_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.setPinState(true));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 5);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"p\", 3);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, \"addon.mod_forum.pindiscussion\"));\n  }\n}\nfunction AddonModForumDiscussionOptionsMenuComponent_ion_item_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 1);\n    i0.ɵɵlistener(\"click\", function AddonModForumDiscussionOptionsMenuComponent_ion_item_5_Template_ion_item_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.setPinState(false));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 6);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"p\", 3);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, \"addon.mod_forum.unpindiscussion\"));\n  }\n}\nfunction AddonModForumDiscussionOptionsMenuComponent_ion_item_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 1);\n    i0.ɵɵlistener(\"click\", function AddonModForumDiscussionOptionsMenuComponent_ion_item_6_Template_ion_item_click_0_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.toggleFavouriteState(true));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 7);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"p\", 3);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, \"addon.mod_forum.addtofavourites\"));\n  }\n}\nfunction AddonModForumDiscussionOptionsMenuComponent_ion_item_7_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 1);\n    i0.ɵɵlistener(\"click\", function AddonModForumDiscussionOptionsMenuComponent_ion_item_7_Template_ion_item_click_0_listener() {\n      i0.ɵɵrestoreView(_r17);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.toggleFavouriteState(false));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 8);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"p\", 3);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, \"addon.mod_forum.removefromfavourites\"));\n  }\n}\n/**\n * This component is meant to display a popover with the discussion options.\n */\nexport class AddonModForumDiscussionOptionsMenuComponent {\n  constructor() {\n    this.canPin = false;\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!AddonModForum.isSetPinStateAvailableForSite()) {\n        _this.canPin = false;\n        return;\n      }\n      // Use the canAddDiscussion WS to check if the user can pin discussions.\n      try {\n        const response = yield AddonModForum.canAddDiscussionToAll(_this.forumId, {\n          cmId: _this.cmId\n        });\n        _this.canPin = !!response.canpindiscussions;\n      } catch (error) {\n        _this.canPin = false;\n      }\n    })();\n  }\n  /**\n   * Lock or unlock the discussion.\n   *\n   * @param locked True to lock the discussion, false to unlock.\n   */\n  setLockState(locked) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield CoreDomUtils.showModalLoading('core.sending', true);\n      try {\n        const response = yield AddonModForum.setLockState(_this2.forumId, _this2.discussion.discussion, locked);\n        const data = {\n          forumId: _this2.forumId,\n          discussionId: _this2.discussion.discussion,\n          cmId: _this2.cmId,\n          locked: response.locked\n        };\n        CoreEvents.trigger(AddonModForumProvider.CHANGE_DISCUSSION_EVENT, data, CoreSites.getCurrentSiteId());\n        PopoverController.dismiss({\n          action: 'lock',\n          value: locked\n        });\n        CoreDomUtils.showToast('addon.mod_forum.lockupdated', true);\n      } catch (error) {\n        CoreDomUtils.showErrorModal(error);\n        PopoverController.dismiss();\n      } finally {\n        modal.dismiss();\n      }\n    })();\n  }\n  /**\n   * Pin or unpin the discussion.\n   *\n   * @param pinned True to pin the discussion, false to unpin it.\n   */\n  setPinState(pinned) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield CoreDomUtils.showModalLoading('core.sending', true);\n      try {\n        yield AddonModForum.setPinState(_this3.discussion.discussion, pinned);\n        const data = {\n          forumId: _this3.forumId,\n          discussionId: _this3.discussion.discussion,\n          cmId: _this3.cmId,\n          pinned: pinned\n        };\n        CoreEvents.trigger(AddonModForumProvider.CHANGE_DISCUSSION_EVENT, data, CoreSites.getCurrentSiteId());\n        PopoverController.dismiss({\n          action: 'pin',\n          value: pinned\n        });\n        CoreDomUtils.showToast('addon.mod_forum.pinupdated', true);\n      } catch (error) {\n        CoreDomUtils.showErrorModal(error);\n        PopoverController.dismiss();\n      } finally {\n        modal.dismiss();\n      }\n    })();\n  }\n  /**\n   * Star or unstar the discussion.\n   *\n   * @param starred True to star the discussion, false to unstar it.\n   */\n  toggleFavouriteState(starred) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const modal = yield CoreDomUtils.showModalLoading('core.sending', true);\n      try {\n        yield AddonModForum.toggleFavouriteState(_this4.discussion.discussion, starred);\n        const data = {\n          forumId: _this4.forumId,\n          discussionId: _this4.discussion.discussion,\n          cmId: _this4.cmId,\n          starred: starred\n        };\n        CoreEvents.trigger(AddonModForumProvider.CHANGE_DISCUSSION_EVENT, data, CoreSites.getCurrentSiteId());\n        PopoverController.dismiss({\n          action: 'star',\n          value: starred\n        });\n        CoreDomUtils.showToast('addon.mod_forum.favouriteupdated', true);\n      } catch (error) {\n        CoreDomUtils.showErrorModal(error);\n        PopoverController.dismiss();\n      } finally {\n        modal.dismiss();\n      }\n    })();\n  }\n}\n_class = AddonModForumDiscussionOptionsMenuComponent;\n_class.ɵfac = function AddonModForumDiscussionOptionsMenuComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"addon-forum-discussion-options-menu\"]],\n  inputs: {\n    discussion: \"discussion\",\n    forumId: \"forumId\",\n    cmId: \"cmId\"\n  },\n  decls: 8,\n  vars: 6,\n  consts: [[\"button\", \"\", \"class\", \"ion-text-wrap\", 3, \"detail\", \"click\", 4, \"ngIf\"], [\"button\", \"\", 1, \"ion-text-wrap\", 3, \"detail\", \"click\"], [\"name\", \"fas-lock\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [1, \"item-heading\"], [\"name\", \"fas-unlock\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [\"name\", \"fas-map-pin\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [\"name\", \"fas-map-pin\", \"slot\", \"start\", \"aria-hidden\", \"true\", 1, \"icon-slash\"], [\"name\", \"fas-star\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [\"name\", \"fas-star\", \"slot\", \"start\", \"aria-hidden\", \"true\", 1, \"icon-slash\"]],\n  template: function AddonModForumDiscussionOptionsMenuComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-content\")(1, \"ion-list\");\n      i0.ɵɵtemplate(2, AddonModForumDiscussionOptionsMenuComponent_ion_item_2_Template, 6, 4, \"ion-item\", 0);\n      i0.ɵɵtemplate(3, AddonModForumDiscussionOptionsMenuComponent_ion_item_3_Template, 6, 4, \"ion-item\", 0);\n      i0.ɵɵtemplate(4, AddonModForumDiscussionOptionsMenuComponent_ion_item_4_Template, 6, 4, \"ion-item\", 0);\n      i0.ɵɵtemplate(5, AddonModForumDiscussionOptionsMenuComponent_ion_item_5_Template, 6, 4, \"ion-item\", 0);\n      i0.ɵɵtemplate(6, AddonModForumDiscussionOptionsMenuComponent_ion_item_6_Template, 6, 4, \"ion-item\", 0);\n      i0.ɵɵtemplate(7, AddonModForumDiscussionOptionsMenuComponent_ion_item_7_Template, 6, 4, \"ion-item\", 0);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.discussion.canlock && !ctx.discussion.locked);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.discussion.canlock && ctx.discussion.locked);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.canPin && !ctx.discussion.pinned);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.canPin && ctx.discussion.pinned);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.discussion.canfavourite && !ctx.discussion.starred);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.discussion.canfavourite && ctx.discussion.starred);\n    }\n  },\n  dependencies: [i1.NgIf, i2.CoreFaIconDirective, i3.CoreContentDirective, i4.IonContent, i4.IonIcon, i4.IonItem, i4.IonLabel, i4.IonList, i5.TranslatePipe],\n  encapsulation: 2\n});","map":{"version":3,"names":["CoreSites","CoreDomUtils","PopoverController","CoreEvents","AddonModForum","AddonModForumProvider","i0","ɵɵelementStart","ɵɵlistener","AddonModForumDiscussionOptionsMenuComponent_ion_item_2_Template_ion_item_click_0_listener","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","setLockState","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","AddonModForumDiscussionOptionsMenuComponent_ion_item_3_Template_ion_item_click_0_listener","_r9","ctx_r8","AddonModForumDiscussionOptionsMenuComponent_ion_item_4_Template_ion_item_click_0_listener","_r11","ctx_r10","setPinState","AddonModForumDiscussionOptionsMenuComponent_ion_item_5_Template_ion_item_click_0_listener","_r13","ctx_r12","AddonModForumDiscussionOptionsMenuComponent_ion_item_6_Template_ion_item_click_0_listener","_r15","ctx_r14","toggleFavouriteState","AddonModForumDiscussionOptionsMenuComponent_ion_item_7_Template_ion_item_click_0_listener","_r17","ctx_r16","AddonModForumDiscussionOptionsMenuComponent","constructor","canPin","ngOnInit","_this","_asyncToGenerator","isSetPinStateAvailableForSite","response","canAddDiscussionToAll","forumId","cmId","canpindiscussions","error","locked","_this2","modal","showModalLoading","discussion","data","discussionId","trigger","CHANGE_DISCUSSION_EVENT","getCurrentSiteId","dismiss","action","value","showToast","showErrorModal","pinned","_this3","starred","_this4","selectors","inputs","decls","vars","consts","template","AddonModForumDiscussionOptionsMenuComponent_Template","rf","ctx","ɵɵtemplate","AddonModForumDiscussionOptionsMenuComponent_ion_item_2_Template","AddonModForumDiscussionOptionsMenuComponent_ion_item_3_Template","AddonModForumDiscussionOptionsMenuComponent_ion_item_4_Template","AddonModForumDiscussionOptionsMenuComponent_ion_item_5_Template","AddonModForumDiscussionOptionsMenuComponent_ion_item_6_Template","AddonModForumDiscussionOptionsMenuComponent_ion_item_7_Template","canlock","canfavourite"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/forum/components/discussion-options-menu/discussion-options-menu.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/forum/components/discussion-options-menu/discussion-options-menu.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input, OnInit } from '@angular/core';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { PopoverController } from '@singletons';\nimport { CoreEvents } from '@singletons/events';\nimport { AddonModForum, AddonModForumDiscussion, AddonModForumProvider } from '../../services/forum';\n\n/**\n * This component is meant to display a popover with the discussion options.\n */\n@Component({\n    selector: 'addon-forum-discussion-options-menu',\n    templateUrl: 'discussion-options-menu.html',\n})\nexport class AddonModForumDiscussionOptionsMenuComponent implements OnInit {\n\n    @Input() discussion!: AddonModForumDiscussion; // The discussion.\n    @Input() forumId!: number; // The forum Id.\n    @Input() cmId!: number; // The component module Id.\n\n    canPin = false;\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        if (!AddonModForum.isSetPinStateAvailableForSite()) {\n            this.canPin = false;\n\n            return;\n        }\n\n        // Use the canAddDiscussion WS to check if the user can pin discussions.\n        try {\n            const response = await AddonModForum.canAddDiscussionToAll(this.forumId, { cmId: this.cmId });\n\n            this.canPin = !!response.canpindiscussions;\n        } catch (error) {\n            this.canPin = false;\n        }\n    }\n\n    /**\n     * Lock or unlock the discussion.\n     *\n     * @param locked True to lock the discussion, false to unlock.\n     */\n    async setLockState(locked: boolean): Promise<void> {\n        const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n        try {\n            const response = await AddonModForum.setLockState(this.forumId, this.discussion.discussion, locked);\n            const data = {\n                forumId: this.forumId,\n                discussionId: this.discussion.discussion,\n                cmId: this.cmId,\n                locked: response.locked,\n            };\n\n            CoreEvents.trigger(AddonModForumProvider.CHANGE_DISCUSSION_EVENT, data, CoreSites.getCurrentSiteId());\n            PopoverController.dismiss({ action: 'lock', value: locked });\n            CoreDomUtils.showToast('addon.mod_forum.lockupdated', true);\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n            PopoverController.dismiss();\n        } finally {\n            modal.dismiss();\n        }\n    }\n\n    /**\n     * Pin or unpin the discussion.\n     *\n     * @param pinned True to pin the discussion, false to unpin it.\n     */\n    async setPinState(pinned: boolean): Promise<void> {\n        const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n        try {\n            await AddonModForum.setPinState(this.discussion.discussion, pinned);\n\n            const data = {\n                forumId: this.forumId,\n                discussionId: this.discussion.discussion,\n                cmId: this.cmId,\n                pinned: pinned,\n            };\n\n            CoreEvents.trigger(AddonModForumProvider.CHANGE_DISCUSSION_EVENT, data, CoreSites.getCurrentSiteId());\n            PopoverController.dismiss({ action: 'pin', value: pinned });\n            CoreDomUtils.showToast('addon.mod_forum.pinupdated', true);\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n            PopoverController.dismiss();\n        } finally {\n            modal.dismiss();\n        }\n    }\n\n    /**\n     * Star or unstar the discussion.\n     *\n     * @param starred True to star the discussion, false to unstar it.\n     */\n    async toggleFavouriteState(starred: boolean): Promise<void> {\n        const modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n        try {\n            await AddonModForum.toggleFavouriteState(this.discussion.discussion, starred);\n\n            const data = {\n                forumId: this.forumId,\n                discussionId: this.discussion.discussion,\n                cmId: this.cmId,\n                starred: starred,\n            };\n\n            CoreEvents.trigger(AddonModForumProvider.CHANGE_DISCUSSION_EVENT, data, CoreSites.getCurrentSiteId());\n            PopoverController.dismiss({ action: 'star', value: starred });\n            CoreDomUtils.showToast('addon.mod_forum.favouriteupdated', true);\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n            PopoverController.dismiss();\n        } finally {\n            modal.dismiss();\n        }\n    }\n\n}\n","<ion-content>\n    <ion-list>\n        <ion-item button class=\"ion-text-wrap\" (click)=\"setLockState(true)\" *ngIf=\"discussion.canlock && !discussion.locked\"\n            [detail]=\"false\">\n            <ion-icon name=\"fas-lock\" slot=\"start\" aria-hidden=\"true\" />\n            <ion-label>\n                <p class=\"item-heading\">{{ 'addon.mod_forum.lockdiscussion' | translate }}</p>\n            </ion-label>\n        </ion-item>\n        <ion-item button class=\"ion-text-wrap\" (click)=\"setLockState(false)\" *ngIf=\"discussion.canlock && discussion.locked\"\n            [detail]=\"false\">\n            <ion-icon name=\"fas-unlock\" slot=\"start\" aria-hidden=\"true\" />\n            <ion-label>\n                <p class=\"item-heading\">{{ 'addon.mod_forum.unlockdiscussion' | translate }}</p>\n            </ion-label>\n        </ion-item>\n        <ion-item button class=\"ion-text-wrap\" (click)=\"setPinState(true)\" *ngIf=\"canPin && !discussion.pinned\" [detail]=\"false\">\n            <ion-icon name=\"fas-map-pin\" slot=\"start\" aria-hidden=\"true\" />\n            <ion-label>\n                <p class=\"item-heading\">{{ 'addon.mod_forum.pindiscussion' | translate }}</p>\n            </ion-label>\n        </ion-item>\n        <ion-item button class=\"ion-text-wrap\" (click)=\"setPinState(false)\" *ngIf=\"canPin && discussion.pinned\" [detail]=\"false\">\n            <ion-icon name=\"fas-map-pin\" slot=\"start\" class=\"icon-slash\" aria-hidden=\"true\" />\n            <ion-label>\n                <p class=\"item-heading\">{{ 'addon.mod_forum.unpindiscussion' | translate }}</p>\n            </ion-label>\n        </ion-item>\n        <ion-item button class=\"ion-text-wrap\" (click)=\"toggleFavouriteState(true)\" *ngIf=\"discussion.canfavourite && !discussion.starred\"\n            [detail]=\"false\">\n            <ion-icon name=\"fas-star\" slot=\"start\" aria-hidden=\"true\" />\n            <ion-label>\n                <p class=\"item-heading\">{{ 'addon.mod_forum.addtofavourites' | translate }}</p>\n            </ion-label>\n        </ion-item>\n        <ion-item button class=\"ion-text-wrap\" (click)=\"toggleFavouriteState(false)\" *ngIf=\"discussion.canfavourite && discussion.starred\"\n            [detail]=\"false\">\n            <ion-icon name=\"fas-star\" slot=\"start\" class=\"icon-slash\" aria-hidden=\"true\" />\n            <ion-label>\n                <p class=\"item-heading\">{{ 'addon.mod_forum.removefromfavourites' | translate }}</p>\n            </ion-label>\n        </ion-item>\n    </ion-list>\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}