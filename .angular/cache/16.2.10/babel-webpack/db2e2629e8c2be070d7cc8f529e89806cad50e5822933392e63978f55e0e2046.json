{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreUser } from '@features/user/services/user';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { AddonModWorkshopHelper } from '../../services/workshop-helper';\nimport { AddonModWorkshopOffline } from '../../services/workshop-offline';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../../../../../core/components/loading/loading\";\nimport * as i3 from \"../../../../../core/components/user-avatar/user-avatar\";\nimport * as i4 from \"../../../../../core/directives/fa-icon\";\nimport * as i5 from \"../../../../../core/directives/update-non-reactive-attributes\";\nimport * as i6 from \"@ionic/angular\";\nimport * as i7 from \"@ngx-translate/core\";\nfunction AddonModWorkshopAssessmentComponent_h2_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"h2\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.profile.fullname);\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    $a: a0\n  };\n};\nfunction AddonModWorkshopAssessmentComponent_p_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(2, 2, \"addon.mod_workshop.submissiongradeof\", i0.ɵɵpureFunction1(5, _c0, ctx_r1.workshop.grade)), \": \", ctx_r1.assessment.grade, \" \");\n  }\n}\nfunction AddonModWorkshopAssessmentComponent_p_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(2, 2, \"addon.mod_workshop.gradinggradeof\", i0.ɵɵpureFunction1(5, _c0, ctx_r2.workshop.gradinggrade)), \": \", ctx_r2.assessment.gradinggrade, \" \");\n  }\n}\nfunction AddonModWorkshopAssessmentComponent_p_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 8);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate2(\" \", i0.ɵɵpipeBind2(2, 2, \"addon.mod_workshop.gradinggradeof\", i0.ɵɵpureFunction1(5, _c0, ctx_r3.workshop.gradinggrade)), \": \", ctx_r3.assessment.gradinggradeover, \" \");\n  }\n}\nfunction AddonModWorkshopAssessmentComponent_p_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, \"addon.mod_workshop.weightinfo\", i0.ɵɵpureFunction1(4, _c0, ctx_r4.assessment.weight)), \" \");\n  }\n}\nfunction AddonModWorkshopAssessmentComponent_ion_badge_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"addon.mod_workshop.notassessed\"));\n  }\n}\nfunction AddonModWorkshopAssessmentComponent_ion_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 10);\n    i0.ɵɵlistener(\"click\", function AddonModWorkshopAssessmentComponent_ion_button_10_Template_ion_button_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.gotoOwnAssessment($event));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"addon.mod_workshop.assess\"), \" \");\n  }\n}\nfunction AddonModWorkshopAssessmentComponent_ion_note_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-note\", 11);\n    i0.ɵɵelement(1, \"ion-icon\", 12);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i0.ɵɵpipeBind1(3, 1, \"core.notsent\"), \" \");\n  }\n}\n/**\n * Component that displays workshop assessment.\n */\nexport class AddonModWorkshopAssessmentComponent {\n  constructor() {\n    this.canViewAssessment = false;\n    this.canSelfAssess = false;\n    this.offline = false;\n    this.loaded = false;\n    this.currentUserId = CoreSites.getCurrentSiteUserId();\n    this.showGrade = AddonModWorkshopHelper.showGrade;\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    const canAssess = this.access && this.access.assessingallowed;\n    const userId = this.assessment.reviewerid;\n    const promises = [];\n    this.assessmentId = this.assessment.id;\n    this.canViewAssessment = !!this.assessment.grade;\n    this.canSelfAssess = canAssess && userId == this.currentUserId;\n    if (userId) {\n      promises.push(CoreUser.getProfile(userId, this.courseId, true).then(profile => {\n        this.profile = profile;\n        return;\n      }));\n    }\n    let assessOffline;\n    if (userId == this.currentUserId) {\n      assessOffline = AddonModWorkshopOffline.getAssessment(this.workshop.id, this.assessmentId).then(offlineAssess => {\n        this.offline = true;\n        this.assessment.weight = offlineAssess.inputdata.weight;\n        return;\n      });\n    } else {\n      assessOffline = AddonModWorkshopOffline.getEvaluateAssessment(this.workshop.id, this.assessmentId).then(offlineAssess => {\n        this.offline = true;\n        this.assessment.gradinggradeover = offlineAssess.gradinggradeover;\n        this.assessment.weight = offlineAssess.weight;\n        return;\n      });\n    }\n    promises.push(assessOffline.catch(() => {\n      this.offline = false;\n      // Ignore errors.\n    }));\n\n    Promise.all(promises).finally(() => {\n      this.loaded = true;\n    });\n  }\n  /**\n   * Navigate to the assessment.\n   */\n  gotoAssessment(event) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.canSelfAssess && _this.canViewAssessment) {\n        event.preventDefault();\n        event.stopPropagation();\n        const params = {\n          assessment: _this.assessment,\n          submission: _this.submission,\n          profile: _this.profile\n        };\n        if (!_this.submission) {\n          const modal = yield CoreDomUtils.showModalLoading();\n          try {\n            params.submission = yield AddonModWorkshopHelper.getSubmissionById(_this.workshop.id, _this.assessment.submissionid, {\n              cmId: _this.workshop.coursemodule\n            });\n            CoreNavigator.navigate(String(_this.assessmentId), {\n              params\n            });\n          } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Cannot load submission');\n          } finally {\n            modal.dismiss();\n          }\n        } else {\n          CoreNavigator.navigate(String(_this.assessmentId), {\n            params\n          });\n        }\n      }\n    })();\n  }\n  /**\n   * Navigate to my own assessment.\n   */\n  gotoOwnAssessment(event) {\n    if (!this.canSelfAssess) {\n      return;\n    }\n    event.preventDefault();\n    event.stopPropagation();\n    const params = {\n      module: this.module,\n      workshop: this.workshop,\n      access: this.access,\n      profile: this.profile,\n      submission: this.submission,\n      assessment: this.assessment\n    };\n    CoreNavigator.navigate(String(this.submission.id), params);\n  }\n}\n_class = AddonModWorkshopAssessmentComponent;\n_class.ɵfac = function AddonModWorkshopAssessmentComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"addon-mod-workshop-assessment\"]],\n  inputs: {\n    assessment: \"assessment\",\n    courseId: \"courseId\",\n    workshop: \"workshop\",\n    access: \"access\",\n    submission: \"submission\",\n    module: \"module\"\n  },\n  decls: 12,\n  vars: 14,\n  consts: [[3, \"hideUntil\"], [1, \"ion-text-wrap\", 3, \"detail\", \"button\", \"click\"], [\"slot\", \"start\", 3, \"user\", \"courseId\", \"userId\"], [4, \"ngIf\"], [\"class\", \"core-overriden-grade\", 4, \"ngIf\"], [\"color\", \"danger\", 4, \"ngIf\"], [\"expand\", \"block\", 3, \"click\", 4, \"ngIf\"], [\"slot\", \"end\", 4, \"ngIf\"], [1, \"core-overriden-grade\"], [\"color\", \"danger\"], [\"expand\", \"block\", 3, \"click\"], [\"slot\", \"end\"], [\"name\", \"fas-clock\", \"aria-hidden\", \"true\"]],\n  template: function AddonModWorkshopAssessmentComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"core-loading\", 0)(1, \"ion-item\", 1);\n      i0.ɵɵlistener(\"click\", function AddonModWorkshopAssessmentComponent_Template_ion_item_click_1_listener($event) {\n        return ctx.gotoAssessment($event);\n      });\n      i0.ɵɵelement(2, \"core-user-avatar\", 2);\n      i0.ɵɵelementStart(3, \"ion-label\");\n      i0.ɵɵtemplate(4, AddonModWorkshopAssessmentComponent_h2_4_Template, 2, 1, \"h2\", 3);\n      i0.ɵɵtemplate(5, AddonModWorkshopAssessmentComponent_p_5_Template, 3, 7, \"p\", 3);\n      i0.ɵɵtemplate(6, AddonModWorkshopAssessmentComponent_p_6_Template, 3, 7, \"p\", 3);\n      i0.ɵɵtemplate(7, AddonModWorkshopAssessmentComponent_p_7_Template, 3, 7, \"p\", 4);\n      i0.ɵɵtemplate(8, AddonModWorkshopAssessmentComponent_p_8_Template, 3, 6, \"p\", 3);\n      i0.ɵɵtemplate(9, AddonModWorkshopAssessmentComponent_ion_badge_9_Template, 3, 3, \"ion-badge\", 5);\n      i0.ɵɵtemplate(10, AddonModWorkshopAssessmentComponent_ion_button_10_Template, 3, 3, \"ion-button\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(11, AddonModWorkshopAssessmentComponent_ion_note_11_Template, 4, 3, \"ion-note\", 7);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"hideUntil\", ctx.loaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"detail\", ctx.canViewAssessment && !ctx.canSelfAssess)(\"button\", ctx.canViewAssessment && !ctx.canSelfAssess);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"user\", ctx.profile)(\"courseId\", ctx.courseId)(\"userId\", ctx.profile == null ? null : ctx.profile.id);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.profile && ctx.profile.fullname);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showGrade(ctx.assessment.grade));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.access.canviewallsubmissions && !ctx.showGrade(ctx.assessment.gradinggradeover) && ctx.showGrade(ctx.assessment.gradinggrade));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.access.canviewallsubmissions && ctx.showGrade(ctx.assessment.gradinggradeover));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.assessment.weight && ctx.assessment.weight !== 1);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.assessment.grade);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.canSelfAssess && !ctx.showGrade(ctx.assessment.grade));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.offline);\n    }\n  },\n  dependencies: [i1.NgIf, i2.CoreLoadingComponent, i3.CoreUserAvatarComponent, i4.CoreFaIconDirective, i5.CoreUpdateNonReactiveAttributesDirective, i6.IonBadge, i6.IonButton, i6.IonIcon, i6.IonItem, i6.IonLabel, i6.IonNote, i7.TranslatePipe],\n  encapsulation: 2\n});","map":{"version":3,"names":["CoreUser","CoreNavigator","CoreSites","CoreDomUtils","AddonModWorkshopHelper","AddonModWorkshopOffline","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ctx_r0","profile","fullname","ɵɵtextInterpolate2","ɵɵpipeBind2","ɵɵpureFunction1","_c0","ctx_r1","workshop","grade","assessment","ctx_r2","gradinggrade","ctx_r3","gradinggradeover","ɵɵtextInterpolate1","ctx_r4","weight","ɵɵpipeBind1","ɵɵlistener","AddonModWorkshopAssessmentComponent_ion_button_10_Template_ion_button_click_0_listener","$event","ɵɵrestoreView","_r9","ctx_r8","ɵɵnextContext","ɵɵresetView","gotoOwnAssessment","ɵɵelement","AddonModWorkshopAssessmentComponent","constructor","canViewAssessment","canSelfAssess","offline","loaded","currentUserId","getCurrentSiteUserId","showGrade","ngOnInit","canAssess","access","assessingallowed","userId","reviewerid","promises","assessmentId","id","push","getProfile","courseId","then","assessOffline","getAssessment","offlineAssess","inputdata","getEvaluateAssessment","catch","Promise","all","finally","gotoAssessment","event","_this","_asyncToGenerator","preventDefault","stopPropagation","params","submission","modal","showModalLoading","getSubmissionById","submissionid","cmId","coursemodule","navigate","String","error","showErrorModalDefault","dismiss","module","selectors","inputs","decls","vars","consts","template","AddonModWorkshopAssessmentComponent_Template","rf","ctx","AddonModWorkshopAssessmentComponent_Template_ion_item_click_1_listener","ɵɵtemplate","AddonModWorkshopAssessmentComponent_h2_4_Template","AddonModWorkshopAssessmentComponent_p_5_Template","AddonModWorkshopAssessmentComponent_p_6_Template","AddonModWorkshopAssessmentComponent_p_7_Template","AddonModWorkshopAssessmentComponent_p_8_Template","AddonModWorkshopAssessmentComponent_ion_badge_9_Template","AddonModWorkshopAssessmentComponent_ion_button_10_Template","AddonModWorkshopAssessmentComponent_ion_note_11_Template","ɵɵproperty","canviewallsubmissions"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/workshop/components/assessment/assessment.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/workshop/components/assessment/addon-mod-workshop-assessment.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input, OnInit } from '@angular/core';\nimport { Params } from '@angular/router';\nimport { CoreCourseModuleData } from '@features/course/services/course-helper';\nimport { CoreUser, CoreUserProfile } from '@features/user/services/user';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { AddonModWorkshopData, AddonModWorkshopGetWorkshopAccessInformationWSResponse } from '../../services/workshop';\nimport {\n    AddonModWorkshopHelper,\n    AddonModWorkshopSubmissionAssessmentWithFormData,\n    AddonModWorkshopSubmissionDataWithOfflineData,\n} from '../../services/workshop-helper';\nimport { AddonModWorkshopOffline } from '../../services/workshop-offline';\n\n/**\n * Component that displays workshop assessment.\n */\n@Component({\n    selector: 'addon-mod-workshop-assessment',\n    templateUrl: 'addon-mod-workshop-assessment.html',\n})\nexport class AddonModWorkshopAssessmentComponent implements OnInit {\n\n    @Input() assessment!: AddonModWorkshopSubmissionAssessmentWithFormData;\n    @Input() courseId!: number;\n    @Input() workshop!: AddonModWorkshopData;\n    @Input() access!: AddonModWorkshopGetWorkshopAccessInformationWSResponse;\n    @Input() submission!: AddonModWorkshopSubmissionDataWithOfflineData;\n    @Input() module!: CoreCourseModuleData;\n\n    canViewAssessment = false;\n    canSelfAssess = false;\n    profile?: CoreUserProfile;\n    showGrade: (grade?: string | number) => boolean;\n    offline = false;\n    loaded = false;\n\n    protected currentUserId: number;\n    protected assessmentId?: number;\n\n    constructor() {\n        this.currentUserId = CoreSites.getCurrentSiteUserId();\n        this.showGrade = AddonModWorkshopHelper.showGrade;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnInit(): void {\n        const canAssess = this.access && this.access.assessingallowed;\n        const userId = this.assessment.reviewerid;\n        const promises: Promise<void>[] = [];\n\n        this.assessmentId = this.assessment.id;\n        this.canViewAssessment = !!this.assessment.grade;\n        this.canSelfAssess = canAssess && userId == this.currentUserId;\n\n        if (userId) {\n            promises.push(CoreUser.getProfile(userId, this.courseId, true).then((profile) => {\n                this.profile = profile;\n\n                return;\n            }));\n        }\n\n        let assessOffline: Promise<void>;\n        if (userId == this.currentUserId) {\n            assessOffline = AddonModWorkshopOffline.getAssessment(this.workshop.id, this.assessmentId) .then((offlineAssess) => {\n                this.offline = true;\n                this.assessment.weight = <number>offlineAssess.inputdata.weight;\n\n                return;\n            });\n        } else {\n            assessOffline = AddonModWorkshopOffline.getEvaluateAssessment(this.workshop.id, this.assessmentId)\n                .then((offlineAssess) => {\n                    this.offline = true;\n                    this.assessment.gradinggradeover = offlineAssess.gradinggradeover;\n                    this.assessment.weight = <number>offlineAssess.weight;\n\n                    return;\n\n                });\n        }\n\n        promises.push(assessOffline.catch(() => {\n            this.offline = false;\n            // Ignore errors.\n        }));\n\n        Promise.all(promises).finally(() => {\n            this.loaded = true;\n        });\n    }\n\n    /**\n     * Navigate to the assessment.\n     */\n    async gotoAssessment(event: Event): Promise<void> {\n        if (!this.canSelfAssess && this.canViewAssessment) {\n            event.preventDefault();\n            event.stopPropagation();\n\n            const params: Params = {\n                assessment: this.assessment,\n                submission: this.submission,\n                profile: this.profile,\n            };\n\n            if (!this.submission) {\n                const modal = await CoreDomUtils.showModalLoading();\n\n                try {\n                    params.submission = await AddonModWorkshopHelper.getSubmissionById(\n                        this.workshop.id,\n                        this.assessment.submissionid,\n                        { cmId: this.workshop.coursemodule },\n                    );\n\n                    CoreNavigator.navigate(String(this.assessmentId), { params });\n                } catch (error) {\n                    CoreDomUtils.showErrorModalDefault(error, 'Cannot load submission');\n                } finally {\n                    modal.dismiss();\n                }\n            } else {\n                CoreNavigator.navigate(String(this.assessmentId), { params });\n            }\n        }\n    }\n\n    /**\n     * Navigate to my own assessment.\n     */\n    gotoOwnAssessment(event: Event): void {\n        if (!this.canSelfAssess) {\n            return;\n        }\n        event.preventDefault();\n        event.stopPropagation();\n\n        const params: Params = {\n            module: this.module,\n            workshop: this.workshop,\n            access: this.access,\n            profile: this.profile,\n            submission: this.submission,\n            assessment: this.assessment,\n        };\n\n        CoreNavigator.navigate(String(this.submission.id), params);\n\n    }\n\n}\n","<core-loading [hideUntil]=\"loaded\">\n    <ion-item class=\"ion-text-wrap\" [detail]=\"canViewAssessment && !canSelfAssess\" (click)=\"gotoAssessment($event)\"\n        [button]=\"canViewAssessment && !canSelfAssess\">\n        <core-user-avatar [user]=\"profile\" slot=\"start\" [courseId]=\"courseId\" [userId]=\"profile?.id\" />\n        <ion-label>\n            <h2 *ngIf=\"profile && profile.fullname\">{{profile.fullname}}</h2>\n            <p *ngIf=\"showGrade(assessment.grade)\">\n                {{ 'addon.mod_workshop.submissiongradeof' | translate:{$a: workshop.grade } }}: {{assessment.grade}}\n            </p>\n            <p *ngIf=\"access.canviewallsubmissions && !showGrade(assessment.gradinggradeover) && showGrade(assessment.gradinggrade)\">\n                {{ 'addon.mod_workshop.gradinggradeof' | translate:{$a: workshop.gradinggrade } }}: {{assessment.gradinggrade}}\n            </p>\n            <p *ngIf=\"access.canviewallsubmissions && showGrade(assessment.gradinggradeover)\" class=\"core-overriden-grade\">\n                {{ 'addon.mod_workshop.gradinggradeof' | translate:{$a: workshop.gradinggrade } }}: {{assessment.gradinggradeover}}\n            </p>\n            <p *ngIf=\"assessment.weight && assessment.weight !== 1\">\n                {{ 'addon.mod_workshop.weightinfo' | translate:{$a: assessment.weight } }}\n            </p>\n            <ion-badge *ngIf=\"!assessment.grade\" color=\"danger\">{{ 'addon.mod_workshop.notassessed' | translate }}</ion-badge>\n            <ion-button expand=\"block\" *ngIf=\"canSelfAssess && !showGrade(assessment.grade)\" (click)=\"gotoOwnAssessment($event)\">\n                {{ 'addon.mod_workshop.assess' | translate }}\n            </ion-button>\n        </ion-label>\n        <ion-note slot=\"end\" *ngIf=\"offline\">\n            <ion-icon name=\"fas-clock\" aria-hidden=\"true\" />{{ 'core.notsent' | translate }}\n        </ion-note>\n    </ion-item>\n</core-loading>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}