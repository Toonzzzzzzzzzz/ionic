{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreCourse, CoreCourseModuleCompletionTracking, CoreCourseProvider } from '@features/course/services/course';\nimport { CoreCourseHelper } from '@features/course/services/course-helper';\nimport { CoreCourseFormatDelegate } from '@features/course/services/format-delegate';\nimport { CoreSites } from '@services/sites';\nimport { CoreUtils } from '@services/utils/utils';\nimport { ModalController } from '@singletons';\nimport { CoreDom } from '@singletons/dom';\nimport * as i0 from \"@angular/core\";\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 10);\n    i0.ɵɵlistener(\"click\", function CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ion_item_1_Template_ion_item_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const section_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r5.selectSectionOrModule($event, section_r2.id));\n    });\n    i0.ɵɵelementStart(1, \"ion-label\")(2, \"h2\");\n    i0.ɵɵelement(3, \"core-format-text\", 11);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const section_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"item-current\", ctx_r3.selectedId === section_r2.id);\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"text\", section_r2.name)(\"contextInstanceId\", ctx_r3.course == null ? null : ctx_r3.course.id);\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-icon\", 19);\n    i0.ɵɵlistener(\"ariaButtonClick\", function CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_2_Template_ion_icon_ariaButtonClick_0_listener($event) {\n      i0.ɵɵrestoreView(_r18);\n      const section_r2 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r16 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r16.toggleExpand($event, section_r2));\n    });\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const section_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵclassProp(\"expandable-status-icon-expanded\", section_r2.expanded);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 5, section_r2.expanded ? \"core.collapse\" : \"core.expand\"))(\"aria-expanded\", section_r2.expanded)(\"aria-controls\", \"core-course-index-section-\" + section_r2.id);\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 20);\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_badge_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 1);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r11.highlighted);\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 21);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.restricted\"));\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 22);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.notavailable\"));\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 22);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.course.hiddenfromstudents\"));\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 30);\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 31);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.course.todo\"));\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 32);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.course.done\"));\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 33);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.course.failed\"));\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 21);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.restricted\"));\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r29 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-item\", 23);\n    i0.ɵɵlistener(\"click\", function CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_Template_ion_item_click_1_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r29);\n      const module_r21 = restoredCtx.$implicit;\n      const section_r2 = i0.ɵɵnextContext(3).$implicit;\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.selectSectionOrModule($event, section_r2.id, module_r21.id));\n    });\n    i0.ɵɵtemplate(2, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_2_Template, 1, 0, \"ion-icon\", 24);\n    i0.ɵɵtemplate(3, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_3_Template, 2, 3, \"ion-icon\", 25);\n    i0.ɵɵtemplate(4, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_4_Template, 2, 3, \"ion-icon\", 26);\n    i0.ɵɵtemplate(5, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_5_Template, 2, 3, \"ion-icon\", 27);\n    i0.ɵɵelementStart(6, \"ion-label\")(7, \"p\", 28);\n    i0.ɵɵelement(8, \"core-format-text\", 29);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_9_Template, 2, 3, \"ion-icon\", 16);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const module_r21 = ctx.$implicit;\n    const section_r2 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"item-dimmed\", !module_r21.visible)(\"indented\", module_r21.indented)(\"item-hightlighted\", section_r2.highlighted);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", module_r21.completionStatus === undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", module_r21.completionStatus === 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", module_r21.completionStatus === 1 || module_r21.completionStatus === 2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", module_r21.completionStatus === 3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"text\", module_r21.name)(\"contextInstanceId\", module_r21.id)(\"courseId\", module_r21.course);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !module_r21.uservisible);\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_Template, 10, 14, \"ng-container\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const section_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", section_r2.modules);\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-item\", 12);\n    i0.ɵɵlistener(\"click\", function CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_Template_ion_item_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r34);\n      const section_r2 = i0.ɵɵnextContext().$implicit;\n      const ctx_r32 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r32.selectSectionOrModule($event, section_r2.id));\n    });\n    i0.ɵɵtemplate(2, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_2_Template, 2, 7, \"ion-icon\", 13);\n    i0.ɵɵtemplate(3, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_3_Template, 1, 0, \"ion-icon\", 14);\n    i0.ɵɵelementStart(4, \"ion-label\")(5, \"h2\");\n    i0.ɵɵelement(6, \"core-format-text\", 11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_badge_7_Template, 2, 1, \"ion-badge\", 15);\n    i0.ɵɵtemplate(8, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_8_Template, 2, 3, \"ion-icon\", 16);\n    i0.ɵɵtemplate(9, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_9_Template, 2, 3, \"ion-icon\", 17);\n    i0.ɵɵtemplate(10, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_10_Template, 2, 3, \"ion-icon\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 18);\n    i0.ɵɵtemplate(12, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_Template, 2, 1, \"ng-container\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const section_r2 = i0.ɵɵnextContext().$implicit;\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"item-current\", ctx_r4.selectedId === section_r2.id)(\"item-dimmed\", !section_r2.visible)(\"item-hightlighted\", section_r2.highlighted);\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", section_r2.hasVisibleModules);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !section_r2.hasVisibleModules);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"text\", section_r2.name)(\"contextInstanceId\", ctx_r4.course == null ? null : ctx_r4.course.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", section_r2.highlighted && ctx_r4.highlighted);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", section_r2.availabilityinfo);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !section_r2.visible && !section_r2.uservisible);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !section_r2.visible && section_r2.uservisible);\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"id\", \"core-course-index-section-\", section_r2.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", section_r2.expanded);\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ion_item_1_Template, 4, 5, \"ion-item\", 8);\n    i0.ɵɵtemplate(2, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_Template, 13, 17, \"ng-container\", 9);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const section_r2 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.allSectionId === section_r2.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.allSectionId !== section_r2.id);\n  }\n}\nfunction CoreCourseCourseIndexComponent_ion_list_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list\", 6);\n    i0.ɵɵtemplate(1, CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_Template, 3, 2, \"ng-container\", 7);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.sectionsToRender);\n  }\n}\n/**\n * Component to display course index modal.\n */\nexport class CoreCourseCourseIndexComponent {\n  constructor(elementRef) {\n    this.elementRef = elementRef;\n    this.sections = [];\n    this.allSectionId = CoreCourseProvider.ALL_SECTIONS_ID;\n    this.sectionsToRender = [];\n    this.loaded = false;\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.course || !_this.sections) {\n        _this.closeModal();\n        return;\n      }\n      let completionEnabled = !!_this.course.enablecompletion;\n      if (completionEnabled && 'completionusertracked' in _this.course && _this.course.completionusertracked !== undefined) {\n        completionEnabled = _this.course.completionusertracked;\n      }\n      if (completionEnabled && 'showcompletionconditions' in _this.course && _this.course.showcompletionconditions !== undefined) {\n        completionEnabled = _this.course.showcompletionconditions;\n      }\n      const currentSectionData = yield CoreCourseFormatDelegate.getCurrentSection(_this.course, _this.sections);\n      if (_this.selectedId === undefined) {\n        // Highlight current section if none is selected.\n        _this.selectedId = currentSectionData.section.id;\n      }\n      // Clone sections to add information.\n      const site = CoreSites.getRequiredCurrentSite();\n      const enableIndentation = yield CoreCourse.isCourseIndentationEnabled(site, _this.course.id);\n      _this.sectionsToRender = _this.sections.filter(section => !CoreCourseHelper.isSectionStealth(section)).map(section => {\n        const modules = section.modules.filter(module => _this.renderModule(section, module)).map(module => {\n          const completionStatus = !completionEnabled || module.completiondata === undefined || module.completiondata.tracking == CoreCourseModuleCompletionTracking.COMPLETION_TRACKING_NONE ? undefined : module.completiondata.state;\n          return {\n            id: module.id,\n            name: module.name,\n            course: module.course,\n            visible: !!module.visible,\n            uservisible: CoreCourseHelper.canUserViewModule(module, section),\n            indented: enableIndentation && module.indent > 0,\n            completionStatus\n          };\n        });\n        return {\n          id: section.id,\n          name: section.name,\n          availabilityinfo: !!section.availabilityinfo,\n          visible: !!section.visible,\n          uservisible: CoreCourseHelper.canUserViewSection(section),\n          expanded: section.id === _this.selectedId,\n          highlighted: currentSectionData.section.id === section.id,\n          hasVisibleModules: modules.length > 0,\n          modules: modules\n        };\n      });\n      _this.highlighted = CoreCourseFormatDelegate.getSectionHightlightedName(_this.course);\n      // Wait a bit to render the data, otherwise the modal takes a while to appear in big courses or slow devices.\n      yield CoreUtils.wait(400);\n      _this.loaded = true;\n      yield CoreUtils.nextTick();\n      CoreDom.scrollToElement(_this.elementRef.nativeElement, '.item.item-current', {\n        addYAxis: -10\n      });\n    })();\n  }\n  /**\n   * Toggle expand status.\n   *\n   * @param event Event object.\n   * @param section Section to expand / collapse.\n   */\n  toggleExpand(event, section) {\n    section.expanded = !section.expanded;\n    event.stopPropagation();\n    event.preventDefault();\n  }\n  /**\n   * Close the modal.\n   */\n  closeModal() {\n    ModalController.dismiss();\n  }\n  /**\n   * Select a section.\n   *\n   * @param event Event.\n   * @param sectionId Selected section id.\n   * @param moduleId Selected module id, if any.\n   */\n  selectSectionOrModule(event, sectionId, moduleId) {\n    ModalController.dismiss({\n      event,\n      sectionId,\n      moduleId\n    });\n  }\n  /**\n   * Check whether a module should be rendered or not.\n   *\n   * @param section Section.\n   * @param module Module\n   * @returns Whether the module should be rendered or not.\n   */\n  renderModule(section, module) {\n    if (CoreCourseHelper.isModuleStealth(module, section)) {\n      return false;\n    }\n    const site = CoreSites.getRequiredCurrentSite();\n    if (site.isVersionGreaterEqualThan('4.2')) {\n      return true;\n    }\n    return !module.noviewlink;\n  }\n}\n_class = CoreCourseCourseIndexComponent;\n_class.ɵfac = function CoreCourseCourseIndexComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i0.ElementRef));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"core-course-course-index\"]],\n  inputs: {\n    sections: \"sections\",\n    selectedId: \"selectedId\",\n    course: \"course\"\n  },\n  decls: 13,\n  vars: 8,\n  consts: [[\"id\", \"core-course-section-selector-label\"], [\"slot\", \"end\"], [\"fill\", \"clear\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"fas-xmark\", \"aria-hidden\", \"true\"], [3, \"hideUntil\"], [\"id\", \"core-course-section-selector\", \"role\", \"listbox\", \"aria-labelledby\", \"core-course-section-selector-label\", 4, \"ngIf\"], [\"id\", \"core-course-section-selector\", \"role\", \"listbox\", \"aria-labelledby\", \"core-course-section-selector-label\"], [4, \"ngFor\", \"ngForOf\"], [\"class\", \"divider core-course-index-all\", \"button\", \"\", 3, \"item-current\", \"detail\", \"click\", 4, \"ngIf\"], [4, \"ngIf\"], [\"button\", \"\", 1, \"divider\", \"core-course-index-all\", 3, \"detail\", \"click\"], [\"contextLevel\", \"course\", 3, \"text\", \"contextInstanceId\"], [\"button\", \"\", 1, \"divider\", \"section\", 3, \"detail\", \"click\"], [\"name\", \"fas-chevron-right\", \"flip-rtl\", \"\", \"slot\", \"start\", \"class\", \"expandable-status-icon\", 3, \"expandable-status-icon-expanded\", \"ariaButtonClick\", 4, \"ngIf\"], [\"name\", \"\", \"slot\", \"start\", \"aria-hidden\", \"true\", \"class\", \"expandable-status-icon\", 4, \"ngIf\"], [\"slot\", \"end\", 4, \"ngIf\"], [\"name\", \"fas-lock\", \"slot\", \"end\", \"class\", \"restricted\", 4, \"ngIf\"], [\"name\", \"fas-eye-slash\", \"slot\", \"end\", \"class\", \"restricted\", 4, \"ngIf\"], [3, \"id\"], [\"name\", \"fas-chevron-right\", \"flip-rtl\", \"\", \"slot\", \"start\", 1, \"expandable-status-icon\", 3, \"ariaButtonClick\"], [\"name\", \"\", \"slot\", \"start\", \"aria-hidden\", \"true\", 1, \"expandable-status-icon\"], [\"name\", \"fas-lock\", \"slot\", \"end\", 1, \"restricted\"], [\"name\", \"fas-eye-slash\", \"slot\", \"end\", 1, \"restricted\"], [\"button\", \"\", 1, \"module\", 3, \"click\"], [\"class\", \"completioninfo completion_none\", \"name\", \"\", \"slot\", \"start\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [\"class\", \"completioninfo completion_incomplete\", \"name\", \"far-circle\", \"slot\", \"start\", 4, \"ngIf\"], [\"class\", \"completioninfo completion_complete\", \"name\", \"fas-circle\", \"color\", \"success\", \"slot\", \"start\", 4, \"ngIf\"], [\"class\", \"completioninfo completion_fail\", \"name\", \"fas-circle\", \"color\", \"danger\", \"slot\", \"start\", 4, \"ngIf\"], [1, \"item-heading\"], [\"contextLevel\", \"module\", 3, \"text\", \"contextInstanceId\", \"courseId\"], [\"name\", \"\", \"slot\", \"start\", \"aria-hidden\", \"true\", 1, \"completioninfo\", \"completion_none\"], [\"name\", \"far-circle\", \"slot\", \"start\", 1, \"completioninfo\", \"completion_incomplete\"], [\"name\", \"fas-circle\", \"color\", \"success\", \"slot\", \"start\", 1, \"completioninfo\", \"completion_complete\"], [\"name\", \"fas-circle\", \"color\", \"danger\", \"slot\", \"start\", 1, \"completioninfo\", \"completion_fail\"]],\n  template: function CoreCourseCourseIndexComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\")(3, \"h1\", 0);\n      i0.ɵɵtext(4);\n      i0.ɵɵpipe(5, \"translate\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(6, \"ion-buttons\", 1)(7, \"ion-button\", 2);\n      i0.ɵɵlistener(\"click\", function CoreCourseCourseIndexComponent_Template_ion_button_click_7_listener() {\n        return ctx.closeModal();\n      });\n      i0.ɵɵpipe(8, \"translate\");\n      i0.ɵɵelement(9, \"ion-icon\", 3);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(10, \"ion-content\")(11, \"core-loading\", 4);\n      i0.ɵɵtemplate(12, CoreCourseCourseIndexComponent_ion_list_12_Template, 2, 1, \"ion-list\", 5);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 4, \"core.course.courseindex\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(8, 6, \"core.close\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"hideUntil\", ctx.loaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loaded);\n    }\n  },\n  styles: [\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\ncore-progress-bar[_ngcontent-%COMP%] {\\n  --bar-margin: 8px 0 4px 0;\\n  --line-height: 20px;\\n  --background: var(--contrast-background);\\n}\\n\\nion-item.item.core-course-index-all[_ngcontent-%COMP%]::part(native) {\\n  --padding-start: 16px;\\n}\\nion-item.item.item-current[_ngcontent-%COMP%] {\\n  --background: var(--primary-tint);\\n  --color: var(--gray-900);\\n  border: 0;\\n}\\nion-item.item.item-hightlighted[_ngcontent-%COMP%] {\\n  -webkit-border-start: calc(var(--ion-safe-area-left) + var(--selected-item-border-width)) solid var(--selected-item-color);\\n  border-inline-start: calc(var(--ion-safe-area-left) + var(--selected-item-border-width)) solid var(--selected-item-color);\\n}\\nion-item.item.divider.section[_ngcontent-%COMP%] {\\n  --padding-start: 0px;\\n}\\nion-item.item.divider.section.item-current[_ngcontent-%COMP%]   ion-icon.expandable-status-icon[_ngcontent-%COMP%] {\\n  color: var(--primary-contrast);\\n}\\nion-item.item.divider.section.item-current[_ngcontent-%COMP%]   ion-icon.expandable-status-icon[_ngcontent-%COMP%]:hover {\\n  background: var(--primary-shade);\\n  color: var(--gray-100);\\n}\\nion-item.item.divider.section[_ngcontent-%COMP%]   ion-icon.expandable-status-icon[_ngcontent-%COMP%] {\\n  padding: 13px;\\n  margin: 3px;\\n  border-radius: 50%;\\n}\\nion-item.item.divider.section[_ngcontent-%COMP%]   ion-icon.expandable-status-icon[_ngcontent-%COMP%]:hover {\\n  background: var(--secondary);\\n}\\nion-item.item.divider.section.item-hightlighted[_ngcontent-%COMP%]   ion-icon.expandable-status-icon[_ngcontent-%COMP%] {\\n  -webkit-margin-start: -2px;\\n  margin-inline-start: -2px;\\n}\\nion-item.item.module[_ngcontent-%COMP%]::part(native) {\\n  --padding-start: 0;\\n}\\nion-item.item.module.item-hightlighted[_ngcontent-%COMP%]   ion-icon.completioninfo[_ngcontent-%COMP%] {\\n  -webkit-padding-start: 11px;\\n  padding-inline-start: 11px;\\n}\\nion-item.item.module.indented[_ngcontent-%COMP%] {\\n  -webkit-margin-start: 1rem;\\n          margin-inline-start: 1rem;\\n}\\nion-item.item[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] {\\n  margin: 0;\\n  padding: 12px 16px;\\n}\\nion-item.item[_ngcontent-%COMP%]   ion-icon.completioninfo[_ngcontent-%COMP%] {\\n  font-size: 10px;\\n  width: 18px;\\n}\\nion-item.item[_ngcontent-%COMP%]   ion-icon.restricted[_ngcontent-%COMP%] {\\n  font-size: var(--text-size);\\n}\\nion-item.item[_ngcontent-%COMP%]   ion-icon[role=button][_ngcontent-%COMP%] {\\n  min-height: auto;\\n  min-width: auto;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuc3RyaW5nLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2lvbmljLm1peGlucy5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2hlbHBlcnMvaW9uaWMuY29tcG9uZW50cy5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2N1c3RvbS5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLmN1c3RvbS5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2dsb2JhbHMudmFyaWFibGVzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvY29yZS9mZWF0dXJlcy9jb3Vyc2UvY29tcG9uZW50cy9jb3Vyc2UtaW5kZXgvY291cnNlLWluZGV4LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7RUFBQTtBQ0FBOzs7OztFQUFBO0FDQUE7Ozs7O0VBQUE7QUNBQTs7Ozs7RUFBQTtBQ0FBOzs7Ozs7RUFBQTtBQ0VBOzs7O0VBQUE7QUE0R0E7O0VBQUE7QUM5R0E7Ozs7RUFBQTtBQ0FBOzs7O0VBQUE7QUErREE7Ozs7RUFBQTtBQzlEQTtFQUNJLHlCQUFBO0VBQ0EsbUJBQUE7RUFDQSx3Q0FBQTtBQXFESjs7QUEzQ0k7RUFDSSxxQkFBQTtBQThDUjtBQTNDSTtFQUNJLGlDQUFBO0VBQ0Esd0JBQUE7RUFDQSxTQUFBO0FBNkNSO0FBMUNJO0VMNlJBLDBIRTdMcUM7RUY4THJDLHlIRTlMcUM7QUdsRHpDO0FBMUNJO0VBQ0ksb0JBQUE7QUE0Q1I7QUF6Q1k7RUFDSSw4QkFBQTtBQTJDaEI7QUF6Q2dCO0VBQ0ksZ0NBQUE7RUFDQSxzQkFBQTtBQTJDcEI7QUF0Q1E7RUFDSSxhQUFBO0VBQ0EsV0FBQTtFQUNBLGtCQUFBO0FBd0NaO0FBdkNZO0VBQ0ksNEJBQUE7QUF5Q2hCO0FBckNRO0VMa1FKLDBCS2pRbUM7RUxrUW5DLHlCS2xRbUM7QUF3Q3ZDO0FBbkNRO0VBQ0ksa0JBQUE7QUFxQ1o7QUFsQ1E7RUx3UEosMkJLdlBvQztFTHdQcEMsMEJLeFBvQztBQXFDeEM7QUFsQ1E7RUFDSSwwQkFBQTtVQUFBLHlCQUFBO0FBb0NaO0FBL0JJO0VBQ0ksU0FBQTtFQUNBLGtCQUFBO0FBaUNSO0FBL0JRO0VBQ0ksZUFBQTtFQUNBLFdBQUE7QUFpQ1o7QUE5QlE7RUFDSSwyQkFBQTtBQWdDWjtBQTlCUTtFQUNJLGdCQUFBO0VBQ0EsZUFBQTtBQWdDWiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXBwIEdsb2JhbCB2YXJpYWJsZXMgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUGxhY2UgaGVyZSB0aGUgZGlmZmVyZW50IGZpbGVzIHlvdSBzaG91bGQgaW1wb3J0IHRvIHVzZSBnbG9iYWwgdmFyaWFibGVzLlxuICovXG5cbiRmb250LXBhdGg6IFwiLi4vYXNzZXRzL2ZvbnRzXCI7XG4kYXNzZXRzLXBhdGg6IFwiLi4vYXNzZXRzXCI7XG5cbkBpbXBvcnQgXCIuL2hlbHBlcnMvaGVscGVycy5zY3NzXCI7XG5AaW1wb3J0IFwiLi9nbG9iYWxzLmN1c3RvbS5zY3NzXCI7XG5AaW1wb3J0IFwiLi9nbG9iYWxzLnZhcmlhYmxlcy5zY3NzXCI7XG4iLCIvKipcbiAqIEltcG9ydGVkIGlvbmljIHN0cmluZyBmdW5jdGlvbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLmZ1bmN0aW9ucy5zdHJpbmcuc2Nzc1xuICovXG5cblxuLy8gU3RyaW5nIFV0aWxpdHkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBTdHJpbmcgUmVwbGFjZSBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIHN0ci1yZXBsYWNlKCRzdHJpbmcsICRzZWFyY2gsICRyZXBsYWNlOiBcIlwiKSB7XG4gICRpbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzZWFyY2gpO1xuXG4gIEBpZiAkaW5kZXgge1xuICAgIEByZXR1cm4gc3RyLXNsaWNlKCRzdHJpbmcsIDEsICRpbmRleCAtIDEpICsgJHJlcGxhY2UgKyBzdHItcmVwbGFjZShzdHItc2xpY2UoJHN0cmluZywgJGluZGV4ICsgc3RyLWxlbmd0aCgkc2VhcmNoKSksICRzZWFyY2gsICRyZXBsYWNlKTtcbiAgfVxuXG4gIEByZXR1cm4gJHN0cmluZztcbn1cblxuLy8gU3RyaW5nIFNwbGl0IEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbkBmdW5jdGlvbiBzdHItc3BsaXQoJHN0cmluZywgJHNlcGFyYXRvcikge1xuICAvLyBlbXB0eSBhcnJheS9saXN0XG4gICRzcGxpdC1hcnI6ICgpO1xuICAvLyBmaXJzdCBpbmRleCBvZiBzZXBhcmF0b3IgaW4gc3RyaW5nXG4gICRpbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzZXBhcmF0b3IpO1xuICAvLyBsb29wIHRocm91Z2ggc3RyaW5nXG4gIEB3aGlsZSAkaW5kZXggIT0gbnVsbCB7XG4gICAgLy8gZ2V0IHRoZSBzdWJzdHJpbmcgZnJvbSB0aGUgZmlyc3QgY2hhcmFjdGVyIHRvIHRoZSBzZXBhcmF0b3JcbiAgICAkaXRlbTogc3RyLXNsaWNlKCRzdHJpbmcsIDEsICRpbmRleCAtIDEpO1xuICAgIC8vIHB1c2ggaXRlbSB0byBhcnJheVxuICAgICRzcGxpdC1hcnI6IGFwcGVuZCgkc3BsaXQtYXJyLCAkaXRlbSk7XG4gICAgLy8gcmVtb3ZlIGl0ZW0gYW5kIHNlcGFyYXRvciBmcm9tIHN0cmluZ1xuICAgICRzdHJpbmc6IHN0ci1zbGljZSgkc3RyaW5nLCAkaW5kZXggKyAxKTtcbiAgICAvLyBmaW5kIG5ldyBpbmRleCBvZiBzZXBhcmF0b3JcbiAgICAkaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc2VwYXJhdG9yKTtcbiAgfVxuICAvLyBhZGQgdGhlIHJlbWFpbmluZyBzdHJpbmcgdG8gbGlzdCAodGhlIGxhc3QgaXRlbSlcbiAgJHNwbGl0LWFycjogYXBwZW5kKCRzcGxpdC1hcnIsICRzdHJpbmcpO1xuXG4gIEByZXR1cm4gJHNwbGl0LWFycjtcbn1cblxuXG4vLyBTdHJpbmcgRXh0cmFjdCBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIHN0ci1leHRyYWN0KCRzdHJpbmcsICRzdGFydCwgJGVuZCkge1xuICAkc3RhcnQtaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc3RhcnQpO1xuXG4gIEBpZiAkc3RhcnQtaW5kZXgge1xuICAgICRwb3N0OiBzdHItc2xpY2UoJHN0cmluZywgJHN0YXJ0LWluZGV4ICsgc3RyLWxlbmd0aCgkc3RhcnQpKTtcbiAgICAkZW5kLWluZGV4OiBzdHItaW5kZXgoJHBvc3QsICRlbmQpO1xuXG4gICAgQGlmICRlbmQtaW5kZXgge1xuICAgICAgQHJldHVybiBzdHItc2xpY2UoJHBvc3QsIDEsICRlbmQtaW5kZXggLSAxKTtcbiAgICB9XG4gIH1cblxuICBAcmV0dXJuIG51bGw7XG59XG5cblxuLy8gU3RyaW5nIENvbnRhaW5zIEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gc3RyLWNvbnRhaW5zKCRzdHJpbmcsICRuZWVkbGUpIHtcbiAgQGlmICh0eXBlLW9mKCRzdHJpbmcpID09IHN0cmluZykge1xuICAgIEByZXR1cm4gc3RyLWluZGV4KCRzdHJpbmcsICRuZWVkbGUpICE9IG51bGw7XG4gIH1cblxuICBAcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8vIFVSTCBFbmNvZGUgRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBmdW5jdGlvbiB1cmwtZW5jb2RlKCR2YWwpIHtcbiAgJHNwYWNlczogc3RyLXJlcGxhY2UoJHZhbCwgXCIgXCIsIFwiJTIwXCIpO1xuICAkZW5jb2RlZDogc3RyLXJlcGxhY2UoJHNwYWNlcywgXCIjXCIsIFwiJTIzXCIpO1xuICBAcmV0dXJuICRlbmNvZGVkO1xufVxuXG5cbi8vIEFkZCBSb290IFNlbGVjdG9yXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQWRkcyBhIHJvb3Qgc2VsZWN0b3IgdXNpbmcgaG9zdCBiYXNlZCBvbiB0aGUgc2VsZWN0b3IgcGFzc2VkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gYWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsICRhZGRIb3N0U2VsZWN0b3IpIHtcbiAgJHNlbGVjdG9yczogc3RyLXNwbGl0KCRyb290LCBcIixcIik7XG5cbiAgJGxpc3Q6ICgpO1xuXG4gIEBlYWNoICRzZWxlY3RvciBpbiAkc2VsZWN0b3JzIHtcbiAgICAvLyBJZiB0aGUgc2VsZWN0b3IgY29udGFpbnMgOmhvc3QoIGl0IG1lYW5zIGl0IGlzIHRhcmdldGluZyBhIGNsYXNzIG9uIHRoZSBob3N0XG4gICAgLy8gZWxlbWVudCBzbyB3ZSBuZWVkIHRvIGNoYW5nZSBob3cgd2UgdGFyZ2V0IGl0OlxuICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3QoLmZpeGVkKVwiLCBcIltkaXI9cnRsXVwiKVxuICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpXG4gICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5maXhlZFxuICAgIEBpZiBzdHItY29udGFpbnMoJHNlbGVjdG9yLCBcIjpob3N0KFwiKSB7XG4gICAgICAvLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcIjpob3N0KC5maXhlZClcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpXG4gICAgICAkc2hhZG93LWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzZWxlY3RvciwgXCI6aG9zdChcIiwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pOmhvc3QoXCIpO1xuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJHNoYWRvdy1lbGVtZW50LCBjb21tYSk7XG5cbiAgICAgICRuZXctZWxlbWVudDogKCk7XG4gICAgICAkZWxlbWVudHM6IHN0ci1zcGxpdCgkc2VsZWN0b3IsIFwiIFwiKTtcblxuICAgICAgQGVhY2ggJGVsZW1lbnQgaW4gJGVsZW1lbnRzIHtcbiAgICAgICAgQGlmIHN0ci1jb250YWlucygkZWxlbWVudCwgXCI6aG9zdChcIikge1xuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogJGVsZW1lbnQ7XG5cbiAgICAgICAgICAvLyBSZXBsYWNlIHRoZSA6aG9zdCggYW5kICkgc28gYWxsIHdlIGhhdmUgbGVmdCBpcyB0aGUgY2xhc3NcbiAgICAgICAgICAvLyBpbnNpZGUgb2YgaXQ6XG4gICAgICAgICAgLy8gOmhvc3QoLmZpeGVkKSAtPiAuZml4ZWRcbiAgICAgICAgICAkc2NvcGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzY29wZWQtZWxlbWVudCwgXCIpXCIsIFwiXCIpO1xuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJHNjb3BlZC1lbGVtZW50LCBcIjpob3N0KFwiLCBcIlwiKTtcblxuICAgICAgICAgIC8vIEFkZCB0aGUgY2xhc3MgYmFjayBpbnNpZGUgb2YgaG9zdCB3aXRoIHRoZSBydGwgc2VsZWN0b3I6XG4gICAgICAgICAgLy8gLmZpeGVkIC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5maXhlZFxuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJHNjb3BlZC1lbGVtZW50LCAkc2NvcGVkLWVsZW1lbnQsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KSN7JHNjb3BlZC1lbGVtZW50fVwiKTtcblxuICAgICAgICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3QoLmZpeGVkKVwiLCBcIltkaXI9cnRsXVwiKVxuICAgICAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkuZml4ZWRcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICRzY29wZWQtZWxlbWVudCwgc3BhY2UpO1xuICAgICAgICB9IEBlbHNlIHtcbiAgICAgICAgICAvLyBBZGQgYmFjayBhbnkgc2VsZWN0b3JzIHRoYXQgZm9sbG93ZWQgdGhlIGhvc3QgYWZ0ZXIgdHJhbnNmb3JtaW5nIHRoZVxuICAgICAgICAgIC8vIGZpcnN0IHNlbGVjdG9yOlxuICAgICAgICAgIC8vIDpob3N0KC5maXhlZCkgOjpzbG90dGVkKGlvbi1pY29uKVxuICAgICAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpIDo6c2xvdHRlZChpb24taWNvbilcbiAgICAgICAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLmZpeGVkIDo6c2xvdHRlZChpb24taWNvbilcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICRlbGVtZW50LCBzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJG5ldy1lbGVtZW50LCBjb21tYSk7XG4gICAgLy8gSWYgdGhlIHNlbGVjdG9yIGNvbnRhaW5zIDpob3N0IHdpdGhvdXQgYSBwYXJhbnRoZXNlc1xuICAgIC8vIGl0IG1lYW5zIGl0IGlzIHRhcmdldGluZyBqdXN0IHRoZSBob3N0XG4gICAgLy8gZWxlbWVudCBzbyB3ZSBjYW4gY2hhbmdlIGl0IHRvIGxvb2sgZm9yIGhvc3QtY29udGV4dFxuICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3RcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pXG4gICAgLy8gLS0+IDpob3N0OmRpcihydGwpXG4gICAgfSBAZWxzZSBpZiBzdHItY29udGFpbnMoJHNlbGVjdG9yLCBcIjpob3N0XCIpIHtcbiAgICAgICRuZXctZWxlbWVudDogKCk7XG4gICAgICAkZWxlbWVudHM6IHN0ci1zcGxpdCgkc2VsZWN0b3IsIFwiIFwiKTtcblxuICAgICAgQGVhY2ggJGVsZW1lbnQgaW4gJGVsZW1lbnRzIHtcbiAgICAgICAgQGlmIHN0ci1jb250YWlucygkZWxlbWVudCwgXCI6aG9zdFwiKSB7XG4gICAgICAgICAgLy8gUmVwbGFjZSB0aGUgOmhvc3Qgd2l0aCB0aGUgYWRkSG9zdFNlbGVjdG9yOlxuICAgICAgICAgIC8vIDpob3N0IC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKVxuICAgICAgICAgICR1cGRhdGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRlbGVtZW50LCBcIjpob3N0XCIsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KVwiKTtcblxuICAgICAgICAgIC8vIEFkZCB0aGUgZmluYWwgc2VsZWN0b3IgYWZ0ZXIgYWxsIHRyYW5zZm9ybWF0aW9uczpcbiAgICAgICAgICAvLyA6aG9zdCAtPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSlcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICR1cGRhdGVkLWVsZW1lbnQsIHNwYWNlKTtcbiAgICAgICAgfSBAZWxzZSB7XG4gICAgICAgICAgLy8gQWRkIGJhY2sgYW55IHNlbGVjdG9ycyB0aGF0IGZvbGxvd2VkIHRoZSBob3N0IGFmdGVyIHRyYW5zZm9ybWluZyB0aGVcbiAgICAgICAgICAvLyBmaXJzdCBzZWxlY3RvcjpcbiAgICAgICAgICAvLyA6aG9zdCA6OnNsb3R0ZWQoaW9uLWljb24pIC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSA6OnNsb3R0ZWQoaW9uLWljb24pXG4gICAgICAgICAgJG5ldy1lbGVtZW50OiBhcHBlbmQoJG5ldy1lbGVtZW50LCAkZWxlbWVudCwgc3BhY2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsICRuZXctZWxlbWVudCwgY29tbWEpO1xuICAgIC8vIElmIHRoZSBzZWxlY3RvciBkb2VzIG5vdCBjb250YWluIGhvc3QgYXQgYWxsIGl0IGlzIGVpdGhlciBhIHNoYWRvd1xuICAgIC8vIG9yIG5vcm1hbCBlbGVtZW50IHNvIGFwcGVuZCBib3RoIHRoZSBhZGRIb3N0U2VsZWN0b3IgYW5kIGhvc3QtY29udGV4dFxuICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiaW9uLWNvbXBvbmVudFwiLCBcIltkaXI9cnRsXVwiKVxuICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgaW9uLWNvbXBvbmVudFxuICAgIC8vIC0tPiBbZGlyPXJ0bF0gaW9uLWNvbXBvbmVudFxuICAgIH0gQGVsc2Uge1xuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgXCIjeyRhZGRIb3N0U2VsZWN0b3J9ICN7JHNlbGVjdG9yfVwiLCBjb21tYSk7XG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCBcIjpob3N0LWNvbnRleHQoI3skYWRkSG9zdFNlbGVjdG9yfSkgI3skc2VsZWN0b3J9XCIsIGNvbW1hKTtcbiAgICB9XG4gIH1cblxuICBAcmV0dXJuICRsaXN0O1xufVxuIiwiLyoqXG4gKiBJbXBvcnRlZCBpb25pYyBjb2xvciBmdW5jdGlvbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLmZ1bmN0aW9ucy5jb2xvci5zY3NzXG4gKi9cblxuLy8gR2V0cyB0aGUgYWN0aXZlIGNvbG9yJ3MgY3NzIHZhcmlhYmxlIGZyb20gYSB2YXJpYXRpb24uIEFscGhhIGlzIG9wdGlvbmFsLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEV4YW1wbGUgdXNhZ2U6XG4vLyBjdXJyZW50LWNvbG9yKGJhc2UpID0+IHZhcigtLWlvbi1jb2xvci1iYXNlKVxuLy8gY3VycmVudC1jb2xvcihjb250cmFzdCwgMC4xKSA9PiByZ2JhKHZhcigtLWlvbi1jb2xvci1jb250cmFzdC1yZ2IpLCAwLjEpXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGN1cnJlbnQtY29sb3IoJHZhcmlhdGlvbiwgJGFscGhhOiBudWxsKSB7XG4gIEBpZiAkYWxwaGEgPT0gbnVsbCB7XG4gICAgQHJldHVybiB2YXIoLS1pb24tY29sb3ItI3skdmFyaWF0aW9ufSk7XG4gIH0gQGVsc2Uge1xuICAgIEByZXR1cm4gcmdiYSh2YXIoLS1pb24tY29sb3ItI3skdmFyaWF0aW9ufS1yZ2IpLCAjeyRhbHBoYX0pO1xuICB9XG59XG5cbi8vIEdldHMgdGhlIHNwZWNpZmljIGNvbG9yJ3MgY3NzIHZhcmlhYmxlIGZyb20gdGhlIG5hbWUgYW5kIHZhcmlhdGlvbi4gQWxwaGEvcmdiIGFyZSBvcHRpb25hbC5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFeGFtcGxlIHVzYWdlOlxuLy8gaW9uLWNvbG9yKHByaW1hcnksIGJhc2UpID0+IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LCAjMzg4MGZmKVxuLy8gaW9uLWNvbG9yKHNlY29uZGFyeSwgY29udHJhc3QpID0+IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnktY29udHJhc3QpXG4vLyBpb24tY29sb3IocHJpbWFyeSwgYmFzZSwgMC41KSA9PiByZ2JhKHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LXJnYiwgNTYsIDEyOCwgMjU1KSwgMC41KVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBpb24tY29sb3IoJG5hbWUsICR2YXJpYXRpb24sICRhbHBoYTogbnVsbCwgJHJnYjogbnVsbCkge1xuICAkdmFsdWVzOiBtYXAtZ2V0KCRjb2xvcnMsICRuYW1lKTtcbiAgJHZhbHVlOiBtYXAtZ2V0KCR2YWx1ZXMsICR2YXJpYXRpb24pO1xuICAkdmFyaWFibGU6IC0taW9uLWNvbG9yLSN7JG5hbWV9LSN7JHZhcmlhdGlvbn07XG5cbiAgQGlmICgkdmFyaWF0aW9uID09IGJhc2UpIHtcbiAgICAkdmFyaWFibGU6IC0taW9uLWNvbG9yLSN7JG5hbWV9O1xuICB9XG5cbiAgQGlmICgkYWxwaGEpIHtcbiAgICAkdmFsdWU6IGNvbG9yLXRvLXJnYi1saXN0KCR2YWx1ZSk7XG4gICAgQHJldHVybiByZ2JhKHZhcigjeyR2YXJpYWJsZX0tcmdiLCAkdmFsdWUpLCAkYWxwaGEpO1xuICB9XG4gIEBpZiAoJHJnYikge1xuICAgICR2YWx1ZTogY29sb3ItdG8tcmdiLWxpc3QoJHZhbHVlKTtcbiAgICAkdmFyaWFibGU6ICN7JHZhcmlhYmxlfS1yZ2I7XG4gIH1cblxuICBAcmV0dXJuIHZhcigjeyR2YXJpYWJsZX0sICR2YWx1ZSk7XG59XG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCBibGFjayB0byBjcmVhdGUgaXRzIHNoYWRlLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBnZXQtY29sb3Itc2hhZGUoJGNvbG9yKSB7XG4gIEByZXR1cm4gbWl4KCMwMDAsICRjb2xvciwgMTIlKTtcbn1cblxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIHdoaXRlIHRvIGNyZWF0ZSBpdHMgdGludC5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXRpbnQoJGNvbG9yKSB7XG4gIEByZXR1cm4gbWl4KCNmZmYsICRjb2xvciwgMTAlKTtcbn1cblxuLy8gQ29udmVydHMgYSBjb2xvciB0byBhIGNvbW1hIHNlcGFyYXRlZCByZ2IuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGNvbG9yLXRvLXJnYi1saXN0KCRjb2xvcikge1xuICBAcmV0dXJuICN7cmVkKCRjb2xvcil9LCN7Z3JlZW4oJGNvbG9yKX0sI3tibHVlKCRjb2xvcil9O1xufVxuIiwiLyoqXG4gKiBJbXBvcnRlZCBpb25pYyBtaXhpbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLm1peGlucy5zY3NzXG4gKi9cblxuQG1peGluIGlucHV0LWNvdmVyKCkge1xuICBAaW5jbHVkZSBwb3NpdGlvbigwLCBudWxsLCBudWxsLCAwKTtcbiAgQGluY2x1ZGUgbWFyZ2luKDApO1xuXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuXG4gIGJvcmRlcjogMDtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcblxuICBhcHBlYXJhbmNlOiBub25lO1xuICBvdXRsaW5lOiBub25lO1xuXG4gICY6Oi1tb3otZm9jdXMtaW5uZXIge1xuICAgIGJvcmRlcjogMDtcbiAgfVxufVxuXG5AbWl4aW4gdmlzdWFsbHktaGlkZGVuKCkge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuXG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG5cbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuXG4gIGJvcmRlcjogMDtcbiAgb3V0bGluZTogMDtcbiAgY2xpcDogcmVjdCgwIDAgMCAwKTtcblxuICBvcGFjaXR5OiAwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xufVxuXG5AbWl4aW4gdGV4dC1pbmhlcml0KCkge1xuICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgZm9udC1zaXplOiBpbmhlcml0O1xuICBmb250LXN0eWxlOiBpbmhlcml0O1xuICBmb250LXdlaWdodDogaW5oZXJpdDtcbiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7XG4gIHRleHQtZGVjb3JhdGlvbjogaW5oZXJpdDtcbiAgdGV4dC1pbmRlbnQ6IGluaGVyaXQ7XG4gIHRleHQtb3ZlcmZsb3c6IGluaGVyaXQ7XG4gIHRleHQtdHJhbnNmb3JtOiBpbmhlcml0O1xuICB0ZXh0LWFsaWduOiBpbmhlcml0O1xuICB3aGl0ZS1zcGFjZTogaW5oZXJpdDtcbiAgY29sb3I6IGluaGVyaXQ7XG59XG5cbkBtaXhpbiBidXR0b24tc3RhdGUoKSB7XG4gIEBpbmNsdWRlIHBvc2l0aW9uKDAsIDAsIDAsIDApO1xuXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICBjb250ZW50OiBcIlwiO1xuXG4gIG9wYWNpdHk6IDA7XG59XG5cbi8vIEZvbnQgc21vb3RoaW5nXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gZm9udC1zbW9vdGhpbmcoKSB7XG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xufVxuXG4vLyBHZXQgdGhlIGtleSBmcm9tIGEgbWFwIGJhc2VkIG9uIHRoZSBpbmRleFxuQGZ1bmN0aW9uIGluZGV4LXRvLWtleSgkbWFwLCAkaW5kZXgpIHtcbiAgJGtleXM6IG1hcC1rZXlzKCRtYXApO1xuXG4gIEByZXR1cm4gbnRoKCRrZXlzLCAkaW5kZXgpO1xufVxuXG5cbi8vIEJyZWFrcG9pbnQgTWl4aW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gQnJlYWtwb2ludCB2aWV3cG9ydCBzaXplcyBhbmQgbWVkaWEgcXVlcmllcy5cbi8vXG4vLyBCcmVha3BvaW50cyBhcmUgZGVmaW5lZCBhcyBhIG1hcCBvZiAobmFtZTogbWluaW11bSB3aWR0aCksIG9yZGVyIGZyb20gc21hbGwgdG8gbGFyZ2U6XG4vL1xuLy8gICAgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KVxuLy9cbi8vIFRoZSBtYXAgZGVmaW5lZCBpbiB0aGUgYCRzY3JlZW4tYnJlYWtwb2ludHNgIGdsb2JhbCB2YXJpYWJsZSBpcyB1c2VkIGFzIHRoZSBgJGJyZWFrcG9pbnRzYCBhcmd1bWVudCBieSBkZWZhdWx0LlxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gTWluaW11bSBicmVha3BvaW50IHdpZHRoLiBOdWxsIGZvciB0aGUgc21hbGxlc3QgKGZpcnN0KSBicmVha3BvaW50LlxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtbWluKHNtLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxuLy8gICAgNTc2cHhcbkBmdW5jdGlvbiBicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtaW46IG1hcC1nZXQoJGJyZWFrcG9pbnRzLCAkbmFtZSk7XG5cbiAgQHJldHVybiBpZigkbmFtZSAhPSBpbmRleC10by1rZXkoJGJyZWFrcG9pbnRzLCAxKSwgJG1pbiwgbnVsbCk7XG59XG5cbi8vIFJldHVybnMgYSBibGFuayBzdHJpbmcgaWYgc21hbGxlc3QgYnJlYWtwb2ludCwgb3RoZXJ3aXNlIHJldHVybnMgdGhlIG5hbWUgd2l0aCBhIGRhc2ggaW5mcm9udC5cbi8vIFVzZWZ1bCBmb3IgbWFraW5nIHJlc3BvbnNpdmUgdXRpbGl0aWVzLlxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtaW5maXgoeHMsICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICBcIlwiICAoUmV0dXJucyBhIGJsYW5rIHN0cmluZylcbi8vICAgID4+IGJyZWFrcG9pbnQtaW5maXgoc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICBcIi1zbVwiXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1pbmZpeCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gIEByZXR1cm4gaWYoYnJlYWtwb2ludC1taW4oJG5hbWUsICRicmVha3BvaW50cykgPT0gbnVsbCwgXCJcIiwgXCItI3skbmFtZX1cIik7XG59XG5cbi8vIE1lZGlhIG9mIGF0IGxlYXN0IHRoZSBtaW5pbXVtIGJyZWFrcG9pbnQgd2lkdGguIE5vIHF1ZXJ5IGZvciB0aGUgc21hbGxlc3QgYnJlYWtwb2ludC5cbi8vIE1ha2VzIHRoZSBAY29udGVudCBhcHBseSB0byB0aGUgZ2l2ZW4gYnJlYWtwb2ludCBhbmQgd2lkZXIuXG5AbWl4aW4gbWVkaWEtYnJlYWtwb2ludC11cCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtaW46IGJyZWFrcG9pbnQtbWluKCRuYW1lLCAkYnJlYWtwb2ludHMpO1xuICBAaWYgJG1pbiB7XG4gICAgQG1lZGlhIChtaW4td2lkdGg6ICRtaW4pIHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cblxuLy8gTmFtZSBvZiB0aGUgbmV4dCBicmVha3BvaW50LCBvciBudWxsIGZvciB0aGUgbGFzdCBicmVha3BvaW50LlxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtbmV4dChzbSlcbi8vICAgIG1kXG4vLyAgICA+PiBicmVha3BvaW50LW5leHQoc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICBtZFxuLy8gICAgPj4gYnJlYWtwb2ludC1uZXh0KHNtLCAkYnJlYWtwb2ludC1uYW1lczogKHhzIHNtIG1kIGxnIHhsKSlcbi8vICAgIG1kXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1uZXh0KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMsICRicmVha3BvaW50LW5hbWVzOiBtYXAta2V5cygkYnJlYWtwb2ludHMpKSB7XG4gICRuOiBpbmRleCgkYnJlYWtwb2ludC1uYW1lcywgJG5hbWUpO1xuICBAcmV0dXJuIGlmKCRuIDwgbGVuZ3RoKCRicmVha3BvaW50LW5hbWVzKSwgbnRoKCRicmVha3BvaW50LW5hbWVzLCAkbiArIDEpLCBudWxsKTtcbn1cblxuLy8gTWF4aW11bSBicmVha3BvaW50IHdpZHRoLiBOdWxsIGZvciB0aGUgc21hbGxlc3QgKGZpcnN0KSBicmVha3BvaW50LlxuLy8gVGhlIG1heGltdW0gdmFsdWUgaXMgcmVkdWNlZCBieSAwLjAycHggdG8gd29yayBhcm91bmQgdGhlIGxpbWl0YXRpb25zIG9mXG4vLyBgbWluLWAgYW5kIGBtYXgtYCBwcmVmaXhlcyBhbmQgdmlld3BvcnRzIHdpdGggZnJhY3Rpb25hbCB3aWR0aHMuXG4vL1xuLy8gU2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9tZWRpYXF1ZXJpZXMtNC8jbXEtbWluLW1heFxuLy8gVXNlcyAwLjAycHggcmF0aGVyIHRoYW4gMC4wMXB4IHRvIHdvcmsgYXJvdW5kIGEgY3VycmVudCByb3VuZGluZyBidWcgaW4gU2FmYXJpLlx0Ly8gVXNlcyAwLjAycHggcmF0aGVyIHRoYW4gMC4wMXB4IHRvIHdvcmsgYXJvdW5kIGEgY3VycmVudCByb3VuZGluZyBidWcgaW4gU2FmYXJpLlxuLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNzgyNjFcdC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTc4MjYxXG4vL1xuLy8gICAgPj4gYnJlYWtwb2ludC1tYXgobWQsICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICA3NjcuOThweFxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbWF4KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgJG1heDogbWFwLWdldCgkYnJlYWtwb2ludHMsICRuYW1lKTtcbiAgQHJldHVybiBpZigkbWF4IGFuZCAkbWF4ID4gMCwgJG1heCAtIC4wMiwgbnVsbCk7XG59XG5cbi8vIE1lZGlhIG9mIGF0IG1vc3QgdGhlIG1heGltdW0gYnJlYWtwb2ludCB3aWR0aC4gTm8gcXVlcnkgZm9yIHRoZSBsYXJnZXN0IGJyZWFrcG9pbnQuXG4vLyBNYWtlcyB0aGUgQGNvbnRlbnQgYXBwbHkgdG8gdGhlIGdpdmVuIGJyZWFrcG9pbnQgYW5kIG5hcnJvd2VyLlxuQG1peGluIG1lZGlhLWJyZWFrcG9pbnQtZG93bigkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtYXg6IGJyZWFrcG9pbnQtbWF4KCRuYW1lLCAkYnJlYWtwb2ludHMpO1xuICBAaWYgJG1heCB7XG4gICAgQG1lZGlhIChtYXgtd2lkdGg6ICRtYXgpIHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cblxuXG4vLyBUZXh0IERpcmVjdGlvbiAtIGx0ciAvIHJ0bFxuLy9cbi8vIENTUyBkZWZhdWx0cyB0byB1c2UgdGhlIGx0ciBjc3MsIGFuZCBhZGRzIFtkaXI9cnRsXSBzZWxlY3RvcnNcbi8vIHRvIG92ZXJyaWRlIGx0ciBkZWZhdWx0cy5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIG11bHRpLWRpcigpIHtcbiAgQGNvbnRlbnQ7XG5cbiAgLy8gJHJvb3Q6ICN7Jn07XG4gIC8vIEBhdC1yb290IFtkaXJdIHtcbiAgLy8gICAjeyRyb290fSB7XG4gIC8vICAgICBAY29udGVudDtcbiAgLy8gICB9XG4gIC8vIH1cbn1cblxuQG1peGluIHJ0bCgpIHtcbiAgJHJvb3Q6ICN7Jn07XG5cbiAgJHJvb3RTcGxpdDogc3RyLXNwbGl0KCRyb290LCBcIixcIik7XG4gICRzZWxlY3RvcnM6ICN7YWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsIFwiW2Rpcj1ydGxdXCIpfTtcbiAgJHNlbGVjdG9yc1NwbGl0OiBzdHItc3BsaXQoJHNlbGVjdG9ycywgXCIsXCIpO1xuXG4gICRob3N0Q29udGV4dFNlbGVjdG9yczogKCk7XG4gICRyZXN0U2VsZWN0b3JzOiAoKTtcbiAgJGRpclNlbGVjdG9yczogKCk7XG5cbiAgLy8gU2VsZWN0b3JzIG11c3QgYmUgc3BsaXQgaW50byBpbmRpdmlkdWFsIHNlbGVjdG9ycyBpbiBjYXNlIHRoZSBicm93c2VyXG4gIC8vIGRvZXNuJ3Qgc3VwcG9ydCBhIHNwZWNpZmljIHNlbGVjdG9yLlxuICAvLyBGb3IgZXhhbXBsZSwgRmlyZWZveCBhbmQgU2FmYXJpIGRvZXNuJ3Qgc3VwcG9ydCBgOmhvc3QtY29udGV4dCgpYC5cbiAgLy8gSWYgYW4gaW52YWxpZCBzZWxlY3RvciBpcyB1c2VkLCB0aGVuIHRoZSBlbnRpcmUgZ3JvdXAgb2Ygc2VsZWN0b3JzXG4gIC8vIHdpbGwgYmUgaWdub3JlZC5cbiAgLy8gQGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy0zLyNncm91cGluZ1xuICBAZWFjaCAkc2VsZWN0b3IgaW4gJHNlbGVjdG9yc1NwbGl0IHtcbiAgICAvLyBHcm91cCB0aGUgc2VsZWN0b3JzIGJhY2sgaW50byBhIHNpbmdsZSBzZWxlY3RvciB0byBvcHRpbWl6ZSB0aGUgb3V0cHV0LlxuICAgIEBpZiBzdHItaW5kZXgoJHNlbGVjdG9yLCBcIjpob3N0LWNvbnRleHRcIikge1xuICAgICAgJGhvc3RDb250ZXh0U2VsZWN0b3JzOiBhcHBlbmQoJGhvc3RDb250ZXh0U2VsZWN0b3JzLCAkc2VsZWN0b3IsIGNvbW1hKTtcbiAgICB9IEBlbHNlIHtcbiAgICAgIC8vIEdyb3VwIHRoZSBzZWxlY3RvcnMgYmFjayBpbnRvIGEgc2luZ2xlIHNlbGVjdG9yIHRvIG9wdGltaXplIHRoZSBvdXRwdXQuXG4gICAgICAkcmVzdFNlbGVjdG9yczogYXBwZW5kKCRyZXN0U2VsZWN0b3JzLCAkc2VsZWN0b3IsIGNvbW1hKTtcbiAgICB9XG4gIH1cblxuICAvLyBTdXBwb3J0ZWQgYnkgQ2hyb21lLlxuICBAaWYgbGVuZ3RoKCRob3N0Q29udGV4dFNlbGVjdG9ycykgPiAwIHtcbiAgICBAYXQtcm9vdCAjeyRob3N0Q29udGV4dFNlbGVjdG9yc30ge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9XG5cbiAgLy8gU3VwcG9ydGVkIGJ5IGFsbCBicm93c2Vycy5cbiAgQGlmIGxlbmd0aCgkcmVzdFNlbGVjdG9ycykgPiAwIHtcbiAgICBAYXQtcm9vdCAjeyRyZXN0U2VsZWN0b3JzfSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cblxuICAvLyBJZiBicm93c2VyIGNhbiBzdXBwb3J0IGA6ZGlyKClgLCB0aGVuIGFkZCB0aGUgYDpkaXIoKWAgc2VsZWN0b3JzLlxuICAvLyBAc3VwcG9ydHMgc2VsZWN0b3IoOmRpcihydGwpKSB7IC8vIEAgSU1QT1RBTlQgTk9URTogVGhpcyBoYXMgYmVlbiByZW1vdmVkIGJlY2F1c2Ugc2VsZWN0b3IgZnVuY3Rpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBjdXJyZW50IFNDU1NcbiAgLy8gQWRkaW5nIDpkaXIoKSBpbiBjYXNlIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBgOmhvc3QtY29udGV4dCgpYCBhbmQgZG9lcyBzdXBwb3J0IGA6ZGlyKClgLlxuICAvLyBgOmhvc3QtY29udGV4dCgpYCBpcyBhZGRlZDpcbiAgLy8gLSB0aHJvdWdoIHRoZSBgYWRkLXJvb3Qtc2VsZWN0b3IoKWAgZnVuY3Rpb24uXG4gIC8vIC0gZmlyc3Qgc28gdGhhdCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYDpkaXIoKWAuXG4gIC8vIEZvciBleGFtcGxlLFxuICAvLyAtIEZpcmVmb3ggZG9lc24ndCBzdXBwb3J0IGA6aG9zdC1jb250ZXh0KClgLCBidXQgZG9lcyBzdXBwb3J0IGA6ZGlyKClgLlxuICAvLyAtIFNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgYDpob3N0LWNvbnRleHQoKWAsIGJ1dCBTYWZhcmkgMTYuNCsgc3VwcG9ydHMgYDpkaXIoKWBcbiAgLy8gQGxpbmsgaHR0cHM6Ly93ZWJraXQub3JnL2Jsb2cvMTM5NjYvd2Via2l0LWZlYXR1cmVzLWluLXNhZmFyaS0xNi00L1xuICBAZWFjaCAkc2VsZWN0b3IgaW4gJHJvb3RTcGxpdCB7XG4gICAgJGRpclNlbGVjdG9yOiBcIiN7JHNlbGVjdG9yfTpkaXIocnRsKVwiO1xuICAgIC8vIEdyb3VwIHRoZSBzZWxlY3RvcnMgYmFjayBpbnRvIGEgc2luZ2xlIHNlbGVjdG9yIHRvIG9wdGltaXplIHRoZSBvdXRwdXQuXG4gICAgJGRpclNlbGVjdG9yczogYXBwZW5kKCRkaXJTZWxlY3RvcnMsICRkaXJTZWxlY3RvciwgY29tbWEpO1xuICB9XG5cbiAgLy8gU3VwcG9ydGVkIGJ5IEZpcmVmb3guXG4gIEBpZiBsZW5ndGgoJGRpclNlbGVjdG9ycykgPiAwIHtcbiAgICBAYXQtcm9vdCAjeyRkaXJTZWxlY3RvcnN9IHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfVxuICAvL31cbn1cblxuQG1peGluIGx0cigpIHtcbiAgQGNvbnRlbnQ7XG59XG5cblxuLy8gU1ZHIEJhY2tncm91bmQgSW1hZ2UgTWl4aW5cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3ZnXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gc3ZnLWJhY2tncm91bmQtaW1hZ2UoJHN2ZywgJGZsaXAtcnRsOiBmYWxzZSkge1xuICAkdXJsOiB1cmwtZW5jb2RlKCRzdmcpO1xuICAkdmlld0JveDogc3RyLXNwbGl0KHN0ci1leHRyYWN0KCRzdmcsIFwidmlld0JveD0nXCIsIFwiJ1wiKSwgXCIgXCIpO1xuXG4gIEBpZiAkZmxpcC1ydGwgIT0gdHJ1ZSBvciAkdmlld0JveCA9PSBudWxsIHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwjeyR1cmx9XCIpO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgJHRyYW5zZm9ybTogXCJ0cmFuc2Zvcm09J3RyYW5zbGF0ZSgje250aCgkdmlld0JveCwgMyl9LCAwKSBzY2FsZSgtMSwgMSknXCI7XG4gICAgJGZsaXBwZWQtdXJsOiAkc3ZnO1xuICAgICRmbGlwcGVkLXVybDogc3RyLXJlcGxhY2UoJGZsaXBwZWQtdXJsLCBcIjxwYXRoXCIsIFwiPHBhdGggI3skdHJhbnNmb3JtfVwiKTtcbiAgICAkZmxpcHBlZC11cmw6IHN0ci1yZXBsYWNlKCRmbGlwcGVkLXVybCwgXCI8bGluZVwiLCBcIjxsaW5lICN7JHRyYW5zZm9ybX1cIik7XG4gICAgJGZsaXBwZWQtdXJsOiBzdHItcmVwbGFjZSgkZmxpcHBlZC11cmwsIFwiPHBvbHlnb25cIiwgXCI8cG9seWdvbiAjeyR0cmFuc2Zvcm19XCIpO1xuICAgICRmbGlwcGVkLXVybDogdXJsLWVuY29kZSgkZmxpcHBlZC11cmwpO1xuXG4gICAgQGluY2x1ZGUgbHRyICgpIHtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCN7JHVybH1cIik7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCN7JGZsaXBwZWQtdXJsfVwiKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gQWRkIHByb3BlcnR5IGhvcml6b250YWxcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcHJvcGVydHktaG9yaXpvbnRhbCgkcHJvcCwgJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgQGlmICRzdGFydCA9PSAwIGFuZCAkZW5kID09IDAge1xuICAgICN7JHByb3B9LWxlZnQ6ICRzdGFydDtcbiAgICAjeyRwcm9wfS1yaWdodDogJGVuZDtcblxuICB9IEBlbHNlIHtcbiAgICAtd2Via2l0LSN7JHByb3B9LXN0YXJ0OiAkc3RhcnQ7XG4gICAgI3skcHJvcH0taW5saW5lLXN0YXJ0OiAkc3RhcnQ7XG4gICAgLXdlYmtpdC0jeyRwcm9wfS1lbmQ6ICRlbmQ7XG4gICAgI3skcHJvcH0taW5saW5lLWVuZDogJGVuZDtcbiAgfVxufVxuXG4vLyBBZGQgcHJvcGVydHkgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHByb3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7Ym9vbGVhbn0gJGNvbnRlbnQgaW5jbHVkZSBjb250ZW50IG9yIHVzZSBkZWZhdWx0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcHJvcGVydHkoJHByb3AsICR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKCRwcm9wLCAkc3RhcnQsICRlbmQpO1xuICAjeyRwcm9wfS10b3A6ICR0b3A7XG4gICN7JHByb3B9LWJvdHRvbTogJGJvdHRvbTtcbn1cblxuLy8gQWRkIHBhZGRpbmcgaG9yaXpvbnRhbFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwYWRkaW5nLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChwYWRkaW5nLCAkc3RhcnQsICRlbmQpO1xufVxuXG4vLyBBZGQgcGFkZGluZyBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwYWRkaW5nKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eShwYWRkaW5nLCAkdG9wLCAkZW5kLCAkYm90dG9tLCAkc3RhcnQpO1xufVxuXG4vLyBBZGQgbWFyZ2luIGhvcml6b250YWxcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gbWFyZ2luLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChtYXJnaW4sICRzdGFydCwgJGVuZCk7XG59XG5cbi8vIEFkZCBtYXJnaW4gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gbWFyZ2luKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eShtYXJnaW4sICR0b3AsICRlbmQsICRib3R0b20sICRzdGFydCk7XG59XG5cbi8vIEFkZCBwb3NpdGlvbiBob3Jpem9udGFsXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0IC0gYW1vdW50IHRvIHBvc2l0aW9uIHN0YXJ0XG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZCAtIGFtb3VudCB0byBsZWZ0OiAwOyBlbmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwb3NpdGlvbi1ob3Jpem9udGFsKCRzdGFydDogbnVsbCwgJGVuZDogbnVsbCkge1xuICBAaWYgJHN0YXJ0ID09ICRlbmQge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIGxlZnQ6ICRzdGFydDtcbiAgICAgIHJpZ2h0OiAkZW5kO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGF0LXJvb3Qge1xuICAgICAgQHN1cHBvcnRzIChpbnNldC1pbmxpbmUtc3RhcnQ6IDApIHtcbiAgICAgICAgJiB7XG4gICAgICAgICAgaW5zZXQtaW5saW5lLXN0YXJ0OiAkc3RhcnQ7XG4gICAgICAgICAgaW5zZXQtaW5saW5lLWVuZDogJGVuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE8gRlctMzc2NlxuICAgIEBhdC1yb290IHtcbiAgICAgIEBzdXBwb3J0cyBub3QgKGluc2V0LWlubGluZS1zdGFydDogMCkge1xuICAgICAgICAmIHtcbiAgICAgICAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICAgICAgICBsZWZ0OiAkc3RhcnQ7XG4gICAgICAgICAgICByaWdodDogJGVuZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgICAgICAgbGVmdDogdW5zZXQ7XG4gICAgICAgICAgICByaWdodDogdW5zZXQ7XG5cbiAgICAgICAgICAgIGxlZnQ6ICRlbmQ7XG4gICAgICAgICAgICByaWdodDogJHN0YXJ0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBBZGQgcG9zaXRpb24gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcG9zaXRpb24oJHRvcDogbnVsbCwgJGVuZDogbnVsbCwgJGJvdHRvbTogbnVsbCwgJHN0YXJ0OiBudWxsKSB7XG4gIEBpbmNsdWRlIHBvc2l0aW9uLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kKTtcbiAgdG9wOiAkdG9wO1xuICBib3R0b206ICRib3R0b207XG59XG5cbi8vIEFkZCBib3JkZXIgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gYm9yZGVyKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eShib3JkZXIsICR0b3AsICRlbmQsICRib3R0b20sICRzdGFydCk7XG59XG5cbi8vIEFkZCBib3JkZXIgcmFkaXVzIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Atc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wLWVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b20tZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbS1zdGFydFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIGJvcmRlci1yYWRpdXMoJHRvcC1zdGFydCwgJHRvcC1lbmQ6ICR0b3Atc3RhcnQsICRib3R0b20tZW5kOiAkdG9wLXN0YXJ0LCAkYm90dG9tLXN0YXJ0OiAkdG9wLWVuZCkge1xuICBAaWYgJHRvcC1zdGFydCA9PSAkdG9wLWVuZCBhbmQgJHRvcC1zdGFydCA9PSAkYm90dG9tLWVuZCBhbmQgJHRvcC1zdGFydCA9PSAkYm90dG9tLXN0YXJ0IHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBib3JkZXItcmFkaXVzOiAkdG9wLXN0YXJ0O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogJHRvcC1zdGFydDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAkdG9wLWVuZDtcbiAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAkYm90dG9tLWVuZDtcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICRib3R0b20tc3RhcnQ7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogJHRvcC1lbmQ7XG4gICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogJHRvcC1zdGFydDtcbiAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAkYm90dG9tLXN0YXJ0O1xuICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogJGJvdHRvbS1lbmQ7XG4gICAgfVxuICB9XG59XG5cbi8vIEFkZCBkaXJlY3Rpb24gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJGRpciAtIERpcmVjdGlvbiBvbiBMVFJcbkBtaXhpbiBkaXJlY3Rpb24oJGRpcikge1xuICAkb3RoZXItZGlyOiBudWxsO1xuXG4gIEBpZiAkZGlyID09IGx0ciB7XG4gICAgJG90aGVyLWRpcjogcnRsO1xuICB9IEBlbHNlIHtcbiAgICAkb3RoZXItZGlyOiBsdHI7XG4gIH1cblxuICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgZGlyZWN0aW9uOiAkZGlyO1xuICB9XG4gIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICBkaXJlY3Rpb246ICRvdGhlci1kaXI7XG4gIH1cbn1cblxuLy8gQWRkIGZsb2F0IGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICRzaWRlXG4vLyBAcGFyYW0ge3N0cmluZ30gJGRlY29yYXRvciAtICFpbXBvcnRhbnRcbkBtaXhpbiBmbG9hdCgkc2lkZSwgJGRlY29yYXRvcjogbnVsbCkge1xuICBAaWYgJHNpZGUgPT0gc3RhcnQge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIGZsb2F0OiBsZWZ0ICRkZWNvcmF0b3I7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGZsb2F0OiByaWdodCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgfSBAZWxzZSBpZiAkc2lkZSA9PSBlbmQge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIGZsb2F0OiByaWdodCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBmbG9hdDogbGVmdCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgZmxvYXQ6ICRzaWRlICRkZWNvcmF0b3I7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBiYWNrZ3JvdW5kLXBvc2l0aW9uKCRob3Jpem9udGFsLCAkaG9yaXpvbnRhbC1hbW91bnQ6IG51bGwsICR2ZXJ0aWNhbDogbnVsbCwgJHZlcnRpY2FsLWFtb3VudDogbnVsbCkge1xuICBAaWYgJGhvcml6b250YWwgPT0gc3RhcnQgb3IgJGhvcml6b250YWwgPT0gZW5kIHtcbiAgICAkaG9yaXpvbnRhbC1sdHI6IG51bGw7XG4gICAgJGhvcml6b250YWwtcnRsOiBudWxsO1xuICAgIEBpZiAkaG9yaXpvbnRhbCA9PSBzdGFydCB7XG4gICAgICAkaG9yaXpvbnRhbC1sdHI6IGxlZnQ7XG4gICAgICAkaG9yaXpvbnRhbC1ydGw6IHJpZ2h0O1xuICAgIH0gQGVsc2Uge1xuICAgICAgJGhvcml6b250YWwtbHRyOiByaWdodDtcbiAgICAgICRob3Jpem9udGFsLXJ0bDogbGVmdDtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAkaG9yaXpvbnRhbC1sdHIgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAkaG9yaXpvbnRhbC1ydGwgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogJGhvcml6b250YWwgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gdHJhbnNmb3JtLW9yaWdpbigkeC1heGlzLCAkeS1heGlzOiBudWxsKSB7XG4gIEBpZiAkeC1heGlzID09IHN0YXJ0IHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0ICR5LWF4aXM7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0ICR5LWF4aXM7XG4gICAgfVxuICB9IEBlbHNlIGlmICR4LWF4aXMgPT0gZW5kIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCAkeS1heGlzO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0ICR5LWF4aXM7XG4gICAgfVxuICB9IEBlbHNlIGlmICR4LWF4aXMgPT0gbGVmdCBvciAkeC1heGlzID09IHJpZ2h0IHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAkeC1heGlzICR5LWF4aXM7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAkeC1heGlzICR5LWF4aXM7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGNhbGMoMTAwJSAtICN7JHgtYXhpc30pICR5LWF4aXM7XG4gICAgfVxuICB9XG59XG5cbi8vIEFkZCB0cmFuc2Zvcm0gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRyYW5zZm9ybXMgLSBjb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiB0cmFuc2Zvcm1zXG5AbWl4aW4gdHJhbnNmb3JtKCR0cmFuc2Zvcm1zLi4uKSB7XG4gICRleHRyYTogbnVsbDtcblxuICAkeDogbnVsbDtcbiAgJGx0ci10cmFuc2xhdGU6IG51bGw7XG4gICRydGwtdHJhbnNsYXRlOiBudWxsO1xuXG4gIEBlYWNoICR0cmFuc2Zvcm0gaW4gJHRyYW5zZm9ybXMge1xuICAgIEBpZiAoc3RyLWluZGV4KCR0cmFuc2Zvcm0sIHRyYW5zbGF0ZTNkKSkge1xuICAgICAgJHRyYW5zZm9ybTogc3RyLXJlcGxhY2UoJHRyYW5zZm9ybSwgJ3RyYW5zbGF0ZTNkKCcpO1xuICAgICAgJHRyYW5zZm9ybTogc3RyLXJlcGxhY2UoJHRyYW5zZm9ybSwgJyknKTtcblxuICAgICAgJGNvb3JkaW5hdGVzOiBzdHItc3BsaXQoJHRyYW5zZm9ybSwgJywnKTtcblxuICAgICAgJHg6IG50aCgkY29vcmRpbmF0ZXMsIDEpO1xuICAgICAgJHk6IG50aCgkY29vcmRpbmF0ZXMsIDIpO1xuICAgICAgJHo6IG50aCgkY29vcmRpbmF0ZXMsIDMpO1xuXG4gICAgICAkbHRyLXRyYW5zbGF0ZTogdHJhbnNsYXRlM2QoJHgsICR5LCAkeik7XG4gICAgICAkcnRsLXRyYW5zbGF0ZTogdHJhbnNsYXRlM2QoY2FsYygtMSAqICN7JHh9KSwgJHksICR6KTtcbiAgICB9IEBlbHNlIHtcbiAgICAgIEBpZiAkZXh0cmEgPT0gbnVsbCB7XG4gICAgICAgICRleHRyYTogJHRyYW5zZm9ybTtcbiAgICAgIH0gQGVsc2Uge1xuICAgICAgICAkZXh0cmE6ICRleHRyYSAkdHJhbnNmb3JtO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEBpZiAkeCA9PSAnMCcgb3IgJHggPT0gbnVsbCB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgdHJhbnNmb3JtOiAkbHRyLXRyYW5zbGF0ZSAkZXh0cmE7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm06ICRsdHItdHJhbnNsYXRlICRleHRyYTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICB0cmFuc2Zvcm06ICRydGwtdHJhbnNsYXRlICRleHRyYTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogSW1wb3J0ZWQgaW9uaWMgbWl4aW5zIGZvciBTQ1NTIGZyb20gZGlmZmVyZW50IGNvbXBvbmVudHNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvY29tcG9uZW50cy9ncmlkL2dyaWQubWl4aW5zLnNjc3NcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy9jb21wb25lbnRzL2l0ZW0vaXRlbS5taXhpbnMuc2Nzc1xuICovXG5cbi8vIFJlc3BvbnNpdmUgTWl4aW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbi8vIENyZWF0ZXMgYSBmaXhlZCB3aWR0aCBmb3IgdGhlIGdyaWQgYmFzZWQgb24gdGhlIHNjcmVlbiBzaXplXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIG1ha2UtZ3JpZC13aWR0aHMoJHdpZHRoczogJGdyaWQtd2lkdGhzLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgQGVhY2ggJGJyZWFrcG9pbnQsICR3aWR0aCBpbiAkd2lkdGhzIHtcbiAgICBAaW5jbHVkZSBtZWRpYS1icmVha3BvaW50LXVwKCRicmVha3BvaW50LCAkYnJlYWtwb2ludHMpIHtcbiAgICAgIHdpZHRoOiAkd2lkdGg7XG4gICAgfVxuICB9XG5cbiAgbWF4LXdpZHRoOiAxMDAlO1xufVxuXG5cbi8vIEFkZHMgcGFkZGluZyB0byB0aGUgZWxlbWVudCBiYXNlZCBvbiBicmVha3BvaW50c1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBtaXhpbiBtYWtlLWJyZWFrcG9pbnQtcGFkZGluZygkcGFkZGluZ3MpIHtcbiAgQGVhY2ggJGJyZWFrcG9pbnQgaW4gbWFwLWtleXMoJHBhZGRpbmdzKSB7XG4gICAgQGluY2x1ZGUgbWVkaWEtYnJlYWtwb2ludC11cCgkYnJlYWtwb2ludCkge1xuICAgICAgJHBhZGRpbmc6IG1hcC1nZXQoJHBhZGRpbmdzLCAkYnJlYWtwb2ludCk7XG5cbiAgICAgIEBpbmNsdWRlIHBhZGRpbmcoJHBhZGRpbmcpO1xuICAgIH1cbiAgfVxufVxuXG5cbi8vIEl0ZW0gTWl4aW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gaXRlbS1wdXNoLXN2Zy11cmwoJGZpbGwpIHtcbiAgJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnOiBcIjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTIgMjAnPjxwYXRoIGQ9J00yLDIwbC0yLTJsOC04TDAsMmwyLTJsMTAsMTBMMiwyMHonIGZpbGw9JyN7JGZpbGx9Jy8+PC9zdmc+XCI7XG5cbiAgQGluY2x1ZGUgc3ZnLWJhY2tncm91bmQtaW1hZ2UoJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnLCB0cnVlKTtcbn1cbiIsIkB1c2UgXCJzYXNzOm1hdGhcIiBhcyBtYXRoO1xuXG4vKipcbiAqIEFwcCBjdXN0b20gbWl4aW5zIGZvciBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQbGFjZSBoZXJlIG91ciBjdXN0b20gbWl4aW5zLlxuICovXG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCBibGFjayB0byBjcmVhdGUgaXRzIHNoYWRlLlxuLy8gRGVmYXVsdCB0byBib290c3RyYXAgbGV2ZWwgNi5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXNoYWRlLXBlcmNlbnQoJGNvbG9yLCAkcGVyY2VudDogNDglKSB7XG4gICAgQHJldHVybiBtaXgoIzAwMCwgJGNvbG9yLCAkcGVyY2VudCk7XG59XG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCB3aGl0ZSB0byBjcmVhdGUgaXRzIHRpbnQuXG4vLyBEZWZhdWx0IHRvIGJvb3RzdHJhcCBsZXZlbCAtMTAuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGdldC1jb2xvci10aW50LXBlcmNlbnQoJGNvbG9yLCAkcGVyY2VudDogODAlKSB7XG4gICAgQHJldHVybiBtaXgoI2ZmZiwgJGNvbG9yLCAkcGVyY2VudCk7XG59XG5cbi8vIElvbmljIENvbG9yc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEdlbmVyYXRlcyB0aGUgY29sb3IgY2xhc3NlcyBhbmQgdmFyaWFibGVzIGJhc2VkIG9uIHRoZVxuLy8gY29sb3JzIG1hcFxuXG5AbWl4aW4gZ2VuZXJhdGUtY29sb3IoJGNvbG9yLW5hbWUsICRjb2xvcnMsICR0aGVtZSkge1xuICAgICRjb2xvci10aGVtZXM6IG1hcC1nZXQoJGNvbG9ycywgJGNvbG9yLW5hbWUpO1xuICAgICRiYXNlOiBtYXAtZ2V0KCRjb2xvci10aGVtZXMsICR0aGVtZSk7XG5cbiAgICBAaWYgJHRoZW1lID09ICdkYXJrJyB7XG4gICAgICAgICRiYXNlOiBtaXgobWFwLWdldCgkY29sb3ItdGhlbWVzLCAnbGlnaHQnKSwgd2hpdGUsIDgwJSkgIWRlZmF1bHQ7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgZ2VuZXJhdGUtY29sb3ItdmFyaWFudHMoJGNvbG9yLW5hbWUsICRiYXNlKTtcbn1cblxuQG1peGluIGdlbmVyYXRlLWNvbG9yLXZhcmlhbnRzKCRjb2xvci1uYW1lLCAkYmFzZSkge1xuICAgICRjb250cmFzdDogZ2V0X2NvbnRyYXN0X2NvbG9yKCRiYXNlKTtcbiAgICAkc2hhZGU6IGdldC1jb2xvci1zaGFkZS1wZXJjZW50KCRiYXNlKTtcbiAgICAkdGludDogZ2V0LWNvbG9yLXRpbnQtcGVyY2VudCgkYmFzZSk7XG5cbiAgICAtLSN7JGNvbG9yLW5hbWV9OiAjeyRiYXNlfTtcbiAgICAtLSN7JGNvbG9yLW5hbWV9LXNoYWRlOiAjeyRzaGFkZX07XG4gICAgLS0jeyRjb2xvci1uYW1lfS10aW50OiAjeyR0aW50fTtcbiAgICAtLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0OiAjeyRjb250cmFzdH07XG5cbiAgICAvLyBJbnRlcm5hbCBpb25pYyB1c2Ugb25seS5cbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfTogdmFyKC0tI3skY29sb3ItbmFtZX0pO1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWJhc2U6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfSk7XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tcmdiOiAje2NvbG9yLXRvLXJnYi1saXN0KCRiYXNlKX07XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3Q6ICN7JGNvbnRyYXN0fTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdC1yZ2I6ICN7Y29sb3ItdG8tcmdiLWxpc3QoJGNvbnRyYXN0KX07XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tc2hhZGU6ICN7JHNoYWRlfTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS10aW50OiAjeyR0aW50fTtcblxuICAgIC5pb24tY29sb3ItI3skY29sb3ItbmFtZX0ge1xuICAgICAgICAtLWlvbi1jb2xvcjogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9KTtcbiAgICAgICAgLS1pb24tY29sb3ItYmFzZTogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWJhc2UpO1xuICAgICAgICAtLWlvbi1jb2xvci1yZ2I6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1yZ2IpO1xuICAgICAgICAtLWlvbi1jb2xvci1jb250cmFzdDogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0KTtcbiAgICAgICAgLS1pb24tY29sb3ItY29udHJhc3QtcmdiOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3QtcmdiKTtcbiAgICAgICAgLS1pb24tY29sb3Itc2hhZGU6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1zaGFkZSk7XG4gICAgICAgIC0taW9uLWNvbG9yLXRpbnQ6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS10aW50KTtcbiAgICB9XG59XG5cbkBtaXhpbiBjb3JlLWZvY3VzKCkge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICY6OmFmdGVyIHtcbiAgICAgICAgQGluY2x1ZGUgcG9zaXRpb24oMCwgMCwgMCwgMCk7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgQGluY2x1ZGUgY29yZS1mb2N1cy1zdHlsZSgpO1xuICAgIH1cbn1cblxuQG1peGluIGNvcmUtZm9jdXMtc3R5bGUoKSB7XG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIHZhcigtLWExMXktZm9jdXMtd2lkdGgpIDFweCB2YXIoLS1hMTF5LWZvY3VzLWNvbG9yKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTtcbiAgICAvLyBUaGlja2VyIG9wdGlvbjpcbiAgICAvLyBib3JkZXI6IHZhcigtLWExMXktZm9jdXMtd2lkdGgpIHNvbGlkIHZhcigtLWExMXktZm9jdXMtY29sb3IpO1xufVxuXG5AbWl4aW4gY29yZS10cmFuc2l0aW9uKCRwcm9wZXJ0aWVzOiBhbGwsICRkdXJhdGlvbjogNTAwbXMsICR0aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0KSB7XG4gICAgJHRyYW5zaXRpb25zOiAoKTtcbiAgICBAZWFjaCAkcHJvcGVydHkgaW4gJHByb3BlcnRpZXMge1xuICAgICAgJHRyYW5zaXRpb25zOiBhcHBlbmQoJHRyYW5zaXRpb25zLCAkcHJvcGVydHkgJGR1cmF0aW9uICR0aW1pbmctZnVuY3Rpb24sIGNvbW1hKTtcbiAgICB9XG5cbiAgICAtd2Via2l0LXRyYW5zaXRpb246ICR0cmFuc2l0aW9ucztcbiAgICB0cmFuc2l0aW9uOiAkdHJhbnNpdGlvbnM7XG59XG5cbkBtaXhpbiBzci1vbmx5KCkge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogMXB4O1xuICAgIGhlaWdodDogMXB4O1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAtMXB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgY2xpcDogcmVjdCgwLCAwLCAwLCAwKTtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIGJvcmRlcjogMDtcbn1cblxuLyoqXG4gKiBTYW1lIGFzIGl0ZW0tcHVzaC1zdmctdXJsIGJ1dCBhZG1pdHMgZmxpcC1ydGxcbiAqL1xuQG1peGluIHB1c2gtYXJyb3ctY29sb3IoJGZpbGw6IDYyNjI2MiwgJGZsaXAtcnRsOiBmYWxzZSkge1xuICAgICRpdGVtLWRldGFpbC1wdXNoLXN2ZzogXCI8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDEyIDIwJz48cGF0aCBkPSdNMiwyMGwtMi0ybDgtOEwwLDJsMi0ybDEwLDEwTDIsMjB6JyBmaWxsPScjeyRmaWxsfScvPjwvc3ZnPlwiO1xuXG4gICAgQGluY2x1ZGUgc3ZnLWJhY2tncm91bmQtaW1hZ2UoJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnLCAkZmxpcC1ydGwpO1xufVxuXG5AbWl4aW4gYm9yZGVyLXN0YXJ0KCRweCwgJHR5cGU6IG51bGwsICRjb2xvcjogbnVsbCkge1xuICAgIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwoYm9yZGVyLCAkcHggJHR5cGUgJGNvbG9yLCBudWxsKTtcbn1cblxuQG1peGluIGJvcmRlci1lbmQoJHB4LCAkdHlwZTogbnVsbCwgJGNvbG9yOiBudWxsKSB7XG4gICAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChib3JkZXIsIG51bGwsICRweCAkdHlwZSAkY29sb3IpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLWJvcmRlci1zdGFydCgkcHgsICR0eXBlLCAkY29sb3IpIHtcbiAgICAkc2FmZS1hcmVhLXBvc2l0aW9uOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRweH0pO1xuXG4gICAgQGluY2x1ZGUgYm9yZGVyLXN0YXJ0KCRzYWZlLWFyZWEtcG9zaXRpb24sICR0eXBlLCAkY29sb3IpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLWJvcmRlci1lbmQoJHB4LCAkdHlwZSwgJGNvbG9yKSB7XG4gICAgJHNhZmUtYXJlYS1wb3NpdGlvbjogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JHB4fSk7XG5cbiAgICBAaW5jbHVkZSBib3JkZXItZW5kKCRzYWZlLWFyZWEtcG9zaXRpb24sICR0eXBlLCAkY29sb3IpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLW1hcmdpbi1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IG51bGw7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogbnVsbDtcblxuICAgIEBpZiAoJGVuZCkge1xuICAgICAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuICAgIH1cbiAgICBAaWYgKCRzdGFydCkge1xuICAgICAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xuICAgIH1cblxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRzYWZlLWFyZWEtZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1tYXJnaW4tc3RhcnQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcblxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRlbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLW1hcmdpbi1lbmQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcblxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBhZGRpbmctaG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xuICAgICRzYWZlLWFyZWEtZW5kOiBudWxsO1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IG51bGw7XG5cbiAgICBAaWYgKCRlbmQpIHtcbiAgICAgICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcbiAgICB9XG4gICAgQGlmICgkc3RhcnQpIHtcbiAgICAgICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBhZGRpbmctc3RhcnQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcblxuICAgIEBpbmNsdWRlIHBhZGRpbmctaG9yaXpvbnRhbCgkc2FmZS1hcmVhLXN0YXJ0LCAkZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1wYWRkaW5nLWVuZCgkc3RhcnQsICRlbmQpIHtcbiAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuXG4gICAgQGluY2x1ZGUgcGFkZGluZy1ob3Jpem9udGFsKCRzdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBvc2l0aW9uKCR0b3A6IG51bGwsICRlbmQ6IG51bGwsICRib3R0b206IG51bGwsICRzdGFydDogbnVsbCkge1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcblxuICAgIEBpbmNsdWRlIHBvc2l0aW9uKCR0b3AsICRzYWZlLWFyZWEtZW5kLCAkYm90dG9tLCAkc2FmZS1hcmVhLXN0YXJ0KTtcbn1cblxuQG1peGluIGNvcmUtaGVhZGluZ3MoKSB7XG4gICAgaDEge1xuICAgICAgICBmb250LXNpemU6IDI2cHg7XG4gICAgfVxuICAgIGgyLCAuaXRlbS1oZWFkaW5nIHtcbiAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgIH1cbiAgICBoMyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMjJweDtcbiAgICB9XG4gICAgaDQge1xuICAgICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgfVxuICAgIGg1IHtcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgIH1cbiAgICBoNiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICB9XG59XG5cbkBtaXhpbiBkYXJrbW9kZSgpIHtcbiAgICAkcm9vdDogI3smfTtcblxuICAgIEBhdC1yb290ICN7YWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsIFwiaHRtbC5kYXJrXCIpfSB7XG4gICAgICAgIEBjb250ZW50O1xuICAgIH1cbn1cblxuQG1peGluIGhvcml6b250YWxfc2Nyb2xsX2l0ZW0oJHdpZHRoLCAkbWluLXdpZHRoLCAkbWF4LXdpZHRoKSB7XG4gICAgZmxleDogMCAwICR3aWR0aDtcbiAgICBtaW4td2lkdGg6ICRtaW4td2lkdGg7XG4gICAgbWF4LXdpZHRoOiAkbWF4LXdpZHRoO1xuICAgIGFsaWduLXNlbGY6IHN0cmV0Y2g7XG4gICAgZGlzcGxheTogYmxvY2s7XG5cbiAgICBpb24tY2FyZCB7XG4gICAgICAgIC0tdmVydGljYWwtbWFyZ2luOiAxMHB4O1xuICAgICAgICAtLWhvcml6b250YWwtbWFyZ2luOiAxMHB4O1xuXG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSB2YXIoLS1ob3Jpem9udGFsLW1hcmdpbikgLSB2YXIoLS1ob3Jpem9udGFsLW1hcmdpbikpO1xuICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIHZhcigtLXZlcnRpY2FsLW1hcmdpbikgLSB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pKTtcbiAgICAgICAgbWFyZ2luOiB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pIHZhcigtLWhvcml6b250YWwtbWFyZ2luKTtcblxuICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogMzYwcHgpIHtcbiAgICAgICAgICAgIC0taG9yaXpvbnRhbC1tYXJnaW46IDZweDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gQ29sb3IgbWl4aW5zLlxuQGZ1bmN0aW9uIGdldF9icmlnaHRuZXNzKCRjb2xvcikge1xuICAgIEByZXR1cm4gbWF0aC5kaXYocmVkKCRjb2xvcikgKyBncmVlbigkY29sb3IpICsgYmx1ZSgkY29sb3IpLCAzKTtcbn1cblxuLy8gR2V0IHRoZSBiZXR0ZXIgY29sb3IgY29udHJhc3QgdXNpbmcgV0NBRyBhbGdvcnl0aG0uXG5AZnVuY3Rpb24gZ2V0X2NvbnRyYXN0X2NvbG9yKCRjb2xvcikge1xuICAgICRsdW1pYW5jZTogbHVtaW5hbmNlKCRjb2xvcik7XG5cbiAgICAvLyBXaGl0ZSBsdW1pYW5jZSBpcyAxLlxuICAgICR3aGl0ZUNvbnRyYXN0OiBtYXRoLmRpdigkbHVtaWFuY2UgKyAwLjA1LCAxICsgMC4wNSk7XG4gICAgLy8gV2hpdGUgbHVtaWFuY2UgaXMgMC5cbiAgICAkYmxhY2tDb250cmFzdDogbWF0aC5kaXYoMC4wNSwgJGx1bWlhbmNlICsgMC4wNSk7XG5cbiAgICBAcmV0dXJuIGlmKCR3aGl0ZUNvbnRyYXN0IDwgJGJsYWNrQ29udHJhc3QsIHdoaXRlLCBibGFjayk7XG59XG5cbi8vIENvbG9yIGNvbnRyYXN0IHVzaW5nIHlpcSBhcHJveGltYXRpb24gd2l0aCAxNTAgdGhyZXNob2xkLlxuQGZ1bmN0aW9uIGdldF9jb250cmFzdF9jb2xvcl95aXEoJGNvbG9yLCAkZGFyazogYmxhY2ssICRsaWdodDogd2hpdGUpIHtcbiAgICAkcjogcmVkKCRjb2xvcik7XG4gICAgJGc6IGdyZWVuKCRjb2xvcik7XG4gICAgJGI6IGJsdWUoJGNvbG9yKTtcblxuICAgICR5aXE6IG1hdGguZGl2KCgkciAqIDI5OSkgKyAoJGcgKiA1ODcpICsgKCRiICogMTE0KSwgMTAwMCk7XG5cbiAgICBAcmV0dXJuIGlmKCR5aXEgPj0gMTI4LCAkZGFyaywgJGxpZ2h0KTtcbn1cblxuLy8gV0NBRyBjb250cmFzdCBhbGdvcml0aG1cbkBmdW5jdGlvbiBjaGVjay1jb250cmFzdCgkZm9yZWdyb3VuZCwgJGJhY2tncm91bmQpIHtcbiAgICAkZm9yZWdyb3VuZEx1bWlhbmNlOiBsdW1pbmFuY2UoJGZvcmVncm91bmQpO1xuICAgICRiYWNrZ3JvdW5kTHVtaW5hbmNlOiBsdW1pbmFuY2UoJGJhY2tncm91bmQpO1xuXG4gICAgQGlmICgkYmFja2dyb3VuZEx1bWluYW5jZSA8ICRmb3JlZ3JvdW5kTHVtaWFuY2UpIHtcbiAgICAgICAgQHJldHVybiBtYXRoLmRpdigkYmFja2dyb3VuZEx1bWluYW5jZSArIDAuMDUsICRmb3JlZ3JvdW5kTHVtaWFuY2UgKyAwLjA1KTtcbiAgICB9IEBlbHNlIHtcbiAgICAgICAgQHJldHVybiBtYXRoLmRpdigkZm9yZWdyb3VuZEx1bWlhbmNlICsgMC4wNSwgJGJhY2tncm91bmRMdW1pbmFuY2UgKyAwLjA1KTtcbiAgICB9XG59XG5cbkBmdW5jdGlvbiBsdW1pbmFuY2UoJGNvbG9yKSB7XG4gICAgJHI6IHJlZCgkY29sb3IpO1xuICAgICRnOiBncmVlbigkY29sb3IpO1xuICAgICRiOiBibHVlKCRjb2xvcik7XG5cbiAgICAkcjogY29tcG9uZW50LWx1bWluYW5jZSgkcik7XG4gICAgJGc6IGNvbXBvbmVudC1sdW1pbmFuY2UoJGcpO1xuICAgICRiOiBjb21wb25lbnQtbHVtaW5hbmNlKCRiKTtcblxuICAgIEByZXR1cm4gJHIgKiAwLjIxMjYgKyAkZyAqIDAuNzE1MiArICRiICogMC4wNzIyO1xufVxuXG5AZnVuY3Rpb24gY29tcG9uZW50LWx1bWluYW5jZSgkdmFsdWUpIHtcbiAgICAkdmFsdWU6IG1hdGguZGl2KCR2YWx1ZSwgMjU1KTtcblxuICAgIEBpZiAoJHZhbHVlIDw9IDAuMDM5MjgpIHtcbiAgICAgICAgQHJldHVybiBtYXRoLmRpdigkdmFsdWUsIDEyLjkyKTtcbiAgICB9IEBlbHNlIHtcbiAgICAgICAgQHJldHVybiBtYXRoLnBvdyhtYXRoLmRpdigkdmFsdWUgKyAwLjA1NSwgMS4wNTUpLCAyLjQpO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBBcHAgQ3VzdG9tIEFwcCB2YXJpYWJsZXMgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUGxhY2UgaGVyZSBhbGwgY3VzdG9tIGFwcCB2YXJpYWJsZXMuXG4gKi9cbiIsIi8qXG4gKiBBcHAgR2xvYmFsIHZhcmlhYmxlcyBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQbGFjZSBoZXJlIGFsbCBnbG9iYWwgdmFyaWFibGVzLlxuICovXG5cbiR3aGl0ZTogICAgICAgI2ZmZmZmZiAhZGVmYXVsdDtcbiRncmF5LTEwMDogICAgI2Y4ZjlmYSAhZGVmYXVsdDtcbiRncmF5LTIwMDogICAgI2U5ZWNlZiAhZGVmYXVsdDtcbiRncmF5LTMwMDogICAgI2RlZTJlNiAhZGVmYXVsdDsgLy8gU3Ryb2tlXG4kZ3JheS00MDA6ICAgICNjZWQ0ZGEgIWRlZmF1bHQ7XG4kZ3JheS01MDA6ICAgICM4Zjk1OWUgIWRlZmF1bHQ7IC8vIFN0cm9rZSBvbiBpbnB1dHNcbiRncmF5LTYwMDogICAgIzZhNzM3YiAhZGVmYXVsdDtcbiRncmF5LTcwMDogICAgIzQ5NTA1NyAhZGVmYXVsdDtcbiRncmF5LTgwMDogICAgIzM0M2E0MCAhZGVmYXVsdDtcbiRncmF5LTkwMDogICAgIzI4MjgyOCAhZGVmYXVsdDsgLy8gQ29weSB0ZXh0XG4kYmxhY2s6ICAgICAgICMwMDAwMDAgIWRlZmF1bHQ7IC8vIEF2b2lkIHVzYWdlXG5cbiRibHVlOiAgICAgICAgIzBmNmNiZiAhZGVmYXVsdDtcbiRjeWFuOiAgICAgICAgIzAwODE5NiAhZGVmYXVsdDsgLy8gTm90IHVzZWQuXG4kZ3JlZW46ICAgICAgICMzNTdhMzIgIWRlZmF1bHQ7XG4kcmVkOiAgICAgICAgICNjYTMxMjAgIWRlZmF1bHQ7XG4keWVsbG93OiAgICAgICNmMGFkNGUgIWRlZmF1bHQ7XG5cbiRicmFuZC1jb2xvcjogI2Y5ODAxMiAhZGVmYXVsdDtcblxuJHRleHQtY29sb3I6ICAgICAgICAgICAgICAgJGdyYXktOTAwICFkZWZhdWx0O1xuJHRleHQtY29sb3ItcmdiOiAgICAgICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJHRleHQtY29sb3IpICFkZWZhdWx0O1xuJHRleHQtY29sb3ItZGFyazogICAgICAgICAgJHdoaXRlICFkZWZhdWx0O1xuJHRleHQtY29sb3ItZGFyay1yZ2I6ICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJHRleHQtY29sb3ItZGFyaykgIWRlZmF1bHQ7XG5cbiRiYWNrZ3JvdW5kLWNvbG9yOiAgICAgICAgICAkd2hpdGUgIWRlZmF1bHQ7XG4kYmFja2dyb3VuZC1jb2xvci1yZ2I6ICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJGJhY2tncm91bmQtY29sb3IpICFkZWZhdWx0O1xuJGJhY2tncm91bmQtY29sb3ItZGFyazogICAgICRncmF5LTkwMCAhZGVmYXVsdDsgLy8gIzFhMWExYVxuJGJhY2tncm91bmQtY29sb3ItZGFyay1yZ2I6IGNvbG9yLXRvLXJnYi1saXN0KCRiYWNrZ3JvdW5kLWNvbG9yLWRhcmspICFkZWZhdWx0O1xuXG4kaW9uLWl0ZW0tYmFja2dyb3VuZDogICAgICAkd2hpdGUgIWRlZmF1bHQ7XG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1yZ2I6ICBjb2xvci10by1yZ2ItbGlzdCgkaW9uLWl0ZW0tYmFja2dyb3VuZCkgIWRlZmF1bHQ7XG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1kYXJrOiAkZ3JheS05MDAgIWRlZmF1bHQ7XG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1kYXJrLXJnYjogY29sb3ItdG8tcmdiLWxpc3QoJGlvbi1pdGVtLWJhY2tncm91bmQtZGFyaykgIWRlZmF1bHQ7XG5cbiRwcmltYXJ5OiAgICAkYnJhbmQtY29sb3IgIWRlZmF1bHQ7XG4kc2Vjb25kYXJ5OiAgJGdyYXktMzAwICFkZWZhdWx0O1xuJGRhbmdlcjogICAgICRyZWQgIWRlZmF1bHQ7XG4kd2FybmluZzogICAgJHllbGxvdyAhZGVmYXVsdDtcbiRzdWNjZXNzOiAgICAkZ3JlZW4gIWRlZmF1bHQ7XG4kaW5mbzogICAgICAgJGJsdWUgIWRlZmF1bHQ7XG4kbGlnaHQ6ICAgICAgJGdyYXktMTAwICFkZWZhdWx0O1xuJG1lZGl1bTogICAgICRncmF5LTcwMCAhZGVmYXVsdDtcbiRkYXJrOiAgICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7XG5cbiRjb2xvcnM6ICAoXG4gICAgcHJpbWFyeTogKGxpZ2h0OiAkcHJpbWFyeSwgZGFyazogJHByaW1hcnkpLFxuICAgIHNlY29uZGFyeTogKGxpZ2h0OiAkc2Vjb25kYXJ5LCBkYXJrOiAkZ3JheS03MDApLFxuICAgIHN1Y2Nlc3M6IChsaWdodDogJHN1Y2Nlc3MpLFxuICAgIHdhcm5pbmc6IChsaWdodDogJHdhcm5pbmcpLFxuICAgIGRhbmdlcjogIChsaWdodDogJGRhbmdlciksXG4gICAgaW5mbzogKGxpZ2h0OiAkaW5mbyksXG4gICAgbGlnaHQ6IChsaWdodDogJGxpZ2h0LCBkYXJrOiAkZGFyayksXG4gICAgbWVkaXVtOiAobGlnaHQ6ICRtZWRpdW0sIGRhcms6ICRncmF5LTIwMCksXG4gICAgZGFyazogKGxpZ2h0OiAkZGFyaywgZGFyazogJGxpZ2h0KSxcbikgIWRlZmF1bHQ7XG5cbi8qKlxuICogTGF5b3V0IEJyZWFrcG9pbnRzXG4gKlxuICogaHR0cHM6Ly9pb25pY2ZyYW1ld29yay5jb20vZG9jcy9sYXlvdXQvZ3JpZCNkZWZhdWx0LWJyZWFrcG9pbnRzXG4gKi9cblxuLy8gVGhlIG1pbmltdW0gZGltZW5zaW9ucyBhdCB3aGljaCB5b3VyIGxheW91dCB3aWxsIGNoYW5nZSxcbi8vIGFkYXB0aW5nIHRvIGRpZmZlcmVudCBzY3JlZW4gc2l6ZXMsIGZvciB1c2UgaW4gbWVkaWEgcXVlcmllc1xuJHNjcmVlbi1icmVha3BvaW50czogKFxuICAgIHhzOiAwcHgsXG4gICAgc206IDU3NnB4LFxuICAgIG1kOiA3NjhweCxcbiAgICBsZzogOTkycHgsXG4gICAgdGFibGV0OiA5OTJweCxcbiAgICB4bDogMTIwMHB4XG4pICFkZWZhdWx0O1xuXG4kY29yZS1jb3Vyc2UtaW1hZ2UtYmFja2dyb3VuZDogIzgxZWNlYywgIzc0YjlmZiwgI2EyOWJmZSwgI2RmZTZlOSwgIzAwYjg5NCwgIzA5ODRlMywgI2IyYmVjMywgI2ZkY2I2ZSwgI2ZkNzlhOCwgIzZjNWNlNyAhZGVmYXVsdDtcbiRjb3JlLWRkLXF1ZXN0aW9uLWNvbG9yczogI0ZGRkZGRiwgI0IwQzRERSwgI0RDRENEQywgI0Q4QkZEOCwgIzg3Q0VGQSwgI0RBQTUyMCwgI0ZGRDcwMCwgI0YwRTY4QyAhZGVmYXVsdDtcbiRjb3JlLXRleHQtaGlnaHRsaWdodC1iYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGVuKCRibHVlLCA0MCUpICFkZWZhdWx0O1xuXG4kY29yZS1maXhlZC11cmw6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtZGFzaGJvYXJkLWxvZ286IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtYWx3YXlzLXNob3ctbWFpbi1tZW51OiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWZvcm1hdC10ZXh0LW5ldmVyLXNob3J0ZW46IGZhbHNlICFkZWZhdWx0O1xuXG4kY29yZS1oaWRlLWNvdXJzZWltYWdlLW9uLWNvdXJzZTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1oaWRlLXByb2dyZXNzLW9uLWNvdXJzZTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1oaWRlLXByb2dyZXNzLW9uLXNlY3Rpb24tc2VsZWN0b3I6IGZhbHNlICFkZWZhdWx0O1xuXG4kY29yZS1jb3Vyc2UtaGlkZS10aHVtYi1vbi1jYXJkczogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1jb3Vyc2UtdGh1bWItb24tY2FyZHMtYmFja2dyb3VuZDogbnVsbCAhZGVmYXVsdDtcbiRjb3JlLWNvdXJzZS1oaWRlLXByb2dyZXNzLW9uLWNhcmRzOiBmYWxzZSAhZGVmYXVsdDtcblxuLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBsb2dpbiBwYWdlLlxuJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmU6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmUtZGFyazogJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmUgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1sb2FkaW5nLWNvbG9yOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWxvYWRpbmctY29sb3ItZGFyazogJHRleHQtY29sb3ItZGFyayAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWhpZGUtZm9yZ290LXBhc3N3b3JkOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWhpZGUtbmVlZC1oZWxwOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWhpZGUtcXJjb2RlOiBmYWxzZSAhZGVmYXVsdDtcblxuLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBtb3JlIHBhZ2UuIChkZXByZWNhdGVkIG9uIDQuMClcbiRjb3JlLW1vcmUtaGlkZS1zaXRlaW5mbzogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1tb3JlLWhpZGUtc2l0ZW5hbWU6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbW9yZS1oaWRlLXNpdGV1cmw6IGZhbHNlICFkZWZhdWx0O1xuXG4vLyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHVzZXIgcGFnZS5cbiRjb3JlLXVzZXItaGlkZS1zaXRlaW5mbzogJGNvcmUtbW9yZS1oaWRlLXNpdGVpbmZvICFkZWZhdWx0O1xuJGNvcmUtdXNlci1oaWRlLXNpdGVuYW1lOiAkY29yZS1tb3JlLWhpZGUtc2l0ZW5hbWUgIWRlZmF1bHQ7XG4kY29yZS11c2VyLWhpZGUtc2l0ZXVybDogJGNvcmUtbW9yZS1oaWRlLXNpdGV1cmwgIWRlZmF1bHQ7XG5cbi8vIEFjdGl2aXR5IGljb24gYmFja2dyb3VuZCBjb2xvcnMuXG4kYWN0aXZpdHktaWNvbi1jb2xvcnM6IChcbiAgICBhZG1pbmlzdHJhdGlvbjogIzVkNjNmNixcbiAgICBhc3Nlc3NtZW50OiAjZWI2NmEyLFxuICAgIGNvbGxhYm9yYXRpb246ICNmNzYzNGQsXG4gICAgY29tbXVuaWNhdGlvbjogIzExYTY3NixcbiAgICBjb250ZW50OiAjMzk5YmUyLFxuICAgIGludGVyZmFjZTogI2EzNzhmZlxuKSAhZGVmYXVsdDtcblxuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNhdGVnb3J5OiAjOGUyNGFhICFkZWZhdWx0O1xuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvdXJzZTogJHJlZCAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1ncm91cDogJHllbGxvdyAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS11c2VyOiAkYmx1ZSAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1zaXRlOiAkZ3JlZW4gIWRlZmF1bHQ7XG5cbi8vIENhbGVuZGFyIGV2ZW50IGNhdGVnb3J5IGJhY2tncm91bmQgY29sb3JzLlxuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvbG9yczogKFxuICAgIGNhdGVnb3J5OiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY2F0ZWdvcnksXG4gICAgY291cnNlOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY291cnNlLFxuICAgIGdyb3VwOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktZ3JvdXAsXG4gICAgdXNlcjogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXVzZXIsXG4gICAgc2l0ZTogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXNpdGUsXG4pICFkZWZhdWx0O1xuIiwiQHVzZSBcInRoZW1lL2dsb2JhbHNcIiBhcyAqO1xuY29yZS1wcm9ncmVzcy1iYXIge1xuICAgIC0tYmFyLW1hcmdpbjogOHB4IDAgNHB4IDA7XG4gICAgLS1saW5lLWhlaWdodDogMjBweDtcbiAgICAtLWJhY2tncm91bmQ6IHZhcigtLWNvbnRyYXN0LWJhY2tncm91bmQpO1xufVxuXG5AaWYgKCRjb3JlLWhpZGUtcHJvZ3Jlc3Mtb24tc2VjdGlvbi1zZWxlY3Rvcikge1xuICAgIGNvcmUtcHJvZ3Jlc3MtYmFyIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICB9XG59XG5cbmlvbi1pdGVtLml0ZW0ge1xuICAgICYuY29yZS1jb3Vyc2UtaW5kZXgtYWxsOjpwYXJ0KG5hdGl2ZSkge1xuICAgICAgICAtLXBhZGRpbmctc3RhcnQ6IDE2cHg7XG4gICAgfVxuXG4gICAgJi5pdGVtLWN1cnJlbnQge1xuICAgICAgICAtLWJhY2tncm91bmQ6IHZhcigtLXByaW1hcnktdGludCk7XG4gICAgICAgIC0tY29sb3I6IHZhcigtLWdyYXktOTAwKTtcbiAgICAgICAgYm9yZGVyOiAwO1xuICAgIH1cblxuICAgICYuaXRlbS1oaWdodGxpZ2h0ZWQge1xuICAgICAgICBAaW5jbHVkZSBzYWZlLWFyZWEtYm9yZGVyLXN0YXJ0KHZhcigtLXNlbGVjdGVkLWl0ZW0tYm9yZGVyLXdpZHRoKSwgc29saWQsICB2YXIoLS1zZWxlY3RlZC1pdGVtLWNvbG9yKSk7XG4gICAgfVxuXG4gICAgJi5kaXZpZGVyLnNlY3Rpb24ge1xuICAgICAgICAtLXBhZGRpbmctc3RhcnQ6IDBweDtcblxuICAgICAgICAmLml0ZW0tY3VycmVudCB7XG4gICAgICAgICAgICBpb24taWNvbi5leHBhbmRhYmxlLXN0YXR1cy1pY29uIHtcbiAgICAgICAgICAgICAgICBjb2xvcjogdmFyKC0tcHJpbWFyeS1jb250cmFzdCk7XG5cbiAgICAgICAgICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeS1zaGFkZSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1ncmF5LTEwMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaW9uLWljb24uZXhwYW5kYWJsZS1zdGF0dXMtaWNvbiB7XG4gICAgICAgICAgICBwYWRkaW5nOiAxM3B4O1xuICAgICAgICAgICAgbWFyZ2luOiAzcHg7XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XG4gICAgICAgICAgICAmOmhvdmVyIHtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1zZWNvbmRhcnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgJi5pdGVtLWhpZ2h0bGlnaHRlZCBpb24taWNvbi5leHBhbmRhYmxlLXN0YXR1cy1pY29uIHtcbiAgICAgICAgICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKC0ycHgsIG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgJi5tb2R1bGUge1xuICAgICAgICAmOjpwYXJ0KG5hdGl2ZSkge1xuICAgICAgICAgICAgLS1wYWRkaW5nLXN0YXJ0OiAwO1xuICAgICAgICB9XG5cbiAgICAgICAgJi5pdGVtLWhpZ2h0bGlnaHRlZCBpb24taWNvbi5jb21wbGV0aW9uaW5mbyB7XG4gICAgICAgICAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoMTFweCwgbnVsbCk7XG4gICAgICAgIH1cblxuICAgICAgICAmLmluZGVudGVkIHtcbiAgICAgICAgICAgIG1hcmdpbi1pbmxpbmUtc3RhcnQ6IDFyZW07XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIGlvbi1pY29uIHtcbiAgICAgICAgbWFyZ2luOiAwO1xuICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7XG5cbiAgICAgICAgJi5jb21wbGV0aW9uaW5mbyB7XG4gICAgICAgICAgICBmb250LXNpemU6IDEwcHg7XG4gICAgICAgICAgICB3aWR0aDogMThweDtcbiAgICAgICAgfVxuXG4gICAgICAgICYucmVzdHJpY3RlZCB7XG4gICAgICAgICAgICBmb250LXNpemU6IHZhcigtLXRleHQtc2l6ZSk7XG4gICAgICAgIH1cbiAgICAgICAgJltyb2xlPWJ1dHRvbl0ge1xuICAgICAgICAgICAgbWluLWhlaWdodDogYXV0bztcbiAgICAgICAgICAgIG1pbi13aWR0aDogYXV0bztcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["CoreCourse","CoreCourseModuleCompletionTracking","CoreCourseProvider","CoreCourseHelper","CoreCourseFormatDelegate","CoreSites","CoreUtils","ModalController","CoreDom","i0","ɵɵelementStart","ɵɵlistener","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ion_item_1_Template_ion_item_click_0_listener","$event","ɵɵrestoreView","_r7","section_r2","ɵɵnextContext","$implicit","ctx_r5","ɵɵresetView","selectSectionOrModule","id","ɵɵelement","ɵɵelementEnd","ɵɵclassProp","ctx_r3","selectedId","ɵɵproperty","ɵɵadvance","name","course","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_2_Template_ion_icon_ariaButtonClick_0_listener","_r18","ctx_r16","toggleExpand","expanded","ɵɵattribute","ɵɵpipeBind1","ɵɵtext","ɵɵtextInterpolate","ctx_r11","highlighted","ɵɵelementContainerStart","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_Template_ion_item_click_1_listener","restoredCtx","_r29","module_r21","ctx_r27","ɵɵtemplate","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_2_Template","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_3_Template","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_4_Template","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_5_Template","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_ion_icon_9_Template","ɵɵelementContainerEnd","visible","indented","completionStatus","undefined","uservisible","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_ng_container_1_Template","modules","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_Template_ion_item_click_1_listener","_r34","ctx_r32","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_2_Template","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_3_Template","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_badge_7_Template","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_8_Template","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_9_Template","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ion_icon_10_Template","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_ng_container_12_Template","ctx_r4","hasVisibleModules","availabilityinfo","ɵɵpropertyInterpolate1","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ion_item_1_Template","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_ng_container_2_Template","ctx_r1","allSectionId","CoreCourseCourseIndexComponent_ion_list_12_ng_container_1_Template","ctx_r0","sectionsToRender","CoreCourseCourseIndexComponent","constructor","elementRef","sections","ALL_SECTIONS_ID","loaded","ngOnInit","_this","_asyncToGenerator","closeModal","completionEnabled","enablecompletion","completionusertracked","showcompletionconditions","currentSectionData","getCurrentSection","section","site","getRequiredCurrentSite","enableIndentation","isCourseIndentationEnabled","filter","isSectionStealth","map","module","renderModule","completiondata","tracking","COMPLETION_TRACKING_NONE","state","canUserViewModule","indent","canUserViewSection","length","getSectionHightlightedName","wait","nextTick","scrollToElement","nativeElement","addYAxis","event","stopPropagation","preventDefault","dismiss","sectionId","moduleId","isModuleStealth","isVersionGreaterEqualThan","noviewlink","ɵɵdirectiveInject","ElementRef","selectors","inputs","decls","vars","consts","template","CoreCourseCourseIndexComponent_Template","rf","ctx","CoreCourseCourseIndexComponent_Template_ion_button_click_7_listener","CoreCourseCourseIndexComponent_ion_list_12_Template"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/course/components/course-index/course-index.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/course/components/course-index/course-index.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, ElementRef, Input, OnInit } from '@angular/core';\nimport {\n    CoreCourse,\n    CoreCourseModuleCompletionStatus,\n    CoreCourseModuleCompletionTracking,\n    CoreCourseProvider,\n} from '@features/course/services/course';\nimport { CoreCourseHelper, CoreCourseModuleData, CoreCourseSection } from '@features/course/services/course-helper';\nimport { CoreCourseFormatDelegate } from '@features/course/services/format-delegate';\nimport { CoreCourseAnyCourseData } from '@features/courses/services/courses';\nimport { CoreSites } from '@services/sites';\nimport { CoreUtils } from '@services/utils/utils';\nimport { ModalController } from '@singletons';\nimport { CoreDom } from '@singletons/dom';\n\n/**\n * Component to display course index modal.\n */\n@Component({\n    selector: 'core-course-course-index',\n    templateUrl: 'course-index.html',\n    styleUrls: ['course-index.scss'],\n})\nexport class CoreCourseCourseIndexComponent implements OnInit {\n\n    @Input() sections: CoreCourseSection[] = [];\n    @Input() selectedId?: number;\n    @Input() course?: CoreCourseAnyCourseData;\n\n    allSectionId = CoreCourseProvider.ALL_SECTIONS_ID;\n    highlighted?: string;\n    sectionsToRender: CourseIndexSection[] = [];\n    loaded = false;\n\n    constructor(\n        protected elementRef: ElementRef,\n    ) {\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        if (!this.course || !this.sections) {\n            this.closeModal();\n\n            return;\n        }\n\n        let completionEnabled = !!this.course.enablecompletion;\n        if (completionEnabled && 'completionusertracked' in this.course && this.course.completionusertracked !== undefined) {\n            completionEnabled = this.course.completionusertracked;\n        }\n        if (completionEnabled && 'showcompletionconditions' in this.course && this.course.showcompletionconditions !== undefined) {\n            completionEnabled = this.course.showcompletionconditions;\n        }\n\n        const currentSectionData = await CoreCourseFormatDelegate.getCurrentSection(this.course, this.sections);\n\n        if (this.selectedId === undefined) {\n            // Highlight current section if none is selected.\n            this.selectedId = currentSectionData.section.id;\n        }\n\n        // Clone sections to add information.\n        const site = CoreSites.getRequiredCurrentSite();\n\n        const enableIndentation = await CoreCourse.isCourseIndentationEnabled(site, this.course.id);\n\n        this.sectionsToRender = this.sections\n            .filter((section) => !CoreCourseHelper.isSectionStealth(section))\n            .map((section) => {\n                const modules = section.modules\n                    .filter((module) => this.renderModule(section, module))\n                    .map((module) => {\n                        const completionStatus = !completionEnabled || module.completiondata === undefined ||\n                        module.completiondata.tracking == CoreCourseModuleCompletionTracking.COMPLETION_TRACKING_NONE\n                            ? undefined\n                            : module.completiondata.state;\n\n                        return {\n                            id: module.id,\n                            name: module.name,\n                            course: module.course,\n                            visible: !!module.visible,\n                            uservisible: CoreCourseHelper.canUserViewModule(module, section),\n                            indented: enableIndentation && module.indent > 0,\n                            completionStatus,\n                        };\n                    });\n\n                return {\n                    id: section.id,\n                    name: section.name,\n                    availabilityinfo: !!section.availabilityinfo,\n                    visible: !!section.visible,\n                    uservisible: CoreCourseHelper.canUserViewSection(section),\n                    expanded: section.id === this.selectedId,\n                    highlighted: currentSectionData.section.id === section.id,\n                    hasVisibleModules: modules.length > 0,\n                    modules: modules,\n                };\n            });\n\n        this.highlighted = CoreCourseFormatDelegate.getSectionHightlightedName(this.course);\n\n        // Wait a bit to render the data, otherwise the modal takes a while to appear in big courses or slow devices.\n        await CoreUtils.wait(400);\n\n        this.loaded = true;\n\n        await CoreUtils.nextTick();\n\n        CoreDom.scrollToElement(\n            this.elementRef.nativeElement,\n            '.item.item-current',\n            { addYAxis: -10 },\n        );\n    }\n\n    /**\n     * Toggle expand status.\n     *\n     * @param event Event object.\n     * @param section Section to expand / collapse.\n     */\n    toggleExpand(event: Event, section: CourseIndexSection): void {\n        section.expanded = !section.expanded;\n        event.stopPropagation();\n        event.preventDefault();\n    }\n\n    /**\n     * Close the modal.\n     */\n    closeModal(): void {\n        ModalController.dismiss();\n    }\n\n    /**\n     * Select a section.\n     *\n     * @param event Event.\n     * @param sectionId Selected section id.\n     * @param moduleId Selected module id, if any.\n     */\n    selectSectionOrModule(event: Event, sectionId: number, moduleId?: number): void {\n        ModalController.dismiss({ event, sectionId, moduleId });\n    }\n\n    /**\n     * Check whether a module should be rendered or not.\n     *\n     * @param section Section.\n     * @param module Module\n     * @returns Whether the module should be rendered or not.\n     */\n    protected renderModule(section: CoreCourseSection, module: CoreCourseModuleData): boolean {\n        if (CoreCourseHelper.isModuleStealth(module, section)) {\n            return false;\n        }\n\n        const site = CoreSites.getRequiredCurrentSite();\n\n        if (site.isVersionGreaterEqualThan('4.2')) {\n            return true;\n        }\n\n        return !module.noviewlink;\n    }\n\n}\n\ntype CourseIndexSection = {\n    id: number;\n    name: string;\n    highlighted: boolean;\n    expanded: boolean;\n    hasVisibleModules: boolean;\n    availabilityinfo: boolean;\n    visible: boolean;\n    uservisible: boolean;\n    modules: {\n        id: number;\n        course: number;\n        visible: boolean;\n        indented: boolean;\n        uservisible: boolean;\n        completionStatus?: CoreCourseModuleCompletionStatus;\n    }[];\n};\n\nexport type CoreCourseIndexSectionWithModule = {\n    event: Event;\n    sectionId: number;\n    moduleId?: number;\n};\n","<ion-header>\n    <ion-toolbar>\n        <ion-title>\n            <h1 id=\"core-course-section-selector-label\">{{ 'core.course.courseindex' | translate }}</h1>\n        </ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-button fill=\"clear\" (click)=\"closeModal()\" [attr.aria-label]=\"'core.close' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"fas-xmark\" aria-hidden=\"true\" />\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <core-loading [hideUntil]=\"loaded\">\n        <ion-list *ngIf=\"loaded\" id=\"core-course-section-selector\" role=\"listbox\" aria-labelledby=\"core-course-section-selector-label\">\n            <ng-container *ngFor=\"let section of sectionsToRender\">\n                <ion-item *ngIf=\"allSectionId === section.id\" class=\"divider core-course-index-all\"\n                    (click)=\"selectSectionOrModule($event, section.id)\" button [class.item-current]=\"selectedId === section.id\"\n                    [detail]=\"false\">\n                    <ion-label>\n                        <h2>\n                            <core-format-text [text]=\"section.name\" contextLevel=\"course\" [contextInstanceId]=\"course?.id\" />\n                        </h2>\n                    </ion-label>\n                </ion-item>\n                <ng-container *ngIf=\"allSectionId !== section.id\">\n                    <ion-item class=\"divider section\" (click)=\"selectSectionOrModule($event, section.id)\" button\n                        [class.item-current]=\"selectedId === section.id\" [class.item-dimmed]=\"!section.visible\"\n                        [class.item-hightlighted]=\"section.highlighted\" [detail]=\"false\">\n                        <ion-icon *ngIf=\"section.hasVisibleModules\" name=\"fas-chevron-right\" flip-rtl slot=\"start\"\n                            class=\"expandable-status-icon\" (ariaButtonClick)=\"toggleExpand($event, section)\"\n                            [attr.aria-label]=\"(section.expanded ? 'core.collapse' : 'core.expand') | translate\"\n                            [attr.aria-expanded]=\"section.expanded\" [attr.aria-controls]=\"'core-course-index-section-' + section.id\"\n                            [class.expandable-status-icon-expanded]=\"section.expanded\" />\n                        <ion-icon *ngIf=\"!section.hasVisibleModules\" name=\"\" slot=\"start\" aria-hidden=\"true\"\n                            class=\"expandable-status-icon\" />\n                        <ion-label>\n                            <h2>\n                                <core-format-text [text]=\"section.name\" contextLevel=\"course\" [contextInstanceId]=\"course?.id\" />\n                            </h2>\n                        </ion-label>\n                        <ion-badge *ngIf=\"section.highlighted && highlighted\" slot=\"end\">{{highlighted}}</ion-badge>\n                        <ion-icon name=\"fas-lock\" *ngIf=\"section.availabilityinfo\" slot=\"end\" class=\"restricted\"\n                            [attr.aria-label]=\"'core.restricted' | translate\" />\n                        <ion-icon name=\"fas-eye-slash\" *ngIf=\"!section.visible && !section.uservisible\" slot=\"end\" class=\"restricted\"\n                            [attr.aria-label]=\"'core.notavailable' | translate\" />\n                        <ion-icon name=\"fas-eye-slash\" *ngIf=\"!section.visible && section.uservisible\" slot=\"end\" class=\"restricted\"\n                            [attr.aria-label]=\"'core.course.hiddenfromstudents' | translate\" />\n                    </ion-item>\n                    <div id=\"core-course-index-section-{{section.id}}\">\n                        <ng-container *ngIf=\"section.expanded\">\n                            <ng-container *ngFor=\"let module of section.modules\">\n                                <ion-item class=\"module\" [class.item-dimmed]=\"!module.visible\" [class.indented]=\"module.indented\"\n                                    [class.item-hightlighted]=\"section.highlighted\"\n                                    (click)=\"selectSectionOrModule($event, section.id, module.id)\" button>\n                                    <ion-icon class=\"completioninfo completion_none\" name=\"\" *ngIf=\"module.completionStatus === undefined\"\n                                        slot=\"start\" aria-hidden=\"true\" />\n                                    <ion-icon class=\"completioninfo completion_incomplete\" name=\"far-circle\"\n                                        *ngIf=\"module.completionStatus === 0\" slot=\"start\"\n                                        [attr.aria-label]=\"'core.course.todo' | translate\" />\n                                    <ion-icon class=\"completioninfo completion_complete\" name=\"fas-circle\"\n                                        *ngIf=\"module.completionStatus === 1 || module.completionStatus === 2\" color=\"success\" slot=\"start\"\n                                        [attr.aria-label]=\"'core.course.done' | translate\" />\n                                    <ion-icon class=\"completioninfo completion_fail\" name=\"fas-circle\" *ngIf=\"module.completionStatus === 3\"\n                                        color=\"danger\" slot=\"start\" [attr.aria-label]=\"'core.course.failed' | translate\" />\n                                    <ion-label>\n                                        <p class=\"item-heading\">\n                                            <core-format-text [text]=\"module.name\" contextLevel=\"module\" [contextInstanceId]=\"module.id\"\n                                                [courseId]=\"module.course\" />\n                                        </p>\n                                    </ion-label>\n                                    <ion-icon name=\"fas-lock\" *ngIf=\"!module.uservisible\" slot=\"end\" class=\"restricted\"\n                                        [attr.aria-label]=\"'core.restricted' | translate\" />\n                                </ion-item>\n                            </ng-container>\n                        </ng-container>\n                    </div>\n                </ng-container>\n            </ng-container>\n        </ion-list>\n    </core-loading>\n</ion-content>\n"],"mappings":";;AAeA,SACIA,UAAU,EAEVC,kCAAkC,EAClCC,kBAAkB,QACf,kCAAkC;AACzC,SAASC,gBAAgB,QAAiD,yCAAyC;AACnH,SAASC,wBAAwB,QAAQ,2CAA2C;AAEpF,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAASC,eAAe,QAAQ,aAAa;AAC7C,SAASC,OAAO,QAAQ,iBAAiB;;;;;ICXzBC,EAAA,CAAAC,cAAA,mBAEqB;IADjBD,EAAA,CAAAE,UAAA,mBAAAC,wGAAAC,MAAA;MAAAJ,EAAA,CAAAK,aAAA,CAAAC,GAAA;MAAA,MAAAC,UAAA,GAAAP,EAAA,CAAAQ,aAAA,GAAAC,SAAA;MAAA,MAAAC,MAAA,GAAAV,EAAA,CAAAQ,aAAA;MAAA,OAASR,EAAA,CAAAW,WAAA,CAAAD,MAAA,CAAAE,qBAAA,CAAAR,MAAA,EAAAG,UAAA,CAAAM,EAAA,CAAyC;IAAA,EAAC;IAEnDb,EAAA,CAAAC,cAAA,gBAAW;IAEHD,EAAA,CAAAc,SAAA,2BAAiG;IACrGd,EAAA,CAAAe,YAAA,EAAK;;;;;IALkDf,EAAA,CAAAgB,WAAA,iBAAAC,MAAA,CAAAC,UAAA,KAAAX,UAAA,CAAAM,EAAA,CAAgD;IAC3Gb,EAAA,CAAAmB,UAAA,iBAAgB;IAGUnB,EAAA,CAAAoB,SAAA,GAAqB;IAArBpB,EAAA,CAAAmB,UAAA,SAAAZ,UAAA,CAAAc,IAAA,CAAqB,sBAAAJ,MAAA,CAAAK,MAAA,kBAAAL,MAAA,CAAAK,MAAA,CAAAT,EAAA;;;;;;IAQ3Cb,EAAA,CAAAC,cAAA,mBAIiE;IAH9BD,EAAA,CAAAE,UAAA,6BAAAqB,iIAAAnB,MAAA;MAAAJ,EAAA,CAAAK,aAAA,CAAAmB,IAAA;MAAA,MAAAjB,UAAA,GAAAP,EAAA,CAAAQ,aAAA,IAAAC,SAAA;MAAA,MAAAgB,OAAA,GAAAzB,EAAA,CAAAQ,aAAA;MAAA,OAAmBR,EAAA,CAAAW,WAAA,CAAAc,OAAA,CAAAC,YAAA,CAAAtB,MAAA,EAAAG,UAAA,CAA6B;IAAA,EAAC;;IADpFP,EAAA,CAAAe,YAAA,EAIiE;;;;IAA7Df,EAAA,CAAAgB,WAAA,oCAAAT,UAAA,CAAAoB,QAAA,CAA0D;IAF1D3B,EAAA,CAAA4B,WAAA,eAAA5B,EAAA,CAAA6B,WAAA,OAAAtB,UAAA,CAAAoB,QAAA,oCAAoF,kBAAApB,UAAA,CAAAoB,QAAA,kDAAApB,UAAA,CAAAM,EAAA;;;;;IAGxFb,EAAA,CAAAc,SAAA,mBACqC;;;;;IAMrCd,EAAA,CAAAC,cAAA,mBAAiE;IAAAD,EAAA,CAAA8B,MAAA,GAAe;IAAA9B,EAAA,CAAAe,YAAA,EAAY;;;;IAA3Bf,EAAA,CAAAoB,SAAA,GAAe;IAAfpB,EAAA,CAAA+B,iBAAA,CAAAC,OAAA,CAAAC,WAAA,CAAe;;;;;IAChFjC,EAAA,CAAAc,SAAA,mBACwD;;;;IAApDd,EAAA,CAAA4B,WAAA,eAAA5B,EAAA,CAAA6B,WAAA,0BAAiD;;;;;IACrD7B,EAAA,CAAAc,SAAA,mBAC0D;;;;IAAtDd,EAAA,CAAA4B,WAAA,eAAA5B,EAAA,CAAA6B,WAAA,4BAAmD;;;;;IACvD7B,EAAA,CAAAc,SAAA,mBACuE;;;;IAAnEd,EAAA,CAAA4B,WAAA,eAAA5B,EAAA,CAAA6B,WAAA,yCAAgE;;;;;IAQxD7B,EAAA,CAAAc,SAAA,mBACsC;;;;;IACtCd,EAAA,CAAAc,SAAA,mBAEyD;;;;IAArDd,EAAA,CAAA4B,WAAA,eAAA5B,EAAA,CAAA6B,WAAA,2BAAkD;;;;;IACtD7B,EAAA,CAAAc,SAAA,mBAEyD;;;;IAArDd,EAAA,CAAA4B,WAAA,eAAA5B,EAAA,CAAA6B,WAAA,2BAAkD;;;;;IACtD7B,EAAA,CAAAc,SAAA,mBACuF;;;;IAAvDd,EAAA,CAAA4B,WAAA,eAAA5B,EAAA,CAAA6B,WAAA,6BAAoD;;;;;IAOpF7B,EAAA,CAAAc,SAAA,mBACwD;;;;IAApDd,EAAA,CAAA4B,WAAA,eAAA5B,EAAA,CAAA6B,WAAA,0BAAiD;;;;;;IArB7D7B,EAAA,CAAAkC,uBAAA,GAAqD;IACjDlC,EAAA,CAAAC,cAAA,mBAE0E;IAAtED,EAAA,CAAAE,UAAA,mBAAAiC,2IAAA/B,MAAA;MAAA,MAAAgC,WAAA,GAAApC,EAAA,CAAAK,aAAA,CAAAgC,IAAA;MAAA,MAAAC,UAAA,GAAAF,WAAA,CAAA3B,SAAA;MAAA,MAAAF,UAAA,GAAAP,EAAA,CAAAQ,aAAA,IAAAC,SAAA;MAAA,MAAA8B,OAAA,GAAAvC,EAAA,CAAAQ,aAAA;MAAA,OAASR,EAAA,CAAAW,WAAA,CAAA4B,OAAA,CAAA3B,qBAAA,CAAAR,MAAA,EAAAG,UAAA,CAAAM,EAAA,EAAAyB,UAAA,CAAAzB,EAAA,CAAoD;IAAA,EAAC;IAC9Db,EAAA,CAAAwC,UAAA,IAAAC,2HAAA,uBACsC;IACtCzC,EAAA,CAAAwC,UAAA,IAAAE,2HAAA,uBAEyD;IACzD1C,EAAA,CAAAwC,UAAA,IAAAG,2HAAA,uBAEyD;IACzD3C,EAAA,CAAAwC,UAAA,IAAAI,2HAAA,uBACuF;IACvF5C,EAAA,CAAAC,cAAA,gBAAW;IAEHD,EAAA,CAAAc,SAAA,2BACiC;IACrCd,EAAA,CAAAe,YAAA,EAAI;IAERf,EAAA,CAAAwC,UAAA,IAAAK,2HAAA,uBACwD;IAC5D7C,EAAA,CAAAe,YAAA,EAAW;IACff,EAAA,CAAA8C,qBAAA,EAAe;;;;;IAtBc9C,EAAA,CAAAoB,SAAA,GAAqC;IAArCpB,EAAA,CAAAgB,WAAA,iBAAAsB,UAAA,CAAAS,OAAA,CAAqC,aAAAT,UAAA,CAAAU,QAAA,uBAAAzC,UAAA,CAAA0B,WAAA;IAGAjC,EAAA,CAAAoB,SAAA,GAA2C;IAA3CpB,EAAA,CAAAmB,UAAA,SAAAmB,UAAA,CAAAW,gBAAA,KAAAC,SAAA,CAA2C;IAGhGlD,EAAA,CAAAoB,SAAA,GAAmC;IAAnCpB,EAAA,CAAAmB,UAAA,SAAAmB,UAAA,CAAAW,gBAAA,OAAmC;IAGnCjD,EAAA,CAAAoB,SAAA,GAAoE;IAApEpB,EAAA,CAAAmB,UAAA,SAAAmB,UAAA,CAAAW,gBAAA,UAAAX,UAAA,CAAAW,gBAAA,OAAoE;IAELjD,EAAA,CAAAoB,SAAA,GAAmC;IAAnCpB,EAAA,CAAAmB,UAAA,SAAAmB,UAAA,CAAAW,gBAAA,OAAmC;IAI7EjD,EAAA,CAAAoB,SAAA,GAAoB;IAApBpB,EAAA,CAAAmB,UAAA,SAAAmB,UAAA,CAAAjB,IAAA,CAAoB,sBAAAiB,UAAA,CAAAzB,EAAA,cAAAyB,UAAA,CAAAhB,MAAA;IAInBtB,EAAA,CAAAoB,SAAA,GAAyB;IAAzBpB,EAAA,CAAAmB,UAAA,UAAAmB,UAAA,CAAAa,WAAA,CAAyB;;;;;IArBhEnD,EAAA,CAAAkC,uBAAA,GAAuC;IACnClC,EAAA,CAAAwC,UAAA,IAAAY,gHAAA,4BAuBe;IACnBpD,EAAA,CAAA8C,qBAAA,EAAe;;;;IAxBsB9C,EAAA,CAAAoB,SAAA,GAAkB;IAAlBpB,EAAA,CAAAmB,UAAA,YAAAZ,UAAA,CAAA8C,OAAA,CAAkB;;;;;;IA1B/DrD,EAAA,CAAAkC,uBAAA,GAAkD;IAC9ClC,EAAA,CAAAC,cAAA,mBAEqE;IAFnCD,EAAA,CAAAE,UAAA,mBAAAoD,4GAAAlD,MAAA;MAAAJ,EAAA,CAAAK,aAAA,CAAAkD,IAAA;MAAA,MAAAhD,UAAA,GAAAP,EAAA,CAAAQ,aAAA,GAAAC,SAAA;MAAA,MAAA+C,OAAA,GAAAxD,EAAA,CAAAQ,aAAA;MAAA,OAASR,EAAA,CAAAW,WAAA,CAAA6C,OAAA,CAAA5C,qBAAA,CAAAR,MAAA,EAAAG,UAAA,CAAAM,EAAA,CAAyC;IAAA,EAAC;IAGjFb,EAAA,CAAAwC,UAAA,IAAAiB,4FAAA,uBAIiE;IACjEzD,EAAA,CAAAwC,UAAA,IAAAkB,4FAAA,uBACqC;IACrC1D,EAAA,CAAAC,cAAA,gBAAW;IAEHD,EAAA,CAAAc,SAAA,2BAAiG;IACrGd,EAAA,CAAAe,YAAA,EAAK;IAETf,EAAA,CAAAwC,UAAA,IAAAmB,6FAAA,wBAA4F;IAC5F3D,EAAA,CAAAwC,UAAA,IAAAoB,4FAAA,uBACwD;IACxD5D,EAAA,CAAAwC,UAAA,IAAAqB,4FAAA,uBAC0D;IAC1D7D,EAAA,CAAAwC,UAAA,KAAAsB,6FAAA,uBACuE;IAC3E9D,EAAA,CAAAe,YAAA,EAAW;IACXf,EAAA,CAAAC,cAAA,eAAmD;IAC/CD,EAAA,CAAAwC,UAAA,KAAAuB,iGAAA,0BAyBe;IACnB/D,EAAA,CAAAe,YAAA,EAAM;IACVf,EAAA,CAAA8C,qBAAA,EAAe;;;;;IAlDP9C,EAAA,CAAAoB,SAAA,GAAgD;IAAhDpB,EAAA,CAAAgB,WAAA,iBAAAgD,MAAA,CAAA9C,UAAA,KAAAX,UAAA,CAAAM,EAAA,CAAgD,iBAAAN,UAAA,CAAAwC,OAAA,uBAAAxC,UAAA,CAAA0B,WAAA;IACAjC,EAAA,CAAAmB,UAAA,iBAAgB;IACrDnB,EAAA,CAAAoB,SAAA,GAA+B;IAA/BpB,EAAA,CAAAmB,UAAA,SAAAZ,UAAA,CAAA0D,iBAAA,CAA+B;IAK/BjE,EAAA,CAAAoB,SAAA,GAAgC;IAAhCpB,EAAA,CAAAmB,UAAA,UAAAZ,UAAA,CAAA0D,iBAAA,CAAgC;IAIjBjE,EAAA,CAAAoB,SAAA,GAAqB;IAArBpB,EAAA,CAAAmB,UAAA,SAAAZ,UAAA,CAAAc,IAAA,CAAqB,sBAAA2C,MAAA,CAAA1C,MAAA,kBAAA0C,MAAA,CAAA1C,MAAA,CAAAT,EAAA;IAGnCb,EAAA,CAAAoB,SAAA,GAAwC;IAAxCpB,EAAA,CAAAmB,UAAA,SAAAZ,UAAA,CAAA0B,WAAA,IAAA+B,MAAA,CAAA/B,WAAA,CAAwC;IACzBjC,EAAA,CAAAoB,SAAA,GAA8B;IAA9BpB,EAAA,CAAAmB,UAAA,SAAAZ,UAAA,CAAA2D,gBAAA,CAA8B;IAEzBlE,EAAA,CAAAoB,SAAA,GAA8C;IAA9CpB,EAAA,CAAAmB,UAAA,UAAAZ,UAAA,CAAAwC,OAAA,KAAAxC,UAAA,CAAA4C,WAAA,CAA8C;IAE9CnD,EAAA,CAAAoB,SAAA,GAA6C;IAA7CpB,EAAA,CAAAmB,UAAA,UAAAZ,UAAA,CAAAwC,OAAA,IAAAxC,UAAA,CAAA4C,WAAA,CAA6C;IAG5EnD,EAAA,CAAAoB,SAAA,GAA6C;IAA7CpB,EAAA,CAAAmE,sBAAA,qCAAA5D,UAAA,CAAAM,EAAA,KAA6C;IAC/Bb,EAAA,CAAAoB,SAAA,GAAsB;IAAtBpB,EAAA,CAAAmB,UAAA,SAAAZ,UAAA,CAAAoB,QAAA,CAAsB;;;;;IAnCjD3B,EAAA,CAAAkC,uBAAA,GAAuD;IACnDlC,EAAA,CAAAwC,UAAA,IAAA4B,6EAAA,sBAQW;IACXpE,EAAA,CAAAwC,UAAA,IAAA6B,iFAAA,4BAoDe;IACnBrE,EAAA,CAAA8C,qBAAA,EAAe;;;;;IA9DA9C,EAAA,CAAAoB,SAAA,GAAiC;IAAjCpB,EAAA,CAAAmB,UAAA,SAAAmD,MAAA,CAAAC,YAAA,KAAAhE,UAAA,CAAAM,EAAA,CAAiC;IAS7Bb,EAAA,CAAAoB,SAAA,GAAiC;IAAjCpB,EAAA,CAAAmB,UAAA,SAAAmD,MAAA,CAAAC,YAAA,KAAAhE,UAAA,CAAAM,EAAA,CAAiC;;;;;IAXxDb,EAAA,CAAAC,cAAA,kBAA+H;IAC3HD,EAAA,CAAAwC,UAAA,IAAAgC,kEAAA,0BA+De;IACnBxE,EAAA,CAAAe,YAAA,EAAW;;;;IAhE2Bf,EAAA,CAAAoB,SAAA,GAAmB;IAAnBpB,EAAA,CAAAmB,UAAA,YAAAsD,MAAA,CAAAC,gBAAA,CAAmB;;;ADcjE;;;AAQA,OAAM,MAAOC,8BAA8B;EAWvCC,YACcC,UAAsB;IAAtB,KAAAA,UAAU,GAAVA,UAAU;IAVf,KAAAC,QAAQ,GAAwB,EAAE;IAI3C,KAAAP,YAAY,GAAG9E,kBAAkB,CAACsF,eAAe;IAEjD,KAAAL,gBAAgB,GAAyB,EAAE;IAC3C,KAAAM,MAAM,GAAG,KAAK;EAKd;EAEA;;;EAGMC,QAAQA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACV,IAAI,CAACD,KAAI,CAAC5D,MAAM,IAAI,CAAC4D,KAAI,CAACJ,QAAQ,EAAE;QAChCI,KAAI,CAACE,UAAU,EAAE;QAEjB;;MAGJ,IAAIC,iBAAiB,GAAG,CAAC,CAACH,KAAI,CAAC5D,MAAM,CAACgE,gBAAgB;MACtD,IAAID,iBAAiB,IAAI,uBAAuB,IAAIH,KAAI,CAAC5D,MAAM,IAAI4D,KAAI,CAAC5D,MAAM,CAACiE,qBAAqB,KAAKrC,SAAS,EAAE;QAChHmC,iBAAiB,GAAGH,KAAI,CAAC5D,MAAM,CAACiE,qBAAqB;;MAEzD,IAAIF,iBAAiB,IAAI,0BAA0B,IAAIH,KAAI,CAAC5D,MAAM,IAAI4D,KAAI,CAAC5D,MAAM,CAACkE,wBAAwB,KAAKtC,SAAS,EAAE;QACtHmC,iBAAiB,GAAGH,KAAI,CAAC5D,MAAM,CAACkE,wBAAwB;;MAG5D,MAAMC,kBAAkB,SAAS9F,wBAAwB,CAAC+F,iBAAiB,CAACR,KAAI,CAAC5D,MAAM,EAAE4D,KAAI,CAACJ,QAAQ,CAAC;MAEvG,IAAII,KAAI,CAAChE,UAAU,KAAKgC,SAAS,EAAE;QAC/B;QACAgC,KAAI,CAAChE,UAAU,GAAGuE,kBAAkB,CAACE,OAAO,CAAC9E,EAAE;;MAGnD;MACA,MAAM+E,IAAI,GAAGhG,SAAS,CAACiG,sBAAsB,EAAE;MAE/C,MAAMC,iBAAiB,SAASvG,UAAU,CAACwG,0BAA0B,CAACH,IAAI,EAAEV,KAAI,CAAC5D,MAAM,CAACT,EAAE,CAAC;MAE3FqE,KAAI,CAACR,gBAAgB,GAAGQ,KAAI,CAACJ,QAAQ,CAChCkB,MAAM,CAAEL,OAAO,IAAK,CAACjG,gBAAgB,CAACuG,gBAAgB,CAACN,OAAO,CAAC,CAAC,CAChEO,GAAG,CAAEP,OAAO,IAAI;QACb,MAAMtC,OAAO,GAAGsC,OAAO,CAACtC,OAAO,CAC1B2C,MAAM,CAAEG,MAAM,IAAKjB,KAAI,CAACkB,YAAY,CAACT,OAAO,EAAEQ,MAAM,CAAC,CAAC,CACtDD,GAAG,CAAEC,MAAM,IAAI;UACZ,MAAMlD,gBAAgB,GAAG,CAACoC,iBAAiB,IAAIc,MAAM,CAACE,cAAc,KAAKnD,SAAS,IAClFiD,MAAM,CAACE,cAAc,CAACC,QAAQ,IAAI9G,kCAAkC,CAAC+G,wBAAwB,GACvFrD,SAAS,GACTiD,MAAM,CAACE,cAAc,CAACG,KAAK;UAEjC,OAAO;YACH3F,EAAE,EAAEsF,MAAM,CAACtF,EAAE;YACbQ,IAAI,EAAE8E,MAAM,CAAC9E,IAAI;YACjBC,MAAM,EAAE6E,MAAM,CAAC7E,MAAM;YACrByB,OAAO,EAAE,CAAC,CAACoD,MAAM,CAACpD,OAAO;YACzBI,WAAW,EAAEzD,gBAAgB,CAAC+G,iBAAiB,CAACN,MAAM,EAAER,OAAO,CAAC;YAChE3C,QAAQ,EAAE8C,iBAAiB,IAAIK,MAAM,CAACO,MAAM,GAAG,CAAC;YAChDzD;WACH;QACL,CAAC,CAAC;QAEN,OAAO;UACHpC,EAAE,EAAE8E,OAAO,CAAC9E,EAAE;UACdQ,IAAI,EAAEsE,OAAO,CAACtE,IAAI;UAClB6C,gBAAgB,EAAE,CAAC,CAACyB,OAAO,CAACzB,gBAAgB;UAC5CnB,OAAO,EAAE,CAAC,CAAC4C,OAAO,CAAC5C,OAAO;UAC1BI,WAAW,EAAEzD,gBAAgB,CAACiH,kBAAkB,CAAChB,OAAO,CAAC;UACzDhE,QAAQ,EAAEgE,OAAO,CAAC9E,EAAE,KAAKqE,KAAI,CAAChE,UAAU;UACxCe,WAAW,EAAEwD,kBAAkB,CAACE,OAAO,CAAC9E,EAAE,KAAK8E,OAAO,CAAC9E,EAAE;UACzDoD,iBAAiB,EAAEZ,OAAO,CAACuD,MAAM,GAAG,CAAC;UACrCvD,OAAO,EAAEA;SACZ;MACL,CAAC,CAAC;MAEN6B,KAAI,CAACjD,WAAW,GAAGtC,wBAAwB,CAACkH,0BAA0B,CAAC3B,KAAI,CAAC5D,MAAM,CAAC;MAEnF;MACA,MAAMzB,SAAS,CAACiH,IAAI,CAAC,GAAG,CAAC;MAEzB5B,KAAI,CAACF,MAAM,GAAG,IAAI;MAElB,MAAMnF,SAAS,CAACkH,QAAQ,EAAE;MAE1BhH,OAAO,CAACiH,eAAe,CACnB9B,KAAI,CAACL,UAAU,CAACoC,aAAa,EAC7B,oBAAoB,EACpB;QAAEC,QAAQ,EAAE,CAAC;MAAE,CAAE,CACpB;IAAC;EACN;EAEA;;;;;;EAMAxF,YAAYA,CAACyF,KAAY,EAAExB,OAA2B;IAClDA,OAAO,CAAChE,QAAQ,GAAG,CAACgE,OAAO,CAAChE,QAAQ;IACpCwF,KAAK,CAACC,eAAe,EAAE;IACvBD,KAAK,CAACE,cAAc,EAAE;EAC1B;EAEA;;;EAGAjC,UAAUA,CAAA;IACNtF,eAAe,CAACwH,OAAO,EAAE;EAC7B;EAEA;;;;;;;EAOA1G,qBAAqBA,CAACuG,KAAY,EAAEI,SAAiB,EAAEC,QAAiB;IACpE1H,eAAe,CAACwH,OAAO,CAAC;MAAEH,KAAK;MAAEI,SAAS;MAAEC;IAAQ,CAAE,CAAC;EAC3D;EAEA;;;;;;;EAOUpB,YAAYA,CAACT,OAA0B,EAAEQ,MAA4B;IAC3E,IAAIzG,gBAAgB,CAAC+H,eAAe,CAACtB,MAAM,EAAER,OAAO,CAAC,EAAE;MACnD,OAAO,KAAK;;IAGhB,MAAMC,IAAI,GAAGhG,SAAS,CAACiG,sBAAsB,EAAE;IAE/C,IAAID,IAAI,CAAC8B,yBAAyB,CAAC,KAAK,CAAC,EAAE;MACvC,OAAO,IAAI;;IAGf,OAAO,CAACvB,MAAM,CAACwB,UAAU;EAC7B;;SAlJShD,8BAA8B;;mBAA9BA,MAA8B,EAAA3E,EAAA,CAAA4H,iBAAA,CAAA5H,EAAA,CAAA6H,UAAA;AAAA;;QAA9BlD,MAA8B;EAAAmD,SAAA;EAAAC,MAAA;IAAAjD,QAAA;IAAA5D,UAAA;IAAAI,MAAA;EAAA;EAAA0G,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,wCAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCrC3CrI,EAAA,CAAAC,cAAA,iBAAY;MAG4CD,EAAA,CAAA8B,MAAA,GAA2C;;MAAA9B,EAAA,CAAAe,YAAA,EAAK;MAEhGf,EAAA,CAAAC,cAAA,qBAAwB;MACKD,EAAA,CAAAE,UAAA,mBAAAqI,oEAAA;QAAA,OAASD,GAAA,CAAAlD,UAAA,EAAY;MAAA,EAAC;;MAC3CpF,EAAA,CAAAc,SAAA,kBAAiE;MACrEd,EAAA,CAAAe,YAAA,EAAa;MAIzBf,EAAA,CAAAC,cAAA,mBAAa;MAELD,EAAA,CAAAwC,UAAA,KAAAgG,mDAAA,sBAiEW;MACfxI,EAAA,CAAAe,YAAA,EAAe;;;MA7EqCf,EAAA,CAAAoB,SAAA,GAA2C;MAA3CpB,EAAA,CAAA+B,iBAAA,CAAA/B,EAAA,CAAA6B,WAAA,kCAA2C;MAGvC7B,EAAA,CAAAoB,SAAA,GAA4C;MAA5CpB,EAAA,CAAA4B,WAAA,eAAA5B,EAAA,CAAA6B,WAAA,qBAA4C;MAOtF7B,EAAA,CAAAoB,SAAA,GAAoB;MAApBpB,EAAA,CAAAmB,UAAA,cAAAmH,GAAA,CAAAtD,MAAA,CAAoB;MACnBhF,EAAA,CAAAoB,SAAA,GAAY;MAAZpB,EAAA,CAAAmB,UAAA,SAAAmH,GAAA,CAAAtD,MAAA,CAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}