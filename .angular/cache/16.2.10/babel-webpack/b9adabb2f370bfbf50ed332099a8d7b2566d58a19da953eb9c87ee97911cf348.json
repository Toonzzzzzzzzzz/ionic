{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreEvents } from '@singletons/events';\nimport { CoreUser, USER_PROFILE_PICTURE_UPDATED, USER_PROFILE_REFRESHED, USER_PROFILE_SERVER_TIMEZONE } from '@features/user/services/user';\nimport { CoreUserHelper } from '@features/user/services/user-helper';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreFileUploaderHelper } from '@features/fileuploader/services/fileuploader-helper';\nimport { CoreMimetypeUtils } from '@services/utils/mimetype';\nimport { Translate } from '@singletons';\nimport { CoreUrlUtils } from '@services/utils/url';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../../../../components/empty-box/empty-box\";\nimport * as i3 from \"../../../../components/loading/loading\";\nimport * as i4 from \"../../../../components/user-avatar/user-avatar\";\nimport * as i5 from \"../../../../directives/fa-icon\";\nimport * as i6 from \"../../../../directives/format-text\";\nimport * as i7 from \"../../../../directives/link\";\nimport * as i8 from \"../../../../directives/content\";\nimport * as i9 from \"../../../../directives/update-non-reactive-attributes\";\nimport * as i10 from \"@ionic/angular\";\nimport * as i11 from \"../../components/user-profile-field/user-profile-field\";\nimport * as i12 from \"@ngx-translate/core\";\nfunction CoreUserAboutPage_ion_list_14_ion_button_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 12);\n    i0.ɵɵlistener(\"click\", function CoreUserAboutPage_ion_list_14_ion_button_3_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r6.changeProfilePicture());\n    });\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelement(2, \"ion-icon\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.user.newpicture\"));\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 14)(1, \"ion-label\")(2, \"p\");\n    i0.ɵɵelement(3, \"core-format-text\", 15);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"text\", ctx_r3.user.description)(\"contextInstanceId\", ctx_r3.user.id);\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 17)(1, \"ion-label\")(2, \"p\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\")(6, \"a\", 19);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 4, \"core.user.email\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"mailto:\", ctx_r8.user.email, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵproperty(\"showBrowserWarning\", false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r8.user.email, \" \");\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 17)(1, \"ion-label\")(2, \"p\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.user.country\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r9.user.country);\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 17)(1, \"ion-label\")(2, \"p\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.user.city\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r10.user.city);\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 17)(1, \"ion-label\")(2, \"p\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.timezone\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r11.user.timezone);\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 17)(1, \"ion-label\")(2, \"p\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\")(6, \"a\", 19);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 4, \"core.user.phone1\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"tel:\", ctx_r12.user.phone1, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵproperty(\"showBrowserWarning\", false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r12.user.phone1, \" \");\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 17)(1, \"ion-label\")(2, \"p\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\")(6, \"a\", 19);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 4, \"core.user.phone2\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"href\", \"tel:\", ctx_r13.user.phone2, \"\", i0.ɵɵsanitizeUrl);\n    i0.ɵɵproperty(\"showBrowserWarning\", false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r13.user.phone2, \" \");\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_8_ng_container_12_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 17)(1, \"ion-label\")(2, \"p\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.user.institution\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r15.user.institution);\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_8_ng_container_12_ion_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 17)(1, \"ion-label\")(2, \"p\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.user.department\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r16.user.department);\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_8_ng_container_12_ion_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 17)(1, \"ion-label\")(2, \"p\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(4);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.user.idnumber\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r17.user.idnumber);\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_8_ng_container_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreUserAboutPage_ion_list_14_ion_item_group_8_ng_container_12_ion_item_1_Template, 7, 4, \"ion-item\", 16);\n    i0.ɵɵtemplate(2, CoreUserAboutPage_ion_list_14_ion_item_group_8_ng_container_12_ion_item_2_Template, 7, 4, \"ion-item\", 16);\n    i0.ɵɵtemplate(3, CoreUserAboutPage_ion_list_14_ion_item_group_8_ng_container_12_ion_item_3_Template, 7, 4, \"ion-item\", 16);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.user.institution);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.user.department);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.user.idnumber);\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item-group\")(1, \"ion-item-divider\")(2, \"ion-label\")(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(6, CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_6_Template, 8, 6, \"ion-item\", 16);\n    i0.ɵɵtemplate(7, CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_7_Template, 7, 4, \"ion-item\", 16);\n    i0.ɵɵtemplate(8, CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_8_Template, 7, 4, \"ion-item\", 16);\n    i0.ɵɵtemplate(9, CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_9_Template, 7, 4, \"ion-item\", 16);\n    i0.ɵɵtemplate(10, CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_10_Template, 8, 6, \"ion-item\", 16);\n    i0.ɵɵtemplate(11, CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_11_Template, 8, 6, \"ion-item\", 16);\n    i0.ɵɵtemplate(12, CoreUserAboutPage_ion_list_14_ion_item_group_8_ng_container_12_Template, 4, 3, \"ng-container\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 8, \"core.user.contact\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.user.email);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.user.country);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.user.city);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.displayTimezone && ctx_r4.user.timezone);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.user.phone1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.user.phone2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.canShowDepartment);\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_9_ion_item_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 17)(1, \"ion-label\")(2, \"p\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\")(6, \"a\", 22);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 3, \"core.user.webpage\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate(\"href\", ctx_r18.user.url, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r18.user.url, \" \");\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_9_ion_item_7_ion_badge_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-badge\", 25);\n    i0.ɵɵlistener(\"click\", function CoreUserAboutPage_ion_list_14_ion_item_group_9_ion_item_7_ion_badge_5_Template_ion_badge_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r24);\n      const interest_r22 = restoredCtx.$implicit;\n      const ctx_r23 = i0.ɵɵnextContext(4);\n      return i0.ɵɵresetView(ctx_r23.openInterest(interest_r22));\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const interest_r22 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", interest_r22, \" \");\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_9_ion_item_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 23)(1, \"ion-label\")(2, \"p\", 18);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, CoreUserAboutPage_ion_list_14_ion_item_group_9_ion_item_7_ion_badge_5_Template, 2, 1, \"ion-badge\", 24);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.user.interests\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r19.interests);\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_9_core_user_profile_field_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-user-profile-field\", 26);\n  }\n  if (rf & 2) {\n    const field_r25 = ctx.$implicit;\n    const ctx_r20 = i0.ɵɵnextContext(3);\n    i0.ɵɵproperty(\"field\", field_r25)(\"contextInstanceId\", ctx_r20.courseId)(\"courseId\", ctx_r20.courseId);\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_ion_item_group_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item-group\")(1, \"ion-item-divider\")(2, \"ion-label\")(3, \"h3\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(6, CoreUserAboutPage_ion_list_14_ion_item_group_9_ion_item_6_Template, 8, 5, \"ion-item\", 16);\n    i0.ɵɵtemplate(7, CoreUserAboutPage_ion_list_14_ion_item_group_9_ion_item_7_Template, 6, 4, \"ion-item\", 20);\n    i0.ɵɵtemplate(8, CoreUserAboutPage_ion_list_14_ion_item_group_9_core_user_profile_field_8_Template, 1, 3, \"core-user-profile-field\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 4, \"core.userdetails\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.user.url);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.interests);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.user.customfields);\n  }\n}\nfunction CoreUserAboutPage_ion_list_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list\")(1, \"ion-item\", 8)(2, \"core-user-avatar\", 9);\n    i0.ɵɵtemplate(3, CoreUserAboutPage_ion_list_14_ion_button_3_Template, 3, 3, \"ion-button\", 10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"ion-label\")(5, \"h2\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵtemplate(7, CoreUserAboutPage_ion_list_14_ion_item_7_Template, 4, 2, \"ion-item\", 11);\n    i0.ɵɵtemplate(8, CoreUserAboutPage_ion_list_14_ion_item_group_8_Template, 13, 10, \"ion-item-group\", 6);\n    i0.ɵɵtemplate(9, CoreUserAboutPage_ion_list_14_ion_item_group_9_Template, 9, 6, \"ion-item-group\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"lines\", ctx_r0.user.description ? null : \"full\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"user\", ctx_r0.user)(\"userId\", ctx_r0.user.id)(\"linkProfile\", false)(\"checkOnline\", !ctx_r0.canChangeProfilePicture);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.canChangeProfilePicture);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r0.user.fullname);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.user.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.hasContact);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.hasDetails);\n  }\n}\nfunction CoreUserAboutPage_core_empty_box_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-empty-box\", 27);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"message\", i0.ɵɵpipeBind1(1, 1, \"core.user.detailsnotavailable\"));\n  }\n}\n/**\n * Page that displays info about a user.\n */\nexport class CoreUserAboutPage {\n  constructor() {\n    this.userLoaded = false;\n    this.hasContact = false;\n    this.hasDetails = false;\n    this.canChangeProfilePicture = false;\n    this.displayTimezone = false;\n    this.canShowDepartment = false;\n    try {\n      this.site = CoreSites.getRequiredCurrentSite();\n    } catch (error) {\n      CoreDomUtils.showErrorModal(error);\n      CoreNavigator.back();\n      return;\n    }\n    this.obsProfileRefreshed = CoreEvents.on(USER_PROFILE_REFRESHED, data => {\n      if (!this.user || !data.user) {\n        return;\n      }\n      this.user.email = data.user.email;\n    }, CoreSites.getCurrentSiteId());\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.userId = CoreNavigator.getRouteNumberParam('userId') || 0;\n      _this.courseId = CoreNavigator.getRouteNumberParam('courseId') || 0;\n      _this.canShowDepartment = _this.userId != _this.site.getUserId();\n      // Allow to change the profile image only in the app profile page.\n      _this.canChangeProfilePicture = !_this.courseId && _this.userId == _this.site.getUserId() && _this.site.canUploadFiles() && !CoreUser.isUpdatePictureDisabledInSite(_this.site);\n      _this.fetchUser().finally(() => {\n        _this.userLoaded = true;\n      });\n    })();\n  }\n  /**\n   * Fetches the user data.\n   *\n   * @returns Promise resolved when done.\n   */\n  fetchUser() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        const user = yield CoreUser.getProfile(_this2.userId, _this2.courseId);\n        _this2.interests = user.interests ? user.interests.split(',').map(interest => interest.trim()) : undefined;\n        _this2.hasContact = !!(user.email || user.phone1 || user.phone2 || user.city || user.country || user.address);\n        _this2.hasDetails = !!(user.url || user.interests || user.customfields && user.customfields.length > 0);\n        _this2.user = user;\n        _this2.title = user.fullname;\n        _this2.fillTimezone();\n        yield _this2.checkUserImageUpdated();\n      } catch (error) {\n        CoreDomUtils.showErrorModalDefault(error, 'core.user.errorloaduser', true);\n      }\n    })();\n  }\n  /**\n   * Check if current user image has changed.\n   *\n   * @returns Promise resolved when done.\n   */\n  checkUserImageUpdated() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this3.site || !_this3.site.getInfo() || !_this3.user) {\n        return;\n      }\n      if (_this3.userId != _this3.site.getUserId() || !_this3.isUserAvatarDirty()) {\n        // Not current user or hasn't changed.\n        return;\n      }\n      // The current user image received is different than the one stored in site info. Assume the image was updated.\n      // Update the site info to get the right avatar in there.\n      try {\n        yield CoreSites.updateSiteInfo(_this3.site.getId());\n      } catch (_unused) {\n        // Cannot update site info. Assume the profile image is the right one.\n        CoreEvents.trigger(USER_PROFILE_PICTURE_UPDATED, {\n          userId: _this3.userId,\n          picture: _this3.user.profileimageurl\n        }, _this3.site.getId());\n      }\n      if (_this3.isUserAvatarDirty()) {\n        // The image is still different, this means that the good one is the one in site info.\n        yield _this3.refreshUser();\n      } else {\n        // Now they're the same, send event to use the right avatar in the rest of the app.\n        CoreEvents.trigger(USER_PROFILE_PICTURE_UPDATED, {\n          userId: _this3.userId,\n          picture: _this3.user.profileimageurl\n        }, _this3.site.getId());\n      }\n    })();\n  }\n  /**\n   * Opens dialog to change profile picture.\n   */\n  changeProfilePicture() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const maxSize = -1;\n      const title = Translate.instant('core.user.newpicture');\n      const mimetypes = CoreMimetypeUtils.getGroupMimeInfo('image', 'mimetypes');\n      let modal;\n      try {\n        const result = yield CoreFileUploaderHelper.selectAndUploadFile(maxSize, title, mimetypes);\n        modal = yield CoreDomUtils.showModalLoading('core.sending', true);\n        const profileImageURL = yield CoreUser.changeProfilePicture(result.itemid, _this4.userId, _this4.site.getId());\n        CoreEvents.trigger(USER_PROFILE_PICTURE_UPDATED, {\n          userId: _this4.userId,\n          picture: profileImageURL\n        }, _this4.site.getId());\n        CoreSites.updateSiteInfo(_this4.site.getId());\n        _this4.refreshUser();\n      } catch (error) {\n        CoreDomUtils.showErrorModal(error);\n      } finally {\n        var _modal;\n        (_modal = modal) === null || _modal === void 0 || _modal.dismiss();\n      }\n    })();\n  }\n  /**\n   * Refresh the user data.\n   *\n   * @param event Event.\n   * @returns Promise resolved when done.\n   */\n  refreshUser(event) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      yield CoreUtils.ignoreErrors(CoreUser.invalidateUserCache(_this5.userId));\n      yield _this5.fetchUser();\n      event === null || event === void 0 || event.complete();\n      if (_this5.user) {\n        CoreEvents.trigger(USER_PROFILE_REFRESHED, {\n          courseId: _this5.courseId,\n          userId: _this5.userId,\n          user: _this5.user\n        }, _this5.site.getId());\n      }\n    })();\n  }\n  /**\n   * Check whether the user avatar is not up to date with site info.\n   *\n   * @returns Whether the user avatar differs from site info cache.\n   */\n  isUserAvatarDirty() {\n    var _this$site$getInfo;\n    if (!this.user || !this.site) {\n      return false;\n    }\n    const courseAvatarUrl = this.normalizeAvatarUrl(this.user.profileimageurl);\n    const siteAvatarUrl = this.normalizeAvatarUrl((_this$site$getInfo = this.site.getInfo()) === null || _this$site$getInfo === void 0 ? void 0 : _this$site$getInfo.userpictureurl);\n    return courseAvatarUrl !== siteAvatarUrl;\n  }\n  /**\n   * Normalize an avatar url regardless of theme.\n   *\n   * Given that the default image is the only one that can be changed per theme, any other url will stay the same. Note that\n   * the values returned by this function may not be valid urls, given that they are intended for string comparison.\n   *\n   * @param avatarUrl Avatar url.\n   * @returns Normalized avatar string (may not be a valid url).\n   */\n  normalizeAvatarUrl(avatarUrl) {\n    var _this$site;\n    if (!avatarUrl) {\n      return 'undefined';\n    }\n    if (CoreUrlUtils.isThemeImageUrl(avatarUrl, (_this$site = this.site) === null || _this$site === void 0 ? void 0 : _this$site.siteUrl)) {\n      return 'default';\n    }\n    return avatarUrl;\n  }\n  /**\n   * Fill user timezone depending on the server and fix the legacy timezones.\n   */\n  fillTimezone() {\n    if (!this.user) {\n      return;\n    }\n    const serverTimezone = CoreSites.getRequiredCurrentSite().getStoredConfig('timezone');\n    this.displayTimezone = !!serverTimezone;\n    if (!this.displayTimezone) {\n      return;\n    }\n    if (this.user.timezone === USER_PROFILE_SERVER_TIMEZONE) {\n      this.user.timezone = serverTimezone;\n    }\n    if (this.user.timezone) {\n      this.user.timezone = CoreUserHelper.translateLegacyTimezone(this.user.timezone);\n    }\n  }\n  /**\n   * Open a user interest.\n   *\n   * @param interest Interest name.\n   */\n  openInterest(interest) {\n    CoreNavigator.navigateToSitePath('/tag/index', {\n      params: {\n        tagName: interest\n      }\n    });\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnDestroy() {\n    var _this$obsProfileRefre;\n    (_this$obsProfileRefre = this.obsProfileRefreshed) === null || _this$obsProfileRefre === void 0 || _this$obsProfileRefre.off();\n  }\n}\n_class = CoreUserAboutPage;\n_class.ɵfac = function CoreUserAboutPage_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"page-core-user-about\"]],\n  decls: 16,\n  vars: 13,\n  consts: [[\"slot\", \"start\"], [3, \"text\"], [1, \"limited-width\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [4, \"ngIf\"], [\"icon\", \"fas-user\", 3, \"message\", 4, \"ngIf\"], [1, \"ion-text-center\", \"core-user-profile-maininfo\", \"ion-text-wrap\", 3, \"lines\"], [3, \"user\", \"userId\", \"linkProfile\", \"checkOnline\"], [\"class\", \"edit-avatar\", \"fill\", \"clear\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap\", \"lines\", \"full\", 4, \"ngIf\"], [\"fill\", \"clear\", 1, \"edit-avatar\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"fas-pen\", \"aria-hidden\", \"true\"], [\"lines\", \"full\", 1, \"ion-text-wrap\"], [\"contextLevel\", \"user\", 3, \"text\", \"contextInstanceId\"], [\"class\", \"ion-text-wrap\", 4, \"ngIf\"], [1, \"ion-text-wrap\"], [1, \"item-heading\"], [\"core-link\", \"\", \"auto-login\", \"no\", 1, \"core-anchor\", 3, \"href\", \"showBrowserWarning\"], [\"class\", \"ion-text-wrap core-user-profile-interests\", 4, \"ngIf\"], [\"contextLevel\", \"course\", 3, \"field\", \"contextInstanceId\", \"courseId\", 4, \"ngFor\", \"ngForOf\"], [\"core-link\", \"\", 1, \"core-anchor\", 3, \"href\"], [1, \"ion-text-wrap\", \"core-user-profile-interests\"], [\"role\", \"link\", 3, \"click\", 4, \"ngFor\", \"ngForOf\"], [\"role\", \"link\", 3, \"click\"], [\"contextLevel\", \"course\", 3, \"field\", \"contextInstanceId\", \"courseId\"], [\"icon\", \"fas-user\", 3, \"message\"]],\n  template: function CoreUserAboutPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n      i0.ɵɵelement(3, \"ion-back-button\", 1);\n      i0.ɵɵpipe(4, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ion-title\")(6, \"h1\");\n      i0.ɵɵtext(7);\n      i0.ɵɵpipe(8, \"translate\");\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(9, \"ion-content\", 2)(10, \"ion-refresher\", 3);\n      i0.ɵɵlistener(\"ionRefresh\", function CoreUserAboutPage_Template_ion_refresher_ionRefresh_10_listener($event) {\n        return ctx.refreshUser($event.target);\n      });\n      i0.ɵɵelement(11, \"ion-refresher-content\", 4);\n      i0.ɵɵpipe(12, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"core-loading\", 5);\n      i0.ɵɵtemplate(14, CoreUserAboutPage_ion_list_14_Template, 10, 10, \"ion-list\", 6);\n      i0.ɵɵtemplate(15, CoreUserAboutPage_core_empty_box_15_Template, 2, 3, \"core-empty-box\", 7);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"text\", i0.ɵɵpipeBind1(4, 7, \"core.back\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 9, \"core.user.profile\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"disabled\", !ctx.userLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"pullingText\", i0.ɵɵpipeBind1(12, 11, \"core.pulltorefresh\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hideUntil\", ctx.userLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.user);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.user || !ctx.hasContact && !ctx.hasDetails && !ctx.user.description);\n    }\n  },\n  dependencies: [i1.NgForOf, i1.NgIf, i2.CoreEmptyBoxComponent, i3.CoreLoadingComponent, i4.CoreUserAvatarComponent, i5.CoreFaIconDirective, i6.CoreFormatTextDirective, i7.CoreLinkDirective, i8.CoreContentDirective, i9.CoreUpdateNonReactiveAttributesDirective, i10.IonBadge, i10.IonButton, i10.IonButtons, i10.IonContent, i10.IonHeader, i10.IonIcon, i10.IonItem, i10.IonItemDivider, i10.IonItemGroup, i10.IonLabel, i10.IonList, i10.IonRefresher, i10.IonRefresherContent, i10.IonTitle, i10.IonToolbar, i10.IonBackButton, i11.CoreUserProfileFieldComponent, i12.TranslatePipe],\n  styles: [\"[_nghost-%COMP%]   .core-user-profile-maininfo[_ngcontent-%COMP%] {\\n  padding-top: 16px;\\n}\\n[_nghost-%COMP%]   .core-user-profile-maininfo[_ngcontent-%COMP%]::part(native) {\\n  flex-direction: column;\\n}\\n[_nghost-%COMP%]   core-user-avatar[_ngcontent-%COMP%] {\\n  --core-avatar-size: var(--core-large-avatar-size);\\n  --contact-status-size: 24px;\\n  --margin-end-on-item: 0px;\\n  --margin-vertical-on-item: 0px;\\n}\\n[_nghost-%COMP%]   core-user-avatar[_ngcontent-%COMP%]   .contact-status[_ngcontent-%COMP%] {\\n  right: calc(50% - 12px - var(--core-avatar-size) / 2) !important;\\n}\\n[_nghost-%COMP%]   core-user-avatar[_ngcontent-%COMP%]   .edit-avatar[_ngcontent-%COMP%] {\\n  position: absolute;\\n  right: calc(50% - 24px - var(--core-avatar-size) / 2);\\n  bottom: -12px;\\n}\\n[dir=rtl]   [_nghost-%COMP%]   core-user-avatar[_ngcontent-%COMP%]   .edit-avatar[_ngcontent-%COMP%] {\\n  left: 0;\\n  right: unset;\\n}\\n[_nghost-%COMP%]   core-user-avatar[_ngcontent-%COMP%]   .edit-avatar[_ngcontent-%COMP%]::part(native) {\\n  border-radius: 50%;\\n  background: var(--ion-item-background);\\n}\\n[_nghost-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n}\\n[_nghost-%COMP%]   h3[_ngcontent-%COMP%] {\\n  font-size: 20px;\\n}\\n[_nghost-%COMP%]   .core-user-profile-interests[_ngcontent-%COMP%]   ion-badge[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n  margin-left: 4px;\\n  margin-right: 4px;\\n}\\n\\n[dir=rtl][_nghost-%COMP%] core-user-avatar   .edit-avatar[_ngcontent-%COMP%], [dir=rtl]   [_nghost-%COMP%]   core-user-avatar[_ngcontent-%COMP%]   .edit-avatar[_ngcontent-%COMP%] {\\n  left: -24px;\\n  right: unset;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9jb3JlL2ZlYXR1cmVzL3VzZXIvcGFnZXMvYWJvdXQvYWJvdXQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDSTtFQUNJLGlCQUFBO0FBQVI7QUFDUTtFQUNJLHNCQUFBO0FBQ1o7QUFFSTtFQUNJLGlEQUFBO0VBQ0EsMkJBQUE7RUFDQSx5QkFBQTtFQUNBLDhCQUFBO0FBQVI7QUFFUTtFQUNJLGdFQUFBO0FBQVo7QUFHUTtFQUNJLGtCQUFBO0VBQ0EscURBQUE7RUFDQSxhQUFBO0FBRFo7QUFHWTtFQUNJLE9BQUE7RUFDQSxZQUFBO0FBRGhCO0FBR1k7RUFDSSxrQkFBQTtFQUNBLHNDQUFBO0FBRGhCO0FBTUk7RUFDSSxlQUFBO0FBSlI7QUFNSTtFQUNJLGVBQUE7QUFKUjtBQU9RO0VBQ0ksZUFBQTtFQUNBLGdCQUFBO0VBQ0EsaUJBQUE7QUFMWjs7QUFXQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0FBUkoiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gICAgLmNvcmUtdXNlci1wcm9maWxlLW1haW5pbmZvIHtcbiAgICAgICAgcGFkZGluZy10b3A6IDE2cHg7XG4gICAgICAgICY6OnBhcnQobmF0aXZlKSB7XG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvcmUtdXNlci1hdmF0YXIge1xuICAgICAgICAtLWNvcmUtYXZhdGFyLXNpemU6IHZhcigtLWNvcmUtbGFyZ2UtYXZhdGFyLXNpemUpO1xuICAgICAgICAtLWNvbnRhY3Qtc3RhdHVzLXNpemU6IDI0cHg7XG4gICAgICAgIC0tbWFyZ2luLWVuZC1vbi1pdGVtOiAwcHg7XG4gICAgICAgIC0tbWFyZ2luLXZlcnRpY2FsLW9uLWl0ZW06IDBweDtcblxuICAgICAgICAuY29udGFjdC1zdGF0dXMge1xuICAgICAgICAgICAgcmlnaHQ6IGNhbGMoNTAlIC0gMTJweCAtIHZhcigtLWNvcmUtYXZhdGFyLXNpemUpIC8gMikgIWltcG9ydGFudDtcbiAgICAgICAgfVxuXG4gICAgICAgIC5lZGl0LWF2YXRhciB7XG4gICAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgICAgICByaWdodDogY2FsYyg1MCUgLSAyNHB4IC0gdmFyKC0tY29yZS1hdmF0YXItc2l6ZSkgLyAyKTtcbiAgICAgICAgICAgIGJvdHRvbTogLTEycHg7XG5cbiAgICAgICAgICAgIDpob3N0LWNvbnRleHQoW2Rpcj1cInJ0bFwiXSkgJiB7XG4gICAgICAgICAgICAgICAgbGVmdDogMDtcbiAgICAgICAgICAgICAgICByaWdodDogdW5zZXQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAmOjpwYXJ0KG5hdGl2ZSkge1xuICAgICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1pb24taXRlbS1iYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGgyIHtcbiAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgIH1cbiAgICBoMyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMjBweDtcbiAgICB9XG4gICAgLmNvcmUtdXNlci1wcm9maWxlLWludGVyZXN0cyB7XG4gICAgICAgIGlvbi1iYWRnZSB7XG4gICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogNHB4O1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA0cHg7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cblxuOmhvc3QtY29udGV4dChbZGlyPVwicnRsXCJdKSBjb3JlLXVzZXItYXZhdGFyIC5lZGl0LWF2YXRhciB7XG4gICAgbGVmdDogLTI0cHg7XG4gICAgcmlnaHQ6IHVuc2V0O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["CoreSites","CoreDomUtils","CoreUtils","CoreEvents","CoreUser","USER_PROFILE_PICTURE_UPDATED","USER_PROFILE_REFRESHED","USER_PROFILE_SERVER_TIMEZONE","CoreUserHelper","CoreNavigator","CoreFileUploaderHelper","CoreMimetypeUtils","Translate","CoreUrlUtils","i0","ɵɵelementStart","ɵɵlistener","CoreUserAboutPage_ion_list_14_ion_button_3_Template_ion_button_click_0_listener","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","changeProfilePicture","ɵɵelement","ɵɵelementEnd","ɵɵattribute","ɵɵpipeBind1","ɵɵadvance","ɵɵproperty","ctx_r3","user","description","id","ɵɵtext","ɵɵtextInterpolate","ɵɵpropertyInterpolate1","ctx_r8","email","ɵɵsanitizeUrl","ɵɵtextInterpolate1","ctx_r9","country","ctx_r10","city","ctx_r11","timezone","ctx_r12","phone1","ctx_r13","phone2","ctx_r15","institution","ctx_r16","department","ctx_r17","idnumber","ɵɵelementContainerStart","ɵɵtemplate","CoreUserAboutPage_ion_list_14_ion_item_group_8_ng_container_12_ion_item_1_Template","CoreUserAboutPage_ion_list_14_ion_item_group_8_ng_container_12_ion_item_2_Template","CoreUserAboutPage_ion_list_14_ion_item_group_8_ng_container_12_ion_item_3_Template","ɵɵelementContainerEnd","ctx_r14","CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_6_Template","CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_7_Template","CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_8_Template","CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_9_Template","CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_10_Template","CoreUserAboutPage_ion_list_14_ion_item_group_8_ion_item_11_Template","CoreUserAboutPage_ion_list_14_ion_item_group_8_ng_container_12_Template","ctx_r4","displayTimezone","canShowDepartment","ɵɵpropertyInterpolate","ctx_r18","url","CoreUserAboutPage_ion_list_14_ion_item_group_9_ion_item_7_ion_badge_5_Template_ion_badge_click_0_listener","restoredCtx","_r24","interest_r22","$implicit","ctx_r23","openInterest","CoreUserAboutPage_ion_list_14_ion_item_group_9_ion_item_7_ion_badge_5_Template","ctx_r19","interests","field_r25","ctx_r20","courseId","CoreUserAboutPage_ion_list_14_ion_item_group_9_ion_item_6_Template","CoreUserAboutPage_ion_list_14_ion_item_group_9_ion_item_7_Template","CoreUserAboutPage_ion_list_14_ion_item_group_9_core_user_profile_field_8_Template","ctx_r5","customfields","CoreUserAboutPage_ion_list_14_ion_button_3_Template","CoreUserAboutPage_ion_list_14_ion_item_7_Template","CoreUserAboutPage_ion_list_14_ion_item_group_8_Template","CoreUserAboutPage_ion_list_14_ion_item_group_9_Template","ctx_r0","canChangeProfilePicture","fullname","hasContact","hasDetails","CoreUserAboutPage","constructor","userLoaded","site","getRequiredCurrentSite","error","showErrorModal","back","obsProfileRefreshed","on","data","getCurrentSiteId","ngOnInit","_this","_asyncToGenerator","userId","getRouteNumberParam","getUserId","canUploadFiles","isUpdatePictureDisabledInSite","fetchUser","finally","_this2","getProfile","split","map","interest","trim","undefined","address","length","title","fillTimezone","checkUserImageUpdated","showErrorModalDefault","_this3","getInfo","isUserAvatarDirty","updateSiteInfo","getId","_unused","trigger","picture","profileimageurl","refreshUser","_this4","maxSize","instant","mimetypes","getGroupMimeInfo","modal","result","selectAndUploadFile","showModalLoading","profileImageURL","itemid","_modal","dismiss","event","_this5","ignoreErrors","invalidateUserCache","complete","_this$site$getInfo","courseAvatarUrl","normalizeAvatarUrl","siteAvatarUrl","userpictureurl","avatarUrl","_this$site","isThemeImageUrl","siteUrl","serverTimezone","getStoredConfig","translateLegacyTimezone","navigateToSitePath","params","tagName","ngOnDestroy","_this$obsProfileRefre","off","selectors","decls","vars","consts","template","CoreUserAboutPage_Template","rf","ctx","CoreUserAboutPage_Template_ion_refresher_ionRefresh_10_listener","$event","target","CoreUserAboutPage_ion_list_14_Template","CoreUserAboutPage_core_empty_box_15_Template"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/user/pages/about/about.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/user/pages/about/about.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnDestroy, OnInit } from '@angular/core';\n\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\nimport {\n    CoreUser,\n    CoreUserProfile,\n    USER_PROFILE_PICTURE_UPDATED,\n    USER_PROFILE_REFRESHED,\n    USER_PROFILE_SERVER_TIMEZONE,\n} from '@features/user/services/user';\nimport { CoreUserHelper } from '@features/user/services/user-helper';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreIonLoadingElement } from '@classes/ion-loading';\nimport { CoreSite } from '@classes/sites/site';\nimport { CoreFileUploaderHelper } from '@features/fileuploader/services/fileuploader-helper';\nimport { CoreMimetypeUtils } from '@services/utils/mimetype';\nimport { Translate } from '@singletons';\nimport { CoreUrlUtils } from '@services/utils/url';\n\n/**\n * Page that displays info about a user.\n */\n@Component({\n    selector: 'page-core-user-about',\n    templateUrl: 'about.html',\n    styleUrls: ['about.scss'],\n})\nexport class CoreUserAboutPage implements OnInit, OnDestroy {\n\n    courseId!: number;\n    userLoaded = false;\n    hasContact = false;\n    hasDetails = false;\n    user?: CoreUserProfile;\n    title?: string;\n    canChangeProfilePicture = false;\n    interests?: string[];\n    displayTimezone = false;\n    canShowDepartment = false;\n\n    protected userId!: number;\n    protected site!: CoreSite;\n    protected obsProfileRefreshed?: CoreEventObserver;\n\n    constructor() {\n        try {\n            this.site = CoreSites.getRequiredCurrentSite();\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n            CoreNavigator.back();\n\n            return;\n        }\n\n        this.obsProfileRefreshed = CoreEvents.on(USER_PROFILE_REFRESHED, (data) => {\n            if (!this.user || !data.user) {\n                return;\n            }\n\n            this.user.email = data.user.email;\n        }, CoreSites.getCurrentSiteId());\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        this.userId = CoreNavigator.getRouteNumberParam('userId') || 0;\n        this.courseId = CoreNavigator.getRouteNumberParam('courseId') || 0;\n        this.canShowDepartment = this.userId != this.site.getUserId();\n\n        // Allow to change the profile image only in the app profile page.\n        this.canChangeProfilePicture =\n            !this.courseId &&\n            this.userId == this.site.getUserId() &&\n            this.site.canUploadFiles() &&\n            !CoreUser.isUpdatePictureDisabledInSite(this.site);\n\n        this.fetchUser().finally(() => {\n            this.userLoaded = true;\n        });\n    }\n\n    /**\n     * Fetches the user data.\n     *\n     * @returns Promise resolved when done.\n     */\n    async fetchUser(): Promise<void> {\n        try {\n            const user = await CoreUser.getProfile(this.userId, this.courseId);\n\n            this.interests = user.interests ?\n                user.interests.split(',').map(interest => interest.trim()) :\n                undefined;\n\n            this.hasContact = !!(user.email || user.phone1 || user.phone2 || user.city || user.country || user.address);\n            this.hasDetails = !!(user.url || user.interests || (user.customfields && user.customfields.length > 0));\n\n            this.user = user;\n            this.title = user.fullname;\n\n            this.fillTimezone();\n\n            await this.checkUserImageUpdated();\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'core.user.errorloaduser', true);\n        }\n    }\n\n    /**\n     * Check if current user image has changed.\n     *\n     * @returns Promise resolved when done.\n     */\n    protected async checkUserImageUpdated(): Promise<void> {\n        if (!this.site || !this.site.getInfo() || !this.user) {\n            return;\n        }\n\n        if (this.userId != this.site.getUserId() || !this.isUserAvatarDirty()) {\n            // Not current user or hasn't changed.\n            return;\n        }\n\n        // The current user image received is different than the one stored in site info. Assume the image was updated.\n        // Update the site info to get the right avatar in there.\n        try {\n            await CoreSites.updateSiteInfo(this.site.getId());\n        } catch {\n            // Cannot update site info. Assume the profile image is the right one.\n            CoreEvents.trigger(USER_PROFILE_PICTURE_UPDATED, {\n                userId: this.userId,\n                picture: this.user.profileimageurl,\n            }, this.site.getId());\n        }\n\n        if (this.isUserAvatarDirty()) {\n            // The image is still different, this means that the good one is the one in site info.\n            await this.refreshUser();\n        } else {\n            // Now they're the same, send event to use the right avatar in the rest of the app.\n            CoreEvents.trigger(USER_PROFILE_PICTURE_UPDATED, {\n                userId: this.userId,\n                picture: this.user.profileimageurl,\n            }, this.site.getId());\n        }\n    }\n\n    /**\n     * Opens dialog to change profile picture.\n     */\n    async changeProfilePicture(): Promise<void> {\n        const maxSize = -1;\n        const title = Translate.instant('core.user.newpicture');\n        const mimetypes = CoreMimetypeUtils.getGroupMimeInfo('image', 'mimetypes');\n        let modal: CoreIonLoadingElement | undefined;\n\n        try {\n            const result = await CoreFileUploaderHelper.selectAndUploadFile(maxSize, title, mimetypes);\n\n            modal = await CoreDomUtils.showModalLoading('core.sending', true);\n\n            const profileImageURL = await CoreUser.changeProfilePicture(result.itemid, this.userId, this.site.getId());\n\n            CoreEvents.trigger(USER_PROFILE_PICTURE_UPDATED, {\n                userId: this.userId,\n                picture: profileImageURL,\n            }, this.site.getId());\n\n            CoreSites.updateSiteInfo(this.site.getId());\n\n            this.refreshUser();\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n        } finally {\n            modal?.dismiss();\n        }\n    }\n\n    /**\n     * Refresh the user data.\n     *\n     * @param event Event.\n     * @returns Promise resolved when done.\n     */\n    async refreshUser(event?: HTMLIonRefresherElement): Promise<void> {\n        await CoreUtils.ignoreErrors(CoreUser.invalidateUserCache(this.userId));\n\n        await this.fetchUser();\n\n        event?.complete();\n\n        if (this.user) {\n            CoreEvents.trigger(USER_PROFILE_REFRESHED, {\n                courseId: this.courseId,\n                userId: this.userId,\n                user: this.user,\n            }, this.site.getId());\n        }\n    }\n\n    /**\n     * Check whether the user avatar is not up to date with site info.\n     *\n     * @returns Whether the user avatar differs from site info cache.\n     */\n    protected isUserAvatarDirty(): boolean {\n        if (!this.user || !this.site) {\n            return false;\n        }\n\n        const courseAvatarUrl = this.normalizeAvatarUrl(this.user.profileimageurl);\n        const siteAvatarUrl = this.normalizeAvatarUrl(this.site.getInfo()?.userpictureurl);\n\n        return courseAvatarUrl !== siteAvatarUrl;\n    }\n\n    /**\n     * Normalize an avatar url regardless of theme.\n     *\n     * Given that the default image is the only one that can be changed per theme, any other url will stay the same. Note that\n     * the values returned by this function may not be valid urls, given that they are intended for string comparison.\n     *\n     * @param avatarUrl Avatar url.\n     * @returns Normalized avatar string (may not be a valid url).\n     */\n    protected normalizeAvatarUrl(avatarUrl?: string): string {\n        if (!avatarUrl) {\n            return 'undefined';\n        }\n\n        if (CoreUrlUtils.isThemeImageUrl(avatarUrl, this.site?.siteUrl)) {\n            return 'default';\n        }\n\n        return avatarUrl;\n    }\n\n    /**\n     * Fill user timezone depending on the server and fix the legacy timezones.\n     */\n    protected fillTimezone(): void {\n        if (!this.user) {\n            return;\n        }\n\n        const serverTimezone = CoreSites.getRequiredCurrentSite().getStoredConfig('timezone');\n        this.displayTimezone = !!serverTimezone;\n\n        if (!this.displayTimezone) {\n            return;\n        }\n\n        if (this.user.timezone === USER_PROFILE_SERVER_TIMEZONE) {\n            this.user.timezone = serverTimezone;\n        }\n\n        if (this.user.timezone) {\n            this.user.timezone = CoreUserHelper.translateLegacyTimezone(this.user.timezone);\n        }\n    }\n\n    /**\n     * Open a user interest.\n     *\n     * @param interest Interest name.\n     */\n    openInterest(interest: string): void {\n        CoreNavigator.navigateToSitePath('/tag/index', { params: {\n            tagName: interest,\n        } });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        this.obsProfileRefreshed?.off();\n    }\n\n}\n","<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button [text]=\"'core.back' | translate\" />\n        </ion-buttons>\n        <ion-title>\n            <h1>{{ 'core.user.profile' | translate }}</h1>\n        </ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content class=\"limited-width\">\n    <ion-refresher slot=\"fixed\" [disabled]=\"!userLoaded\" (ionRefresh)=\"refreshUser($event.target)\">\n        <ion-refresher-content pullingText=\"{{ 'core.pulltorefresh' | translate }}\" />\n    </ion-refresher>\n    <core-loading [hideUntil]=\"userLoaded\">\n        <ion-list *ngIf=\"user\">\n            <ion-item class=\"ion-text-center core-user-profile-maininfo ion-text-wrap\" [lines]=\"user.description ? null : 'full'\">\n                <core-user-avatar [user]=\"user\" [userId]=\"user.id\" [linkProfile]=\"false\" [checkOnline]=\"!canChangeProfilePicture\">\n                    <ion-button class=\"edit-avatar\" *ngIf=\"canChangeProfilePicture\" (click)=\"changeProfilePicture()\"\n                        [attr.aria-label]=\"'core.user.newpicture' | translate\" fill=\"clear\">\n                        <ion-icon slot=\"icon-only\" name=\"fas-pen\" aria-hidden=\"true\" />\n                    </ion-button>\n                </core-user-avatar>\n                <ion-label>\n                    <h2>{{ user.fullname }}</h2>\n                </ion-label>\n            </ion-item>\n\n            <ion-item class=\"ion-text-wrap\" *ngIf=\"user.description\" lines=\"full\">\n                <ion-label>\n                    <p>\n                        <core-format-text [text]=\"user.description\" contextLevel=\"user\" [contextInstanceId]=\"user.id\" />\n                    </p>\n                </ion-label>\n            </ion-item>\n\n            <ion-item-group *ngIf=\"hasContact\">\n                <ion-item-divider>\n                    <ion-label>\n                        <h3>{{ 'core.user.contact' | translate}}</h3>\n                    </ion-label>\n                </ion-item-divider>\n                <ion-item class=\"ion-text-wrap\" *ngIf=\"user.email\">\n                    <ion-label>\n                        <p class=\"item-heading\">{{ 'core.user.email' | translate }}</p>\n                        <p><a class=\"core-anchor\" href=\"mailto:{{user.email}}\" core-link auto-login=\"no\" [showBrowserWarning]=\"false\">\n                                {{ user.email }}\n                            </a></p>\n                    </ion-label>\n                </ion-item>\n                <ion-item class=\"ion-text-wrap\" *ngIf=\"user.country\">\n                    <ion-label>\n                        <p class=\"item-heading\">{{ 'core.user.country' | translate}}</p>\n                        <p>{{ user.country }}</p>\n                    </ion-label>\n                </ion-item>\n                <ion-item class=\"ion-text-wrap\" *ngIf=\"user.city\">\n                    <ion-label>\n                        <p class=\"item-heading\">{{ 'core.user.city' | translate}}</p>\n                        <p>{{ user.city }}</p>\n                    </ion-label>\n                </ion-item>\n                <ion-item class=\"ion-text-wrap\" *ngIf=\"displayTimezone && user.timezone\">\n                    <ion-label>\n                        <p class=\"item-heading\">{{ 'core.timezone' | translate}}</p>\n                        <p>{{ user.timezone }}</p>\n                    </ion-label>\n                </ion-item>\n                <ion-item class=\"ion-text-wrap\" *ngIf=\"user.phone1\">\n                    <ion-label>\n                        <p class=\"item-heading\">{{ 'core.user.phone1' | translate}}</p>\n                        <p><a class=\"core-anchor\" href=\"tel:{{user.phone1}}\" core-link auto-login=\"no\" [showBrowserWarning]=\"false\">\n                                {{ user.phone1 }}\n                            </a></p>\n                    </ion-label>\n                </ion-item>\n                <ion-item class=\"ion-text-wrap\" *ngIf=\"user.phone2\">\n                    <ion-label>\n                        <p class=\"item-heading\">{{ 'core.user.phone2' | translate}}</p>\n                        <p><a class=\"core-anchor\" href=\"tel:{{user.phone2}}\" core-link auto-login=\"no\" [showBrowserWarning]=\"false\">\n                                {{ user.phone2 }}\n                            </a></p>\n                    </ion-label>\n                </ion-item>\n\n\n                <ng-container *ngIf=\"canShowDepartment\">\n                    <ion-item class=\"ion-text-wrap\" *ngIf=\"user.institution\">\n                        <ion-label>\n                            <p class=\"item-heading\">{{ 'core.user.institution' | translate }}</p>\n                            <p>{{ user.institution }}</p>\n                        </ion-label>\n                    </ion-item>\n                    <ion-item class=\"ion-text-wrap\" *ngIf=\"user.department\">\n                        <ion-label>\n                            <p class=\"item-heading\">{{ 'core.user.department' | translate }}</p>\n                            <p>{{ user.department }}</p>\n                        </ion-label>\n                    </ion-item>\n                    <ion-item class=\"ion-text-wrap\" *ngIf=\"user.idnumber\">\n                        <ion-label>\n                            <p class=\"item-heading\">{{ 'core.user.idnumber' | translate }}</p>\n                            <p>{{ user.idnumber }}</p>\n                        </ion-label>\n                    </ion-item>\n                </ng-container>\n            </ion-item-group>\n            <ion-item-group *ngIf=\"hasDetails\">\n                <ion-item-divider>\n                    <ion-label>\n                        <h3>{{ 'core.userdetails' | translate}}</h3>\n                    </ion-label>\n                </ion-item-divider>\n                <ion-item class=\"ion-text-wrap\" *ngIf=\"user.url\">\n                    <ion-label>\n                        <p class=\"item-heading\">{{ 'core.user.webpage' | translate}}</p>\n                        <p><a class=\"core-anchor\" href=\"{{user.url}}\" core-link>\n                                {{ user.url }}\n                            </a></p>\n                    </ion-label>\n                </ion-item>\n                <ion-item class=\"ion-text-wrap core-user-profile-interests\" *ngIf=\"interests\">\n                    <ion-label>\n                        <p class=\"item-heading\">{{ 'core.user.interests' | translate}}</p>\n                        <ion-badge *ngFor=\"let interest of interests\" role=\"link\" (click)=\"openInterest(interest)\">\n                            {{ interest }}\n                        </ion-badge>\n                    </ion-label>\n                </ion-item>\n                <core-user-profile-field *ngFor=\"let field of user.customfields\" [field]=\"field\" contextLevel=\"course\"\n                    [contextInstanceId]=\"courseId\" [courseId]=\"courseId\" />\n            </ion-item-group>\n        </ion-list>\n\n        <core-empty-box *ngIf=\"!user || (!hasContact && !hasDetails && !user.description)\" icon=\"fas-user\"\n            [message]=\" 'core.user.detailsnotavailable' | translate\" />\n    </core-loading>\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}