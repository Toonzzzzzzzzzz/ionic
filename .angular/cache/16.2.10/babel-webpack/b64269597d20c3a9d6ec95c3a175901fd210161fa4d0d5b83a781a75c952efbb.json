{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreCommentsProvider } from '@features/comments/services/comments';\nimport { CoreCourseModuleMainActivityComponent } from '@features/course/classes/main-activity-component';\nimport { CoreRatingProvider } from '@features/rating/services/rating';\nimport { CoreRatingSyncProvider } from '@features/rating/services/rating-sync';\nimport { CoreGroups } from '@services/groups';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreTimeUtils } from '@services/utils/time';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreEvents } from '@singletons/events';\nimport { AddonModDataProvider, AddonModData, AddonModDataTemplateType, AddonModDataTemplateMode } from '../../services/data';\nimport { AddonModDataHelper } from '../../services/data-helper';\nimport { AddonModDataSyncProvider } from '../../services/data-sync';\nimport { AddonModDataModuleHandlerService } from '../../services/handlers/module';\nimport { AddonModDataPrefetchHandler } from '../../services/handlers/prefetch';\nimport { AddonModDataComponentsCompileModule } from '../components-compile.module';\nimport { AddonModDataSearchComponent } from '../search/search';\nimport { CoreUrlUtils } from '@services/utils/url';\nimport { CoreTime } from '@singletons/time';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"@features/course/pages/contents/contents\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"../../../../../core/components/context-menu/context-menu\";\nimport * as i5 from \"../../../../../core/components/context-menu/context-menu-item\";\nimport * as i6 from \"../../../../../core/components/empty-box/empty-box\";\nimport * as i7 from \"../../../../../core/components/group-selector/group-selector\";\nimport * as i8 from \"../../../../../core/components/loading/loading\";\nimport * as i9 from \"../../../../../core/components/navbar-buttons/navbar-buttons\";\nimport * as i10 from \"../../../../../core/components/style/style\";\nimport * as i11 from \"../../../../../core/directives/fab\";\nimport * as i12 from \"../../../../../core/directives/fa-icon\";\nimport * as i13 from \"../../../../../core/directives/collapsible-footer\";\nimport * as i14 from \"../../../../../core/directives/update-non-reactive-attributes\";\nimport * as i15 from \"../../../../../core/features/course/components/module-info/module-info\";\nimport * as i16 from \"../../../../../core/features/course/components/module-navigation/module-navigation\";\nimport * as i17 from \"../../../../../core/features/compile/components/compile-html/compile-html\";\nimport * as i18 from \"@ngx-translate/core\";\nfunction AddonModDataIndexComponent_ion_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 16);\n    i0.ɵɵlistener(\"click\", function AddonModDataIndexComponent_ion_button_1_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.showSearch());\n    });\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelement(2, \"ion-icon\", 17);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"addon.mod_data.search\"));\n  }\n}\nfunction AddonModDataIndexComponent_core_context_menu_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r16 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"core-context-menu-item\", 18);\n    i0.ɵɵlistener(\"action\", function AddonModDataIndexComponent_core_context_menu_item_3_Template_core_context_menu_item_action_0_listener() {\n      i0.ɵɵrestoreView(_r16);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.gotoAddEntries());\n    });\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"priority\", 500)(\"content\", i0.ɵɵpipeBind1(1, 2, \"addon.mod_data.addentries\"));\n  }\n}\nfunction AddonModDataIndexComponent_core_context_menu_item_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"core-context-menu-item\", 19);\n    i0.ɵɵlistener(\"action\", function AddonModDataIndexComponent_core_context_menu_item_4_Template_core_context_menu_item_action_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const ctx_r17 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r17.gotoEntry(ctx_r17.firstEntry));\n    });\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"priority\", 400)(\"content\", i0.ɵɵpipeBind1(1, 2, \"addon.mod_data.single\"));\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    $a: a0\n  };\n};\nfunction AddonModDataIndexComponent_ion_card_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\", 20)(1, \"ion-item\");\n    i0.ɵɵelement(2, \"ion-icon\", 21);\n    i0.ɵɵelementStart(3, \"ion-label\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 1, \"addon.mod_data.notopenyet\", i0.ɵɵpureFunction1(4, _c0, ctx_r3.timeAvailableFromReadable)));\n  }\n}\nfunction AddonModDataIndexComponent_ion_card_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\", 20)(1, \"ion-item\");\n    i0.ɵɵelement(2, \"ion-icon\", 21);\n    i0.ɵɵelementStart(3, \"ion-label\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 1, \"addon.mod_data.expired\", i0.ɵɵpureFunction1(4, _c0, ctx_r4.timeAvailableToReadable)));\n  }\n}\nconst _c1 = function (a0) {\n  return {\n    entrieslefttoview: a0\n  };\n};\nfunction AddonModDataIndexComponent_ion_card_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\", 20)(1, \"ion-item\");\n    i0.ɵɵelement(2, \"ion-icon\", 21);\n    i0.ɵɵelementStart(3, \"ion-label\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(5, 1, \"addon.mod_data.entrieslefttoaddtoview\", i0.ɵɵpureFunction1(6, _c0, i0.ɵɵpureFunction1(4, _c1, ctx_r5.access.entrieslefttoview))), \" \");\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    entriesleft: a0\n  };\n};\nfunction AddonModDataIndexComponent_ion_card_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\", 20)(1, \"ion-item\");\n    i0.ɵɵelement(2, \"ion-icon\", 21);\n    i0.ɵɵelementStart(3, \"ion-label\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(5, 1, \"addon.mod_data.entrieslefttoadd\", i0.ɵɵpureFunction1(6, _c0, i0.ɵɵpureFunction1(4, _c2, ctx_r6.access.entrieslefttoadd))), \" \");\n  }\n}\nfunction AddonModDataIndexComponent_ng_container_15_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r22 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 24);\n    i0.ɵɵlistener(\"click\", function AddonModDataIndexComponent_ng_container_15_ion_item_1_Template_ion_item_click_0_listener($event) {\n      i0.ɵɵrestoreView(_r22);\n      const ctx_r21 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r21.searchReset($event));\n    });\n    i0.ɵɵelementStart(1, \"ion-label\", 25);\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 2, \"addon.mod_data.resetsettings\"), \" \");\n  }\n}\nfunction AddonModDataIndexComponent_ng_container_15_ion_card_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-card\", 26)(1, \"ion-item\", 24);\n    i0.ɵɵlistener(\"click\", function AddonModDataIndexComponent_ng_container_15_ion_card_2_Template_ion_item_click_1_listener($event) {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.searchReset($event));\n    });\n    i0.ɵɵelementStart(2, \"ion-label\");\n    i0.ɵɵelement(3, \"p\", 27);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", i0.ɵɵpipeBind2(4, 2, \"addon.mod_data.foundrecords\", i0.ɵɵpureFunction1(5, _c0, ctx_r20.foundRecordsTranslationData)), i0.ɵɵsanitizeHtml);\n  }\n}\nfunction AddonModDataIndexComponent_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddonModDataIndexComponent_ng_container_15_ion_item_1_Template, 4, 4, \"ion-item\", 22);\n    i0.ɵɵtemplate(2, AddonModDataIndexComponent_ng_container_15_ion_card_2_Template, 5, 7, \"ion-card\", 23);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r7.foundRecordsTranslationData);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r7.foundRecordsTranslationData);\n  }\n}\nfunction AddonModDataIndexComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"core-style\", 28)(2, \"core-compile-html\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext();\n    i0.ɵɵclassMapInterpolate1(\"addon-data-contents addon-data-entries-\", ctx_r8.database.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"prefix\", \".addon-data-entries-\", ctx_r8.database.id, \"\");\n    i0.ɵɵproperty(\"css\", ctx_r8.database.csstemplate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"text\", ctx_r8.entriesRendered)(\"jsData\", ctx_r8.jsData)(\"extraImports\", ctx_r8.extraImports);\n  }\n}\nfunction AddonModDataIndexComponent_ion_grid_17_ion_col_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-col\")(1, \"ion-button\", 31);\n    i0.ɵɵlistener(\"click\", function AddonModDataIndexComponent_ion_grid_17_ion_col_2_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.searchEntries(ctx_r27.search.page - 1));\n    });\n    i0.ɵɵelement(2, \"ion-icon\", 32);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 1, \"core.previous\"), \" \");\n  }\n}\nfunction AddonModDataIndexComponent_ion_grid_17_ion_col_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-col\")(1, \"ion-button\", 33);\n    i0.ɵɵlistener(\"click\", function AddonModDataIndexComponent_ion_grid_17_ion_col_3_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r29.searchEntries(ctx_r29.search.page + 1));\n    });\n    i0.ɵɵtext(2);\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelement(4, \"ion-icon\", 34);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(3, 1, \"core.next\"), \" \");\n  }\n}\nfunction AddonModDataIndexComponent_ion_grid_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-grid\")(1, \"ion-row\", 30);\n    i0.ɵɵtemplate(2, AddonModDataIndexComponent_ion_grid_17_ion_col_2_Template, 5, 3, \"ion-col\", 10);\n    i0.ɵɵtemplate(3, AddonModDataIndexComponent_ion_grid_17_ion_col_3_Template, 5, 3, \"ion-col\", 10);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.search.page > 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r9.hasNextPage);\n  }\n}\nfunction AddonModDataIndexComponent_core_empty_box_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-empty-box\", 35);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"message\", i0.ɵɵpipeBind1(1, 1, \"addon.mod_data.norecords\"));\n  }\n}\nfunction AddonModDataIndexComponent_core_empty_box_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r32 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"core-empty-box\", 36);\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelementStart(2, \"button\", 37);\n    i0.ɵɵlistener(\"click\", function AddonModDataIndexComponent_core_empty_box_19_Template_button_click_2_listener($event) {\n      i0.ɵɵrestoreView(_r32);\n      const ctx_r31 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r31.searchReset($event));\n    });\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"message\", i0.ɵɵpipeBind1(1, 2, \"addon.mod_data.nomatch\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 4, \"addon.mod_data.resetsettings\"));\n  }\n}\nfunction AddonModDataIndexComponent_ion_fab_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r34 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-fab\", 38)(1, \"ion-fab-button\", 16);\n    i0.ɵɵlistener(\"click\", function AddonModDataIndexComponent_ion_fab_21_Template_ion_fab_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r34);\n      const ctx_r33 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r33.gotoAddEntries());\n    });\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelement(3, \"ion-icon\", 39);\n    i0.ɵɵelementStart(4, \"span\", 40);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(2, 2, \"addon.mod_data.addentries\"));\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 4, \"addon.mod_data.addentries\"));\n  }\n}\nconst contentToken = '<!-- CORE-DATABASE-CONTENT-GOES-HERE -->';\n/**\n * Component that displays a data index page.\n */\nexport class AddonModDataIndexComponent extends CoreCourseModuleMainActivityComponent {\n  constructor(content, courseContentsPage) {\n    super('AddonModDataIndexComponent', content, courseContentsPage);\n    this.content = content;\n    this.component = AddonModDataProvider.COMPONENT;\n    this.pluginName = 'data';\n    this.fields = {};\n    this.selectedGroup = 0;\n    this.isEmpty = true;\n    this.entries = [];\n    this.canAdd = false;\n    this.canSearch = false;\n    this.search = {\n      sortBy: '0',\n      sortDirection: 'DESC',\n      page: 0,\n      text: '',\n      searching: false,\n      searchingAdvanced: false,\n      advanced: []\n    };\n    this.hasNextPage = false;\n    this.entriesRendered = '';\n    this.extraImports = [AddonModDataComponentsCompileModule];\n    this.hasOfflineRatings = false;\n    this.syncEventName = AddonModDataSyncProvider.AUTO_SYNCED;\n    this.hasComments = false;\n    this.fieldsArray = [];\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    var _superprop_getNgOnInit = () => super.ngOnInit,\n      _this = this;\n    return _asyncToGenerator(function* () {\n      yield _superprop_getNgOnInit().call(_this);\n      _this.selectedGroup = _this.group || 0;\n      // Refresh entries on change.\n      _this.entryChangedObserver = CoreEvents.on(AddonModDataProvider.ENTRY_CHANGED, eventData => {\n        var _this$database;\n        if (((_this$database = _this.database) === null || _this$database === void 0 ? void 0 : _this$database.id) == eventData.dataId) {\n          _this.showLoading = true;\n          return _this.loadContent(true);\n        }\n      }, _this.siteId);\n      // Listen for offline ratings saved and synced.\n      _this.ratingOfflineObserver = CoreEvents.on(CoreRatingProvider.RATING_SAVED_EVENT, data => {\n        var _this$database2;\n        if (data.component == 'mod_data' && data.ratingArea == 'entry' && data.contextLevel == \"module\" /* ContextLevel.MODULE */ && data.instanceId == ((_this$database2 = _this.database) === null || _this$database2 === void 0 ? void 0 : _this$database2.coursemodule)) {\n          _this.hasOfflineRatings = true;\n        }\n      });\n      _this.ratingSyncObserver = CoreEvents.on(CoreRatingSyncProvider.SYNCED_EVENT, data => {\n        var _this$database3;\n        if (data.component == 'mod_data' && data.ratingArea == 'entry' && data.contextLevel == \"module\" /* ContextLevel.MODULE */ && data.instanceId == ((_this$database3 = _this.database) === null || _this$database3 === void 0 ? void 0 : _this$database3.coursemodule)) {\n          _this.hasOfflineRatings = false;\n        }\n      });\n      yield _this.loadContent(false, true);\n    })();\n  }\n  /**\n   * Perform the invalidate content function.\n   *\n   * @returns Resolved when done.\n   */\n  invalidateContent() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const promises = [];\n      promises.push(AddonModData.invalidateDatabaseData(_this2.courseId));\n      if (_this2.database) {\n        promises.push(AddonModData.invalidateDatabaseAccessInformationData(_this2.database.id));\n        promises.push(CoreGroups.invalidateActivityGroupInfo(_this2.database.coursemodule));\n        promises.push(AddonModData.invalidateEntriesData(_this2.database.id));\n        promises.push(AddonModData.invalidateFieldsData(_this2.database.id));\n        if (_this2.hasComments) {\n          CoreEvents.trigger(CoreCommentsProvider.REFRESH_COMMENTS_EVENT, {\n            contextLevel: \"module\" /* ContextLevel.MODULE */,\n            instanceId: _this2.database.coursemodule\n          }, CoreSites.getCurrentSiteId());\n        }\n      }\n      yield Promise.all(promises);\n    })();\n  }\n  /**\n   * Compares sync event data with current data to check if refresh content is needed.\n   *\n   * @param syncEventData Data receiven on sync observer.\n   * @returns True if refresh is needed, false otherwise.\n   */\n  isRefreshSyncNeeded(syncEventData) {\n    if (this.database && syncEventData.dataId == this.database.id && syncEventData.entryId === undefined) {\n      var _this$content;\n      this.showLoading = true;\n      // Refresh the data.\n      (_this$content = this.content) === null || _this$content === void 0 || _this$content.scrollToTop();\n      return true;\n    }\n    return false;\n  }\n  /**\n   * @inheritdoc\n   */\n  fetchContent(refresh, sync = false, showErrors = false) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      let canAdd = false;\n      let canSearch = false;\n      _this3.database = yield AddonModData.getDatabase(_this3.courseId, _this3.module.id);\n      _this3.hasComments = _this3.database.comments;\n      _this3.description = _this3.database.intro;\n      _this3.dataRetrieved.emit(_this3.database);\n      if (sync) {\n        // Try to synchronize the data.\n        yield CoreUtils.ignoreErrors(_this3.syncActivity(showErrors));\n      }\n      _this3.groupInfo = yield CoreGroups.getActivityGroupInfo(_this3.database.coursemodule);\n      if (_this3.groupInfo.visibleGroups && _this3.groupInfo.groups.length) {\n        // There is a bug in Moodle with All participants and visible groups (MOBILE-3597). Remove it.\n        _this3.groupInfo.groups = _this3.groupInfo.groups.filter(group => group.id !== 0);\n        _this3.groupInfo.defaultGroupId = _this3.groupInfo.groups[0].id;\n      }\n      _this3.selectedGroup = CoreGroups.validateGroupId(_this3.selectedGroup, _this3.groupInfo);\n      _this3.access = yield AddonModData.getDatabaseAccessInformation(_this3.database.id, {\n        cmId: _this3.module.id,\n        groupId: _this3.selectedGroup\n      });\n      if (!_this3.access.timeavailable) {\n        const time = CoreTimeUtils.timestamp();\n        _this3.timeAvailableFrom = _this3.database.timeavailablefrom && time < _this3.database.timeavailablefrom ? _this3.database.timeavailablefrom * 1000 : undefined;\n        _this3.timeAvailableFromReadable = _this3.timeAvailableFrom ? CoreTimeUtils.userDate(_this3.timeAvailableFrom) : undefined;\n        _this3.timeAvailableTo = _this3.database.timeavailableto && time > _this3.database.timeavailableto ? _this3.database.timeavailableto * 1000 : undefined;\n        _this3.timeAvailableToReadable = _this3.timeAvailableTo ? CoreTimeUtils.userDate(_this3.timeAvailableTo) : undefined;\n        _this3.isEmpty = true;\n        _this3.groupInfo = undefined;\n        return;\n      } else {\n        canSearch = true;\n        canAdd = _this3.access.canaddentry;\n      }\n      const fields = yield AddonModData.getFields(_this3.database.id, {\n        cmId: _this3.module.id\n      });\n      _this3.search.advanced = [];\n      _this3.fields = CoreUtils.arrayToObject(fields, 'id');\n      _this3.fieldsArray = CoreUtils.objectToArray(_this3.fields);\n      if (_this3.fieldsArray.length == 0) {\n        canSearch = false;\n        canAdd = false;\n      }\n      try {\n        yield _this3.fetchEntriesData();\n      } finally {\n        _this3.canAdd = canAdd;\n        _this3.canSearch = canSearch;\n      }\n    })();\n  }\n  /**\n   * Fetch current database entries.\n   *\n   * @returns Resolved then done.\n   */\n  fetchEntriesData() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      var _entries$offlineEntri;\n      const search = _this4.search.searching && !_this4.search.searchingAdvanced ? _this4.search.text : undefined;\n      const advSearch = _this4.search.searching && _this4.search.searchingAdvanced ? _this4.search.advanced : undefined;\n      const entries = yield AddonModDataHelper.fetchEntries(_this4.database, _this4.fieldsArray, {\n        groupId: _this4.selectedGroup,\n        search,\n        advSearch,\n        sort: Number(_this4.search.sortBy),\n        order: _this4.search.sortDirection,\n        page: _this4.search.page,\n        cmId: _this4.module.id\n      });\n      const numEntries = entries.entries.length;\n      const numOfflineEntries = ((_entries$offlineEntri = entries.offlineEntries) === null || _entries$offlineEntri === void 0 ? void 0 : _entries$offlineEntri.length) || 0;\n      _this4.isEmpty = !numEntries && !numOfflineEntries;\n      _this4.hasNextPage = numEntries >= AddonModDataProvider.PER_PAGE && (_this4.search.page + 1) * AddonModDataProvider.PER_PAGE < entries.totalcount;\n      _this4.hasOffline = !!entries.hasOfflineActions;\n      _this4.hasOfflineRatings = !!entries.hasOfflineRatings;\n      _this4.entriesRendered = '';\n      _this4.foundRecordsTranslationData = entries.maxcount !== undefined ? {\n        num: entries.totalcount,\n        max: entries.maxcount,\n        reseturl: '#'\n      } : undefined;\n      if (!_this4.isEmpty) {\n        _this4.entries = (entries.offlineEntries || []).concat(entries.entries);\n        let headerAndFooter = AddonModDataHelper.getTemplate(_this4.database, AddonModDataTemplateType.LIST_HEADER, _this4.fieldsArray);\n        headerAndFooter += contentToken;\n        headerAndFooter += AddonModDataHelper.getTemplate(_this4.database, AddonModDataTemplateType.LIST_FOOTER, _this4.fieldsArray);\n        headerAndFooter = CoreDomUtils.fixHtml(headerAndFooter);\n        // Get first entry from the whole list.\n        if (!_this4.search.searching || !_this4.firstEntry) {\n          _this4.firstEntry = _this4.entries[0].id;\n        }\n        const template = AddonModDataHelper.getTemplate(_this4.database, AddonModDataTemplateType.LIST, _this4.fieldsArray);\n        let entriesHTML = '';\n        const entriesById = {};\n        _this4.entries.forEach((entry, index) => {\n          entriesById[entry.id] = entry;\n          const actions = AddonModDataHelper.getActions(_this4.database, _this4.access, entry, AddonModDataTemplateMode.LIST);\n          const options = {};\n          if (!_this4.search.searching) {\n            options.offset = _this4.search.page * AddonModDataProvider.PER_PAGE + index - numOfflineEntries;\n            options.sortBy = _this4.search.sortBy;\n            options.sortDirection = _this4.search.sortDirection;\n          }\n          entriesHTML += AddonModDataHelper.displayShowFields(template, _this4.fieldsArray, entry, AddonModDataTemplateMode.LIST, actions, options);\n        });\n        _this4.entriesRendered = headerAndFooter.replace(contentToken, entriesHTML);\n        // Pass the input data to the component.\n        _this4.jsData = {\n          fields: _this4.fields,\n          entries: entriesById,\n          database: _this4.database,\n          title: _this4.module.name,\n          group: _this4.selectedGroup,\n          access: _this4.access,\n          gotoEntry: entryId => _this4.gotoEntry(entryId)\n        };\n      } else if (!_this4.search.searching) {\n        // Empty and no searching.\n        _this4.canSearch = false;\n        _this4.firstEntry = undefined;\n      } else {\n        _this4.firstEntry = undefined;\n      }\n    })();\n  }\n  /**\n   * Display the chat users modal.\n   */\n  showSearch() {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      const modalData = yield CoreDomUtils.openModal({\n        component: AddonModDataSearchComponent,\n        componentProps: {\n          search: _this5.search,\n          fields: _this5.fields,\n          database: _this5.database\n        }\n      });\n      // Add data to search object.\n      if (modalData) {\n        _this5.search = modalData;\n        _this5.logSearch = CoreTime.once(() => _this5.performLogSearch());\n        _this5.searchEntries(0);\n      }\n    })();\n  }\n  /**\n   * Performs the search and closes the modal.\n   *\n   * @param page Page number.\n   * @returns Resolved when done.\n   */\n  searchEntries(page) {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      _this6.showLoading = true;\n      _this6.search.page = page;\n      try {\n        var _this6$logSearch;\n        yield _this6.fetchEntriesData();\n        (_this6$logSearch = _this6.logSearch) === null || _this6$logSearch === void 0 || _this6$logSearch.call(_this6);\n      } catch (error) {\n        CoreDomUtils.showErrorModalDefault(error, 'core.course.errorgetmodule', true);\n      } finally {\n        _this6.showLoading = false;\n      }\n    })();\n  }\n  /**\n   * Reset all search filters and closes the modal.\n   *\n   * @param ev Event.\n   */\n  searchReset(ev) {\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.search.sortBy = '0';\n    this.search.sortDirection = 'DESC';\n    this.search.text = '';\n    this.search.advanced = [];\n    this.search.searchingAdvanced = false;\n    this.search.searching = false;\n    this.searchEntries(0);\n  }\n  /**\n   * Set group to see the database.\n   *\n   * @param groupId Group ID.\n   * @returns Resolved when new group is selected or rejected if not.\n   */\n  setGroup(groupId) {\n    var _this7 = this;\n    return _asyncToGenerator(function* () {\n      _this7.selectedGroup = groupId;\n      _this7.search.page = 0;\n      // Only update canAdd if there's any field, otheerwise, canAdd will remain false.\n      if (_this7.fieldsArray.length > 0) {\n        // Update values for current group.\n        _this7.access = yield AddonModData.getDatabaseAccessInformation(_this7.database.id, {\n          groupId: _this7.selectedGroup,\n          cmId: _this7.module.id\n        });\n        _this7.canAdd = _this7.access.canaddentry;\n      }\n      try {\n        yield _this7.fetchEntriesData();\n      } catch (error) {\n        CoreDomUtils.showErrorModalDefault(error, 'core.course.errorgetmodule', true);\n      }\n    })();\n  }\n  /**\n   * Opens add entries form.\n   */\n  gotoAddEntries() {\n    const params = {\n      title: this.module.name,\n      group: this.selectedGroup\n    };\n    CoreNavigator.navigateToSitePath(`${AddonModDataModuleHandlerService.PAGE_NAME}/${this.courseId}/${this.module.id}/edit`, {\n      params\n    });\n  }\n  /**\n   * Goto the selected entry.\n   *\n   * @param entryId Entry ID.\n   */\n  gotoEntry(entryId) {\n    const params = {\n      title: this.module.name,\n      group: this.selectedGroup\n    };\n    // Try to find page number and offset of the entry.\n    if (!this.search.searching) {\n      const pageXOffset = this.entries.findIndex(entry => entry.id == entryId);\n      if (pageXOffset >= 0) {\n        params.offset = this.search.page * AddonModDataProvider.PER_PAGE + pageXOffset;\n        params.sortBy = this.search.sortBy;\n        params.sortDirection = this.search.sortDirection;\n      }\n    }\n    CoreNavigator.navigateToSitePath(`${AddonModDataModuleHandlerService.PAGE_NAME}/${this.courseId}/${this.module.id}/${entryId}`, {\n      params\n    });\n  }\n  /**\n   * @inheritdoc\n   */\n  sync() {\n    return AddonModDataPrefetchHandler.sync(this.module, this.courseId);\n  }\n  /**\n   * @inheritdoc\n   */\n  logActivity() {\n    var _this8 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this8.database || !_this8.database.id) {\n        return;\n      }\n      yield AddonModData.logView(_this8.database.id);\n      _this8.analyticsLogEvent('mod_data_view_database');\n    })();\n  }\n  /**\n   * Log search.\n   */\n  performLogSearch() {\n    var _this9 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this9.database || !_this9.search.searching) {\n        return;\n      }\n      const params = {\n        perpage: AddonModDataProvider.PER_PAGE,\n        search: !_this9.search.searchingAdvanced ? _this9.search.text : '',\n        sort: _this9.search.sortBy,\n        order: _this9.search.sortDirection,\n        advanced: _this9.search.searchingAdvanced ? 1 : 0,\n        filter: 1\n      };\n      // @todo: Add advanced search parameters. Leave them empty if not using advanced search.\n      _this9.analyticsLogEvent('mod_data_search_entries', {\n        data: params,\n        url: CoreUrlUtils.addParamsToUrl(`/mod/data/view.php?d=${_this9.database.id}`, params)\n      });\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnDestroy() {\n    var _this$entryChangedObs, _this$ratingOfflineOb, _this$ratingSyncObser;\n    super.ngOnDestroy();\n    (_this$entryChangedObs = this.entryChangedObserver) === null || _this$entryChangedObs === void 0 || _this$entryChangedObs.off();\n    (_this$ratingOfflineOb = this.ratingOfflineObserver) === null || _this$ratingOfflineOb === void 0 || _this$ratingOfflineOb.off();\n    (_this$ratingSyncObser = this.ratingSyncObserver) === null || _this$ratingSyncObser === void 0 || _this$ratingSyncObser.off();\n  }\n}\n_class = AddonModDataIndexComponent;\n_class.ɵfac = function AddonModDataIndexComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.IonContent), i0.ɵɵdirectiveInject(i2.CoreCourseContentsPage, 8));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"addon-mod-data-index\"]],\n  features: [i0.ɵɵInheritDefinitionFeature],\n  decls: 22,\n  vars: 29,\n  consts: [[\"slot\", \"end\"], [3, \"click\", 4, \"ngIf\"], [\"iconAction\", \"fas-plus\", 3, \"priority\", \"content\", \"action\", 4, \"ngIf\"], [\"iconAction\", \"fas-file\", 3, \"priority\", \"content\", \"action\", 4, \"ngIf\"], [\"fill\", \"clear\", \"aria-haspopup\", \"true\", 3, \"click\"], [\"name\", \"fas-circle-info\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [3, \"hideUntil\"], [3, \"module\", \"description\", \"component\", \"componentId\", \"courseId\", \"hasDataToSync\", \"completionChanged\"], [3, \"groupInfo\", \"selected\", \"courseId\", \"selectedChange\"], [\"class\", \"core-info-card\", 4, \"ngIf\"], [4, \"ngIf\"], [3, \"class\", 4, \"ngIf\"], [\"icon\", \"fas-database\", 3, \"message\", 4, \"ngIf\"], [\"icon\", \"fas-database\", \"class\", \"core-empty-box-clickable\", 3, \"message\", 4, \"ngIf\"], [\"collapsible-footer\", \"\", 3, \"hidden\", \"courseId\", \"currentModuleId\"], [\"slot\", \"fixed\", \"core-fab\", \"\", \"vertical\", \"bottom\", \"horizontal\", \"end\", 4, \"ngIf\"], [3, \"click\"], [\"name\", \"fas-magnifying-glass\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [\"iconAction\", \"fas-plus\", 3, \"priority\", \"content\", \"action\"], [\"iconAction\", \"fas-file\", 3, \"priority\", \"content\", \"action\"], [1, \"core-info-card\"], [\"name\", \"fas-circle-info\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [\"button\", \"\", 3, \"detail\", \"click\", 4, \"ngIf\"], [\"class\", \"core-success-card\", 4, \"ngIf\"], [\"button\", \"\", 3, \"detail\", \"click\"], [\"color\", \"info\"], [1, \"core-success-card\"], [3, \"innerHTML\"], [3, \"css\", \"prefix\"], [3, \"text\", \"jsData\", \"extraImports\"], [1, \"ion-align-items-center\"], [\"expand\", \"block\", \"fill\", \"outline\", 3, \"click\"], [\"name\", \"fas-chevron-left\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [\"expand\", \"block\", 3, \"click\"], [\"name\", \"fas-chevron-right\", \"slot\", \"end\", \"aria-hidden\", \"true\"], [\"icon\", \"fas-database\", 3, \"message\"], [\"icon\", \"fas-database\", 1, \"core-empty-box-clickable\", 3, \"message\"], [1, \"as-link\", 3, \"click\"], [\"slot\", \"fixed\", \"core-fab\", \"\", \"vertical\", \"bottom\", \"horizontal\", \"end\"], [\"name\", \"fas-plus\", \"aria-hidden\", \"true\"], [1, \"sr-only\"]],\n  template: function AddonModDataIndexComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"core-navbar-buttons\", 0);\n      i0.ɵɵtemplate(1, AddonModDataIndexComponent_ion_button_1_Template, 3, 3, \"ion-button\", 1);\n      i0.ɵɵelementStart(2, \"core-context-menu\");\n      i0.ɵɵtemplate(3, AddonModDataIndexComponent_core_context_menu_item_3_Template, 2, 4, \"core-context-menu-item\", 2);\n      i0.ɵɵtemplate(4, AddonModDataIndexComponent_core_context_menu_item_4_Template, 2, 4, \"core-context-menu-item\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ion-button\", 4);\n      i0.ɵɵlistener(\"click\", function AddonModDataIndexComponent_Template_ion_button_click_5_listener() {\n        return ctx.openModuleSummary();\n      });\n      i0.ɵɵpipe(6, \"translate\");\n      i0.ɵɵelement(7, \"ion-icon\", 5);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(8, \"core-loading\", 6)(9, \"core-course-module-info\", 7);\n      i0.ɵɵlistener(\"completionChanged\", function AddonModDataIndexComponent_Template_core_course_module_info_completionChanged_9_listener() {\n        return ctx.onCompletionChange();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"core-group-selector\", 8);\n      i0.ɵɵlistener(\"selectedChange\", function AddonModDataIndexComponent_Template_core_group_selector_selectedChange_10_listener($event) {\n        return ctx.selectedGroup = $event;\n      })(\"selectedChange\", function AddonModDataIndexComponent_Template_core_group_selector_selectedChange_10_listener() {\n        return ctx.setGroup(ctx.selectedGroup);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(11, AddonModDataIndexComponent_ion_card_11_Template, 6, 6, \"ion-card\", 9);\n      i0.ɵɵtemplate(12, AddonModDataIndexComponent_ion_card_12_Template, 6, 6, \"ion-card\", 9);\n      i0.ɵɵtemplate(13, AddonModDataIndexComponent_ion_card_13_Template, 6, 8, \"ion-card\", 9);\n      i0.ɵɵtemplate(14, AddonModDataIndexComponent_ion_card_14_Template, 6, 8, \"ion-card\", 9);\n      i0.ɵɵtemplate(15, AddonModDataIndexComponent_ng_container_15_Template, 3, 2, \"ng-container\", 10);\n      i0.ɵɵtemplate(16, AddonModDataIndexComponent_div_16_Template, 3, 8, \"div\", 11);\n      i0.ɵɵtemplate(17, AddonModDataIndexComponent_ion_grid_17_Template, 4, 2, \"ion-grid\", 10);\n      i0.ɵɵtemplate(18, AddonModDataIndexComponent_core_empty_box_18_Template, 2, 3, \"core-empty-box\", 12);\n      i0.ɵɵtemplate(19, AddonModDataIndexComponent_core_empty_box_19_Template, 5, 6, \"core-empty-box\", 13);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"core-course-module-navigation\", 14);\n      i0.ɵɵtemplate(21, AddonModDataIndexComponent_ion_fab_21_Template, 7, 6, \"ion-fab\", 15);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.canSearch);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.canAdd);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.firstEntry);\n      i0.ɵɵadvance(1);\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(6, 27, \"core.info\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"hideUntil\", !ctx.showLoading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"module\", ctx.module)(\"description\", ctx.description)(\"component\", ctx.component)(\"componentId\", ctx.componentId)(\"courseId\", ctx.courseId)(\"hasDataToSync\", ctx.hasOffline || ctx.hasOfflineRatings);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"groupInfo\", ctx.groupInfo)(\"selected\", ctx.selectedGroup)(\"courseId\", ctx.database == null ? null : ctx.database.course);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !(ctx.access == null ? null : ctx.access.timeavailable) && ctx.timeAvailableFrom);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !(ctx.access == null ? null : ctx.access.timeavailable) && ctx.timeAvailableTo);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.access && ctx.access.entrieslefttoview);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.access && ctx.access.entrieslefttoadd);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.search.searching && !ctx.isEmpty);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.isEmpty && ctx.database);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.search.page > 0 || ctx.hasNextPage);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isEmpty && !ctx.search.searching);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.isEmpty && ctx.search.searching);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hidden\", ctx.showLoading)(\"courseId\", ctx.courseId)(\"currentModuleId\", ctx.module.id);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.canAdd);\n    }\n  },\n  dependencies: [i3.NgIf, i4.CoreContextMenuComponent, i5.CoreContextMenuItemComponent, i6.CoreEmptyBoxComponent, i7.CoreGroupSelectorComponent, i8.CoreLoadingComponent, i9.CoreNavBarButtonsComponent, i10.CoreStyleComponent, i11.CoreFabDirective, i12.CoreFaIconDirective, i13.CoreCollapsibleFooterDirective, i14.CoreUpdateNonReactiveAttributesDirective, i1.IonButton, i1.IonCard, i1.IonCol, i1.IonFab, i1.IonFabButton, i1.IonGrid, i1.IonIcon, i1.IonItem, i1.IonLabel, i1.IonRow, i15.CoreCourseModuleInfoComponent, i16.CoreCourseModuleNavigationComponent, i17.CoreCompileHtmlComponent, i18.TranslatePipe],\n  styles: [\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n[_nghost-%COMP%] {\\n  --border-color: var(--stroke);\\n}\\n\\n.addon-data-contents[_ngcontent-%COMP%] {\\n  overflow: visible;\\n  white-space: normal;\\n  word-break: break-word;\\n  padding: 16px;\\n  background-color: var(--ion-item-background);\\n  border-bottom: 1px solid var(--border-color);\\n}\\n.addon-data-contents[_ngcontent-%COMP%]     table, .addon-data-contents[_ngcontent-%COMP%]     tbody {\\n  display: block;\\n}\\n.addon-data-contents[_ngcontent-%COMP%]     tr {\\n  display: flex;\\n  flex-wrap: wrap;\\n  padding: 0;\\n}\\n@media (max-width: 575.98px) {\\n  .addon-data-contents[_ngcontent-%COMP%]     tr {\\n    flex-direction: column;\\n  }\\n}\\n.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th {\\n  -webkit-padding-start: var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));\\n  padding-inline-start: var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));\\n  -webkit-padding-end: var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));\\n  padding-inline-end: var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));\\n  padding-top: var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));\\n  padding-bottom: var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));\\n  margin-left: 0;\\n  margin-right: 0;\\n  margin-top: 0;\\n  margin-bottom: 0;\\n  box-sizing: border-box;\\n  position: relative;\\n  flex-basis: 0;\\n  flex-grow: 1;\\n  width: 100%;\\n  max-width: 100%;\\n  min-height: auto;\\n}\\n@media (min-width: 576px) {\\n  .addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th {\\n    -webkit-padding-start: var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));\\n    padding-inline-start: var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));\\n    -webkit-padding-end: var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));\\n    padding-inline-end: var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));\\n    padding-top: var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));\\n    padding-bottom: var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));\\n  }\\n}\\n@media (min-width: 768px) {\\n  .addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th {\\n    -webkit-padding-start: var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));\\n    padding-inline-start: var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));\\n    -webkit-padding-end: var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));\\n    padding-inline-end: var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));\\n    padding-top: var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));\\n    padding-bottom: var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));\\n  }\\n}\\n@media (min-width: 992px) {\\n  .addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th {\\n    -webkit-padding-start: var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));\\n    padding-inline-start: var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));\\n    -webkit-padding-end: var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));\\n    padding-inline-end: var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));\\n    padding-top: var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));\\n    padding-bottom: var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));\\n  }\\n}\\n@media (min-width: 1200px) {\\n  .addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th {\\n    -webkit-padding-start: var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));\\n    padding-inline-start: var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));\\n    -webkit-padding-end: var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));\\n    padding-inline-end: var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));\\n    padding-top: var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));\\n    padding-bottom: var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));\\n  }\\n}\\n.addon-data-contents[_ngcontent-%COMP%]     address, .addon-data-contents[_ngcontent-%COMP%]     article, .addon-data-contents[_ngcontent-%COMP%]     aside, .addon-data-contents[_ngcontent-%COMP%]     blockquote, .addon-data-contents[_ngcontent-%COMP%]     canvas, .addon-data-contents[_ngcontent-%COMP%]     dd, .addon-data-contents[_ngcontent-%COMP%]     div, .addon-data-contents[_ngcontent-%COMP%]     dl, .addon-data-contents[_ngcontent-%COMP%]     dt, .addon-data-contents[_ngcontent-%COMP%]     fieldset, .addon-data-contents[_ngcontent-%COMP%]     figcaption, .addon-data-contents[_ngcontent-%COMP%]     figure, .addon-data-contents[_ngcontent-%COMP%]     footer, .addon-data-contents[_ngcontent-%COMP%]     form, .addon-data-contents[_ngcontent-%COMP%]     h1, .addon-data-contents[_ngcontent-%COMP%]     h2, .addon-data-contents[_ngcontent-%COMP%]     h3, .addon-data-contents[_ngcontent-%COMP%]     h4, .addon-data-contents[_ngcontent-%COMP%]     h5, .addon-data-contents[_ngcontent-%COMP%]     h6, .addon-data-contents[_ngcontent-%COMP%]     header, .addon-data-contents[_ngcontent-%COMP%]     li, .addon-data-contents[_ngcontent-%COMP%]     main, .addon-data-contents[_ngcontent-%COMP%]     nav, .addon-data-contents[_ngcontent-%COMP%]     noscript, .addon-data-contents[_ngcontent-%COMP%]     ol, .addon-data-contents[_ngcontent-%COMP%]     p, .addon-data-contents[_ngcontent-%COMP%]     pre, .addon-data-contents[_ngcontent-%COMP%]     section, .addon-data-contents[_ngcontent-%COMP%]     table, .addon-data-contents[_ngcontent-%COMP%]     tfoot, .addon-data-contents[_ngcontent-%COMP%]     ul, .addon-data-contents[_ngcontent-%COMP%]     video {\\n  width: auto !important;\\n  height: auto !important;\\n  min-width: auto !important;\\n  min-height: auto !important;\\n  max-height: none !important;\\n}\\n.addon-data-contents[_ngcontent-%COMP%]     hr {\\n  border-top: 1px solid var(--stroke);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuc3RyaW5nLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2lvbmljLm1peGlucy5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2hlbHBlcnMvaW9uaWMuY29tcG9uZW50cy5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2N1c3RvbS5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLmN1c3RvbS5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2dsb2JhbHMudmFyaWFibGVzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvYWRkb25zL21vZC9kYXRhL2RhdGEuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBO0FDQUE7Ozs7O0VBQUE7QUNBQTs7Ozs7RUFBQTtBQ0FBOzs7OztFQUFBO0FDQUE7Ozs7OztFQUFBO0FDRUE7Ozs7RUFBQTtBQTRHQTs7RUFBQTtBQzlHQTs7OztFQUFBO0FDQUE7Ozs7RUFBQTtBQStEQTs7OztFQUFBO0FDakRBO0VBQ0ksNkJBQUE7QUF3Q0o7O0FBckNBO0VBQ0ksaUJBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EsYUFBQTtFQUVBLDRDQUFBO0VBQ0EsNENBQUE7QUF1Q0o7QUFwQ1E7RUFDSSxjQUFBO0FBc0NaO0FBbkNRO0VBRUksYUFBQTtFQUNBLGVBQUE7RUFFQSxVQUFBO0FBbUNaO0FMc0dJO0VLOUlJO0lBT1Esc0JBQUE7RUFxQ2Q7QUFDRjtBQWxDUTtFTDBRSiw2RkNyUlk7RURzUlosNEZDdFJZO0VEdVJaLDJGQ3ZSWTtFRHdSWiwwRkN4Ulk7RURzU2QsbUZDdFNjO0VEdVNkLHNGQ3ZTYztFRGlSWixjS25Rd0I7RUxvUXhCLGVLcFF3QjtFTHdSMUIsYUt4UjBCO0VMeVIxQixnQkt6UjBCO0VBQ2hCLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUEyQ1o7QUxxQ0k7RUsxRkk7SUwwUUosNkZDclJZO0lEc1JaLDRGQ3RSWTtJRHVSWiwyRkN2Ulk7SUR3UlosMEZDeFJZO0lEc1NkLG1GQ3RTYztJRHVTZCxzRkN2U2M7RUl5RWQ7QUFDRjtBTDJCSTtFSzFGSTtJTDBRSiw2RkNyUlk7SURzUlosNEZDdFJZO0lEdVJaLDJGQ3ZSWTtJRHdSWiwwRkN4Ulk7SURzU2QsbUZDdFNjO0lEdVNkLHNGQ3ZTYztFSW1GZDtBQUNGO0FMaUJJO0VLMUZJO0lMMFFKLDZGQ3JSWTtJRHNSWiw0RkN0Ulk7SUR1UlosMkZDdlJZO0lEd1JaLDBGQ3hSWTtJRHNTZCxtRkN0U2M7SUR1U2Qsc0ZDdlNjO0VJNkZkO0FBQ0Y7QUxPSTtFSzFGSTtJTDBRSiw2RkNyUlk7SURzUlosNEZDdFJZO0lEdVJaLDJGQ3ZSWTtJRHdSWiwwRkN4Ulk7SURzU2QsbUZDdFNjO0lEdVNkLHNGQ3ZTYztFSXVHZDtBQUNGO0FBL0VROzs7RUFHSSxzQkFBQTtFQUNBLHVCQUFBO0VBQ0EsMEJBQUE7RUFDQSwyQkFBQTtFQUVBLDJCQUFBO0FBZ0ZaO0FBN0VRO0VBQ0ksbUNBQUE7QUErRVoiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFwcCBHbG9iYWwgdmFyaWFibGVzIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBsYWNlIGhlcmUgdGhlIGRpZmZlcmVudCBmaWxlcyB5b3Ugc2hvdWxkIGltcG9ydCB0byB1c2UgZ2xvYmFsIHZhcmlhYmxlcy5cbiAqL1xuXG4kZm9udC1wYXRoOiBcIi4uL2Fzc2V0cy9mb250c1wiO1xuJGFzc2V0cy1wYXRoOiBcIi4uL2Fzc2V0c1wiO1xuXG5AaW1wb3J0IFwiLi9oZWxwZXJzL2hlbHBlcnMuc2Nzc1wiO1xuQGltcG9ydCBcIi4vZ2xvYmFscy5jdXN0b20uc2Nzc1wiO1xuQGltcG9ydCBcIi4vZ2xvYmFscy52YXJpYWJsZXMuc2Nzc1wiO1xuIiwiLyoqXG4gKiBJbXBvcnRlZCBpb25pYyBzdHJpbmcgZnVuY3Rpb25zIGZvciBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBFeHRyYWN0ZWQgZnJvbVxuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL3RoZW1lcy9pb25pYy5mdW5jdGlvbnMuc3RyaW5nLnNjc3NcbiAqL1xuXG5cbi8vIFN0cmluZyBVdGlsaXR5IEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gU3RyaW5nIFJlcGxhY2UgRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBmdW5jdGlvbiBzdHItcmVwbGFjZSgkc3RyaW5nLCAkc2VhcmNoLCAkcmVwbGFjZTogXCJcIikge1xuICAkaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc2VhcmNoKTtcblxuICBAaWYgJGluZGV4IHtcbiAgICBAcmV0dXJuIHN0ci1zbGljZSgkc3RyaW5nLCAxLCAkaW5kZXggLSAxKSArICRyZXBsYWNlICsgc3RyLXJlcGxhY2Uoc3RyLXNsaWNlKCRzdHJpbmcsICRpbmRleCArIHN0ci1sZW5ndGgoJHNlYXJjaCkpLCAkc2VhcmNoLCAkcmVwbGFjZSk7XG4gIH1cblxuICBAcmV0dXJuICRzdHJpbmc7XG59XG5cbi8vIFN0cmluZyBTcGxpdCBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG5AZnVuY3Rpb24gc3RyLXNwbGl0KCRzdHJpbmcsICRzZXBhcmF0b3IpIHtcbiAgLy8gZW1wdHkgYXJyYXkvbGlzdFxuICAkc3BsaXQtYXJyOiAoKTtcbiAgLy8gZmlyc3QgaW5kZXggb2Ygc2VwYXJhdG9yIGluIHN0cmluZ1xuICAkaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc2VwYXJhdG9yKTtcbiAgLy8gbG9vcCB0aHJvdWdoIHN0cmluZ1xuICBAd2hpbGUgJGluZGV4ICE9IG51bGwge1xuICAgIC8vIGdldCB0aGUgc3Vic3RyaW5nIGZyb20gdGhlIGZpcnN0IGNoYXJhY3RlciB0byB0aGUgc2VwYXJhdG9yXG4gICAgJGl0ZW06IHN0ci1zbGljZSgkc3RyaW5nLCAxLCAkaW5kZXggLSAxKTtcbiAgICAvLyBwdXNoIGl0ZW0gdG8gYXJyYXlcbiAgICAkc3BsaXQtYXJyOiBhcHBlbmQoJHNwbGl0LWFyciwgJGl0ZW0pO1xuICAgIC8vIHJlbW92ZSBpdGVtIGFuZCBzZXBhcmF0b3IgZnJvbSBzdHJpbmdcbiAgICAkc3RyaW5nOiBzdHItc2xpY2UoJHN0cmluZywgJGluZGV4ICsgMSk7XG4gICAgLy8gZmluZCBuZXcgaW5kZXggb2Ygc2VwYXJhdG9yXG4gICAgJGluZGV4OiBzdHItaW5kZXgoJHN0cmluZywgJHNlcGFyYXRvcik7XG4gIH1cbiAgLy8gYWRkIHRoZSByZW1haW5pbmcgc3RyaW5nIHRvIGxpc3QgKHRoZSBsYXN0IGl0ZW0pXG4gICRzcGxpdC1hcnI6IGFwcGVuZCgkc3BsaXQtYXJyLCAkc3RyaW5nKTtcblxuICBAcmV0dXJuICRzcGxpdC1hcnI7XG59XG5cblxuLy8gU3RyaW5nIEV4dHJhY3QgRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBmdW5jdGlvbiBzdHItZXh0cmFjdCgkc3RyaW5nLCAkc3RhcnQsICRlbmQpIHtcbiAgJHN0YXJ0LWluZGV4OiBzdHItaW5kZXgoJHN0cmluZywgJHN0YXJ0KTtcblxuICBAaWYgJHN0YXJ0LWluZGV4IHtcbiAgICAkcG9zdDogc3RyLXNsaWNlKCRzdHJpbmcsICRzdGFydC1pbmRleCArIHN0ci1sZW5ndGgoJHN0YXJ0KSk7XG4gICAgJGVuZC1pbmRleDogc3RyLWluZGV4KCRwb3N0LCAkZW5kKTtcblxuICAgIEBpZiAkZW5kLWluZGV4IHtcbiAgICAgIEByZXR1cm4gc3RyLXNsaWNlKCRwb3N0LCAxLCAkZW5kLWluZGV4IC0gMSk7XG4gICAgfVxuICB9XG5cbiAgQHJldHVybiBudWxsO1xufVxuXG5cbi8vIFN0cmluZyBDb250YWlucyBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIHN0ci1jb250YWlucygkc3RyaW5nLCAkbmVlZGxlKSB7XG4gIEBpZiAodHlwZS1vZigkc3RyaW5nKSA9PSBzdHJpbmcpIHtcbiAgICBAcmV0dXJuIHN0ci1pbmRleCgkc3RyaW5nLCAkbmVlZGxlKSAhPSBudWxsO1xuICB9XG5cbiAgQHJldHVybiBmYWxzZTtcbn1cblxuXG4vLyBVUkwgRW5jb2RlIEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gdXJsLWVuY29kZSgkdmFsKSB7XG4gICRzcGFjZXM6IHN0ci1yZXBsYWNlKCR2YWwsIFwiIFwiLCBcIiUyMFwiKTtcbiAgJGVuY29kZWQ6IHN0ci1yZXBsYWNlKCRzcGFjZXMsIFwiI1wiLCBcIiUyM1wiKTtcbiAgQHJldHVybiAkZW5jb2RlZDtcbn1cblxuXG4vLyBBZGQgUm9vdCBTZWxlY3RvclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFkZHMgYSByb290IHNlbGVjdG9yIHVzaW5nIGhvc3QgYmFzZWQgb24gdGhlIHNlbGVjdG9yIHBhc3NlZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIGFkZC1yb290LXNlbGVjdG9yKCRyb290LCAkYWRkSG9zdFNlbGVjdG9yKSB7XG4gICRzZWxlY3RvcnM6IHN0ci1zcGxpdCgkcm9vdCwgXCIsXCIpO1xuXG4gICRsaXN0OiAoKTtcblxuICBAZWFjaCAkc2VsZWN0b3IgaW4gJHNlbGVjdG9ycyB7XG4gICAgLy8gSWYgdGhlIHNlbGVjdG9yIGNvbnRhaW5zIDpob3N0KCBpdCBtZWFucyBpdCBpcyB0YXJnZXRpbmcgYSBjbGFzcyBvbiB0aGUgaG9zdFxuICAgIC8vIGVsZW1lbnQgc28gd2UgbmVlZCB0byBjaGFuZ2UgaG93IHdlIHRhcmdldCBpdDpcbiAgICAvLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcIjpob3N0KC5maXhlZClcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLmZpeGVkKVxuICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkuZml4ZWRcbiAgICBAaWYgc3RyLWNvbnRhaW5zKCRzZWxlY3RvciwgXCI6aG9zdChcIikge1xuICAgICAgLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCI6aG9zdCguZml4ZWQpXCIsIFwiW2Rpcj1ydGxdXCIpXG4gICAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLmZpeGVkKVxuICAgICAgJHNoYWRvdy1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2VsZWN0b3IsIFwiOmhvc3QoXCIsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KTpob3N0KFwiKTtcbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsICRzaGFkb3ctZWxlbWVudCwgY29tbWEpO1xuXG4gICAgICAkbmV3LWVsZW1lbnQ6ICgpO1xuICAgICAgJGVsZW1lbnRzOiBzdHItc3BsaXQoJHNlbGVjdG9yLCBcIiBcIik7XG5cbiAgICAgIEBlYWNoICRlbGVtZW50IGluICRlbGVtZW50cyB7XG4gICAgICAgIEBpZiBzdHItY29udGFpbnMoJGVsZW1lbnQsIFwiOmhvc3QoXCIpIHtcbiAgICAgICAgICAkc2NvcGVkLWVsZW1lbnQ6ICRlbGVtZW50O1xuXG4gICAgICAgICAgLy8gUmVwbGFjZSB0aGUgOmhvc3QoIGFuZCApIHNvIGFsbCB3ZSBoYXZlIGxlZnQgaXMgdGhlIGNsYXNzXG4gICAgICAgICAgLy8gaW5zaWRlIG9mIGl0OlxuICAgICAgICAgIC8vIDpob3N0KC5maXhlZCkgLT4gLmZpeGVkXG4gICAgICAgICAgJHNjb3BlZC1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2NvcGVkLWVsZW1lbnQsIFwiKVwiLCBcIlwiKTtcbiAgICAgICAgICAkc2NvcGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzY29wZWQtZWxlbWVudCwgXCI6aG9zdChcIiwgXCJcIik7XG5cbiAgICAgICAgICAvLyBBZGQgdGhlIGNsYXNzIGJhY2sgaW5zaWRlIG9mIGhvc3Qgd2l0aCB0aGUgcnRsIHNlbGVjdG9yOlxuICAgICAgICAgIC8vIC5maXhlZCAtPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkuZml4ZWRcbiAgICAgICAgICAkc2NvcGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzY29wZWQtZWxlbWVudCwgJHNjb3BlZC1lbGVtZW50LCBcIjpob3N0LWNvbnRleHQoI3skYWRkSG9zdFNlbGVjdG9yfSkjeyRzY29wZWQtZWxlbWVudH1cIik7XG5cbiAgICAgICAgICAvLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcIjpob3N0KC5maXhlZClcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAgICAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLmZpeGVkXG4gICAgICAgICAgJG5ldy1lbGVtZW50OiBhcHBlbmQoJG5ldy1lbGVtZW50LCAkc2NvcGVkLWVsZW1lbnQsIHNwYWNlKTtcbiAgICAgICAgfSBAZWxzZSB7XG4gICAgICAgICAgLy8gQWRkIGJhY2sgYW55IHNlbGVjdG9ycyB0aGF0IGZvbGxvd2VkIHRoZSBob3N0IGFmdGVyIHRyYW5zZm9ybWluZyB0aGVcbiAgICAgICAgICAvLyBmaXJzdCBzZWxlY3RvcjpcbiAgICAgICAgICAvLyA6aG9zdCguZml4ZWQpIDo6c2xvdHRlZChpb24taWNvbilcbiAgICAgICAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLmZpeGVkKSA6OnNsb3R0ZWQoaW9uLWljb24pXG4gICAgICAgICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5maXhlZCA6OnNsb3R0ZWQoaW9uLWljb24pXG4gICAgICAgICAgJG5ldy1lbGVtZW50OiBhcHBlbmQoJG5ldy1lbGVtZW50LCAkZWxlbWVudCwgc3BhY2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsICRuZXctZWxlbWVudCwgY29tbWEpO1xuICAgIC8vIElmIHRoZSBzZWxlY3RvciBjb250YWlucyA6aG9zdCB3aXRob3V0IGEgcGFyYW50aGVzZXNcbiAgICAvLyBpdCBtZWFucyBpdCBpcyB0YXJnZXRpbmcganVzdCB0aGUgaG9zdFxuICAgIC8vIGVsZW1lbnQgc28gd2UgY2FuIGNoYW5nZSBpdCB0byBsb29rIGZvciBob3N0LWNvbnRleHRcbiAgICAvLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcIjpob3N0XCIsIFwiW2Rpcj1ydGxdXCIpXG4gICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKVxuICAgIC8vIC0tPiA6aG9zdDpkaXIocnRsKVxuICAgIH0gQGVsc2UgaWYgc3RyLWNvbnRhaW5zKCRzZWxlY3RvciwgXCI6aG9zdFwiKSB7XG4gICAgICAkbmV3LWVsZW1lbnQ6ICgpO1xuICAgICAgJGVsZW1lbnRzOiBzdHItc3BsaXQoJHNlbGVjdG9yLCBcIiBcIik7XG5cbiAgICAgIEBlYWNoICRlbGVtZW50IGluICRlbGVtZW50cyB7XG4gICAgICAgIEBpZiBzdHItY29udGFpbnMoJGVsZW1lbnQsIFwiOmhvc3RcIikge1xuICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIDpob3N0IHdpdGggdGhlIGFkZEhvc3RTZWxlY3RvcjpcbiAgICAgICAgICAvLyA6aG9zdCAtPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSlcbiAgICAgICAgICAkdXBkYXRlZC1lbGVtZW50OiBzdHItcmVwbGFjZSgkZWxlbWVudCwgXCI6aG9zdFwiLCBcIjpob3N0LWNvbnRleHQoI3skYWRkSG9zdFNlbGVjdG9yfSlcIik7XG5cbiAgICAgICAgICAvLyBBZGQgdGhlIGZpbmFsIHNlbGVjdG9yIGFmdGVyIGFsbCB0cmFuc2Zvcm1hdGlvbnM6XG4gICAgICAgICAgLy8gOmhvc3QgLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pXG4gICAgICAgICAgJG5ldy1lbGVtZW50OiBhcHBlbmQoJG5ldy1lbGVtZW50LCAkdXBkYXRlZC1lbGVtZW50LCBzcGFjZSk7XG4gICAgICAgIH0gQGVsc2Uge1xuICAgICAgICAgIC8vIEFkZCBiYWNrIGFueSBzZWxlY3RvcnMgdGhhdCBmb2xsb3dlZCB0aGUgaG9zdCBhZnRlciB0cmFuc2Zvcm1pbmcgdGhlXG4gICAgICAgICAgLy8gZmlyc3Qgc2VsZWN0b3I6XG4gICAgICAgICAgLy8gOmhvc3QgOjpzbG90dGVkKGlvbi1pY29uKSAtPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgOjpzbG90dGVkKGlvbi1pY29uKVxuICAgICAgICAgICRuZXctZWxlbWVudDogYXBwZW5kKCRuZXctZWxlbWVudCwgJGVsZW1lbnQsIHNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCAkbmV3LWVsZW1lbnQsIGNvbW1hKTtcbiAgICAvLyBJZiB0aGUgc2VsZWN0b3IgZG9lcyBub3QgY29udGFpbiBob3N0IGF0IGFsbCBpdCBpcyBlaXRoZXIgYSBzaGFkb3dcbiAgICAvLyBvciBub3JtYWwgZWxlbWVudCBzbyBhcHBlbmQgYm90aCB0aGUgYWRkSG9zdFNlbGVjdG9yIGFuZCBob3N0LWNvbnRleHRcbiAgICAvLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcImlvbi1jb21wb25lbnRcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pIGlvbi1jb21wb25lbnRcbiAgICAvLyAtLT4gW2Rpcj1ydGxdIGlvbi1jb21wb25lbnRcbiAgICB9IEBlbHNlIHtcbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsIFwiI3skYWRkSG9zdFNlbGVjdG9yfSAjeyRzZWxlY3Rvcn1cIiwgY29tbWEpO1xuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pICN7JHNlbGVjdG9yfVwiLCBjb21tYSk7XG4gICAgfVxuICB9XG5cbiAgQHJldHVybiAkbGlzdDtcbn1cbiIsIi8qKlxuICogSW1wb3J0ZWQgaW9uaWMgY29sb3IgZnVuY3Rpb25zIGZvciBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBFeHRyYWN0ZWQgZnJvbVxuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL3RoZW1lcy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2Nzc1xuICovXG5cbi8vIEdldHMgdGhlIGFjdGl2ZSBjb2xvcidzIGNzcyB2YXJpYWJsZSBmcm9tIGEgdmFyaWF0aW9uLiBBbHBoYSBpcyBvcHRpb25hbC5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFeGFtcGxlIHVzYWdlOlxuLy8gY3VycmVudC1jb2xvcihiYXNlKSA9PiB2YXIoLS1pb24tY29sb3ItYmFzZSlcbi8vIGN1cnJlbnQtY29sb3IoY29udHJhc3QsIDAuMSkgPT4gcmdiYSh2YXIoLS1pb24tY29sb3ItY29udHJhc3QtcmdiKSwgMC4xKVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBjdXJyZW50LWNvbG9yKCR2YXJpYXRpb24sICRhbHBoYTogbnVsbCkge1xuICBAaWYgJGFscGhhID09IG51bGwge1xuICAgIEByZXR1cm4gdmFyKC0taW9uLWNvbG9yLSN7JHZhcmlhdGlvbn0pO1xuICB9IEBlbHNlIHtcbiAgICBAcmV0dXJuIHJnYmEodmFyKC0taW9uLWNvbG9yLSN7JHZhcmlhdGlvbn0tcmdiKSwgI3skYWxwaGF9KTtcbiAgfVxufVxuXG4vLyBHZXRzIHRoZSBzcGVjaWZpYyBjb2xvcidzIGNzcyB2YXJpYWJsZSBmcm9tIHRoZSBuYW1lIGFuZCB2YXJpYXRpb24uIEFscGhhL3JnYiBhcmUgb3B0aW9uYWwuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXhhbXBsZSB1c2FnZTpcbi8vIGlvbi1jb2xvcihwcmltYXJ5LCBiYXNlKSA9PiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZilcbi8vIGlvbi1jb2xvcihzZWNvbmRhcnksIGNvbnRyYXN0KSA9PiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5LWNvbnRyYXN0KVxuLy8gaW9uLWNvbG9yKHByaW1hcnksIGJhc2UsIDAuNSkgPT4gcmdiYSh2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1yZ2IsIDU2LCAxMjgsIDI1NSksIDAuNSlcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gaW9uLWNvbG9yKCRuYW1lLCAkdmFyaWF0aW9uLCAkYWxwaGE6IG51bGwsICRyZ2I6IG51bGwpIHtcbiAgJHZhbHVlczogbWFwLWdldCgkY29sb3JzLCAkbmFtZSk7XG4gICR2YWx1ZTogbWFwLWdldCgkdmFsdWVzLCAkdmFyaWF0aW9uKTtcbiAgJHZhcmlhYmxlOiAtLWlvbi1jb2xvci0jeyRuYW1lfS0jeyR2YXJpYXRpb259O1xuXG4gIEBpZiAoJHZhcmlhdGlvbiA9PSBiYXNlKSB7XG4gICAgJHZhcmlhYmxlOiAtLWlvbi1jb2xvci0jeyRuYW1lfTtcbiAgfVxuXG4gIEBpZiAoJGFscGhhKSB7XG4gICAgJHZhbHVlOiBjb2xvci10by1yZ2ItbGlzdCgkdmFsdWUpO1xuICAgIEByZXR1cm4gcmdiYSh2YXIoI3skdmFyaWFibGV9LXJnYiwgJHZhbHVlKSwgJGFscGhhKTtcbiAgfVxuICBAaWYgKCRyZ2IpIHtcbiAgICAkdmFsdWU6IGNvbG9yLXRvLXJnYi1saXN0KCR2YWx1ZSk7XG4gICAgJHZhcmlhYmxlOiAjeyR2YXJpYWJsZX0tcmdiO1xuICB9XG5cbiAgQHJldHVybiB2YXIoI3skdmFyaWFibGV9LCAkdmFsdWUpO1xufVxuXG4vLyBNaXhlcyBhIGNvbG9yIHdpdGggYmxhY2sgdG8gY3JlYXRlIGl0cyBzaGFkZS5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXNoYWRlKCRjb2xvcikge1xuICBAcmV0dXJuIG1peCgjMDAwLCAkY29sb3IsIDEyJSk7XG59XG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCB3aGl0ZSB0byBjcmVhdGUgaXRzIHRpbnQuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGdldC1jb2xvci10aW50KCRjb2xvcikge1xuICBAcmV0dXJuIG1peCgjZmZmLCAkY29sb3IsIDEwJSk7XG59XG5cbi8vIENvbnZlcnRzIGEgY29sb3IgdG8gYSBjb21tYSBzZXBhcmF0ZWQgcmdiLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBjb2xvci10by1yZ2ItbGlzdCgkY29sb3IpIHtcbiAgQHJldHVybiAje3JlZCgkY29sb3IpfSwje2dyZWVuKCRjb2xvcil9LCN7Ymx1ZSgkY29sb3IpfTtcbn1cbiIsIi8qKlxuICogSW1wb3J0ZWQgaW9uaWMgbWl4aW5zIGZvciBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBFeHRyYWN0ZWQgZnJvbVxuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL3RoZW1lcy9pb25pYy5taXhpbnMuc2Nzc1xuICovXG5cbkBtaXhpbiBpbnB1dC1jb3ZlcigpIHtcbiAgQGluY2x1ZGUgcG9zaXRpb24oMCwgbnVsbCwgbnVsbCwgMCk7XG4gIEBpbmNsdWRlIG1hcmdpbigwKTtcblxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcblxuICBib3JkZXI6IDA7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgYXBwZWFyYW5jZTogbm9uZTtcbiAgb3V0bGluZTogbm9uZTtcblxuICAmOjotbW96LWZvY3VzLWlubmVyIHtcbiAgICBib3JkZXI6IDA7XG4gIH1cbn1cblxuQG1peGluIHZpc3VhbGx5LWhpZGRlbigpIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuXG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcblxuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuXG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcblxuICBib3JkZXI6IDA7XG4gIG91dGxpbmU6IDA7XG4gIGNsaXA6IHJlY3QoMCAwIDAgMCk7XG5cbiAgb3BhY2l0eTogMDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcblxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG4gIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcbn1cblxuQG1peGluIHRleHQtaW5oZXJpdCgpIHtcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcbiAgZm9udC1zdHlsZTogaW5oZXJpdDtcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XG4gIGxldHRlci1zcGFjaW5nOiBpbmhlcml0O1xuICB0ZXh0LWRlY29yYXRpb246IGluaGVyaXQ7XG4gIHRleHQtaW5kZW50OiBpbmhlcml0O1xuICB0ZXh0LW92ZXJmbG93OiBpbmhlcml0O1xuICB0ZXh0LXRyYW5zZm9ybTogaW5oZXJpdDtcbiAgdGV4dC1hbGlnbjogaW5oZXJpdDtcbiAgd2hpdGUtc3BhY2U6IGluaGVyaXQ7XG4gIGNvbG9yOiBpbmhlcml0O1xufVxuXG5AbWl4aW4gYnV0dG9uLXN0YXRlKCkge1xuICBAaW5jbHVkZSBwb3NpdGlvbigwLCAwLCAwLCAwKTtcblxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgY29udGVudDogXCJcIjtcblxuICBvcGFjaXR5OiAwO1xufVxuXG4vLyBGb250IHNtb290aGluZ1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIGZvbnQtc21vb3RoaW5nKCkge1xuICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbn1cblxuLy8gR2V0IHRoZSBrZXkgZnJvbSBhIG1hcCBiYXNlZCBvbiB0aGUgaW5kZXhcbkBmdW5jdGlvbiBpbmRleC10by1rZXkoJG1hcCwgJGluZGV4KSB7XG4gICRrZXlzOiBtYXAta2V5cygkbWFwKTtcblxuICBAcmV0dXJuIG50aCgka2V5cywgJGluZGV4KTtcbn1cblxuXG4vLyBCcmVha3BvaW50IE1peGluc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIEJyZWFrcG9pbnQgdmlld3BvcnQgc2l6ZXMgYW5kIG1lZGlhIHF1ZXJpZXMuXG4vL1xuLy8gQnJlYWtwb2ludHMgYXJlIGRlZmluZWQgYXMgYSBtYXAgb2YgKG5hbWU6IG1pbmltdW0gd2lkdGgpLCBvcmRlciBmcm9tIHNtYWxsIHRvIGxhcmdlOlxuLy9cbi8vICAgICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweClcbi8vXG4vLyBUaGUgbWFwIGRlZmluZWQgaW4gdGhlIGAkc2NyZWVuLWJyZWFrcG9pbnRzYCBnbG9iYWwgdmFyaWFibGUgaXMgdXNlZCBhcyB0aGUgYCRicmVha3BvaW50c2AgYXJndW1lbnQgYnkgZGVmYXVsdC5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIE1pbmltdW0gYnJlYWtwb2ludCB3aWR0aC4gTnVsbCBmb3IgdGhlIHNtYWxsZXN0IChmaXJzdCkgYnJlYWtwb2ludC5cbi8vXG4vLyAgICA+PiBicmVha3BvaW50LW1pbihzbSwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcbi8vICAgIDU3NnB4XG5AZnVuY3Rpb24gYnJlYWtwb2ludC1taW4oJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xuICAkbWluOiBtYXAtZ2V0KCRicmVha3BvaW50cywgJG5hbWUpO1xuXG4gIEByZXR1cm4gaWYoJG5hbWUgIT0gaW5kZXgtdG8ta2V5KCRicmVha3BvaW50cywgMSksICRtaW4sIG51bGwpO1xufVxuXG4vLyBSZXR1cm5zIGEgYmxhbmsgc3RyaW5nIGlmIHNtYWxsZXN0IGJyZWFrcG9pbnQsIG90aGVyd2lzZSByZXR1cm5zIHRoZSBuYW1lIHdpdGggYSBkYXNoIGluZnJvbnQuXG4vLyBVc2VmdWwgZm9yIG1ha2luZyByZXNwb25zaXZlIHV0aWxpdGllcy5cbi8vXG4vLyAgICA+PiBicmVha3BvaW50LWluZml4KHhzLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxuLy8gICAgXCJcIiAgKFJldHVybnMgYSBibGFuayBzdHJpbmcpXG4vLyAgICA+PiBicmVha3BvaW50LWluZml4KHNtLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxuLy8gICAgXCItc21cIlxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtaW5maXgoJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xuICBAcmV0dXJuIGlmKGJyZWFrcG9pbnQtbWluKCRuYW1lLCAkYnJlYWtwb2ludHMpID09IG51bGwsIFwiXCIsIFwiLSN7JG5hbWV9XCIpO1xufVxuXG4vLyBNZWRpYSBvZiBhdCBsZWFzdCB0aGUgbWluaW11bSBicmVha3BvaW50IHdpZHRoLiBObyBxdWVyeSBmb3IgdGhlIHNtYWxsZXN0IGJyZWFrcG9pbnQuXG4vLyBNYWtlcyB0aGUgQGNvbnRlbnQgYXBwbHkgdG8gdGhlIGdpdmVuIGJyZWFrcG9pbnQgYW5kIHdpZGVyLlxuQG1peGluIG1lZGlhLWJyZWFrcG9pbnQtdXAoJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xuICAkbWluOiBicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzKTtcbiAgQGlmICRtaW4ge1xuICAgIEBtZWRpYSAobWluLXdpZHRoOiAkbWluKSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cbi8vIE5hbWUgb2YgdGhlIG5leHQgYnJlYWtwb2ludCwgb3IgbnVsbCBmb3IgdGhlIGxhc3QgYnJlYWtwb2ludC5cbi8vXG4vLyAgICA+PiBicmVha3BvaW50LW5leHQoc20pXG4vLyAgICBtZFxuLy8gICAgPj4gYnJlYWtwb2ludC1uZXh0KHNtLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxuLy8gICAgbWRcbi8vICAgID4+IGJyZWFrcG9pbnQtbmV4dChzbSwgJGJyZWFrcG9pbnQtbmFtZXM6ICh4cyBzbSBtZCBsZyB4bCkpXG4vLyAgICBtZFxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbmV4dCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzLCAkYnJlYWtwb2ludC1uYW1lczogbWFwLWtleXMoJGJyZWFrcG9pbnRzKSkge1xuICAkbjogaW5kZXgoJGJyZWFrcG9pbnQtbmFtZXMsICRuYW1lKTtcbiAgQHJldHVybiBpZigkbiA8IGxlbmd0aCgkYnJlYWtwb2ludC1uYW1lcyksIG50aCgkYnJlYWtwb2ludC1uYW1lcywgJG4gKyAxKSwgbnVsbCk7XG59XG5cbi8vIE1heGltdW0gYnJlYWtwb2ludCB3aWR0aC4gTnVsbCBmb3IgdGhlIHNtYWxsZXN0IChmaXJzdCkgYnJlYWtwb2ludC5cbi8vIFRoZSBtYXhpbXVtIHZhbHVlIGlzIHJlZHVjZWQgYnkgMC4wMnB4IHRvIHdvcmsgYXJvdW5kIHRoZSBsaW1pdGF0aW9ucyBvZlxuLy8gYG1pbi1gIGFuZCBgbWF4LWAgcHJlZml4ZXMgYW5kIHZpZXdwb3J0cyB3aXRoIGZyYWN0aW9uYWwgd2lkdGhzLlxuLy9cbi8vIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvbWVkaWFxdWVyaWVzLTQvI21xLW1pbi1tYXhcbi8vIFVzZXMgMC4wMnB4IHJhdGhlciB0aGFuIDAuMDFweCB0byB3b3JrIGFyb3VuZCBhIGN1cnJlbnQgcm91bmRpbmcgYnVnIGluIFNhZmFyaS5cdC8vIFVzZXMgMC4wMnB4IHJhdGhlciB0aGFuIDAuMDFweCB0byB3b3JrIGFyb3VuZCBhIGN1cnJlbnQgcm91bmRpbmcgYnVnIGluIFNhZmFyaS5cbi8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTc4MjYxXHQvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE3ODI2MVxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtbWF4KG1kLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxuLy8gICAgNzY3Ljk4cHhcbkBmdW5jdGlvbiBicmVha3BvaW50LW1heCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtYXg6IG1hcC1nZXQoJGJyZWFrcG9pbnRzLCAkbmFtZSk7XG4gIEByZXR1cm4gaWYoJG1heCBhbmQgJG1heCA+IDAsICRtYXggLSAuMDIsIG51bGwpO1xufVxuXG4vLyBNZWRpYSBvZiBhdCBtb3N0IHRoZSBtYXhpbXVtIGJyZWFrcG9pbnQgd2lkdGguIE5vIHF1ZXJ5IGZvciB0aGUgbGFyZ2VzdCBicmVha3BvaW50LlxuLy8gTWFrZXMgdGhlIEBjb250ZW50IGFwcGx5IHRvIHRoZSBnaXZlbiBicmVha3BvaW50IGFuZCBuYXJyb3dlci5cbkBtaXhpbiBtZWRpYS1icmVha3BvaW50LWRvd24oJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xuICAkbWF4OiBicmVha3BvaW50LW1heCgkbmFtZSwgJGJyZWFrcG9pbnRzKTtcbiAgQGlmICRtYXgge1xuICAgIEBtZWRpYSAobWF4LXdpZHRoOiAkbWF4KSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cblxuLy8gVGV4dCBEaXJlY3Rpb24gLSBsdHIgLyBydGxcbi8vXG4vLyBDU1MgZGVmYXVsdHMgdG8gdXNlIHRoZSBsdHIgY3NzLCBhbmQgYWRkcyBbZGlyPXJ0bF0gc2VsZWN0b3JzXG4vLyB0byBvdmVycmlkZSBsdHIgZGVmYXVsdHMuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBtaXhpbiBtdWx0aS1kaXIoKSB7XG4gIEBjb250ZW50O1xuXG4gIC8vICRyb290OiAjeyZ9O1xuICAvLyBAYXQtcm9vdCBbZGlyXSB7XG4gIC8vICAgI3skcm9vdH0ge1xuICAvLyAgICAgQGNvbnRlbnQ7XG4gIC8vICAgfVxuICAvLyB9XG59XG5cbkBtaXhpbiBydGwoKSB7XG4gICRyb290OiAjeyZ9O1xuXG4gICRyb290U3BsaXQ6IHN0ci1zcGxpdCgkcm9vdCwgXCIsXCIpO1xuICAkc2VsZWN0b3JzOiAje2FkZC1yb290LXNlbGVjdG9yKCRyb290LCBcIltkaXI9cnRsXVwiKX07XG4gICRzZWxlY3RvcnNTcGxpdDogc3RyLXNwbGl0KCRzZWxlY3RvcnMsIFwiLFwiKTtcblxuICAkaG9zdENvbnRleHRTZWxlY3RvcnM6ICgpO1xuICAkcmVzdFNlbGVjdG9yczogKCk7XG4gICRkaXJTZWxlY3RvcnM6ICgpO1xuXG4gIC8vIFNlbGVjdG9ycyBtdXN0IGJlIHNwbGl0IGludG8gaW5kaXZpZHVhbCBzZWxlY3RvcnMgaW4gY2FzZSB0aGUgYnJvd3NlclxuICAvLyBkb2Vzbid0IHN1cHBvcnQgYSBzcGVjaWZpYyBzZWxlY3Rvci5cbiAgLy8gRm9yIGV4YW1wbGUsIEZpcmVmb3ggYW5kIFNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgYDpob3N0LWNvbnRleHQoKWAuXG4gIC8vIElmIGFuIGludmFsaWQgc2VsZWN0b3IgaXMgdXNlZCwgdGhlbiB0aGUgZW50aXJlIGdyb3VwIG9mIHNlbGVjdG9yc1xuICAvLyB3aWxsIGJlIGlnbm9yZWQuXG4gIC8vIEBsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMtMy8jZ3JvdXBpbmdcbiAgQGVhY2ggJHNlbGVjdG9yIGluICRzZWxlY3RvcnNTcGxpdCB7XG4gICAgLy8gR3JvdXAgdGhlIHNlbGVjdG9ycyBiYWNrIGludG8gYSBzaW5nbGUgc2VsZWN0b3IgdG8gb3B0aW1pemUgdGhlIG91dHB1dC5cbiAgICBAaWYgc3RyLWluZGV4KCRzZWxlY3RvciwgXCI6aG9zdC1jb250ZXh0XCIpIHtcbiAgICAgICRob3N0Q29udGV4dFNlbGVjdG9yczogYXBwZW5kKCRob3N0Q29udGV4dFNlbGVjdG9ycywgJHNlbGVjdG9yLCBjb21tYSk7XG4gICAgfSBAZWxzZSB7XG4gICAgICAvLyBHcm91cCB0aGUgc2VsZWN0b3JzIGJhY2sgaW50byBhIHNpbmdsZSBzZWxlY3RvciB0byBvcHRpbWl6ZSB0aGUgb3V0cHV0LlxuICAgICAgJHJlc3RTZWxlY3RvcnM6IGFwcGVuZCgkcmVzdFNlbGVjdG9ycywgJHNlbGVjdG9yLCBjb21tYSk7XG4gICAgfVxuICB9XG5cbiAgLy8gU3VwcG9ydGVkIGJ5IENocm9tZS5cbiAgQGlmIGxlbmd0aCgkaG9zdENvbnRleHRTZWxlY3RvcnMpID4gMCB7XG4gICAgQGF0LXJvb3QgI3skaG9zdENvbnRleHRTZWxlY3RvcnN9IHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfVxuXG4gIC8vIFN1cHBvcnRlZCBieSBhbGwgYnJvd3NlcnMuXG4gIEBpZiBsZW5ndGgoJHJlc3RTZWxlY3RvcnMpID4gMCB7XG4gICAgQGF0LXJvb3QgI3skcmVzdFNlbGVjdG9yc30ge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgYnJvd3NlciBjYW4gc3VwcG9ydCBgOmRpcigpYCwgdGhlbiBhZGQgdGhlIGA6ZGlyKClgIHNlbGVjdG9ycy5cbiAgLy8gQHN1cHBvcnRzIHNlbGVjdG9yKDpkaXIocnRsKSkgeyAvLyBAIElNUE9UQU5UIE5PVEU6IFRoaXMgaGFzIGJlZW4gcmVtb3ZlZCBiZWNhdXNlIHNlbGVjdG9yIGZ1bmN0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gY3VycmVudCBTQ1NTXG4gIC8vIEFkZGluZyA6ZGlyKCkgaW4gY2FzZSB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgYDpob3N0LWNvbnRleHQoKWAgYW5kIGRvZXMgc3VwcG9ydCBgOmRpcigpYC5cbiAgLy8gYDpob3N0LWNvbnRleHQoKWAgaXMgYWRkZWQ6XG4gIC8vIC0gdGhyb3VnaCB0aGUgYGFkZC1yb290LXNlbGVjdG9yKClgIGZ1bmN0aW9uLlxuICAvLyAtIGZpcnN0IHNvIHRoYXQgaXQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGA6ZGlyKClgLlxuICAvLyBGb3IgZXhhbXBsZSxcbiAgLy8gLSBGaXJlZm94IGRvZXNuJ3Qgc3VwcG9ydCBgOmhvc3QtY29udGV4dCgpYCwgYnV0IGRvZXMgc3VwcG9ydCBgOmRpcigpYC5cbiAgLy8gLSBTYWZhcmkgZG9lc24ndCBzdXBwb3J0IGA6aG9zdC1jb250ZXh0KClgLCBidXQgU2FmYXJpIDE2LjQrIHN1cHBvcnRzIGA6ZGlyKClgXG4gIC8vIEBsaW5rIGh0dHBzOi8vd2Via2l0Lm9yZy9ibG9nLzEzOTY2L3dlYmtpdC1mZWF0dXJlcy1pbi1zYWZhcmktMTYtNC9cbiAgQGVhY2ggJHNlbGVjdG9yIGluICRyb290U3BsaXQge1xuICAgICRkaXJTZWxlY3RvcjogXCIjeyRzZWxlY3Rvcn06ZGlyKHJ0bClcIjtcbiAgICAvLyBHcm91cCB0aGUgc2VsZWN0b3JzIGJhY2sgaW50byBhIHNpbmdsZSBzZWxlY3RvciB0byBvcHRpbWl6ZSB0aGUgb3V0cHV0LlxuICAgICRkaXJTZWxlY3RvcnM6IGFwcGVuZCgkZGlyU2VsZWN0b3JzLCAkZGlyU2VsZWN0b3IsIGNvbW1hKTtcbiAgfVxuXG4gIC8vIFN1cHBvcnRlZCBieSBGaXJlZm94LlxuICBAaWYgbGVuZ3RoKCRkaXJTZWxlY3RvcnMpID4gMCB7XG4gICAgQGF0LXJvb3QgI3skZGlyU2VsZWN0b3JzfSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cbiAgLy99XG59XG5cbkBtaXhpbiBsdHIoKSB7XG4gIEBjb250ZW50O1xufVxuXG5cbi8vIFNWRyBCYWNrZ3JvdW5kIEltYWdlIE1peGluXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN2Z1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHN2Zy1iYWNrZ3JvdW5kLWltYWdlKCRzdmcsICRmbGlwLXJ0bDogZmFsc2UpIHtcbiAgJHVybDogdXJsLWVuY29kZSgkc3ZnKTtcbiAgJHZpZXdCb3g6IHN0ci1zcGxpdChzdHItZXh0cmFjdCgkc3ZnLCBcInZpZXdCb3g9J1wiLCBcIidcIiksIFwiIFwiKTtcblxuICBAaWYgJGZsaXAtcnRsICE9IHRydWUgb3IgJHZpZXdCb3ggPT0gbnVsbCB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsI3skdXJsfVwiKTtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgICR0cmFuc2Zvcm06IFwidHJhbnNmb3JtPSd0cmFuc2xhdGUoI3tudGgoJHZpZXdCb3gsIDMpfSwgMCkgc2NhbGUoLTEsIDEpJ1wiO1xuICAgICRmbGlwcGVkLXVybDogJHN2ZztcbiAgICAkZmxpcHBlZC11cmw6IHN0ci1yZXBsYWNlKCRmbGlwcGVkLXVybCwgXCI8cGF0aFwiLCBcIjxwYXRoICN7JHRyYW5zZm9ybX1cIik7XG4gICAgJGZsaXBwZWQtdXJsOiBzdHItcmVwbGFjZSgkZmxpcHBlZC11cmwsIFwiPGxpbmVcIiwgXCI8bGluZSAjeyR0cmFuc2Zvcm19XCIpO1xuICAgICRmbGlwcGVkLXVybDogc3RyLXJlcGxhY2UoJGZsaXBwZWQtdXJsLCBcIjxwb2x5Z29uXCIsIFwiPHBvbHlnb24gI3skdHJhbnNmb3JtfVwiKTtcbiAgICAkZmxpcHBlZC11cmw6IHVybC1lbmNvZGUoJGZsaXBwZWQtdXJsKTtcblxuICAgIEBpbmNsdWRlIGx0ciAoKSB7XG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwjeyR1cmx9XCIpO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwjeyRmbGlwcGVkLXVybH1cIik7XG4gICAgfVxuICB9XG59XG5cbi8vIEFkZCBwcm9wZXJ0eSBob3Jpem9udGFsXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHByb3BlcnR5LWhvcml6b250YWwoJHByb3AsICRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XG4gIEBpZiAkc3RhcnQgPT0gMCBhbmQgJGVuZCA9PSAwIHtcbiAgICAjeyRwcm9wfS1sZWZ0OiAkc3RhcnQ7XG4gICAgI3skcHJvcH0tcmlnaHQ6ICRlbmQ7XG5cbiAgfSBAZWxzZSB7XG4gICAgLXdlYmtpdC0jeyRwcm9wfS1zdGFydDogJHN0YXJ0O1xuICAgICN7JHByb3B9LWlubGluZS1zdGFydDogJHN0YXJ0O1xuICAgIC13ZWJraXQtI3skcHJvcH0tZW5kOiAkZW5kO1xuICAgICN7JHByb3B9LWlubGluZS1lbmQ6ICRlbmQ7XG4gIH1cbn1cblxuLy8gQWRkIHByb3BlcnR5IGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICRwcm9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyBAcGFyYW0ge2Jvb2xlYW59ICRjb250ZW50IGluY2x1ZGUgY29udGVudCBvciB1c2UgZGVmYXVsdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHByb3BlcnR5KCRwcm9wLCAkdG9wLCAkZW5kOiAkdG9wLCAkYm90dG9tOiAkdG9wLCAkc3RhcnQ6ICRlbmQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbCgkcHJvcCwgJHN0YXJ0LCAkZW5kKTtcbiAgI3skcHJvcH0tdG9wOiAkdG9wO1xuICAjeyRwcm9wfS1ib3R0b206ICRib3R0b207XG59XG5cbi8vIEFkZCBwYWRkaW5nIGhvcml6b250YWxcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcGFkZGluZy1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XG4gIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwocGFkZGluZywgJHN0YXJ0LCAkZW5kKTtcbn1cblxuLy8gQWRkIHBhZGRpbmcgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcGFkZGluZygkdG9wLCAkZW5kOiAkdG9wLCAkYm90dG9tOiAkdG9wLCAkc3RhcnQ6ICRlbmQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHkocGFkZGluZywgJHRvcCwgJGVuZCwgJGJvdHRvbSwgJHN0YXJ0KTtcbn1cblxuLy8gQWRkIG1hcmdpbiBob3Jpem9udGFsXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIG1hcmdpbi1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XG4gIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwobWFyZ2luLCAkc3RhcnQsICRlbmQpO1xufVxuXG4vLyBBZGQgbWFyZ2luIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIG1hcmdpbigkdG9wLCAkZW5kOiAkdG9wLCAkYm90dG9tOiAkdG9wLCAkc3RhcnQ6ICRlbmQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHkobWFyZ2luLCAkdG9wLCAkZW5kLCAkYm90dG9tLCAkc3RhcnQpO1xufVxuXG4vLyBBZGQgcG9zaXRpb24gaG9yaXpvbnRhbFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydCAtIGFtb3VudCB0byBwb3NpdGlvbiBzdGFydFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmQgLSBhbW91bnQgdG8gbGVmdDogMDsgZW5kXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcG9zaXRpb24taG9yaXpvbnRhbCgkc3RhcnQ6IG51bGwsICRlbmQ6IG51bGwpIHtcbiAgQGlmICRzdGFydCA9PSAkZW5kIHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBsZWZ0OiAkc3RhcnQ7XG4gICAgICByaWdodDogJGVuZDtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBhdC1yb290IHtcbiAgICAgIEBzdXBwb3J0cyAoaW5zZXQtaW5saW5lLXN0YXJ0OiAwKSB7XG4gICAgICAgICYge1xuICAgICAgICAgIGluc2V0LWlubGluZS1zdGFydDogJHN0YXJ0O1xuICAgICAgICAgIGluc2V0LWlubGluZS1lbmQ6ICRlbmQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPIEZXLTM3NjZcbiAgICBAYXQtcm9vdCB7XG4gICAgICBAc3VwcG9ydHMgbm90IChpbnNldC1pbmxpbmUtc3RhcnQ6IDApIHtcbiAgICAgICAgJiB7XG4gICAgICAgICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgICAgICAgbGVmdDogJHN0YXJ0O1xuICAgICAgICAgICAgcmlnaHQ6ICRlbmQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgICAgICAgIGxlZnQ6IHVuc2V0O1xuICAgICAgICAgICAgcmlnaHQ6IHVuc2V0O1xuXG4gICAgICAgICAgICBsZWZ0OiAkZW5kO1xuICAgICAgICAgICAgcmlnaHQ6ICRzdGFydDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gQWRkIHBvc2l0aW9uIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHBvc2l0aW9uKCR0b3A6IG51bGwsICRlbmQ6IG51bGwsICRib3R0b206IG51bGwsICRzdGFydDogbnVsbCkge1xuICBAaW5jbHVkZSBwb3NpdGlvbi1ob3Jpem9udGFsKCRzdGFydCwgJGVuZCk7XG4gIHRvcDogJHRvcDtcbiAgYm90dG9tOiAkYm90dG9tO1xufVxuXG4vLyBBZGQgYm9yZGVyIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIGJvcmRlcigkdG9wLCAkZW5kOiAkdG9wLCAkYm90dG9tOiAkdG9wLCAkc3RhcnQ6ICRlbmQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHkoYm9yZGVyLCAkdG9wLCAkZW5kLCAkYm90dG9tLCAkc3RhcnQpO1xufVxuXG4vLyBBZGQgYm9yZGVyIHJhZGl1cyBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wLXN0YXJ0XG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcC1lbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tLWVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b20tc3RhcnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBib3JkZXItcmFkaXVzKCR0b3Atc3RhcnQsICR0b3AtZW5kOiAkdG9wLXN0YXJ0LCAkYm90dG9tLWVuZDogJHRvcC1zdGFydCwgJGJvdHRvbS1zdGFydDogJHRvcC1lbmQpIHtcbiAgQGlmICR0b3Atc3RhcnQgPT0gJHRvcC1lbmQgYW5kICR0b3Atc3RhcnQgPT0gJGJvdHRvbS1lbmQgYW5kICR0b3Atc3RhcnQgPT0gJGJvdHRvbS1zdGFydCB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgYm9yZGVyLXJhZGl1czogJHRvcC1zdGFydDtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6ICR0b3Atc3RhcnQ7XG4gICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogJHRvcC1lbmQ7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogJGJvdHRvbS1lbmQ7XG4gICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAkYm90dG9tLXN0YXJ0O1xuICAgIH1cblxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6ICR0b3AtZW5kO1xuICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6ICR0b3Atc3RhcnQ7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogJGJvdHRvbS1zdGFydDtcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICRib3R0b20tZW5kO1xuICAgIH1cbiAgfVxufVxuXG4vLyBBZGQgZGlyZWN0aW9uIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICRkaXIgLSBEaXJlY3Rpb24gb24gTFRSXG5AbWl4aW4gZGlyZWN0aW9uKCRkaXIpIHtcbiAgJG90aGVyLWRpcjogbnVsbDtcblxuICBAaWYgJGRpciA9PSBsdHIge1xuICAgICRvdGhlci1kaXI6IHJ0bDtcbiAgfSBAZWxzZSB7XG4gICAgJG90aGVyLWRpcjogbHRyO1xuICB9XG5cbiAgQGluY2x1ZGUgbHRyKCkge1xuICAgIGRpcmVjdGlvbjogJGRpcjtcbiAgfVxuICBAaW5jbHVkZSBydGwoKSB7XG4gICAgZGlyZWN0aW9uOiAkb3RoZXItZGlyO1xuICB9XG59XG5cbi8vIEFkZCBmbG9hdCBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc2lkZVxuLy8gQHBhcmFtIHtzdHJpbmd9ICRkZWNvcmF0b3IgLSAhaW1wb3J0YW50XG5AbWl4aW4gZmxvYXQoJHNpZGUsICRkZWNvcmF0b3I6IG51bGwpIHtcbiAgQGlmICRzaWRlID09IHN0YXJ0IHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICBmbG9hdDogbGVmdCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBmbG9hdDogcmlnaHQgJGRlY29yYXRvcjtcbiAgICB9XG4gIH0gQGVsc2UgaWYgJHNpZGUgPT0gZW5kIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICBmbG9hdDogcmlnaHQgJGRlY29yYXRvcjtcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgZmxvYXQ6IGxlZnQgJGRlY29yYXRvcjtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIGZsb2F0OiAkc2lkZSAkZGVjb3JhdG9yO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gYmFja2dyb3VuZC1wb3NpdGlvbigkaG9yaXpvbnRhbCwgJGhvcml6b250YWwtYW1vdW50OiBudWxsLCAkdmVydGljYWw6IG51bGwsICR2ZXJ0aWNhbC1hbW91bnQ6IG51bGwpIHtcbiAgQGlmICRob3Jpem9udGFsID09IHN0YXJ0IG9yICRob3Jpem9udGFsID09IGVuZCB7XG4gICAgJGhvcml6b250YWwtbHRyOiBudWxsO1xuICAgICRob3Jpem9udGFsLXJ0bDogbnVsbDtcbiAgICBAaWYgJGhvcml6b250YWwgPT0gc3RhcnQge1xuICAgICAgJGhvcml6b250YWwtbHRyOiBsZWZ0O1xuICAgICAgJGhvcml6b250YWwtcnRsOiByaWdodDtcbiAgICB9IEBlbHNlIHtcbiAgICAgICRob3Jpem9udGFsLWx0cjogcmlnaHQ7XG4gICAgICAkaG9yaXpvbnRhbC1ydGw6IGxlZnQ7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogJGhvcml6b250YWwtbHRyICRob3Jpem9udGFsLWFtb3VudCAkdmVydGljYWwgJHZlcnRpY2FsLWFtb3VudDtcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogJGhvcml6b250YWwtcnRsICRob3Jpem9udGFsLWFtb3VudCAkdmVydGljYWwgJHZlcnRpY2FsLWFtb3VudDtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246ICRob3Jpem9udGFsICRob3Jpem9udGFsLWFtb3VudCAkdmVydGljYWwgJHZlcnRpY2FsLWFtb3VudDtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIHRyYW5zZm9ybS1vcmlnaW4oJHgtYXhpcywgJHktYXhpczogbnVsbCkge1xuICBAaWYgJHgtYXhpcyA9PSBzdGFydCB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCAkeS1heGlzO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCAkeS1heGlzO1xuICAgIH1cbiAgfSBAZWxzZSBpZiAkeC1heGlzID09IGVuZCB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgJHktYXhpcztcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCAkeS1heGlzO1xuICAgIH1cbiAgfSBAZWxzZSBpZiAkeC1heGlzID09IGxlZnQgb3IgJHgtYXhpcyA9PSByaWdodCB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogJHgtYXhpcyAkeS1heGlzO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogJHgtYXhpcyAkeS1heGlzO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBjYWxjKDEwMCUgLSAjeyR4LWF4aXN9KSAkeS1heGlzO1xuICAgIH1cbiAgfVxufVxuXG4vLyBBZGQgdHJhbnNmb3JtIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0cmFuc2Zvcm1zIC0gY29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgdHJhbnNmb3Jtc1xuQG1peGluIHRyYW5zZm9ybSgkdHJhbnNmb3Jtcy4uLikge1xuICAkZXh0cmE6IG51bGw7XG5cbiAgJHg6IG51bGw7XG4gICRsdHItdHJhbnNsYXRlOiBudWxsO1xuICAkcnRsLXRyYW5zbGF0ZTogbnVsbDtcblxuICBAZWFjaCAkdHJhbnNmb3JtIGluICR0cmFuc2Zvcm1zIHtcbiAgICBAaWYgKHN0ci1pbmRleCgkdHJhbnNmb3JtLCB0cmFuc2xhdGUzZCkpIHtcbiAgICAgICR0cmFuc2Zvcm06IHN0ci1yZXBsYWNlKCR0cmFuc2Zvcm0sICd0cmFuc2xhdGUzZCgnKTtcbiAgICAgICR0cmFuc2Zvcm06IHN0ci1yZXBsYWNlKCR0cmFuc2Zvcm0sICcpJyk7XG5cbiAgICAgICRjb29yZGluYXRlczogc3RyLXNwbGl0KCR0cmFuc2Zvcm0sICcsJyk7XG5cbiAgICAgICR4OiBudGgoJGNvb3JkaW5hdGVzLCAxKTtcbiAgICAgICR5OiBudGgoJGNvb3JkaW5hdGVzLCAyKTtcbiAgICAgICR6OiBudGgoJGNvb3JkaW5hdGVzLCAzKTtcblxuICAgICAgJGx0ci10cmFuc2xhdGU6IHRyYW5zbGF0ZTNkKCR4LCAkeSwgJHopO1xuICAgICAgJHJ0bC10cmFuc2xhdGU6IHRyYW5zbGF0ZTNkKGNhbGMoLTEgKiAjeyR4fSksICR5LCAkeik7XG4gICAgfSBAZWxzZSB7XG4gICAgICBAaWYgJGV4dHJhID09IG51bGwge1xuICAgICAgICAkZXh0cmE6ICR0cmFuc2Zvcm07XG4gICAgICB9IEBlbHNlIHtcbiAgICAgICAgJGV4dHJhOiAkZXh0cmEgJHRyYW5zZm9ybTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBAaWYgJHggPT0gJzAnIG9yICR4ID09IG51bGwge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIHRyYW5zZm9ybTogJGx0ci10cmFuc2xhdGUgJGV4dHJhO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgdHJhbnNmb3JtOiAkbHRyLXRyYW5zbGF0ZSAkZXh0cmE7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgdHJhbnNmb3JtOiAkcnRsLXRyYW5zbGF0ZSAkZXh0cmE7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIEltcG9ydGVkIGlvbmljIG1peGlucyBmb3IgU0NTUyBmcm9tIGRpZmZlcmVudCBjb21wb25lbnRzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBFeHRyYWN0ZWQgZnJvbVxuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL2NvbXBvbmVudHMvZ3JpZC9ncmlkLm1peGlucy5zY3NzXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvY29tcG9uZW50cy9pdGVtL2l0ZW0ubWl4aW5zLnNjc3NcbiAqL1xuXG4vLyBSZXNwb25zaXZlIE1peGluc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG4vLyBDcmVhdGVzIGEgZml4ZWQgd2lkdGggZm9yIHRoZSBncmlkIGJhc2VkIG9uIHRoZSBzY3JlZW4gc2l6ZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBtaXhpbiBtYWtlLWdyaWQtd2lkdGhzKCR3aWR0aHM6ICRncmlkLXdpZHRocywgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gIEBlYWNoICRicmVha3BvaW50LCAkd2lkdGggaW4gJHdpZHRocyB7XG4gICAgQGluY2x1ZGUgbWVkaWEtYnJlYWtwb2ludC11cCgkYnJlYWtwb2ludCwgJGJyZWFrcG9pbnRzKSB7XG4gICAgICB3aWR0aDogJHdpZHRoO1xuICAgIH1cbiAgfVxuXG4gIG1heC13aWR0aDogMTAwJTtcbn1cblxuXG4vLyBBZGRzIHBhZGRpbmcgdG8gdGhlIGVsZW1lbnQgYmFzZWQgb24gYnJlYWtwb2ludHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gbWFrZS1icmVha3BvaW50LXBhZGRpbmcoJHBhZGRpbmdzKSB7XG4gIEBlYWNoICRicmVha3BvaW50IGluIG1hcC1rZXlzKCRwYWRkaW5ncykge1xuICAgIEBpbmNsdWRlIG1lZGlhLWJyZWFrcG9pbnQtdXAoJGJyZWFrcG9pbnQpIHtcbiAgICAgICRwYWRkaW5nOiBtYXAtZ2V0KCRwYWRkaW5ncywgJGJyZWFrcG9pbnQpO1xuXG4gICAgICBAaW5jbHVkZSBwYWRkaW5nKCRwYWRkaW5nKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vLyBJdGVtIE1peGluc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIGl0ZW0tcHVzaC1zdmctdXJsKCRmaWxsKSB7XG4gICRpdGVtLWRldGFpbC1wdXNoLXN2ZzogXCI8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDEyIDIwJz48cGF0aCBkPSdNMiwyMGwtMi0ybDgtOEwwLDJsMi0ybDEwLDEwTDIsMjB6JyBmaWxsPScjeyRmaWxsfScvPjwvc3ZnPlwiO1xuXG4gIEBpbmNsdWRlIHN2Zy1iYWNrZ3JvdW5kLWltYWdlKCRpdGVtLWRldGFpbC1wdXNoLXN2ZywgdHJ1ZSk7XG59XG4iLCJAdXNlIFwic2FzczptYXRoXCIgYXMgbWF0aDtcblxuLyoqXG4gKiBBcHAgY3VzdG9tIG1peGlucyBmb3IgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUGxhY2UgaGVyZSBvdXIgY3VzdG9tIG1peGlucy5cbiAqL1xuXG4vLyBNaXhlcyBhIGNvbG9yIHdpdGggYmxhY2sgdG8gY3JlYXRlIGl0cyBzaGFkZS5cbi8vIERlZmF1bHQgdG8gYm9vdHN0cmFwIGxldmVsIDYuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGdldC1jb2xvci1zaGFkZS1wZXJjZW50KCRjb2xvciwgJHBlcmNlbnQ6IDQ4JSkge1xuICAgIEByZXR1cm4gbWl4KCMwMDAsICRjb2xvciwgJHBlcmNlbnQpO1xufVxuXG4vLyBNaXhlcyBhIGNvbG9yIHdpdGggd2hpdGUgdG8gY3JlYXRlIGl0cyB0aW50LlxuLy8gRGVmYXVsdCB0byBib290c3RyYXAgbGV2ZWwgLTEwLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBnZXQtY29sb3ItdGludC1wZXJjZW50KCRjb2xvciwgJHBlcmNlbnQ6IDgwJSkge1xuICAgIEByZXR1cm4gbWl4KCNmZmYsICRjb2xvciwgJHBlcmNlbnQpO1xufVxuXG4vLyBJb25pYyBDb2xvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBHZW5lcmF0ZXMgdGhlIGNvbG9yIGNsYXNzZXMgYW5kIHZhcmlhYmxlcyBiYXNlZCBvbiB0aGVcbi8vIGNvbG9ycyBtYXBcblxuQG1peGluIGdlbmVyYXRlLWNvbG9yKCRjb2xvci1uYW1lLCAkY29sb3JzLCAkdGhlbWUpIHtcbiAgICAkY29sb3ItdGhlbWVzOiBtYXAtZ2V0KCRjb2xvcnMsICRjb2xvci1uYW1lKTtcbiAgICAkYmFzZTogbWFwLWdldCgkY29sb3ItdGhlbWVzLCAkdGhlbWUpO1xuXG4gICAgQGlmICR0aGVtZSA9PSAnZGFyaycge1xuICAgICAgICAkYmFzZTogbWl4KG1hcC1nZXQoJGNvbG9yLXRoZW1lcywgJ2xpZ2h0JyksIHdoaXRlLCA4MCUpICFkZWZhdWx0O1xuICAgIH1cblxuICAgIEBpbmNsdWRlIGdlbmVyYXRlLWNvbG9yLXZhcmlhbnRzKCRjb2xvci1uYW1lLCAkYmFzZSk7XG59XG5cbkBtaXhpbiBnZW5lcmF0ZS1jb2xvci12YXJpYW50cygkY29sb3ItbmFtZSwgJGJhc2UpIHtcbiAgICAkY29udHJhc3Q6IGdldF9jb250cmFzdF9jb2xvcigkYmFzZSk7XG4gICAgJHNoYWRlOiBnZXQtY29sb3Itc2hhZGUtcGVyY2VudCgkYmFzZSk7XG4gICAgJHRpbnQ6IGdldC1jb2xvci10aW50LXBlcmNlbnQoJGJhc2UpO1xuXG4gICAgLS0jeyRjb2xvci1uYW1lfTogI3skYmFzZX07XG4gICAgLS0jeyRjb2xvci1uYW1lfS1zaGFkZTogI3skc2hhZGV9O1xuICAgIC0tI3skY29sb3ItbmFtZX0tdGludDogI3skdGludH07XG4gICAgLS0jeyRjb2xvci1uYW1lfS1jb250cmFzdDogI3skY29udHJhc3R9O1xuXG4gICAgLy8gSW50ZXJuYWwgaW9uaWMgdXNlIG9ubHkuXG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX06IHZhcigtLSN7JGNvbG9yLW5hbWV9KTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1iYXNlOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0pO1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXJnYjogI3tjb2xvci10by1yZ2ItbGlzdCgkYmFzZSl9O1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0OiAjeyRjb250cmFzdH07XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3QtcmdiOiAje2NvbG9yLXRvLXJnYi1saXN0KCRjb250cmFzdCl9O1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXNoYWRlOiAjeyRzaGFkZX07XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tdGludDogI3skdGludH07XG5cbiAgICAuaW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9IHtcbiAgICAgICAgLS1pb24tY29sb3I6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfSk7XG4gICAgICAgIC0taW9uLWNvbG9yLWJhc2U6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1iYXNlKTtcbiAgICAgICAgLS1pb24tY29sb3ItcmdiOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tcmdiKTtcbiAgICAgICAgLS1pb24tY29sb3ItY29udHJhc3Q6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdCk7XG4gICAgICAgIC0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYjogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0LXJnYik7XG4gICAgICAgIC0taW9uLWNvbG9yLXNoYWRlOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tc2hhZGUpO1xuICAgICAgICAtLWlvbi1jb2xvci10aW50OiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tdGludCk7XG4gICAgfVxufVxuXG5AbWl4aW4gY29yZS1mb2N1cygpIHtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAmOjphZnRlciB7XG4gICAgICAgIEBpbmNsdWRlIHBvc2l0aW9uKDAsIDAsIDAsIDApO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgIEBpbmNsdWRlIGNvcmUtZm9jdXMtc3R5bGUoKTtcbiAgICB9XG59XG5cbkBtaXhpbiBjb3JlLWZvY3VzLXN0eWxlKCkge1xuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCB2YXIoLS1hMTF5LWZvY3VzLXdpZHRoKSAxcHggdmFyKC0tYTExeS1mb2N1cy1jb2xvcik7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7XG4gICAgLy8gVGhpY2tlciBvcHRpb246XG4gICAgLy8gYm9yZGVyOiB2YXIoLS1hMTF5LWZvY3VzLXdpZHRoKSBzb2xpZCB2YXIoLS1hMTF5LWZvY3VzLWNvbG9yKTtcbn1cblxuQG1peGluIGNvcmUtdHJhbnNpdGlvbigkcHJvcGVydGllczogYWxsLCAkZHVyYXRpb246IDUwMG1zLCAkdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dCkge1xuICAgICR0cmFuc2l0aW9uczogKCk7XG4gICAgQGVhY2ggJHByb3BlcnR5IGluICRwcm9wZXJ0aWVzIHtcbiAgICAgICR0cmFuc2l0aW9uczogYXBwZW5kKCR0cmFuc2l0aW9ucywgJHByb3BlcnR5ICRkdXJhdGlvbiAkdGltaW5nLWZ1bmN0aW9uLCBjb21tYSk7XG4gICAgfVxuXG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiAkdHJhbnNpdGlvbnM7XG4gICAgdHJhbnNpdGlvbjogJHRyYW5zaXRpb25zO1xufVxuXG5AbWl4aW4gc3Itb25seSgpIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgd2lkdGg6IDFweDtcbiAgICBoZWlnaHQ6IDFweDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1hcmdpbjogLTFweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGNsaXA6IHJlY3QoMCwgMCwgMCwgMCk7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICBib3JkZXI6IDA7XG59XG5cbi8qKlxuICogU2FtZSBhcyBpdGVtLXB1c2gtc3ZnLXVybCBidXQgYWRtaXRzIGZsaXAtcnRsXG4gKi9cbkBtaXhpbiBwdXNoLWFycm93LWNvbG9yKCRmaWxsOiA2MjYyNjIsICRmbGlwLXJ0bDogZmFsc2UpIHtcbiAgICAkaXRlbS1kZXRhaWwtcHVzaC1zdmc6IFwiPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMiAyMCc+PHBhdGggZD0nTTIsMjBsLTItMmw4LThMMCwybDItMmwxMCwxMEwyLDIweicgZmlsbD0nI3skZmlsbH0nLz48L3N2Zz5cIjtcblxuICAgIEBpbmNsdWRlIHN2Zy1iYWNrZ3JvdW5kLWltYWdlKCRpdGVtLWRldGFpbC1wdXNoLXN2ZywgJGZsaXAtcnRsKTtcbn1cblxuQG1peGluIGJvcmRlci1zdGFydCgkcHgsICR0eXBlOiBudWxsLCAkY29sb3I6IG51bGwpIHtcbiAgICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKGJvcmRlciwgJHB4ICR0eXBlICRjb2xvciwgbnVsbCk7XG59XG5cbkBtaXhpbiBib3JkZXItZW5kKCRweCwgJHR5cGU6IG51bGwsICRjb2xvcjogbnVsbCkge1xuICAgIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwoYm9yZGVyLCBudWxsLCAkcHggJHR5cGUgJGNvbG9yKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1ib3JkZXItc3RhcnQoJHB4LCAkdHlwZSwgJGNvbG9yKSB7XG4gICAgJHNhZmUtYXJlYS1wb3NpdGlvbjogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skcHh9KTtcblxuICAgIEBpbmNsdWRlIGJvcmRlci1zdGFydCgkc2FmZS1hcmVhLXBvc2l0aW9uLCAkdHlwZSwgJGNvbG9yKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1ib3JkZXItZW5kKCRweCwgJHR5cGUsICRjb2xvcikge1xuICAgICRzYWZlLWFyZWEtcG9zaXRpb246IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRweH0pO1xuXG4gICAgQGluY2x1ZGUgYm9yZGVyLWVuZCgkc2FmZS1hcmVhLXBvc2l0aW9uLCAkdHlwZSwgJGNvbG9yKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1tYXJnaW4taG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xuICAgICRzYWZlLWFyZWEtZW5kOiBudWxsO1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IG51bGw7XG5cbiAgICBAaWYgKCRlbmQpIHtcbiAgICAgICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcbiAgICB9XG4gICAgQGlmICgkc3RhcnQpIHtcbiAgICAgICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBtYXJnaW4taG9yaXpvbnRhbCgkc2FmZS1hcmVhLXN0YXJ0LCAkc2FmZS1hcmVhLWVuZCk7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtbWFyZ2luLXN0YXJ0KCRzdGFydCwgJGVuZCkge1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XG5cbiAgICBAaW5jbHVkZSBtYXJnaW4taG9yaXpvbnRhbCgkc2FmZS1hcmVhLXN0YXJ0LCAkZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1tYXJnaW4tZW5kKCRzdGFydCwgJGVuZCkge1xuICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XG5cbiAgICBAaW5jbHVkZSBtYXJnaW4taG9yaXpvbnRhbCgkc3RhcnQsICRzYWZlLWFyZWEtZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1wYWRkaW5nLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgICAkc2FmZS1hcmVhLWVuZDogbnVsbDtcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBudWxsO1xuXG4gICAgQGlmICgkZW5kKSB7XG4gICAgICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XG4gICAgfVxuICAgIEBpZiAoJHN0YXJ0KSB7XG4gICAgICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgcGFkZGluZy1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRzYWZlLWFyZWEtZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1wYWRkaW5nLXN0YXJ0KCRzdGFydCwgJGVuZCkge1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XG5cbiAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJGVuZCk7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtcGFkZGluZy1lbmQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcblxuICAgIEBpbmNsdWRlIHBhZGRpbmctaG9yaXpvbnRhbCgkc3RhcnQsICRzYWZlLWFyZWEtZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1wb3NpdGlvbigkdG9wOiBudWxsLCAkZW5kOiBudWxsLCAkYm90dG9tOiBudWxsLCAkc3RhcnQ6IG51bGwpIHtcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xuICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XG5cbiAgICBAaW5jbHVkZSBwb3NpdGlvbigkdG9wLCAkc2FmZS1hcmVhLWVuZCwgJGJvdHRvbSwgJHNhZmUtYXJlYS1zdGFydCk7XG59XG5cbkBtaXhpbiBjb3JlLWhlYWRpbmdzKCkge1xuICAgIGgxIHtcbiAgICAgICAgZm9udC1zaXplOiAyNnB4O1xuICAgIH1cbiAgICBoMiwgLml0ZW0taGVhZGluZyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICB9XG4gICAgaDMge1xuICAgICAgICBmb250LXNpemU6IDIycHg7XG4gICAgfVxuICAgIGg0IHtcbiAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgIH1cbiAgICBoNSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICB9XG4gICAgaDYge1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgfVxufVxuXG5AbWl4aW4gZGFya21vZGUoKSB7XG4gICAgJHJvb3Q6ICN7Jn07XG5cbiAgICBAYXQtcm9vdCAje2FkZC1yb290LXNlbGVjdG9yKCRyb290LCBcImh0bWwuZGFya1wiKX0ge1xuICAgICAgICBAY29udGVudDtcbiAgICB9XG59XG5cbkBtaXhpbiBob3Jpem9udGFsX3Njcm9sbF9pdGVtKCR3aWR0aCwgJG1pbi13aWR0aCwgJG1heC13aWR0aCkge1xuICAgIGZsZXg6IDAgMCAkd2lkdGg7XG4gICAgbWluLXdpZHRoOiAkbWluLXdpZHRoO1xuICAgIG1heC13aWR0aDogJG1heC13aWR0aDtcbiAgICBhbGlnbi1zZWxmOiBzdHJldGNoO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuXG4gICAgaW9uLWNhcmQge1xuICAgICAgICAtLXZlcnRpY2FsLW1hcmdpbjogMTBweDtcbiAgICAgICAgLS1ob3Jpem9udGFsLW1hcmdpbjogMTBweDtcblxuICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gdmFyKC0taG9yaXpvbnRhbC1tYXJnaW4pIC0gdmFyKC0taG9yaXpvbnRhbC1tYXJnaW4pKTtcbiAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pIC0gdmFyKC0tdmVydGljYWwtbWFyZ2luKSk7XG4gICAgICAgIG1hcmdpbjogdmFyKC0tdmVydGljYWwtbWFyZ2luKSB2YXIoLS1ob3Jpem9udGFsLW1hcmdpbik7XG5cbiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDM2MHB4KSB7XG4gICAgICAgICAgICAtLWhvcml6b250YWwtbWFyZ2luOiA2cHg7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIENvbG9yIG1peGlucy5cbkBmdW5jdGlvbiBnZXRfYnJpZ2h0bmVzcygkY29sb3IpIHtcbiAgICBAcmV0dXJuIG1hdGguZGl2KHJlZCgkY29sb3IpICsgZ3JlZW4oJGNvbG9yKSArIGJsdWUoJGNvbG9yKSwgMyk7XG59XG5cbi8vIEdldCB0aGUgYmV0dGVyIGNvbG9yIGNvbnRyYXN0IHVzaW5nIFdDQUcgYWxnb3J5dGhtLlxuQGZ1bmN0aW9uIGdldF9jb250cmFzdF9jb2xvcigkY29sb3IpIHtcbiAgICAkbHVtaWFuY2U6IGx1bWluYW5jZSgkY29sb3IpO1xuXG4gICAgLy8gV2hpdGUgbHVtaWFuY2UgaXMgMS5cbiAgICAkd2hpdGVDb250cmFzdDogbWF0aC5kaXYoJGx1bWlhbmNlICsgMC4wNSwgMSArIDAuMDUpO1xuICAgIC8vIFdoaXRlIGx1bWlhbmNlIGlzIDAuXG4gICAgJGJsYWNrQ29udHJhc3Q6IG1hdGguZGl2KDAuMDUsICRsdW1pYW5jZSArIDAuMDUpO1xuXG4gICAgQHJldHVybiBpZigkd2hpdGVDb250cmFzdCA8ICRibGFja0NvbnRyYXN0LCB3aGl0ZSwgYmxhY2spO1xufVxuXG4vLyBDb2xvciBjb250cmFzdCB1c2luZyB5aXEgYXByb3hpbWF0aW9uIHdpdGggMTUwIHRocmVzaG9sZC5cbkBmdW5jdGlvbiBnZXRfY29udHJhc3RfY29sb3JfeWlxKCRjb2xvciwgJGRhcms6IGJsYWNrLCAkbGlnaHQ6IHdoaXRlKSB7XG4gICAgJHI6IHJlZCgkY29sb3IpO1xuICAgICRnOiBncmVlbigkY29sb3IpO1xuICAgICRiOiBibHVlKCRjb2xvcik7XG5cbiAgICAkeWlxOiBtYXRoLmRpdigoJHIgKiAyOTkpICsgKCRnICogNTg3KSArICgkYiAqIDExNCksIDEwMDApO1xuXG4gICAgQHJldHVybiBpZigkeWlxID49IDEyOCwgJGRhcmssICRsaWdodCk7XG59XG5cbi8vIFdDQUcgY29udHJhc3QgYWxnb3JpdGhtXG5AZnVuY3Rpb24gY2hlY2stY29udHJhc3QoJGZvcmVncm91bmQsICRiYWNrZ3JvdW5kKSB7XG4gICAgJGZvcmVncm91bmRMdW1pYW5jZTogbHVtaW5hbmNlKCRmb3JlZ3JvdW5kKTtcbiAgICAkYmFja2dyb3VuZEx1bWluYW5jZTogbHVtaW5hbmNlKCRiYWNrZ3JvdW5kKTtcblxuICAgIEBpZiAoJGJhY2tncm91bmRMdW1pbmFuY2UgPCAkZm9yZWdyb3VuZEx1bWlhbmNlKSB7XG4gICAgICAgIEByZXR1cm4gbWF0aC5kaXYoJGJhY2tncm91bmRMdW1pbmFuY2UgKyAwLjA1LCAkZm9yZWdyb3VuZEx1bWlhbmNlICsgMC4wNSk7XG4gICAgfSBAZWxzZSB7XG4gICAgICAgIEByZXR1cm4gbWF0aC5kaXYoJGZvcmVncm91bmRMdW1pYW5jZSArIDAuMDUsICRiYWNrZ3JvdW5kTHVtaW5hbmNlICsgMC4wNSk7XG4gICAgfVxufVxuXG5AZnVuY3Rpb24gbHVtaW5hbmNlKCRjb2xvcikge1xuICAgICRyOiByZWQoJGNvbG9yKTtcbiAgICAkZzogZ3JlZW4oJGNvbG9yKTtcbiAgICAkYjogYmx1ZSgkY29sb3IpO1xuXG4gICAgJHI6IGNvbXBvbmVudC1sdW1pbmFuY2UoJHIpO1xuICAgICRnOiBjb21wb25lbnQtbHVtaW5hbmNlKCRnKTtcbiAgICAkYjogY29tcG9uZW50LWx1bWluYW5jZSgkYik7XG5cbiAgICBAcmV0dXJuICRyICogMC4yMTI2ICsgJGcgKiAwLjcxNTIgKyAkYiAqIDAuMDcyMjtcbn1cblxuQGZ1bmN0aW9uIGNvbXBvbmVudC1sdW1pbmFuY2UoJHZhbHVlKSB7XG4gICAgJHZhbHVlOiBtYXRoLmRpdigkdmFsdWUsIDI1NSk7XG5cbiAgICBAaWYgKCR2YWx1ZSA8PSAwLjAzOTI4KSB7XG4gICAgICAgIEByZXR1cm4gbWF0aC5kaXYoJHZhbHVlLCAxMi45Mik7XG4gICAgfSBAZWxzZSB7XG4gICAgICAgIEByZXR1cm4gbWF0aC5wb3cobWF0aC5kaXYoJHZhbHVlICsgMC4wNTUsIDEuMDU1KSwgMi40KTtcbiAgICB9XG59XG4iLCIvKlxuICogQXBwIEN1c3RvbSBBcHAgdmFyaWFibGVzIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBsYWNlIGhlcmUgYWxsIGN1c3RvbSBhcHAgdmFyaWFibGVzLlxuICovXG4iLCIvKlxuICogQXBwIEdsb2JhbCB2YXJpYWJsZXMgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUGxhY2UgaGVyZSBhbGwgZ2xvYmFsIHZhcmlhYmxlcy5cbiAqL1xuXG4kd2hpdGU6ICAgICAgICNmZmZmZmYgIWRlZmF1bHQ7XG4kZ3JheS0xMDA6ICAgICNmOGY5ZmEgIWRlZmF1bHQ7XG4kZ3JheS0yMDA6ICAgICNlOWVjZWYgIWRlZmF1bHQ7XG4kZ3JheS0zMDA6ICAgICNkZWUyZTYgIWRlZmF1bHQ7IC8vIFN0cm9rZVxuJGdyYXktNDAwOiAgICAjY2VkNGRhICFkZWZhdWx0O1xuJGdyYXktNTAwOiAgICAjOGY5NTllICFkZWZhdWx0OyAvLyBTdHJva2Ugb24gaW5wdXRzXG4kZ3JheS02MDA6ICAgICM2YTczN2IgIWRlZmF1bHQ7XG4kZ3JheS03MDA6ICAgICM0OTUwNTcgIWRlZmF1bHQ7XG4kZ3JheS04MDA6ICAgICMzNDNhNDAgIWRlZmF1bHQ7XG4kZ3JheS05MDA6ICAgICMyODI4MjggIWRlZmF1bHQ7IC8vIENvcHkgdGV4dFxuJGJsYWNrOiAgICAgICAjMDAwMDAwICFkZWZhdWx0OyAvLyBBdm9pZCB1c2FnZVxuXG4kYmx1ZTogICAgICAgICMwZjZjYmYgIWRlZmF1bHQ7XG4kY3lhbjogICAgICAgICMwMDgxOTYgIWRlZmF1bHQ7IC8vIE5vdCB1c2VkLlxuJGdyZWVuOiAgICAgICAjMzU3YTMyICFkZWZhdWx0O1xuJHJlZDogICAgICAgICAjY2EzMTIwICFkZWZhdWx0O1xuJHllbGxvdzogICAgICAjZjBhZDRlICFkZWZhdWx0O1xuXG4kYnJhbmQtY29sb3I6ICNmOTgwMTIgIWRlZmF1bHQ7XG5cbiR0ZXh0LWNvbG9yOiAgICAgICAgICAgICAgICRncmF5LTkwMCAhZGVmYXVsdDtcbiR0ZXh0LWNvbG9yLXJnYjogICAgICAgICAgIGNvbG9yLXRvLXJnYi1saXN0KCR0ZXh0LWNvbG9yKSAhZGVmYXVsdDtcbiR0ZXh0LWNvbG9yLWRhcms6ICAgICAgICAgICR3aGl0ZSAhZGVmYXVsdDtcbiR0ZXh0LWNvbG9yLWRhcmstcmdiOiAgICAgIGNvbG9yLXRvLXJnYi1saXN0KCR0ZXh0LWNvbG9yLWRhcmspICFkZWZhdWx0O1xuXG4kYmFja2dyb3VuZC1jb2xvcjogICAgICAgICAgJHdoaXRlICFkZWZhdWx0O1xuJGJhY2tncm91bmQtY29sb3ItcmdiOiAgICAgIGNvbG9yLXRvLXJnYi1saXN0KCRiYWNrZ3JvdW5kLWNvbG9yKSAhZGVmYXVsdDtcbiRiYWNrZ3JvdW5kLWNvbG9yLWRhcms6ICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7IC8vICMxYTFhMWFcbiRiYWNrZ3JvdW5kLWNvbG9yLWRhcmstcmdiOiBjb2xvci10by1yZ2ItbGlzdCgkYmFja2dyb3VuZC1jb2xvci1kYXJrKSAhZGVmYXVsdDtcblxuJGlvbi1pdGVtLWJhY2tncm91bmQ6ICAgICAgJHdoaXRlICFkZWZhdWx0O1xuJGlvbi1pdGVtLWJhY2tncm91bmQtcmdiOiAgY29sb3ItdG8tcmdiLWxpc3QoJGlvbi1pdGVtLWJhY2tncm91bmQpICFkZWZhdWx0O1xuJGlvbi1pdGVtLWJhY2tncm91bmQtZGFyazogJGdyYXktOTAwICFkZWZhdWx0O1xuJGlvbi1pdGVtLWJhY2tncm91bmQtZGFyay1yZ2I6IGNvbG9yLXRvLXJnYi1saXN0KCRpb24taXRlbS1iYWNrZ3JvdW5kLWRhcmspICFkZWZhdWx0O1xuXG4kcHJpbWFyeTogICAgJGJyYW5kLWNvbG9yICFkZWZhdWx0O1xuJHNlY29uZGFyeTogICRncmF5LTMwMCAhZGVmYXVsdDtcbiRkYW5nZXI6ICAgICAkcmVkICFkZWZhdWx0O1xuJHdhcm5pbmc6ICAgICR5ZWxsb3cgIWRlZmF1bHQ7XG4kc3VjY2VzczogICAgJGdyZWVuICFkZWZhdWx0O1xuJGluZm86ICAgICAgICRibHVlICFkZWZhdWx0O1xuJGxpZ2h0OiAgICAgICRncmF5LTEwMCAhZGVmYXVsdDtcbiRtZWRpdW06ICAgICAkZ3JheS03MDAgIWRlZmF1bHQ7XG4kZGFyazogICAgICAgJGdyYXktOTAwICFkZWZhdWx0O1xuXG4kY29sb3JzOiAgKFxuICAgIHByaW1hcnk6IChsaWdodDogJHByaW1hcnksIGRhcms6ICRwcmltYXJ5KSxcbiAgICBzZWNvbmRhcnk6IChsaWdodDogJHNlY29uZGFyeSwgZGFyazogJGdyYXktNzAwKSxcbiAgICBzdWNjZXNzOiAobGlnaHQ6ICRzdWNjZXNzKSxcbiAgICB3YXJuaW5nOiAobGlnaHQ6ICR3YXJuaW5nKSxcbiAgICBkYW5nZXI6ICAobGlnaHQ6ICRkYW5nZXIpLFxuICAgIGluZm86IChsaWdodDogJGluZm8pLFxuICAgIGxpZ2h0OiAobGlnaHQ6ICRsaWdodCwgZGFyazogJGRhcmspLFxuICAgIG1lZGl1bTogKGxpZ2h0OiAkbWVkaXVtLCBkYXJrOiAkZ3JheS0yMDApLFxuICAgIGRhcms6IChsaWdodDogJGRhcmssIGRhcms6ICRsaWdodCksXG4pICFkZWZhdWx0O1xuXG4vKipcbiAqIExheW91dCBCcmVha3BvaW50c1xuICpcbiAqIGh0dHBzOi8vaW9uaWNmcmFtZXdvcmsuY29tL2RvY3MvbGF5b3V0L2dyaWQjZGVmYXVsdC1icmVha3BvaW50c1xuICovXG5cbi8vIFRoZSBtaW5pbXVtIGRpbWVuc2lvbnMgYXQgd2hpY2ggeW91ciBsYXlvdXQgd2lsbCBjaGFuZ2UsXG4vLyBhZGFwdGluZyB0byBkaWZmZXJlbnQgc2NyZWVuIHNpemVzLCBmb3IgdXNlIGluIG1lZGlhIHF1ZXJpZXNcbiRzY3JlZW4tYnJlYWtwb2ludHM6IChcbiAgICB4czogMHB4LFxuICAgIHNtOiA1NzZweCxcbiAgICBtZDogNzY4cHgsXG4gICAgbGc6IDk5MnB4LFxuICAgIHRhYmxldDogOTkycHgsXG4gICAgeGw6IDEyMDBweFxuKSAhZGVmYXVsdDtcblxuJGNvcmUtY291cnNlLWltYWdlLWJhY2tncm91bmQ6ICM4MWVjZWMsICM3NGI5ZmYsICNhMjliZmUsICNkZmU2ZTksICMwMGI4OTQsICMwOTg0ZTMsICNiMmJlYzMsICNmZGNiNmUsICNmZDc5YTgsICM2YzVjZTcgIWRlZmF1bHQ7XG4kY29yZS1kZC1xdWVzdGlvbi1jb2xvcnM6ICNGRkZGRkYsICNCMEM0REUsICNEQ0RDREMsICNEOEJGRDgsICM4N0NFRkEsICNEQUE1MjAsICNGRkQ3MDAsICNGMEU2OEMgIWRlZmF1bHQ7XG4kY29yZS10ZXh0LWhpZ2h0bGlnaHQtYmFja2dyb3VuZC1jb2xvcjogbGlnaHRlbigkYmx1ZSwgNDAlKSAhZGVmYXVsdDtcblxuJGNvcmUtZml4ZWQtdXJsOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWRhc2hib2FyZC1sb2dvOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWFsd2F5cy1zaG93LW1haW4tbWVudTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1mb3JtYXQtdGV4dC1uZXZlci1zaG9ydGVuOiBmYWxzZSAhZGVmYXVsdDtcblxuJGNvcmUtaGlkZS1jb3Vyc2VpbWFnZS1vbi1jb3Vyc2U6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtaGlkZS1wcm9ncmVzcy1vbi1jb3Vyc2U6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtaGlkZS1wcm9ncmVzcy1vbi1zZWN0aW9uLXNlbGVjdG9yOiBmYWxzZSAhZGVmYXVsdDtcblxuJGNvcmUtY291cnNlLWhpZGUtdGh1bWItb24tY2FyZHM6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtY291cnNlLXRodW1iLW9uLWNhcmRzLWJhY2tncm91bmQ6IG51bGwgIWRlZmF1bHQ7XG4kY29yZS1jb3Vyc2UtaGlkZS1wcm9ncmVzcy1vbi1jYXJkczogZmFsc2UgIWRlZmF1bHQ7XG5cbi8vIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgbG9naW4gcGFnZS5cbiRjb3JlLWxvZ2luLWJ1dHRvbi1vdXRsaW5lOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWJ1dHRvbi1vdXRsaW5lLWRhcms6ICRjb3JlLWxvZ2luLWJ1dHRvbi1vdXRsaW5lICFkZWZhdWx0O1xuJGNvcmUtbG9naW4tbG9hZGluZy1jb2xvcjogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1sb2FkaW5nLWNvbG9yLWRhcms6ICR0ZXh0LWNvbG9yLWRhcmsgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1oaWRlLWZvcmdvdC1wYXNzd29yZDogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1oaWRlLW5lZWQtaGVscDogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1oaWRlLXFyY29kZTogZmFsc2UgIWRlZmF1bHQ7XG5cbi8vIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgbW9yZSBwYWdlLiAoZGVwcmVjYXRlZCBvbiA0LjApXG4kY29yZS1tb3JlLWhpZGUtc2l0ZWluZm86IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbW9yZS1oaWRlLXNpdGVuYW1lOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLW1vcmUtaGlkZS1zaXRldXJsOiBmYWxzZSAhZGVmYXVsdDtcblxuLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB1c2VyIHBhZ2UuXG4kY29yZS11c2VyLWhpZGUtc2l0ZWluZm86ICRjb3JlLW1vcmUtaGlkZS1zaXRlaW5mbyAhZGVmYXVsdDtcbiRjb3JlLXVzZXItaGlkZS1zaXRlbmFtZTogJGNvcmUtbW9yZS1oaWRlLXNpdGVuYW1lICFkZWZhdWx0O1xuJGNvcmUtdXNlci1oaWRlLXNpdGV1cmw6ICRjb3JlLW1vcmUtaGlkZS1zaXRldXJsICFkZWZhdWx0O1xuXG4vLyBBY3Rpdml0eSBpY29uIGJhY2tncm91bmQgY29sb3JzLlxuJGFjdGl2aXR5LWljb24tY29sb3JzOiAoXG4gICAgYWRtaW5pc3RyYXRpb246ICM1ZDYzZjYsXG4gICAgYXNzZXNzbWVudDogI2ViNjZhMixcbiAgICBjb2xsYWJvcmF0aW9uOiAjZjc2MzRkLFxuICAgIGNvbW11bmljYXRpb246ICMxMWE2NzYsXG4gICAgY29udGVudDogIzM5OWJlMixcbiAgICBpbnRlcmZhY2U6ICNhMzc4ZmZcbikgIWRlZmF1bHQ7XG5cbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jYXRlZ29yeTogIzhlMjRhYSAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jb3Vyc2U6ICRyZWQgIWRlZmF1bHQ7XG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktZ3JvdXA6ICR5ZWxsb3cgIWRlZmF1bHQ7XG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktdXNlcjogJGJsdWUgIWRlZmF1bHQ7XG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktc2l0ZTogJGdyZWVuICFkZWZhdWx0O1xuXG4vLyBDYWxlbmRhciBldmVudCBjYXRlZ29yeSBiYWNrZ3JvdW5kIGNvbG9ycy5cbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jb2xvcnM6IChcbiAgICBjYXRlZ29yeTogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNhdGVnb3J5LFxuICAgIGNvdXJzZTogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvdXJzZSxcbiAgICBncm91cDogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWdyb3VwLFxuICAgIHVzZXI6ICRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS11c2VyLFxuICAgIHNpdGU6ICRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1zaXRlLFxuKSAhZGVmYXVsdDtcbiIsIkB1c2UgXCJ0aGVtZS9nbG9iYWxzXCIgYXMgKjtcblxuLy8vIEBwcm9wIC0gVGhlIHBhZGRpbmcgZm9yIHRoZSBncmlkIGNvbHVtblxuJGdyaWQtY29sdW1uLXBhZGRpbmc6ICAgICAgICB2YXIoLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZywgNXB4KSAhZGVmYXVsdDtcblxuLy8vIEBwcm9wIC0gVGhlIHBhZGRpbmcgZm9yIHRoZSBjb2x1bW4gYXQgZGlmZmVyZW50IGJyZWFrcG9pbnRzXG4kZ3JpZC1jb2x1bW4tcGFkZGluZ3M6IChcbiAgeHM6IHZhcigtLWlvbi1ncmlkLWNvbHVtbi1wYWRkaW5nLXhzLCAkZ3JpZC1jb2x1bW4tcGFkZGluZyksXG4gIHNtOiB2YXIoLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZy1zbSwgJGdyaWQtY29sdW1uLXBhZGRpbmcpLFxuICBtZDogdmFyKC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmctbWQsICRncmlkLWNvbHVtbi1wYWRkaW5nKSxcbiAgbGc6IHZhcigtLWlvbi1ncmlkLWNvbHVtbi1wYWRkaW5nLWxnLCAkZ3JpZC1jb2x1bW4tcGFkZGluZyksXG4gIHhsOiB2YXIoLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZy14bCwgJGdyaWQtY29sdW1uLXBhZGRpbmcpXG4pICFkZWZhdWx0O1xuXG46aG9zdCB7XG4gICAgLS1ib3JkZXItY29sb3I6IHZhcigtLXN0cm9rZSk7XG59XG5cbi5hZGRvbi1kYXRhLWNvbnRlbnRzIHtcbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xuICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gICAgcGFkZGluZzogMTZweDtcblxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1pdGVtLWJhY2tncm91bmQpO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO1xuXG4gICAgOjpuZy1kZWVwIHtcbiAgICAgICAgdGFibGUsIHRib2R5IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB9XG5cbiAgICAgICAgdHIge1xuICAgICAgICAgICAgLy8gSW1wb3J0ZWQgZm9ybSBpb24tcm93O1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcblxuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIEBpbmNsdWRlIG1lZGlhLWJyZWFrcG9pbnQtZG93bihzbSkge1xuICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0ZCwgdGgge1xuICAgICAgICAgICAgLy8gSW1wb3J0ZWQgZm9ybSBpb24tY29sO1xuICAgICAgICAgICAgQGluY2x1ZGUgbWFrZS1icmVha3BvaW50LXBhZGRpbmcoJGdyaWQtY29sdW1uLXBhZGRpbmdzKTtcbiAgICAgICAgICAgIEBpbmNsdWRlIG1hcmdpbigwKTtcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICBmbGV4LWJhc2lzOiAwO1xuICAgICAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiBhdXRvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG8gbm90IGxldCBibG9jayBlbGVtZW50cyB0byBkZWZpbmUgd2lkdGhzIG9yIGhlaWdodHMuXG4gICAgICAgIGFkZHJlc3MsIGFydGljbGUsIGFzaWRlLCBibG9ja3F1b3RlLCBjYW52YXMsIGRkLCBkaXYsIGRsLCBkdCwgZmllbGRzZXQsIGZpZ2NhcHRpb24sIGZpZ3VyZSwgZm9vdGVyLCBmb3JtLFxuICAgICAgICBoMSwgaDIsIGgzLCBoNCwgaDUsIGg2LFxuICAgICAgICBoZWFkZXIsIGxpLCBtYWluLCBuYXYsIG5vc2NyaXB0LCBvbCwgcCwgcHJlLCBzZWN0aW9uLCB0YWJsZSwgdGZvb3QsIHVsLCB2aWRlbyB7XG4gICAgICAgICAgICB3aWR0aDogYXV0byAhaW1wb3J0YW50O1xuICAgICAgICAgICAgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBtaW4td2lkdGg6IGF1dG8gIWltcG9ydGFudDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IGF1dG8gIWltcG9ydGFudDtcbiAgICAgICAgICAgIC8vIEF2b2lkIGhhdmluZyBvbmUgZW50cnkgb3ZlciBhbm90aGVyLlxuICAgICAgICAgICAgbWF4LWhlaWdodDogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaHIge1xuICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLXN0cm9rZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["CoreCommentsProvider","CoreCourseModuleMainActivityComponent","CoreRatingProvider","CoreRatingSyncProvider","CoreGroups","CoreNavigator","CoreSites","CoreDomUtils","CoreTimeUtils","CoreUtils","CoreEvents","AddonModDataProvider","AddonModData","AddonModDataTemplateType","AddonModDataTemplateMode","AddonModDataHelper","AddonModDataSyncProvider","AddonModDataModuleHandlerService","AddonModDataPrefetchHandler","AddonModDataComponentsCompileModule","AddonModDataSearchComponent","CoreUrlUtils","CoreTime","i0","ɵɵelementStart","ɵɵlistener","AddonModDataIndexComponent_ion_button_1_Template_ion_button_click_0_listener","ɵɵrestoreView","_r14","ctx_r13","ɵɵnextContext","ɵɵresetView","showSearch","ɵɵelement","ɵɵelementEnd","ɵɵattribute","ɵɵpipeBind1","AddonModDataIndexComponent_core_context_menu_item_3_Template_core_context_menu_item_action_0_listener","_r16","ctx_r15","gotoAddEntries","ɵɵproperty","AddonModDataIndexComponent_core_context_menu_item_4_Template_core_context_menu_item_action_0_listener","_r18","ctx_r17","gotoEntry","firstEntry","ɵɵtext","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind2","ɵɵpureFunction1","_c0","ctx_r3","timeAvailableFromReadable","ctx_r4","timeAvailableToReadable","ɵɵtextInterpolate1","_c1","ctx_r5","access","entrieslefttoview","_c2","ctx_r6","entrieslefttoadd","AddonModDataIndexComponent_ng_container_15_ion_item_1_Template_ion_item_click_0_listener","$event","_r22","ctx_r21","searchReset","AddonModDataIndexComponent_ng_container_15_ion_card_2_Template_ion_item_click_1_listener","_r24","ctx_r23","ctx_r20","foundRecordsTranslationData","ɵɵsanitizeHtml","ɵɵelementContainerStart","ɵɵtemplate","AddonModDataIndexComponent_ng_container_15_ion_item_1_Template","AddonModDataIndexComponent_ng_container_15_ion_card_2_Template","ɵɵelementContainerEnd","ctx_r7","ɵɵclassMapInterpolate1","ctx_r8","database","id","ɵɵpropertyInterpolate1","csstemplate","entriesRendered","jsData","extraImports","AddonModDataIndexComponent_ion_grid_17_ion_col_2_Template_ion_button_click_1_listener","_r28","ctx_r27","searchEntries","search","page","AddonModDataIndexComponent_ion_grid_17_ion_col_3_Template_ion_button_click_1_listener","_r30","ctx_r29","AddonModDataIndexComponent_ion_grid_17_ion_col_2_Template","AddonModDataIndexComponent_ion_grid_17_ion_col_3_Template","ctx_r9","hasNextPage","AddonModDataIndexComponent_core_empty_box_19_Template_button_click_2_listener","_r32","ctx_r31","AddonModDataIndexComponent_ion_fab_21_Template_ion_fab_button_click_1_listener","_r34","ctx_r33","contentToken","AddonModDataIndexComponent","constructor","content","courseContentsPage","component","COMPONENT","pluginName","fields","selectedGroup","isEmpty","entries","canAdd","canSearch","sortBy","sortDirection","text","searching","searchingAdvanced","advanced","hasOfflineRatings","syncEventName","AUTO_SYNCED","hasComments","fieldsArray","ngOnInit","_superprop_getNgOnInit","_this","_asyncToGenerator","call","group","entryChangedObserver","on","ENTRY_CHANGED","eventData","_this$database","dataId","showLoading","loadContent","siteId","ratingOfflineObserver","RATING_SAVED_EVENT","data","_this$database2","ratingArea","contextLevel","instanceId","coursemodule","ratingSyncObserver","SYNCED_EVENT","_this$database3","invalidateContent","_this2","promises","push","invalidateDatabaseData","courseId","invalidateDatabaseAccessInformationData","invalidateActivityGroupInfo","invalidateEntriesData","invalidateFieldsData","trigger","REFRESH_COMMENTS_EVENT","getCurrentSiteId","Promise","all","isRefreshSyncNeeded","syncEventData","entryId","undefined","_this$content","scrollToTop","fetchContent","refresh","sync","showErrors","_this3","getDatabase","module","comments","description","intro","dataRetrieved","emit","ignoreErrors","syncActivity","groupInfo","getActivityGroupInfo","visibleGroups","groups","length","filter","defaultGroupId","validateGroupId","getDatabaseAccessInformation","cmId","groupId","timeavailable","time","timestamp","timeAvailableFrom","timeavailablefrom","userDate","timeAvailableTo","timeavailableto","canaddentry","getFields","arrayToObject","objectToArray","fetchEntriesData","_this4","_entries$offlineEntri","advSearch","fetchEntries","sort","Number","order","numEntries","numOfflineEntries","offlineEntries","PER_PAGE","totalcount","hasOffline","hasOfflineActions","maxcount","num","max","reseturl","concat","headerAndFooter","getTemplate","LIST_HEADER","LIST_FOOTER","fixHtml","template","LIST","entriesHTML","entriesById","forEach","entry","index","actions","getActions","options","offset","displayShowFields","replace","title","name","_this5","modalData","openModal","componentProps","logSearch","once","performLogSearch","_this6","_this6$logSearch","error","showErrorModalDefault","ev","preventDefault","stopPropagation","setGroup","_this7","params","navigateToSitePath","PAGE_NAME","pageXOffset","findIndex","logActivity","_this8","logView","analyticsLogEvent","_this9","perpage","url","addParamsToUrl","ngOnDestroy","_this$entryChangedObs","_this$ratingOfflineOb","_this$ratingSyncObser","off","ɵɵdirectiveInject","i1","IonContent","i2","CoreCourseContentsPage","selectors","features","ɵɵInheritDefinitionFeature","decls","vars","consts","AddonModDataIndexComponent_Template","rf","ctx","AddonModDataIndexComponent_ion_button_1_Template","AddonModDataIndexComponent_core_context_menu_item_3_Template","AddonModDataIndexComponent_core_context_menu_item_4_Template","AddonModDataIndexComponent_Template_ion_button_click_5_listener","openModuleSummary","AddonModDataIndexComponent_Template_core_course_module_info_completionChanged_9_listener","onCompletionChange","AddonModDataIndexComponent_Template_core_group_selector_selectedChange_10_listener","AddonModDataIndexComponent_ion_card_11_Template","AddonModDataIndexComponent_ion_card_12_Template","AddonModDataIndexComponent_ion_card_13_Template","AddonModDataIndexComponent_ion_card_14_Template","AddonModDataIndexComponent_ng_container_15_Template","AddonModDataIndexComponent_div_16_Template","AddonModDataIndexComponent_ion_grid_17_Template","AddonModDataIndexComponent_core_empty_box_18_Template","AddonModDataIndexComponent_core_empty_box_19_Template","AddonModDataIndexComponent_ion_fab_21_Template","componentId","course"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/data/components/index/index.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/data/components/index/addon-mod-data-index.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { ContextLevel } from '@/core/constants';\nimport { Component, OnDestroy, OnInit, Optional, Type } from '@angular/core';\nimport { Params } from '@angular/router';\nimport { CoreCommentsProvider } from '@features/comments/services/comments';\nimport { CoreCourseModuleMainActivityComponent } from '@features/course/classes/main-activity-component';\nimport { CoreCourseContentsPage } from '@features/course/pages/contents/contents';\nimport { CoreRatingProvider } from '@features/rating/services/rating';\nimport { CoreRatingSyncProvider } from '@features/rating/services/rating-sync';\nimport { IonContent } from '@ionic/angular';\nimport { CoreGroupInfo, CoreGroups } from '@services/groups';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreTimeUtils } from '@services/utils/time';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\nimport {\n    AddonModDataProvider,\n    AddonModData,\n    AddonModDataEntry,\n    AddonModDataTemplateType,\n    AddonModDataTemplateMode,\n    AddonModDataField,\n    AddonModDataGetDataAccessInformationWSResponse,\n    AddonModDataData,\n    AddonModDataSearchEntriesAdvancedField,\n} from '../../services/data';\nimport { AddonModDataHelper, AddonModDatDisplayFieldsOptions } from '../../services/data-helper';\nimport { AddonModDataAutoSyncData, AddonModDataSyncProvider, AddonModDataSyncResult } from '../../services/data-sync';\nimport { AddonModDataModuleHandlerService } from '../../services/handlers/module';\nimport { AddonModDataPrefetchHandler } from '../../services/handlers/prefetch';\nimport { AddonModDataComponentsCompileModule } from '../components-compile.module';\nimport { AddonModDataSearchComponent } from '../search/search';\nimport { CoreUrlUtils } from '@services/utils/url';\nimport { CoreTime } from '@singletons/time';\n\nconst contentToken = '<!-- CORE-DATABASE-CONTENT-GOES-HERE -->';\n\n/**\n * Component that displays a data index page.\n */\n@Component({\n    selector: 'addon-mod-data-index',\n    templateUrl: 'addon-mod-data-index.html',\n    styleUrls: ['../../data.scss'],\n})\nexport class AddonModDataIndexComponent extends CoreCourseModuleMainActivityComponent implements OnInit, OnDestroy {\n\n    component = AddonModDataProvider.COMPONENT;\n    pluginName = 'data';\n\n    access?: AddonModDataGetDataAccessInformationWSResponse;\n    database?: AddonModDataData;\n    fields: Record<number, AddonModDataField> = {};\n    selectedGroup = 0;\n    timeAvailableFrom?: number;\n    timeAvailableFromReadable?: string;\n    timeAvailableTo?: number;\n    timeAvailableToReadable?: string;\n    isEmpty = true;\n    groupInfo?: CoreGroupInfo;\n    entries: AddonModDataEntry[] = [];\n    firstEntry?: number;\n    canAdd = false;\n    canSearch = false;\n    search: AddonModDataSearchDataParams = {\n        sortBy: '0',\n        sortDirection: 'DESC',\n        page: 0,\n        text: '',\n        searching: false,\n        searchingAdvanced: false,\n        advanced: [],\n    };\n\n    hasNextPage = false;\n    entriesRendered = '';\n    extraImports: Type<unknown>[] = [AddonModDataComponentsCompileModule];\n\n    jsData?: {\n        fields: Record<number, AddonModDataField>;\n        entries: Record<number, AddonModDataEntry>;\n        database: AddonModDataData;\n        title: string;\n        group: number;\n        access: AddonModDataGetDataAccessInformationWSResponse | undefined;\n        gotoEntry: (entryId: number) => void;\n    };\n\n    // Data for found records translation.\n    foundRecordsTranslationData?: {\n        num: number;\n        max: number;\n        reseturl: string;\n    };\n\n    hasOfflineRatings = false;\n\n    protected syncEventName = AddonModDataSyncProvider.AUTO_SYNCED;\n    protected hasComments = false;\n    protected fieldsArray: AddonModDataField[] = [];\n    protected entryChangedObserver?: CoreEventObserver;\n    protected ratingOfflineObserver?: CoreEventObserver;\n    protected ratingSyncObserver?: CoreEventObserver;\n    protected logSearch?: () => void;\n\n    constructor(\n        protected content?: IonContent,\n        @Optional() courseContentsPage?: CoreCourseContentsPage,\n    ) {\n        super('AddonModDataIndexComponent', content, courseContentsPage);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        await super.ngOnInit();\n\n        this.selectedGroup = this.group || 0;\n\n        // Refresh entries on change.\n        this.entryChangedObserver = CoreEvents.on(AddonModDataProvider.ENTRY_CHANGED, (eventData) => {\n            if (this.database?.id == eventData.dataId) {\n                this.showLoading = true;\n\n                return this.loadContent(true);\n            }\n        }, this.siteId);\n\n        // Listen for offline ratings saved and synced.\n        this.ratingOfflineObserver = CoreEvents.on(CoreRatingProvider.RATING_SAVED_EVENT, (data) => {\n            if (data.component == 'mod_data' && data.ratingArea == 'entry' && data.contextLevel == ContextLevel.MODULE\n                    && data.instanceId == this.database?.coursemodule) {\n                this.hasOfflineRatings = true;\n            }\n        });\n        this.ratingSyncObserver = CoreEvents.on(CoreRatingSyncProvider.SYNCED_EVENT, (data) => {\n            if (data.component == 'mod_data' && data.ratingArea == 'entry' && data.contextLevel == ContextLevel.MODULE\n                    && data.instanceId == this.database?.coursemodule) {\n                this.hasOfflineRatings = false;\n            }\n        });\n\n        await this.loadContent(false, true);\n    }\n\n    /**\n     * Perform the invalidate content function.\n     *\n     * @returns Resolved when done.\n     */\n    protected async invalidateContent(): Promise<void> {\n        const promises: Promise<void>[] = [];\n\n        promises.push(AddonModData.invalidateDatabaseData(this.courseId));\n        if (this.database) {\n            promises.push(AddonModData.invalidateDatabaseAccessInformationData(this.database.id));\n            promises.push(CoreGroups.invalidateActivityGroupInfo(this.database.coursemodule));\n            promises.push(AddonModData.invalidateEntriesData(this.database.id));\n            promises.push(AddonModData.invalidateFieldsData(this.database.id));\n\n            if (this.hasComments) {\n                CoreEvents.trigger(CoreCommentsProvider.REFRESH_COMMENTS_EVENT, {\n                    contextLevel: ContextLevel.MODULE,\n                    instanceId: this.database.coursemodule,\n                }, CoreSites.getCurrentSiteId());\n            }\n        }\n\n        await Promise.all(promises);\n    }\n\n    /**\n     * Compares sync event data with current data to check if refresh content is needed.\n     *\n     * @param syncEventData Data receiven on sync observer.\n     * @returns True if refresh is needed, false otherwise.\n     */\n    protected isRefreshSyncNeeded(syncEventData: AddonModDataAutoSyncData): boolean {\n        if (this.database && syncEventData.dataId == this.database.id && syncEventData.entryId === undefined) {\n            this.showLoading = true;\n            // Refresh the data.\n            this.content?.scrollToTop();\n\n            return true;\n        }\n\n        return false;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    protected async fetchContent(refresh?: boolean, sync = false, showErrors = false): Promise<void> {\n        let canAdd = false;\n        let canSearch = false;\n\n        this.database = await AddonModData.getDatabase(this.courseId, this.module.id);\n        this.hasComments = this.database.comments;\n\n        this.description = this.database.intro;\n        this.dataRetrieved.emit(this.database);\n\n        if (sync) {\n            // Try to synchronize the data.\n            await CoreUtils.ignoreErrors(this.syncActivity(showErrors));\n        }\n\n        this.groupInfo = await CoreGroups.getActivityGroupInfo(this.database.coursemodule);\n        if (this.groupInfo.visibleGroups && this.groupInfo.groups.length) {\n            // There is a bug in Moodle with All participants and visible groups (MOBILE-3597). Remove it.\n            this.groupInfo.groups = this.groupInfo.groups.filter(group => group.id !== 0);\n            this.groupInfo.defaultGroupId = this.groupInfo.groups[0].id;\n        }\n\n        this.selectedGroup = CoreGroups.validateGroupId(this.selectedGroup, this.groupInfo);\n\n        this.access = await AddonModData.getDatabaseAccessInformation(this.database.id, {\n            cmId: this.module.id,\n            groupId: this.selectedGroup,\n        });\n\n        if (!this.access.timeavailable) {\n            const time = CoreTimeUtils.timestamp();\n\n            this.timeAvailableFrom = this.database.timeavailablefrom && time < this.database.timeavailablefrom\n                ? this.database.timeavailablefrom * 1000\n                : undefined;\n            this.timeAvailableFromReadable = this.timeAvailableFrom\n                ? CoreTimeUtils.userDate(this.timeAvailableFrom)\n                : undefined;\n            this.timeAvailableTo = this.database.timeavailableto && time > this.database.timeavailableto\n                ? this.database.timeavailableto * 1000\n                : undefined;\n            this.timeAvailableToReadable = this.timeAvailableTo\n                ? CoreTimeUtils.userDate(this.timeAvailableTo)\n                : undefined;\n\n            this.isEmpty = true;\n            this.groupInfo = undefined;\n\n            return;\n        } else {\n            canSearch = true;\n            canAdd = this.access.canaddentry;\n        }\n\n        const fields = await AddonModData.getFields(this.database.id, { cmId: this.module.id });\n        this.search.advanced = [];\n\n        this.fields = CoreUtils.arrayToObject(fields, 'id');\n        this.fieldsArray = CoreUtils.objectToArray(this.fields);\n        if (this.fieldsArray.length == 0) {\n            canSearch = false;\n            canAdd = false;\n        }\n\n        try {\n            await this.fetchEntriesData();\n        } finally {\n            this.canAdd = canAdd;\n            this.canSearch = canSearch;\n        }\n    }\n\n    /**\n     * Fetch current database entries.\n     *\n     * @returns Resolved then done.\n     */\n    protected async fetchEntriesData(): Promise<void> {\n\n        const search = this.search.searching && !this.search.searchingAdvanced ? this.search.text : undefined;\n        const advSearch = this.search.searching && this.search.searchingAdvanced ? this.search.advanced : undefined;\n\n        const entries = await AddonModDataHelper.fetchEntries(this.database!, this.fieldsArray, {\n            groupId: this.selectedGroup,\n            search,\n            advSearch,\n            sort: Number(this.search.sortBy),\n            order: this.search.sortDirection,\n            page: this.search.page,\n            cmId: this.module.id,\n        });\n\n        const numEntries = entries.entries.length;\n        const numOfflineEntries = entries.offlineEntries?.length || 0;\n\n        this.isEmpty = !numEntries && !numOfflineEntries;\n\n        this.hasNextPage = numEntries >= AddonModDataProvider.PER_PAGE && ((this.search.page + 1) *\n            AddonModDataProvider.PER_PAGE) < entries.totalcount;\n\n        this.hasOffline = !!entries.hasOfflineActions;\n\n        this.hasOfflineRatings = !!entries.hasOfflineRatings;\n\n        this.entriesRendered = '';\n\n        this.foundRecordsTranslationData = entries.maxcount !== undefined\n            ? {\n                num: entries.totalcount,\n                max: entries.maxcount,\n                reseturl: '#',\n            }\n            : undefined;\n\n        if (!this.isEmpty) {\n            this.entries = (entries.offlineEntries || []).concat(entries.entries);\n\n            let headerAndFooter = AddonModDataHelper.getTemplate(\n                this.database!,\n                AddonModDataTemplateType.LIST_HEADER,\n                this.fieldsArray,\n            );\n\n            headerAndFooter += contentToken;\n\n            headerAndFooter += AddonModDataHelper.getTemplate(\n                this.database!,\n                AddonModDataTemplateType.LIST_FOOTER,\n                this.fieldsArray,\n            );\n\n            headerAndFooter = CoreDomUtils.fixHtml(headerAndFooter);\n\n            // Get first entry from the whole list.\n            if (!this.search.searching || !this.firstEntry) {\n                this.firstEntry = this.entries[0].id;\n            }\n\n            const template = AddonModDataHelper.getTemplate(this.database!, AddonModDataTemplateType.LIST, this.fieldsArray);\n\n            let entriesHTML = '';\n\n            const entriesById: Record<number, AddonModDataEntry> = {};\n            this.entries.forEach((entry, index) => {\n                entriesById[entry.id] = entry;\n\n                const actions = AddonModDataHelper.getActions(this.database!, this.access!, entry, AddonModDataTemplateMode.LIST);\n                const options: AddonModDatDisplayFieldsOptions = {};\n                if (!this.search.searching) {\n                    options.offset = this.search.page * AddonModDataProvider.PER_PAGE + index - numOfflineEntries;\n                    options.sortBy = this.search.sortBy;\n                    options.sortDirection = this.search.sortDirection;\n                }\n\n                entriesHTML += AddonModDataHelper.displayShowFields(\n                    template,\n                    this.fieldsArray,\n                    entry,\n                    AddonModDataTemplateMode.LIST,\n                    actions,\n                    options,\n                );\n            });\n\n            this.entriesRendered = headerAndFooter.replace(contentToken, entriesHTML);\n\n            // Pass the input data to the component.\n            this.jsData = {\n                fields: this.fields,\n                entries: entriesById,\n                database: this.database!,\n                title: this.module.name,\n                group: this.selectedGroup,\n                access: this.access,\n                gotoEntry: (entryId) => this.gotoEntry(entryId),\n            };\n        } else if (!this.search.searching) {\n            // Empty and no searching.\n            this.canSearch = false;\n            this.firstEntry = undefined;\n        } else {\n            this.firstEntry = undefined;\n        }\n    }\n\n    /**\n     * Display the chat users modal.\n     */\n    async showSearch(): Promise<void> {\n        const modalData = await CoreDomUtils.openModal<AddonModDataSearchDataParams>({\n            component: AddonModDataSearchComponent,\n            componentProps: {\n                search: this.search,\n                fields: this.fields,\n                database: this.database,\n            },\n        });\n\n        // Add data to search object.\n        if (modalData) {\n            this.search = modalData;\n            this.logSearch = CoreTime.once(() => this.performLogSearch());\n            this.searchEntries(0);\n        }\n    }\n\n    /**\n     * Performs the search and closes the modal.\n     *\n     * @param page Page number.\n     * @returns Resolved when done.\n     */\n    async searchEntries(page: number): Promise<void> {\n        this.showLoading = true;\n        this.search.page = page;\n\n        try {\n            await this.fetchEntriesData();\n\n            this.logSearch?.();\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'core.course.errorgetmodule', true);\n        } finally {\n            this.showLoading = false;\n        }\n    }\n\n    /**\n     * Reset all search filters and closes the modal.\n     *\n     * @param ev Event.\n     */\n    searchReset(ev: Event): void {\n        ev.preventDefault();\n        ev.stopPropagation();\n\n        this.search.sortBy = '0';\n        this.search.sortDirection = 'DESC';\n        this.search.text = '';\n        this.search.advanced = [];\n        this.search.searchingAdvanced = false;\n        this.search.searching = false;\n        this.searchEntries(0);\n    }\n\n    /**\n     * Set group to see the database.\n     *\n     * @param groupId Group ID.\n     * @returns Resolved when new group is selected or rejected if not.\n     */\n    async setGroup(groupId: number): Promise<void> {\n        this.selectedGroup = groupId;\n        this.search.page = 0;\n\n        // Only update canAdd if there's any field, otheerwise, canAdd will remain false.\n        if (this.fieldsArray.length > 0) {\n            // Update values for current group.\n            this.access = await AddonModData.getDatabaseAccessInformation(this.database!.id, {\n                groupId: this.selectedGroup,\n                cmId: this.module.id,\n            });\n\n            this.canAdd = this.access.canaddentry;\n        }\n\n        try {\n            await this.fetchEntriesData();\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'core.course.errorgetmodule', true);\n        }\n    }\n\n    /**\n     * Opens add entries form.\n     */\n    gotoAddEntries(): void {\n        const params: Params = {\n            title: this.module.name,\n            group: this.selectedGroup,\n        };\n\n        CoreNavigator.navigateToSitePath(\n            `${AddonModDataModuleHandlerService.PAGE_NAME}/${this.courseId}/${this.module.id}/edit`,\n            { params },\n        );\n    }\n\n    /**\n     * Goto the selected entry.\n     *\n     * @param entryId Entry ID.\n     */\n    gotoEntry(entryId: number): void {\n        const params: Params = {\n            title: this.module.name,\n            group: this.selectedGroup,\n        };\n\n        // Try to find page number and offset of the entry.\n        if (!this.search.searching) {\n            const pageXOffset = this.entries.findIndex((entry) => entry.id == entryId);\n            if (pageXOffset >= 0) {\n                params.offset = this.search.page * AddonModDataProvider.PER_PAGE + pageXOffset;\n                params.sortBy = this.search.sortBy;\n                params.sortDirection = this.search.sortDirection;\n            }\n        }\n\n        CoreNavigator.navigateToSitePath(\n            `${AddonModDataModuleHandlerService.PAGE_NAME}/${this.courseId}/${this.module.id}/${entryId}`,\n            { params },\n        );\n    }\n\n    /**\n     * @inheritdoc\n     */\n    protected sync(): Promise<AddonModDataSyncResult> {\n        return AddonModDataPrefetchHandler.sync(this.module, this.courseId);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    protected async logActivity(): Promise<void> {\n        if (!this.database || !this.database.id) {\n            return;\n        }\n\n        await AddonModData.logView(this.database.id);\n\n        this.analyticsLogEvent('mod_data_view_database');\n    }\n\n    /**\n     * Log search.\n     */\n    protected async performLogSearch(): Promise<void> {\n        if (!this.database || !this.search.searching) {\n            return;\n        }\n\n        const params: Record<string, unknown> = {\n            perpage: AddonModDataProvider.PER_PAGE,\n            search: !this.search.searchingAdvanced ? this.search.text : '',\n            sort: this.search.sortBy,\n            order: this.search.sortDirection,\n            advanced: this.search.searchingAdvanced ? 1 : 0,\n            filter: 1,\n        };\n\n        // @todo: Add advanced search parameters. Leave them empty if not using advanced search.\n\n        this.analyticsLogEvent('mod_data_search_entries', {\n            data: params,\n            url: CoreUrlUtils.addParamsToUrl(`/mod/data/view.php?d=${this.database.id}`, params),\n        });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        super.ngOnDestroy();\n        this.entryChangedObserver?.off();\n        this.ratingOfflineObserver?.off();\n        this.ratingSyncObserver?.off();\n    }\n\n}\n\nexport type AddonModDataSearchDataParams = {\n    sortBy: string | number;\n    sortDirection: string;\n    page: number;\n    text: string;\n    searching: boolean;\n    searchingAdvanced: boolean;\n    advanced?: AddonModDataSearchEntriesAdvancedField[];\n};\n","<!-- Buttons to add to the header. -->\n<core-navbar-buttons slot=\"end\">\n    <ion-button *ngIf=\"canSearch\" (click)=\"showSearch()\" [attr.aria-label]=\"'addon.mod_data.search' | translate\">\n        <ion-icon name=\"fas-magnifying-glass\" slot=\"icon-only\" aria-hidden=\"true\" />\n    </ion-button>\n    <core-context-menu>\n        <core-context-menu-item [priority]=\"500\" *ngIf=\"canAdd\" [content]=\"'addon.mod_data.addentries' | translate\" iconAction=\"fas-plus\"\n            (action)=\"gotoAddEntries()\" />\n        <core-context-menu-item [priority]=\"400\" *ngIf=\"firstEntry\" [content]=\"'addon.mod_data.single' | translate\" iconAction=\"fas-file\"\n            (action)=\"gotoEntry(firstEntry)\" />\n    </core-context-menu>\n\n    <ion-button fill=\"clear\" (click)=\"openModuleSummary()\" aria-haspopup=\"true\" [attr.aria-label]=\"'core.info' | translate\">\n        <ion-icon name=\"fas-circle-info\" slot=\"icon-only\" aria-hidden=\"true\" />\n    </ion-button>\n</core-navbar-buttons>\n\n<!-- Content. -->\n<core-loading [hideUntil]=\"!showLoading\">\n\n    <!-- Activity info. -->\n    <core-course-module-info [module]=\"module\" [description]=\"description\" [component]=\"component\" [componentId]=\"componentId\"\n        [courseId]=\"courseId\" [hasDataToSync]=\"hasOffline || hasOfflineRatings\" (completionChanged)=\"onCompletionChange()\" />\n\n    <core-group-selector [groupInfo]=\"groupInfo\" [(selected)]=\"selectedGroup\" (selectedChange)=\"setGroup(selectedGroup)\"\n        [courseId]=\"database?.course\" />\n\n    <ion-card class=\"core-info-card\" *ngIf=\"!access?.timeavailable && timeAvailableFrom\">\n        <ion-item>\n            <ion-icon name=\"fas-circle-info\" slot=\"start\" aria-hidden=\"true\" />\n            <ion-label>{{ 'addon.mod_data.notopenyet' | translate:{$a: timeAvailableFromReadable} }}</ion-label>\n        </ion-item>\n    </ion-card>\n\n    <ion-card class=\"core-info-card\" *ngIf=\"!access?.timeavailable && timeAvailableTo\">\n        <ion-item>\n            <ion-icon name=\"fas-circle-info\" slot=\"start\" aria-hidden=\"true\" />\n            <ion-label>{{ 'addon.mod_data.expired' | translate:{$a: timeAvailableToReadable} }}</ion-label>\n        </ion-item>\n    </ion-card>\n\n    <ion-card class=\"core-info-card\" *ngIf=\"access && access.entrieslefttoview\">\n        <ion-item>\n            <ion-icon name=\"fas-circle-info\" slot=\"start\" aria-hidden=\"true\" />\n            <ion-label>\n                {{ 'addon.mod_data.entrieslefttoaddtoview' | translate:{$a: {entrieslefttoview: access.entrieslefttoview} } }}\n            </ion-label>\n        </ion-item>\n    </ion-card>\n\n    <ion-card class=\"core-info-card\" *ngIf=\"access && access.entrieslefttoadd\">\n        <ion-item>\n            <ion-icon name=\"fas-circle-info\" slot=\"start\" aria-hidden=\"true\" />\n            <ion-label>\n                {{ 'addon.mod_data.entrieslefttoadd' | translate:{$a: {entriesleft: access.entrieslefttoadd} } }}\n            </ion-label>\n        </ion-item>\n    </ion-card>\n\n    <!-- Reset search. -->\n    <ng-container *ngIf=\"search.searching && !isEmpty\">\n        <ion-item (click)=\"searchReset($event)\" button [detail]=\"false\" *ngIf=\"!foundRecordsTranslationData\">\n            <ion-label color=\"info\">\n                {{ 'addon.mod_data.resetsettings' | translate}}\n            </ion-label>\n        </ion-item>\n\n        <ion-card class=\"core-success-card\" *ngIf=\"foundRecordsTranslationData\">\n            <ion-item (click)=\"searchReset($event)\" button [detail]=\"false\">\n                <ion-label>\n                    <p [innerHTML]=\"'addon.mod_data.foundrecords' | translate:{$a: foundRecordsTranslationData}\"></p>\n                </ion-label>\n            </ion-item>\n        </ion-card>\n    </ng-container>\n\n    <div class=\"addon-data-contents addon-data-entries-{{database.id}}\" *ngIf=\"!isEmpty && database\">\n        <core-style [css]=\"database.csstemplate\" prefix=\".addon-data-entries-{{database.id}}\" />\n\n        <core-compile-html [text]=\"entriesRendered\" [jsData]=\"jsData\" [extraImports]=\"extraImports\" />\n    </div>\n\n    <ion-grid *ngIf=\"search.page > 0 || hasNextPage\">\n        <ion-row class=\"ion-align-items-center\">\n            <ion-col *ngIf=\"search.page > 0\">\n                <ion-button expand=\"block\" fill=\"outline\" (click)=\"searchEntries(search.page - 1)\">\n                    <ion-icon name=\"fas-chevron-left\" slot=\"start\" aria-hidden=\"true\" />\n                    {{ 'core.previous' | translate }}\n                </ion-button>\n            </ion-col>\n            <ion-col *ngIf=\"hasNextPage\">\n                <ion-button expand=\"block\" (click)=\"searchEntries(search.page + 1)\">\n                    {{ 'core.next' | translate }}\n                    <ion-icon name=\"fas-chevron-right\" slot=\"end\" aria-hidden=\"true\" />\n                </ion-button>\n            </ion-col>\n        </ion-row>\n    </ion-grid>\n\n    <core-empty-box *ngIf=\"isEmpty && !search.searching\" icon=\"fas-database\" [message]=\"'addon.mod_data.norecords' | translate\" />\n\n    <core-empty-box *ngIf=\"isEmpty && search.searching\" icon=\"fas-database\" [message]=\"'addon.mod_data.nomatch' | translate\"\n        class=\"core-empty-box-clickable\">\n        <button class=\"as-link\" (click)=\"searchReset($event)\">{{ 'addon.mod_data.resetsettings' | translate}}</button>\n    </core-empty-box>\n\n</core-loading>\n\n<core-course-module-navigation collapsible-footer [hidden]=\"showLoading\" [courseId]=\"courseId\" [currentModuleId]=\"module.id\" />\n\n<ion-fab slot=\"fixed\" core-fab vertical=\"bottom\" horizontal=\"end\" *ngIf=\"canAdd\">\n    <ion-fab-button (click)=\"gotoAddEntries()\" [attr.aria-label]=\"'addon.mod_data.addentries' | translate\">\n        <ion-icon name=\"fas-plus\" aria-hidden=\"true\" />\n        <span class=\"sr-only\">{{ 'addon.mod_data.addentries' | translate }}</span>\n    </ion-fab-button>\n</ion-fab>\n"],"mappings":";;AAiBA,SAASA,oBAAoB,QAAQ,sCAAsC;AAC3E,SAASC,qCAAqC,QAAQ,kDAAkD;AAExG,SAASC,kBAAkB,QAAQ,kCAAkC;AACrE,SAASC,sBAAsB,QAAQ,uCAAuC;AAE9E,SAAwBC,UAAU,QAAQ,kBAAkB;AAC5D,SAASC,aAAa,QAAQ,qBAAqB;AACnD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,YAAY,QAAQ,qBAAqB;AAClD,SAASC,aAAa,QAAQ,sBAAsB;AACpD,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAA4BC,UAAU,QAAQ,oBAAoB;AAClE,SACIC,oBAAoB,EACpBC,YAAY,EAEZC,wBAAwB,EACxBC,wBAAwB,QAKrB,qBAAqB;AAC5B,SAASC,kBAAkB,QAAyC,4BAA4B;AAChG,SAAmCC,wBAAwB,QAAgC,0BAA0B;AACrH,SAASC,gCAAgC,QAAQ,gCAAgC;AACjF,SAASC,2BAA2B,QAAQ,kCAAkC;AAC9E,SAASC,mCAAmC,QAAQ,8BAA8B;AAClF,SAASC,2BAA2B,QAAQ,kBAAkB;AAC9D,SAASC,YAAY,QAAQ,qBAAqB;AAClD,SAASC,QAAQ,QAAQ,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;IC9CvCC,EAAA,CAAAC,cAAA,qBAA6G;IAA/ED,EAAA,CAAAE,UAAA,mBAAAC,6EAAA;MAAAH,EAAA,CAAAI,aAAA,CAAAC,IAAA;MAAA,MAAAC,OAAA,GAAAN,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAF,OAAA,CAAAG,UAAA,EAAY;IAAA,EAAC;;IAChDT,EAAA,CAAAU,SAAA,mBAA4E;IAChFV,EAAA,CAAAW,YAAA,EAAa;;;IAFwCX,EAAA,CAAAY,WAAA,eAAAZ,EAAA,CAAAa,WAAA,gCAAuD;;;;;;IAIxGb,EAAA,CAAAC,cAAA,iCACkC;IAA9BD,EAAA,CAAAE,UAAA,oBAAAY,sGAAA;MAAAd,EAAA,CAAAI,aAAA,CAAAW,IAAA;MAAA,MAAAC,OAAA,GAAAhB,EAAA,CAAAO,aAAA;MAAA,OAAUP,EAAA,CAAAQ,WAAA,CAAAQ,OAAA,CAAAC,cAAA,EAAgB;IAAA,EAAC;;IAD/BjB,EAAA,CAAAW,YAAA,EACkC;;;IADVX,EAAA,CAAAkB,UAAA,iBAAgB,YAAAlB,EAAA,CAAAa,WAAA;;;;;;IAExCb,EAAA,CAAAC,cAAA,iCACuC;IAAnCD,EAAA,CAAAE,UAAA,oBAAAiB,sGAAA;MAAAnB,EAAA,CAAAI,aAAA,CAAAgB,IAAA;MAAA,MAAAC,OAAA,GAAArB,EAAA,CAAAO,aAAA;MAAA,OAAUP,EAAA,CAAAQ,WAAA,CAAAa,OAAA,CAAAC,SAAA,CAAAD,OAAA,CAAAE,UAAA,CAAqB;IAAA,EAAC;;IADpCvB,EAAA,CAAAW,YAAA,EACuC;;;IADfX,EAAA,CAAAkB,UAAA,iBAAgB,YAAAlB,EAAA,CAAAa,WAAA;;;;;;;;;;IAmB5Cb,EAAA,CAAAC,cAAA,mBAAqF;IAE7ED,EAAA,CAAAU,SAAA,mBAAmE;IACnEV,EAAA,CAAAC,cAAA,gBAAW;IAAAD,EAAA,CAAAwB,MAAA,GAA6E;;IAAAxB,EAAA,CAAAW,YAAA,EAAY;;;;IAAzFX,EAAA,CAAAyB,SAAA,GAA6E;IAA7EzB,EAAA,CAAA0B,iBAAA,CAAA1B,EAAA,CAAA2B,WAAA,oCAAA3B,EAAA,CAAA4B,eAAA,IAAAC,GAAA,EAAAC,MAAA,CAAAC,yBAAA,GAA6E;;;;;IAIhG/B,EAAA,CAAAC,cAAA,mBAAmF;IAE3ED,EAAA,CAAAU,SAAA,mBAAmE;IACnEV,EAAA,CAAAC,cAAA,gBAAW;IAAAD,EAAA,CAAAwB,MAAA,GAAwE;;IAAAxB,EAAA,CAAAW,YAAA,EAAY;;;;IAApFX,EAAA,CAAAyB,SAAA,GAAwE;IAAxEzB,EAAA,CAAA0B,iBAAA,CAAA1B,EAAA,CAAA2B,WAAA,iCAAA3B,EAAA,CAAA4B,eAAA,IAAAC,GAAA,EAAAG,MAAA,CAAAC,uBAAA,GAAwE;;;;;;;;;;IAI3FjC,EAAA,CAAAC,cAAA,mBAA4E;IAEpED,EAAA,CAAAU,SAAA,mBAAmE;IACnEV,EAAA,CAAAC,cAAA,gBAAW;IACPD,EAAA,CAAAwB,MAAA,GACJ;;IAAAxB,EAAA,CAAAW,YAAA,EAAY;;;;IADRX,EAAA,CAAAyB,SAAA,GACJ;IADIzB,EAAA,CAAAkC,kBAAA,MAAAlC,EAAA,CAAA2B,WAAA,gDAAA3B,EAAA,CAAA4B,eAAA,IAAAC,GAAA,EAAA7B,EAAA,CAAA4B,eAAA,IAAAO,GAAA,EAAAC,MAAA,CAAAC,MAAA,CAAAC,iBAAA,SACJ;;;;;;;;;;IAIRtC,EAAA,CAAAC,cAAA,mBAA2E;IAEnED,EAAA,CAAAU,SAAA,mBAAmE;IACnEV,EAAA,CAAAC,cAAA,gBAAW;IACPD,EAAA,CAAAwB,MAAA,GACJ;;IAAAxB,EAAA,CAAAW,YAAA,EAAY;;;;IADRX,EAAA,CAAAyB,SAAA,GACJ;IADIzB,EAAA,CAAAkC,kBAAA,MAAAlC,EAAA,CAAA2B,WAAA,0CAAA3B,EAAA,CAAA4B,eAAA,IAAAC,GAAA,EAAA7B,EAAA,CAAA4B,eAAA,IAAAW,GAAA,EAAAC,MAAA,CAAAH,MAAA,CAAAI,gBAAA,SACJ;;;;;;IAMJzC,EAAA,CAAAC,cAAA,mBAAqG;IAA3FD,EAAA,CAAAE,UAAA,mBAAAwC,yFAAAC,MAAA;MAAA3C,EAAA,CAAAI,aAAA,CAAAwC,IAAA;MAAA,MAAAC,OAAA,GAAA7C,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAqC,OAAA,CAAAC,WAAA,CAAAH,MAAA,CAAmB;IAAA,EAAC;IACnC3C,EAAA,CAAAC,cAAA,oBAAwB;IACpBD,EAAA,CAAAwB,MAAA,GACJ;;IAAAxB,EAAA,CAAAW,YAAA,EAAY;;;IAH+BX,EAAA,CAAAkB,UAAA,iBAAgB;IAEvDlB,EAAA,CAAAyB,SAAA,GACJ;IADIzB,EAAA,CAAAkC,kBAAA,MAAAlC,EAAA,CAAAa,WAAA,4CACJ;;;;;;IAGJb,EAAA,CAAAC,cAAA,mBAAwE;IAC1DD,EAAA,CAAAE,UAAA,mBAAA6C,yFAAAJ,MAAA;MAAA3C,EAAA,CAAAI,aAAA,CAAA4C,IAAA;MAAA,MAAAC,OAAA,GAAAjD,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAyC,OAAA,CAAAH,WAAA,CAAAH,MAAA,CAAmB;IAAA,EAAC;IACnC3C,EAAA,CAAAC,cAAA,gBAAW;IACPD,EAAA,CAAAU,SAAA,YAAiG;;IACrGV,EAAA,CAAAW,YAAA,EAAY;;;;IAH+BX,EAAA,CAAAyB,SAAA,GAAgB;IAAhBzB,EAAA,CAAAkB,UAAA,iBAAgB;IAEpDlB,EAAA,CAAAyB,SAAA,GAAyF;IAAzFzB,EAAA,CAAAkB,UAAA,cAAAlB,EAAA,CAAA2B,WAAA,sCAAA3B,EAAA,CAAA4B,eAAA,IAAAC,GAAA,EAAAqB,OAAA,CAAAC,2BAAA,IAAAnD,EAAA,CAAAoD,cAAA,CAAyF;;;;;IAV5GpD,EAAA,CAAAqD,uBAAA,GAAmD;IAC/CrD,EAAA,CAAAsD,UAAA,IAAAC,8DAAA,uBAIW;IAEXvD,EAAA,CAAAsD,UAAA,IAAAE,8DAAA,uBAMW;IACfxD,EAAA,CAAAyD,qBAAA,EAAe;;;;IAbsDzD,EAAA,CAAAyB,SAAA,GAAkC;IAAlCzB,EAAA,CAAAkB,UAAA,UAAAwC,MAAA,CAAAP,2BAAA,CAAkC;IAM9DnD,EAAA,CAAAyB,SAAA,GAAiC;IAAjCzB,EAAA,CAAAkB,UAAA,SAAAwC,MAAA,CAAAP,2BAAA,CAAiC;;;;;IAS1EnD,EAAA,CAAAC,cAAA,UAAiG;IAC7FD,EAAA,CAAAU,SAAA,qBAAwF;IAG5FV,EAAA,CAAAW,YAAA,EAAM;;;;IAJDX,EAAA,CAAA2D,sBAAA,4CAAAC,MAAA,CAAAC,QAAA,CAAAC,EAAA,KAA8D;IACtB9D,EAAA,CAAAyB,SAAA,GAA4C;IAA5CzB,EAAA,CAAA+D,sBAAA,mCAAAH,MAAA,CAAAC,QAAA,CAAAC,EAAA,KAA4C;IAAzE9D,EAAA,CAAAkB,UAAA,QAAA0C,MAAA,CAAAC,QAAA,CAAAG,WAAA,CAA4B;IAErBhE,EAAA,CAAAyB,SAAA,GAAwB;IAAxBzB,EAAA,CAAAkB,UAAA,SAAA0C,MAAA,CAAAK,eAAA,CAAwB,WAAAL,MAAA,CAAAM,MAAA,kBAAAN,MAAA,CAAAO,YAAA;;;;;;IAKvCnE,EAAA,CAAAC,cAAA,cAAiC;IACaD,EAAA,CAAAE,UAAA,mBAAAkE,sFAAA;MAAApE,EAAA,CAAAI,aAAA,CAAAiE,IAAA;MAAA,MAAAC,OAAA,GAAAtE,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAA8D,OAAA,CAAAC,aAAA,CAAAD,OAAA,CAAAE,MAAA,CAAAC,IAAA,GAA4B,CAAC,CAAC;IAAA,EAAC;IAC9EzE,EAAA,CAAAU,SAAA,mBAAoE;IACpEV,EAAA,CAAAwB,MAAA,GACJ;;IAAAxB,EAAA,CAAAW,YAAA,EAAa;;;IADTX,EAAA,CAAAyB,SAAA,GACJ;IADIzB,EAAA,CAAAkC,kBAAA,MAAAlC,EAAA,CAAAa,WAAA,6BACJ;;;;;;IAEJb,EAAA,CAAAC,cAAA,cAA6B;IACED,EAAA,CAAAE,UAAA,mBAAAwE,sFAAA;MAAA1E,EAAA,CAAAI,aAAA,CAAAuE,IAAA;MAAA,MAAAC,OAAA,GAAA5E,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAAoE,OAAA,CAAAL,aAAA,CAAAK,OAAA,CAAAJ,MAAA,CAAAC,IAAA,GAA4B,CAAC,CAAC;IAAA,EAAC;IAC/DzE,EAAA,CAAAwB,MAAA,GACA;;IAAAxB,EAAA,CAAAU,SAAA,mBAAmE;IACvEV,EAAA,CAAAW,YAAA,EAAa;;;IAFTX,EAAA,CAAAyB,SAAA,GACA;IADAzB,EAAA,CAAAkC,kBAAA,MAAAlC,EAAA,CAAAa,WAAA,yBACA;;;;;IAXhBb,EAAA,CAAAC,cAAA,eAAiD;IAEzCD,EAAA,CAAAsD,UAAA,IAAAuB,yDAAA,sBAKU;IACV7E,EAAA,CAAAsD,UAAA,IAAAwB,yDAAA,sBAKU;IACd9E,EAAA,CAAAW,YAAA,EAAU;;;;IAZIX,EAAA,CAAAyB,SAAA,GAAqB;IAArBzB,EAAA,CAAAkB,UAAA,SAAA6D,MAAA,CAAAP,MAAA,CAAAC,IAAA,KAAqB;IAMrBzE,EAAA,CAAAyB,SAAA,GAAiB;IAAjBzB,EAAA,CAAAkB,UAAA,SAAA6D,MAAA,CAAAC,WAAA,CAAiB;;;;;IASnChF,EAAA,CAAAU,SAAA,yBAA8H;;;;IAArDV,EAAA,CAAAkB,UAAA,YAAAlB,EAAA,CAAAa,WAAA,mCAAkD;;;;;;IAE3Hb,EAAA,CAAAC,cAAA,yBACqC;;IACjCD,EAAA,CAAAC,cAAA,iBAAsD;IAA9BD,EAAA,CAAAE,UAAA,mBAAA+E,8EAAAtC,MAAA;MAAA3C,EAAA,CAAAI,aAAA,CAAA8E,IAAA;MAAA,MAAAC,OAAA,GAAAnF,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAA2E,OAAA,CAAArC,WAAA,CAAAH,MAAA,CAAmB;IAAA,EAAC;IAAC3C,EAAA,CAAAwB,MAAA,GAA+C;;IAAAxB,EAAA,CAAAW,YAAA,EAAS;;;IAF1CX,EAAA,CAAAkB,UAAA,YAAAlB,EAAA,CAAAa,WAAA,iCAAgD;IAE9Db,EAAA,CAAAyB,SAAA,GAA+C;IAA/CzB,EAAA,CAAA0B,iBAAA,CAAA1B,EAAA,CAAAa,WAAA,uCAA+C;;;;;;IAO7Gb,EAAA,CAAAC,cAAA,kBAAiF;IAC7DD,EAAA,CAAAE,UAAA,mBAAAkF,+EAAA;MAAApF,EAAA,CAAAI,aAAA,CAAAiF,IAAA;MAAA,MAAAC,OAAA,GAAAtF,EAAA,CAAAO,aAAA;MAAA,OAASP,EAAA,CAAAQ,WAAA,CAAA8E,OAAA,CAAArE,cAAA,EAAgB;IAAA,EAAC;;IACtCjB,EAAA,CAAAU,SAAA,mBAA+C;IAC/CV,EAAA,CAAAC,cAAA,eAAsB;IAAAD,EAAA,CAAAwB,MAAA,GAA6C;;IAAAxB,EAAA,CAAAW,YAAA,EAAO;;;IAFnCX,EAAA,CAAAyB,SAAA,GAA2D;IAA3DzB,EAAA,CAAAY,WAAA,eAAAZ,EAAA,CAAAa,WAAA,oCAA2D;IAE5Eb,EAAA,CAAAyB,SAAA,GAA6C;IAA7CzB,EAAA,CAAA0B,iBAAA,CAAA1B,EAAA,CAAAa,WAAA,oCAA6C;;;AD/D3E,MAAM0E,YAAY,GAAG,0CAA0C;AAE/D;;;AAQA,OAAM,MAAOC,0BAA2B,SAAQ9G,qCAAqC;EA4DjF+G,YACcC,OAAoB,EAClBC,kBAA2C;IAEvD,KAAK,CAAC,4BAA4B,EAAED,OAAO,EAAEC,kBAAkB,CAAC;IAHtD,KAAAD,OAAO,GAAPA,OAAO;IA3DrB,KAAAE,SAAS,GAAGxG,oBAAoB,CAACyG,SAAS;IAC1C,KAAAC,UAAU,GAAG,MAAM;IAInB,KAAAC,MAAM,GAAsC,EAAE;IAC9C,KAAAC,aAAa,GAAG,CAAC;IAKjB,KAAAC,OAAO,GAAG,IAAI;IAEd,KAAAC,OAAO,GAAwB,EAAE;IAEjC,KAAAC,MAAM,GAAG,KAAK;IACd,KAAAC,SAAS,GAAG,KAAK;IACjB,KAAA5B,MAAM,GAAiC;MACnC6B,MAAM,EAAE,GAAG;MACXC,aAAa,EAAE,MAAM;MACrB7B,IAAI,EAAE,CAAC;MACP8B,IAAI,EAAE,EAAE;MACRC,SAAS,EAAE,KAAK;MAChBC,iBAAiB,EAAE,KAAK;MACxBC,QAAQ,EAAE;KACb;IAED,KAAA1B,WAAW,GAAG,KAAK;IACnB,KAAAf,eAAe,GAAG,EAAE;IACpB,KAAAE,YAAY,GAAoB,CAACvE,mCAAmC,CAAC;IAmBrE,KAAA+G,iBAAiB,GAAG,KAAK;IAEf,KAAAC,aAAa,GAAGnH,wBAAwB,CAACoH,WAAW;IACpD,KAAAC,WAAW,GAAG,KAAK;IACnB,KAAAC,WAAW,GAAwB,EAAE;EAW/C;EAEA;;;EAGMC,QAAQA,CAAA;IAAA,IAAAC,sBAAA,GAAAA,CAAA,WAAAD,QAAA;MAAAE,KAAA;IAAA,OAAAC,iBAAA;MACV,MAAMF,sBAAA,GAAAG,IAAA,CAAAF,KAAc,CAAE;MAEtBA,KAAI,CAAClB,aAAa,GAAGkB,KAAI,CAACG,KAAK,IAAI,CAAC;MAEpC;MACAH,KAAI,CAACI,oBAAoB,GAAGnI,UAAU,CAACoI,EAAE,CAACnI,oBAAoB,CAACoI,aAAa,EAAGC,SAAS,IAAI;QAAA,IAAAC,cAAA;QACxF,IAAI,EAAAA,cAAA,GAAAR,KAAI,CAACrD,QAAQ,cAAA6D,cAAA,uBAAbA,cAAA,CAAe5D,EAAE,KAAI2D,SAAS,CAACE,MAAM,EAAE;UACvCT,KAAI,CAACU,WAAW,GAAG,IAAI;UAEvB,OAAOV,KAAI,CAACW,WAAW,CAAC,IAAI,CAAC;;MAErC,CAAC,EAAEX,KAAI,CAACY,MAAM,CAAC;MAEf;MACAZ,KAAI,CAACa,qBAAqB,GAAG5I,UAAU,CAACoI,EAAE,CAAC5I,kBAAkB,CAACqJ,kBAAkB,EAAGC,IAAI,IAAI;QAAA,IAAAC,eAAA;QACvF,IAAID,IAAI,CAACrC,SAAS,IAAI,UAAU,IAAIqC,IAAI,CAACE,UAAU,IAAI,OAAO,IAAIF,IAAI,CAACG,YAAY,0CACxEH,IAAI,CAACI,UAAU,MAAAH,eAAA,GAAIhB,KAAI,CAACrD,QAAQ,cAAAqE,eAAA,uBAAbA,eAAA,CAAeI,YAAY,GAAE;UACvDpB,KAAI,CAACP,iBAAiB,GAAG,IAAI;;MAErC,CAAC,CAAC;MACFO,KAAI,CAACqB,kBAAkB,GAAGpJ,UAAU,CAACoI,EAAE,CAAC3I,sBAAsB,CAAC4J,YAAY,EAAGP,IAAI,IAAI;QAAA,IAAAQ,eAAA;QAClF,IAAIR,IAAI,CAACrC,SAAS,IAAI,UAAU,IAAIqC,IAAI,CAACE,UAAU,IAAI,OAAO,IAAIF,IAAI,CAACG,YAAY,0CACxEH,IAAI,CAACI,UAAU,MAAAI,eAAA,GAAIvB,KAAI,CAACrD,QAAQ,cAAA4E,eAAA,uBAAbA,eAAA,CAAeH,YAAY,GAAE;UACvDpB,KAAI,CAACP,iBAAiB,GAAG,KAAK;;MAEtC,CAAC,CAAC;MAEF,MAAMO,KAAI,CAACW,WAAW,CAAC,KAAK,EAAE,IAAI,CAAC;IAAC;EACxC;EAEA;;;;;EAKgBa,iBAAiBA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAxB,iBAAA;MAC7B,MAAMyB,QAAQ,GAAoB,EAAE;MAEpCA,QAAQ,CAACC,IAAI,CAACxJ,YAAY,CAACyJ,sBAAsB,CAACH,MAAI,CAACI,QAAQ,CAAC,CAAC;MACjE,IAAIJ,MAAI,CAAC9E,QAAQ,EAAE;QACf+E,QAAQ,CAACC,IAAI,CAACxJ,YAAY,CAAC2J,uCAAuC,CAACL,MAAI,CAAC9E,QAAQ,CAACC,EAAE,CAAC,CAAC;QACrF8E,QAAQ,CAACC,IAAI,CAAChK,UAAU,CAACoK,2BAA2B,CAACN,MAAI,CAAC9E,QAAQ,CAACyE,YAAY,CAAC,CAAC;QACjFM,QAAQ,CAACC,IAAI,CAACxJ,YAAY,CAAC6J,qBAAqB,CAACP,MAAI,CAAC9E,QAAQ,CAACC,EAAE,CAAC,CAAC;QACnE8E,QAAQ,CAACC,IAAI,CAACxJ,YAAY,CAAC8J,oBAAoB,CAACR,MAAI,CAAC9E,QAAQ,CAACC,EAAE,CAAC,CAAC;QAElE,IAAI6E,MAAI,CAAC7B,WAAW,EAAE;UAClB3H,UAAU,CAACiK,OAAO,CAAC3K,oBAAoB,CAAC4K,sBAAsB,EAAE;YAC5DjB,YAAY;YACZC,UAAU,EAAEM,MAAI,CAAC9E,QAAQ,CAACyE;WAC7B,EAAEvJ,SAAS,CAACuK,gBAAgB,EAAE,CAAC;;;MAIxC,MAAMC,OAAO,CAACC,GAAG,CAACZ,QAAQ,CAAC;IAAC;EAChC;EAEA;;;;;;EAMUa,mBAAmBA,CAACC,aAAuC;IACjE,IAAI,IAAI,CAAC7F,QAAQ,IAAI6F,aAAa,CAAC/B,MAAM,IAAI,IAAI,CAAC9D,QAAQ,CAACC,EAAE,IAAI4F,aAAa,CAACC,OAAO,KAAKC,SAAS,EAAE;MAAA,IAAAC,aAAA;MAClG,IAAI,CAACjC,WAAW,GAAG,IAAI;MACvB;MACA,CAAAiC,aAAA,OAAI,CAACnE,OAAO,cAAAmE,aAAA,eAAZA,aAAA,CAAcC,WAAW,EAAE;MAE3B,OAAO,IAAI;;IAGf,OAAO,KAAK;EAChB;EAEA;;;EAGgBC,YAAYA,CAACC,OAAiB,EAAEC,IAAI,GAAG,KAAK,EAAEC,UAAU,GAAG,KAAK;IAAA,IAAAC,MAAA;IAAA,OAAAhD,iBAAA;MAC5E,IAAIhB,MAAM,GAAG,KAAK;MAClB,IAAIC,SAAS,GAAG,KAAK;MAErB+D,MAAI,CAACtG,QAAQ,SAASxE,YAAY,CAAC+K,WAAW,CAACD,MAAI,CAACpB,QAAQ,EAAEoB,MAAI,CAACE,MAAM,CAACvG,EAAE,CAAC;MAC7EqG,MAAI,CAACrD,WAAW,GAAGqD,MAAI,CAACtG,QAAQ,CAACyG,QAAQ;MAEzCH,MAAI,CAACI,WAAW,GAAGJ,MAAI,CAACtG,QAAQ,CAAC2G,KAAK;MACtCL,MAAI,CAACM,aAAa,CAACC,IAAI,CAACP,MAAI,CAACtG,QAAQ,CAAC;MAEtC,IAAIoG,IAAI,EAAE;QACN;QACA,MAAM/K,SAAS,CAACyL,YAAY,CAACR,MAAI,CAACS,YAAY,CAACV,UAAU,CAAC,CAAC;;MAG/DC,MAAI,CAACU,SAAS,SAAShM,UAAU,CAACiM,oBAAoB,CAACX,MAAI,CAACtG,QAAQ,CAACyE,YAAY,CAAC;MAClF,IAAI6B,MAAI,CAACU,SAAS,CAACE,aAAa,IAAIZ,MAAI,CAACU,SAAS,CAACG,MAAM,CAACC,MAAM,EAAE;QAC9D;QACAd,MAAI,CAACU,SAAS,CAACG,MAAM,GAAGb,MAAI,CAACU,SAAS,CAACG,MAAM,CAACE,MAAM,CAAC7D,KAAK,IAAIA,KAAK,CAACvD,EAAE,KAAK,CAAC,CAAC;QAC7EqG,MAAI,CAACU,SAAS,CAACM,cAAc,GAAGhB,MAAI,CAACU,SAAS,CAACG,MAAM,CAAC,CAAC,CAAC,CAAClH,EAAE;;MAG/DqG,MAAI,CAACnE,aAAa,GAAGnH,UAAU,CAACuM,eAAe,CAACjB,MAAI,CAACnE,aAAa,EAAEmE,MAAI,CAACU,SAAS,CAAC;MAEnFV,MAAI,CAAC9H,MAAM,SAAShD,YAAY,CAACgM,4BAA4B,CAAClB,MAAI,CAACtG,QAAQ,CAACC,EAAE,EAAE;QAC5EwH,IAAI,EAAEnB,MAAI,CAACE,MAAM,CAACvG,EAAE;QACpByH,OAAO,EAAEpB,MAAI,CAACnE;OACjB,CAAC;MAEF,IAAI,CAACmE,MAAI,CAAC9H,MAAM,CAACmJ,aAAa,EAAE;QAC5B,MAAMC,IAAI,GAAGxM,aAAa,CAACyM,SAAS,EAAE;QAEtCvB,MAAI,CAACwB,iBAAiB,GAAGxB,MAAI,CAACtG,QAAQ,CAAC+H,iBAAiB,IAAIH,IAAI,GAAGtB,MAAI,CAACtG,QAAQ,CAAC+H,iBAAiB,GAC5FzB,MAAI,CAACtG,QAAQ,CAAC+H,iBAAiB,GAAG,IAAI,GACtChC,SAAS;QACfO,MAAI,CAACpI,yBAAyB,GAAGoI,MAAI,CAACwB,iBAAiB,GACjD1M,aAAa,CAAC4M,QAAQ,CAAC1B,MAAI,CAACwB,iBAAiB,CAAC,GAC9C/B,SAAS;QACfO,MAAI,CAAC2B,eAAe,GAAG3B,MAAI,CAACtG,QAAQ,CAACkI,eAAe,IAAIN,IAAI,GAAGtB,MAAI,CAACtG,QAAQ,CAACkI,eAAe,GACtF5B,MAAI,CAACtG,QAAQ,CAACkI,eAAe,GAAG,IAAI,GACpCnC,SAAS;QACfO,MAAI,CAAClI,uBAAuB,GAAGkI,MAAI,CAAC2B,eAAe,GAC7C7M,aAAa,CAAC4M,QAAQ,CAAC1B,MAAI,CAAC2B,eAAe,CAAC,GAC5ClC,SAAS;QAEfO,MAAI,CAAClE,OAAO,GAAG,IAAI;QACnBkE,MAAI,CAACU,SAAS,GAAGjB,SAAS;QAE1B;OACH,MAAM;QACHxD,SAAS,GAAG,IAAI;QAChBD,MAAM,GAAGgE,MAAI,CAAC9H,MAAM,CAAC2J,WAAW;;MAGpC,MAAMjG,MAAM,SAAS1G,YAAY,CAAC4M,SAAS,CAAC9B,MAAI,CAACtG,QAAQ,CAACC,EAAE,EAAE;QAAEwH,IAAI,EAAEnB,MAAI,CAACE,MAAM,CAACvG;MAAE,CAAE,CAAC;MACvFqG,MAAI,CAAC3F,MAAM,CAACkC,QAAQ,GAAG,EAAE;MAEzByD,MAAI,CAACpE,MAAM,GAAG7G,SAAS,CAACgN,aAAa,CAACnG,MAAM,EAAE,IAAI,CAAC;MACnDoE,MAAI,CAACpD,WAAW,GAAG7H,SAAS,CAACiN,aAAa,CAAChC,MAAI,CAACpE,MAAM,CAAC;MACvD,IAAIoE,MAAI,CAACpD,WAAW,CAACkE,MAAM,IAAI,CAAC,EAAE;QAC9B7E,SAAS,GAAG,KAAK;QACjBD,MAAM,GAAG,KAAK;;MAGlB,IAAI;QACA,MAAMgE,MAAI,CAACiC,gBAAgB,EAAE;OAChC,SAAS;QACNjC,MAAI,CAAChE,MAAM,GAAGA,MAAM;QACpBgE,MAAI,CAAC/D,SAAS,GAAGA,SAAS;;IAC7B;EACL;EAEA;;;;;EAKgBgG,gBAAgBA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAlF,iBAAA;MAAA,IAAAmF,qBAAA;MAE5B,MAAM9H,MAAM,GAAG6H,MAAI,CAAC7H,MAAM,CAACgC,SAAS,IAAI,CAAC6F,MAAI,CAAC7H,MAAM,CAACiC,iBAAiB,GAAG4F,MAAI,CAAC7H,MAAM,CAAC+B,IAAI,GAAGqD,SAAS;MACrG,MAAM2C,SAAS,GAAGF,MAAI,CAAC7H,MAAM,CAACgC,SAAS,IAAI6F,MAAI,CAAC7H,MAAM,CAACiC,iBAAiB,GAAG4F,MAAI,CAAC7H,MAAM,CAACkC,QAAQ,GAAGkD,SAAS;MAE3G,MAAM1D,OAAO,SAAS1G,kBAAkB,CAACgN,YAAY,CAACH,MAAI,CAACxI,QAAS,EAAEwI,MAAI,CAACtF,WAAW,EAAE;QACpFwE,OAAO,EAAEc,MAAI,CAACrG,aAAa;QAC3BxB,MAAM;QACN+H,SAAS;QACTE,IAAI,EAAEC,MAAM,CAACL,MAAI,CAAC7H,MAAM,CAAC6B,MAAM,CAAC;QAChCsG,KAAK,EAAEN,MAAI,CAAC7H,MAAM,CAAC8B,aAAa;QAChC7B,IAAI,EAAE4H,MAAI,CAAC7H,MAAM,CAACC,IAAI;QACtB6G,IAAI,EAAEe,MAAI,CAAChC,MAAM,CAACvG;OACrB,CAAC;MAEF,MAAM8I,UAAU,GAAG1G,OAAO,CAACA,OAAO,CAAC+E,MAAM;MACzC,MAAM4B,iBAAiB,GAAG,EAAAP,qBAAA,GAAApG,OAAO,CAAC4G,cAAc,cAAAR,qBAAA,uBAAtBA,qBAAA,CAAwBrB,MAAM,KAAI,CAAC;MAE7DoB,MAAI,CAACpG,OAAO,GAAG,CAAC2G,UAAU,IAAI,CAACC,iBAAiB;MAEhDR,MAAI,CAACrH,WAAW,GAAG4H,UAAU,IAAIxN,oBAAoB,CAAC2N,QAAQ,IAAK,CAACV,MAAI,CAAC7H,MAAM,CAACC,IAAI,GAAG,CAAC,IACpFrF,oBAAoB,CAAC2N,QAAQ,GAAI7G,OAAO,CAAC8G,UAAU;MAEvDX,MAAI,CAACY,UAAU,GAAG,CAAC,CAAC/G,OAAO,CAACgH,iBAAiB;MAE7Cb,MAAI,CAAC1F,iBAAiB,GAAG,CAAC,CAACT,OAAO,CAACS,iBAAiB;MAEpD0F,MAAI,CAACpI,eAAe,GAAG,EAAE;MAEzBoI,MAAI,CAAClJ,2BAA2B,GAAG+C,OAAO,CAACiH,QAAQ,KAAKvD,SAAS,GAC3D;QACEwD,GAAG,EAAElH,OAAO,CAAC8G,UAAU;QACvBK,GAAG,EAAEnH,OAAO,CAACiH,QAAQ;QACrBG,QAAQ,EAAE;OACb,GACC1D,SAAS;MAEf,IAAI,CAACyC,MAAI,CAACpG,OAAO,EAAE;QACfoG,MAAI,CAACnG,OAAO,GAAG,CAACA,OAAO,CAAC4G,cAAc,IAAI,EAAE,EAAES,MAAM,CAACrH,OAAO,CAACA,OAAO,CAAC;QAErE,IAAIsH,eAAe,GAAGhO,kBAAkB,CAACiO,WAAW,CAChDpB,MAAI,CAACxI,QAAS,EACdvE,wBAAwB,CAACoO,WAAW,EACpCrB,MAAI,CAACtF,WAAW,CACnB;QAEDyG,eAAe,IAAIjI,YAAY;QAE/BiI,eAAe,IAAIhO,kBAAkB,CAACiO,WAAW,CAC7CpB,MAAI,CAACxI,QAAS,EACdvE,wBAAwB,CAACqO,WAAW,EACpCtB,MAAI,CAACtF,WAAW,CACnB;QAEDyG,eAAe,GAAGxO,YAAY,CAAC4O,OAAO,CAACJ,eAAe,CAAC;QAEvD;QACA,IAAI,CAACnB,MAAI,CAAC7H,MAAM,CAACgC,SAAS,IAAI,CAAC6F,MAAI,CAAC9K,UAAU,EAAE;UAC5C8K,MAAI,CAAC9K,UAAU,GAAG8K,MAAI,CAACnG,OAAO,CAAC,CAAC,CAAC,CAACpC,EAAE;;QAGxC,MAAM+J,QAAQ,GAAGrO,kBAAkB,CAACiO,WAAW,CAACpB,MAAI,CAACxI,QAAS,EAAEvE,wBAAwB,CAACwO,IAAI,EAAEzB,MAAI,CAACtF,WAAW,CAAC;QAEhH,IAAIgH,WAAW,GAAG,EAAE;QAEpB,MAAMC,WAAW,GAAsC,EAAE;QACzD3B,MAAI,CAACnG,OAAO,CAAC+H,OAAO,CAAC,CAACC,KAAK,EAAEC,KAAK,KAAI;UAClCH,WAAW,CAACE,KAAK,CAACpK,EAAE,CAAC,GAAGoK,KAAK;UAE7B,MAAME,OAAO,GAAG5O,kBAAkB,CAAC6O,UAAU,CAAChC,MAAI,CAACxI,QAAS,EAAEwI,MAAI,CAAChK,MAAO,EAAE6L,KAAK,EAAE3O,wBAAwB,CAACuO,IAAI,CAAC;UACjH,MAAMQ,OAAO,GAAoC,EAAE;UACnD,IAAI,CAACjC,MAAI,CAAC7H,MAAM,CAACgC,SAAS,EAAE;YACxB8H,OAAO,CAACC,MAAM,GAAGlC,MAAI,CAAC7H,MAAM,CAACC,IAAI,GAAGrF,oBAAoB,CAAC2N,QAAQ,GAAGoB,KAAK,GAAGtB,iBAAiB;YAC7FyB,OAAO,CAACjI,MAAM,GAAGgG,MAAI,CAAC7H,MAAM,CAAC6B,MAAM;YACnCiI,OAAO,CAAChI,aAAa,GAAG+F,MAAI,CAAC7H,MAAM,CAAC8B,aAAa;;UAGrDyH,WAAW,IAAIvO,kBAAkB,CAACgP,iBAAiB,CAC/CX,QAAQ,EACRxB,MAAI,CAACtF,WAAW,EAChBmH,KAAK,EACL3O,wBAAwB,CAACuO,IAAI,EAC7BM,OAAO,EACPE,OAAO,CACV;QACL,CAAC,CAAC;QAEFjC,MAAI,CAACpI,eAAe,GAAGuJ,eAAe,CAACiB,OAAO,CAAClJ,YAAY,EAAEwI,WAAW,CAAC;QAEzE;QACA1B,MAAI,CAACnI,MAAM,GAAG;UACV6B,MAAM,EAAEsG,MAAI,CAACtG,MAAM;UACnBG,OAAO,EAAE8H,WAAW;UACpBnK,QAAQ,EAAEwI,MAAI,CAACxI,QAAS;UACxB6K,KAAK,EAAErC,MAAI,CAAChC,MAAM,CAACsE,IAAI;UACvBtH,KAAK,EAAEgF,MAAI,CAACrG,aAAa;UACzB3D,MAAM,EAAEgK,MAAI,CAAChK,MAAM;UACnBf,SAAS,EAAGqI,OAAO,IAAK0C,MAAI,CAAC/K,SAAS,CAACqI,OAAO;SACjD;OACJ,MAAM,IAAI,CAAC0C,MAAI,CAAC7H,MAAM,CAACgC,SAAS,EAAE;QAC/B;QACA6F,MAAI,CAACjG,SAAS,GAAG,KAAK;QACtBiG,MAAI,CAAC9K,UAAU,GAAGqI,SAAS;OAC9B,MAAM;QACHyC,MAAI,CAAC9K,UAAU,GAAGqI,SAAS;;IAC9B;EACL;EAEA;;;EAGMnJ,UAAUA,CAAA;IAAA,IAAAmO,MAAA;IAAA,OAAAzH,iBAAA;MACZ,MAAM0H,SAAS,SAAS7P,YAAY,CAAC8P,SAAS,CAA+B;QACzElJ,SAAS,EAAE/F,2BAA2B;QACtCkP,cAAc,EAAE;UACZvK,MAAM,EAAEoK,MAAI,CAACpK,MAAM;UACnBuB,MAAM,EAAE6I,MAAI,CAAC7I,MAAM;UACnBlC,QAAQ,EAAE+K,MAAI,CAAC/K;;OAEtB,CAAC;MAEF;MACA,IAAIgL,SAAS,EAAE;QACXD,MAAI,CAACpK,MAAM,GAAGqK,SAAS;QACvBD,MAAI,CAACI,SAAS,GAAGjP,QAAQ,CAACkP,IAAI,CAAC,MAAML,MAAI,CAACM,gBAAgB,EAAE,CAAC;QAC7DN,MAAI,CAACrK,aAAa,CAAC,CAAC,CAAC;;IACxB;EACL;EAEA;;;;;;EAMMA,aAAaA,CAACE,IAAY;IAAA,IAAA0K,MAAA;IAAA,OAAAhI,iBAAA;MAC5BgI,MAAI,CAACvH,WAAW,GAAG,IAAI;MACvBuH,MAAI,CAAC3K,MAAM,CAACC,IAAI,GAAGA,IAAI;MAEvB,IAAI;QAAA,IAAA2K,gBAAA;QACA,MAAMD,MAAI,CAAC/C,gBAAgB,EAAE;QAE7B,CAAAgD,gBAAA,GAAAD,MAAI,CAACH,SAAS,cAAAI,gBAAA,eAAdA,gBAAA,CAAAhI,IAAA,CAAA+H,MAAgB,CAAE;OACrB,CAAC,OAAOE,KAAK,EAAE;QACZrQ,YAAY,CAACsQ,qBAAqB,CAACD,KAAK,EAAE,4BAA4B,EAAE,IAAI,CAAC;OAChF,SAAS;QACNF,MAAI,CAACvH,WAAW,GAAG,KAAK;;IAC3B;EACL;EAEA;;;;;EAKA9E,WAAWA,CAACyM,EAAS;IACjBA,EAAE,CAACC,cAAc,EAAE;IACnBD,EAAE,CAACE,eAAe,EAAE;IAEpB,IAAI,CAACjL,MAAM,CAAC6B,MAAM,GAAG,GAAG;IACxB,IAAI,CAAC7B,MAAM,CAAC8B,aAAa,GAAG,MAAM;IAClC,IAAI,CAAC9B,MAAM,CAAC+B,IAAI,GAAG,EAAE;IACrB,IAAI,CAAC/B,MAAM,CAACkC,QAAQ,GAAG,EAAE;IACzB,IAAI,CAAClC,MAAM,CAACiC,iBAAiB,GAAG,KAAK;IACrC,IAAI,CAACjC,MAAM,CAACgC,SAAS,GAAG,KAAK;IAC7B,IAAI,CAACjC,aAAa,CAAC,CAAC,CAAC;EACzB;EAEA;;;;;;EAMMmL,QAAQA,CAACnE,OAAe;IAAA,IAAAoE,MAAA;IAAA,OAAAxI,iBAAA;MAC1BwI,MAAI,CAAC3J,aAAa,GAAGuF,OAAO;MAC5BoE,MAAI,CAACnL,MAAM,CAACC,IAAI,GAAG,CAAC;MAEpB;MACA,IAAIkL,MAAI,CAAC5I,WAAW,CAACkE,MAAM,GAAG,CAAC,EAAE;QAC7B;QACA0E,MAAI,CAACtN,MAAM,SAAShD,YAAY,CAACgM,4BAA4B,CAACsE,MAAI,CAAC9L,QAAS,CAACC,EAAE,EAAE;UAC7EyH,OAAO,EAAEoE,MAAI,CAAC3J,aAAa;UAC3BsF,IAAI,EAAEqE,MAAI,CAACtF,MAAM,CAACvG;SACrB,CAAC;QAEF6L,MAAI,CAACxJ,MAAM,GAAGwJ,MAAI,CAACtN,MAAM,CAAC2J,WAAW;;MAGzC,IAAI;QACA,MAAM2D,MAAI,CAACvD,gBAAgB,EAAE;OAChC,CAAC,OAAOiD,KAAK,EAAE;QACZrQ,YAAY,CAACsQ,qBAAqB,CAACD,KAAK,EAAE,4BAA4B,EAAE,IAAI,CAAC;;IAChF;EACL;EAEA;;;EAGApO,cAAcA,CAAA;IACV,MAAM2O,MAAM,GAAW;MACnBlB,KAAK,EAAE,IAAI,CAACrE,MAAM,CAACsE,IAAI;MACvBtH,KAAK,EAAE,IAAI,CAACrB;KACf;IAEDlH,aAAa,CAAC+Q,kBAAkB,CAC5B,GAAGnQ,gCAAgC,CAACoQ,SAAS,IAAI,IAAI,CAAC/G,QAAQ,IAAI,IAAI,CAACsB,MAAM,CAACvG,EAAE,OAAO,EACvF;MAAE8L;IAAM,CAAE,CACb;EACL;EAEA;;;;;EAKAtO,SAASA,CAACqI,OAAe;IACrB,MAAMiG,MAAM,GAAW;MACnBlB,KAAK,EAAE,IAAI,CAACrE,MAAM,CAACsE,IAAI;MACvBtH,KAAK,EAAE,IAAI,CAACrB;KACf;IAED;IACA,IAAI,CAAC,IAAI,CAACxB,MAAM,CAACgC,SAAS,EAAE;MACxB,MAAMuJ,WAAW,GAAG,IAAI,CAAC7J,OAAO,CAAC8J,SAAS,CAAE9B,KAAK,IAAKA,KAAK,CAACpK,EAAE,IAAI6F,OAAO,CAAC;MAC1E,IAAIoG,WAAW,IAAI,CAAC,EAAE;QAClBH,MAAM,CAACrB,MAAM,GAAG,IAAI,CAAC/J,MAAM,CAACC,IAAI,GAAGrF,oBAAoB,CAAC2N,QAAQ,GAAGgD,WAAW;QAC9EH,MAAM,CAACvJ,MAAM,GAAG,IAAI,CAAC7B,MAAM,CAAC6B,MAAM;QAClCuJ,MAAM,CAACtJ,aAAa,GAAG,IAAI,CAAC9B,MAAM,CAAC8B,aAAa;;;IAIxDxH,aAAa,CAAC+Q,kBAAkB,CAC5B,GAAGnQ,gCAAgC,CAACoQ,SAAS,IAAI,IAAI,CAAC/G,QAAQ,IAAI,IAAI,CAACsB,MAAM,CAACvG,EAAE,IAAI6F,OAAO,EAAE,EAC7F;MAAEiG;IAAM,CAAE,CACb;EACL;EAEA;;;EAGU3F,IAAIA,CAAA;IACV,OAAOtK,2BAA2B,CAACsK,IAAI,CAAC,IAAI,CAACI,MAAM,EAAE,IAAI,CAACtB,QAAQ,CAAC;EACvE;EAEA;;;EAGgBkH,WAAWA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAA/I,iBAAA;MACvB,IAAI,CAAC+I,MAAI,CAACrM,QAAQ,IAAI,CAACqM,MAAI,CAACrM,QAAQ,CAACC,EAAE,EAAE;QACrC;;MAGJ,MAAMzE,YAAY,CAAC8Q,OAAO,CAACD,MAAI,CAACrM,QAAQ,CAACC,EAAE,CAAC;MAE5CoM,MAAI,CAACE,iBAAiB,CAAC,wBAAwB,CAAC;IAAC;EACrD;EAEA;;;EAGgBlB,gBAAgBA,CAAA;IAAA,IAAAmB,MAAA;IAAA,OAAAlJ,iBAAA;MAC5B,IAAI,CAACkJ,MAAI,CAACxM,QAAQ,IAAI,CAACwM,MAAI,CAAC7L,MAAM,CAACgC,SAAS,EAAE;QAC1C;;MAGJ,MAAMoJ,MAAM,GAA4B;QACpCU,OAAO,EAAElR,oBAAoB,CAAC2N,QAAQ;QACtCvI,MAAM,EAAE,CAAC6L,MAAI,CAAC7L,MAAM,CAACiC,iBAAiB,GAAG4J,MAAI,CAAC7L,MAAM,CAAC+B,IAAI,GAAG,EAAE;QAC9DkG,IAAI,EAAE4D,MAAI,CAAC7L,MAAM,CAAC6B,MAAM;QACxBsG,KAAK,EAAE0D,MAAI,CAAC7L,MAAM,CAAC8B,aAAa;QAChCI,QAAQ,EAAE2J,MAAI,CAAC7L,MAAM,CAACiC,iBAAiB,GAAG,CAAC,GAAG,CAAC;QAC/CyE,MAAM,EAAE;OACX;MAED;MAEAmF,MAAI,CAACD,iBAAiB,CAAC,yBAAyB,EAAE;QAC9CnI,IAAI,EAAE2H,MAAM;QACZW,GAAG,EAAEzQ,YAAY,CAAC0Q,cAAc,CAAC,wBAAwBH,MAAI,CAACxM,QAAQ,CAACC,EAAE,EAAE,EAAE8L,MAAM;OACtF,CAAC;IAAC;EACP;EAEA;;;EAGAa,WAAWA,CAAA;IAAA,IAAAC,qBAAA,EAAAC,qBAAA,EAAAC,qBAAA;IACP,KAAK,CAACH,WAAW,EAAE;IACnB,CAAAC,qBAAA,OAAI,CAACpJ,oBAAoB,cAAAoJ,qBAAA,eAAzBA,qBAAA,CAA2BG,GAAG,EAAE;IAChC,CAAAF,qBAAA,OAAI,CAAC5I,qBAAqB,cAAA4I,qBAAA,eAA1BA,qBAAA,CAA4BE,GAAG,EAAE;IACjC,CAAAD,qBAAA,OAAI,CAACrI,kBAAkB,cAAAqI,qBAAA,eAAvBA,qBAAA,CAAyBC,GAAG,EAAE;EAClC;;SApgBSrL,0BAA2B;;mBAA3BA,MAA0B,EAAAxF,EAAA,CAAA8Q,iBAAA,CAAAC,EAAA,CAAAC,UAAA,GAAAhR,EAAA,CAAA8Q,iBAAA,CAAAG,EAAA,CAAAC,sBAAA;AAAA;;QAA1B1L,MAA0B;EAAA2L,SAAA;EAAAC,QAAA,GAAApR,EAAA,CAAAqR,0BAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAA3D,QAAA,WAAA4D,oCAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MC3DvC1R,EAAA,CAAAC,cAAA,6BAAgC;MAC5BD,EAAA,CAAAsD,UAAA,IAAAsO,gDAAA,wBAEa;MACb5R,EAAA,CAAAC,cAAA,wBAAmB;MACfD,EAAA,CAAAsD,UAAA,IAAAuO,4DAAA,oCACkC;MAClC7R,EAAA,CAAAsD,UAAA,IAAAwO,4DAAA,oCACuC;MAC3C9R,EAAA,CAAAW,YAAA,EAAoB;MAEpBX,EAAA,CAAAC,cAAA,oBAAwH;MAA/FD,EAAA,CAAAE,UAAA,mBAAA6R,gEAAA;QAAA,OAASJ,GAAA,CAAAK,iBAAA,EAAmB;MAAA,EAAC;;MAClDhS,EAAA,CAAAU,SAAA,kBAAuE;MAC3EV,EAAA,CAAAW,YAAA,EAAa;MAIjBX,EAAA,CAAAC,cAAA,sBAAyC;MAIuCD,EAAA,CAAAE,UAAA,+BAAA+R,yFAAA;QAAA,OAAqBN,GAAA,CAAAO,kBAAA,EAAoB;MAAA,EAAC;MADtHlS,EAAA,CAAAW,YAAA,EACyH;MAEzHX,EAAA,CAAAC,cAAA,8BACoC;MADSD,EAAA,CAAAE,UAAA,4BAAAiS,mFAAAxP,MAAA;QAAA,OAAAgP,GAAA,CAAA3L,aAAA,GAAArD,MAAA;MAAA,EAA4B,4BAAAwP,mFAAA;QAAA,OAAmBR,GAAA,CAAAjC,QAAA,CAAAiC,GAAA,CAAA3L,aAAA,CAAuB;MAAA,EAA1C;MAAzEhG,EAAA,CAAAW,YAAA,EACoC;MAEpCX,EAAA,CAAAsD,UAAA,KAAA8O,+CAAA,sBAKW;MAEXpS,EAAA,CAAAsD,UAAA,KAAA+O,+CAAA,sBAKW;MAEXrS,EAAA,CAAAsD,UAAA,KAAAgP,+CAAA,sBAOW;MAEXtS,EAAA,CAAAsD,UAAA,KAAAiP,+CAAA,sBAOW;MAGXvS,EAAA,CAAAsD,UAAA,KAAAkP,mDAAA,2BAce;MAEfxS,EAAA,CAAAsD,UAAA,KAAAmP,0CAAA,kBAIM;MAENzS,EAAA,CAAAsD,UAAA,KAAAoP,+CAAA,uBAeW;MAEX1S,EAAA,CAAAsD,UAAA,KAAAqP,qDAAA,6BAA8H;MAE9H3S,EAAA,CAAAsD,UAAA,KAAAsP,qDAAA,6BAGiB;MAErB5S,EAAA,CAAAW,YAAA,EAAe;MAEfX,EAAA,CAAAU,SAAA,yCAA+H;MAE/HV,EAAA,CAAAsD,UAAA,KAAAuP,8CAAA,sBAKU;;;MAjHO7S,EAAA,CAAAyB,SAAA,GAAe;MAAfzB,EAAA,CAAAkB,UAAA,SAAAyQ,GAAA,CAAAvL,SAAA,CAAe;MAIkBpG,EAAA,CAAAyB,SAAA,GAAY;MAAZzB,EAAA,CAAAkB,UAAA,SAAAyQ,GAAA,CAAAxL,MAAA,CAAY;MAEZnG,EAAA,CAAAyB,SAAA,GAAgB;MAAhBzB,EAAA,CAAAkB,UAAA,SAAAyQ,GAAA,CAAApQ,UAAA,CAAgB;MAIcvB,EAAA,CAAAyB,SAAA,GAA2C;MAA3CzB,EAAA,CAAAY,WAAA,eAAAZ,EAAA,CAAAa,WAAA,qBAA2C;MAM7Gb,EAAA,CAAAyB,SAAA,GAA0B;MAA1BzB,EAAA,CAAAkB,UAAA,eAAAyQ,GAAA,CAAA/J,WAAA,CAA0B;MAGX5H,EAAA,CAAAyB,SAAA,GAAiB;MAAjBzB,EAAA,CAAAkB,UAAA,WAAAyQ,GAAA,CAAAtH,MAAA,CAAiB,gBAAAsH,GAAA,CAAApH,WAAA,eAAAoH,GAAA,CAAA/L,SAAA,iBAAA+L,GAAA,CAAAmB,WAAA,cAAAnB,GAAA,CAAA5I,QAAA,mBAAA4I,GAAA,CAAA1E,UAAA,IAAA0E,GAAA,CAAAhL,iBAAA;MAGrB3G,EAAA,CAAAyB,SAAA,GAAuB;MAAvBzB,EAAA,CAAAkB,UAAA,cAAAyQ,GAAA,CAAA9G,SAAA,CAAuB,aAAA8G,GAAA,CAAA3L,aAAA,cAAA2L,GAAA,CAAA9N,QAAA,kBAAA8N,GAAA,CAAA9N,QAAA,CAAAkP,MAAA;MAGV/S,EAAA,CAAAyB,SAAA,GAAiD;MAAjDzB,EAAA,CAAAkB,UAAA,WAAAyQ,GAAA,CAAAtP,MAAA,kBAAAsP,GAAA,CAAAtP,MAAA,CAAAmJ,aAAA,KAAAmG,GAAA,CAAAhG,iBAAA,CAAiD;MAOjD3L,EAAA,CAAAyB,SAAA,GAA+C;MAA/CzB,EAAA,CAAAkB,UAAA,WAAAyQ,GAAA,CAAAtP,MAAA,kBAAAsP,GAAA,CAAAtP,MAAA,CAAAmJ,aAAA,KAAAmG,GAAA,CAAA7F,eAAA,CAA+C;MAO/C9L,EAAA,CAAAyB,SAAA,GAAwC;MAAxCzB,EAAA,CAAAkB,UAAA,SAAAyQ,GAAA,CAAAtP,MAAA,IAAAsP,GAAA,CAAAtP,MAAA,CAAAC,iBAAA,CAAwC;MASxCtC,EAAA,CAAAyB,SAAA,GAAuC;MAAvCzB,EAAA,CAAAkB,UAAA,SAAAyQ,GAAA,CAAAtP,MAAA,IAAAsP,GAAA,CAAAtP,MAAA,CAAAI,gBAAA,CAAuC;MAU1DzC,EAAA,CAAAyB,SAAA,GAAkC;MAAlCzB,EAAA,CAAAkB,UAAA,SAAAyQ,GAAA,CAAAnN,MAAA,CAAAgC,SAAA,KAAAmL,GAAA,CAAA1L,OAAA,CAAkC;MAgBoBjG,EAAA,CAAAyB,SAAA,GAA0B;MAA1BzB,EAAA,CAAAkB,UAAA,UAAAyQ,GAAA,CAAA1L,OAAA,IAAA0L,GAAA,CAAA9N,QAAA,CAA0B;MAMpF7D,EAAA,CAAAyB,SAAA,GAAoC;MAApCzB,EAAA,CAAAkB,UAAA,SAAAyQ,GAAA,CAAAnN,MAAA,CAAAC,IAAA,QAAAkN,GAAA,CAAA3M,WAAA,CAAoC;MAiB9BhF,EAAA,CAAAyB,SAAA,GAAkC;MAAlCzB,EAAA,CAAAkB,UAAA,SAAAyQ,GAAA,CAAA1L,OAAA,KAAA0L,GAAA,CAAAnN,MAAA,CAAAgC,SAAA,CAAkC;MAElCxG,EAAA,CAAAyB,SAAA,GAAiC;MAAjCzB,EAAA,CAAAkB,UAAA,SAAAyQ,GAAA,CAAA1L,OAAA,IAAA0L,GAAA,CAAAnN,MAAA,CAAAgC,SAAA,CAAiC;MAOJxG,EAAA,CAAAyB,SAAA,GAAsB;MAAtBzB,EAAA,CAAAkB,UAAA,WAAAyQ,GAAA,CAAA/J,WAAA,CAAsB,aAAA+J,GAAA,CAAA5I,QAAA,qBAAA4I,GAAA,CAAAtH,MAAA,CAAAvG,EAAA;MAEL9D,EAAA,CAAAyB,SAAA,GAAY;MAAZzB,EAAA,CAAAkB,UAAA,SAAAyQ,GAAA,CAAAxL,MAAA,CAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}