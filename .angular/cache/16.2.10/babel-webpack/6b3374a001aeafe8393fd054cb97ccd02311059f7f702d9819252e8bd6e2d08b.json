{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreCourseModuleSummaryComponent } from '@features/course/components/module-summary/module-summary';\nimport { CoreCourse } from '@features/course/services/course';\nimport { CoreCourseModuleDelegate } from '@features/course/services/module-delegate';\nimport { CoreSitePlugins } from '@features/siteplugins/services/siteplugins';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreSitePluginsPluginContentComponent } from '../plugin-content/plugin-content';\nimport * as i0 from \"@angular/core\";\nfunction CoreSitePluginsModuleIndexComponent_core_course_module_info_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-course-module-info\", 6);\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"module\", ctx_r0.module)(\"courseId\", ctx_r0.courseId)(\"component\", ctx_r0.component)(\"componentId\", ctx_r0.module.id);\n  }\n}\nfunction CoreSitePluginsModuleIndexComponent_core_site_plugins_plugin_content_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"core-site-plugins-plugin-content\", 7);\n    i0.ɵɵlistener(\"onContentLoaded\", function CoreSitePluginsModuleIndexComponent_core_site_plugins_plugin_content_5_Template_core_site_plugins_plugin_content_onContentLoaded_0_listener($event) {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.contentLoaded($event));\n    })(\"onLoadingContent\", function CoreSitePluginsModuleIndexComponent_core_site_plugins_plugin_content_5_Template_core_site_plugins_plugin_content_onLoadingContent_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.contentLoading());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"component\", ctx_r1.component)(\"method\", ctx_r1.method)(\"args\", ctx_r1.args)(\"initResult\", ctx_r1.initResult)(\"data\", ctx_r1.jsData)(\"pageTitle\", ctx_r1.pageTitle)(\"preSets\", ctx_r1.preSets);\n  }\n}\nfunction CoreSitePluginsModuleIndexComponent_core_course_module_navigation_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-course-module-navigation\", 8);\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"appearOnBottom\", ctx_r2.collapsibleFooterAppearOnBottom)(\"courseId\", ctx_r2.courseId)(\"currentModuleId\", ctx_r2.module.id);\n  }\n}\n/**\n * Component that displays the index of a module site plugin.\n */\nexport class CoreSitePluginsModuleIndexComponent {\n  constructor() {\n    this.collapsibleFooterAppearOnBottom = true;\n    this.addDefaultModuleInfo = false;\n    this.displayOpenInBrowser = true;\n    this.displayDescription = true;\n    this.displayRefresh = true;\n    this.displayPrefetch = true;\n    this.displaySize = true;\n    this.displayGrades = false;\n    // @todo  // Currently display blogs is not an option since it may change soon adding new summary handlers.\n    this.displayBlog = false;\n    this.ptrEnabled = true;\n    this.isDestroyed = false;\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    if (!this.module) {\n      return;\n    }\n    const handlerName = CoreCourseModuleDelegate.getHandlerName(this.module.modname);\n    const handler = CoreSitePlugins.getSitePluginHandler(handlerName);\n    if (handler) {\n      this.component = handler.plugin.component;\n      this.preSets = {\n        componentId: this.module.id\n      };\n      this.method = handler.handlerSchema.method;\n      this.args = {\n        courseid: this.courseId,\n        cmid: this.module.id\n      };\n      this.initResult = handler.initResult;\n      this.jsData = {\n        module: this.module,\n        courseId: this.courseId\n      };\n      const handlerSchema = handler.handlerSchema;\n      this.displayOpenInBrowser = !CoreUtils.isFalseOrZero(handlerSchema.displayopeninbrowser);\n      this.displayDescription = !CoreUtils.isFalseOrZero(handlerSchema.displaydescription);\n      this.displayRefresh = !CoreUtils.isFalseOrZero(handlerSchema.displayrefresh);\n      this.displayPrefetch = !CoreUtils.isFalseOrZero(handlerSchema.displayprefetch);\n      this.displaySize = !CoreUtils.isFalseOrZero(handlerSchema.displaysize);\n      this.displayGrades = CoreUtils.isTrueOrOne(handlerSchema.displaygrades); // False by default.\n      this.ptrEnabled = !CoreUtils.isFalseOrZero(handlerSchema.ptrenabled);\n      this.collapsibleFooterAppearOnBottom = !CoreUtils.isFalseOrZero(handlerSchema.isresource);\n    }\n    // Get the data for the context menu.\n    this.description = this.module.description;\n  }\n  /**\n   * Refresh the data.\n   *\n   * @param refresher Refresher.\n   * @returns Promise resolved when done.\n   */\n  doRefresh(refresher) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        var _this$content;\n        yield (_this$content = _this.content) === null || _this$content === void 0 ? void 0 : _this$content.refreshContent(false);\n      } finally {\n        refresher === null || refresher === void 0 || refresher.complete();\n      }\n    })();\n  }\n  /**\n   * Function called when the data of the site plugin content is loaded.\n   */\n  contentLoaded(data) {\n    this.addDefaultModuleInfo = !data.content.includes('<core-course-module-info');\n    if (data.success) {\n      CoreCourse.storeModuleViewed(this.courseId, this.module.id, {\n        sectionId: this.module.section\n      });\n    }\n  }\n  /**\n   * Function called when starting to load the data of the site plugin content.\n   */\n  contentLoading() {\n    return;\n  }\n  /**\n   * Opens a module summary page.\n   */\n  openModuleSummary() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      var _this2$content;\n      if (!_this2.module) {\n        return;\n      }\n      const data = yield CoreDomUtils.openSideModal({\n        component: CoreCourseModuleSummaryComponent,\n        componentProps: {\n          moduleId: _this2.module.id,\n          module: _this2.module,\n          description: _this2.description,\n          component: _this2.component,\n          courseId: _this2.courseId,\n          displayOptions: {\n            displayOpenInBrowser: _this2.displayOpenInBrowser,\n            displayDescription: _this2.displayDescription,\n            displayRefresh: _this2.displayRefresh,\n            displayPrefetch: _this2.displayPrefetch,\n            displaySize: _this2.displaySize,\n            displayBlog: _this2.displayBlog,\n            displayGrades: _this2.displayGrades\n          }\n        }\n      });\n      if (data && data.action == 'refresh' && (_this2$content = _this2.content) !== null && _this2$content !== void 0 && _this2$content.dataLoaded) {\n        var _this2$content2;\n        (_this2$content2 = _this2.content) === null || _this2$content2 === void 0 || _this2$content2.refreshContent(true);\n      }\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnDestroy() {\n    this.isDestroyed = true;\n  }\n  /**\n   * Call a certain function on the component instance.\n   *\n   * @param name Name of the function to call.\n   * @param params List of params to send to the function.\n   * @returns Result of the call. Undefined if no component instance or the function doesn't exist.\n   */\n  callComponentFunction(name, params) {\n    var _this$content2;\n    return (_this$content2 = this.content) === null || _this$content2 === void 0 ? void 0 : _this$content2.callComponentFunction(name, params);\n  }\n}\n_class = CoreSitePluginsModuleIndexComponent;\n_class.ɵfac = function CoreSitePluginsModuleIndexComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"core-site-plugins-module-index\"]],\n  viewQuery: function CoreSitePluginsModuleIndexComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(CoreSitePluginsPluginContentComponent, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t.first);\n    }\n  },\n  hostVars: 2,\n  hostBindings: function CoreSitePluginsModuleIndexComponent_HostBindings(rf, ctx) {\n    if (rf & 2) {\n      i0.ɵɵclassMap(ctx.component);\n    }\n  },\n  inputs: {\n    module: \"module\",\n    courseId: \"courseId\",\n    pageTitle: \"pageTitle\"\n  },\n  decls: 7,\n  vars: 6,\n  consts: [[\"slot\", \"end\"], [\"fill\", \"clear\", 3, \"click\"], [\"name\", \"fas-circle-info\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [3, \"module\", \"courseId\", \"component\", \"componentId\", 4, \"ngIf\"], [3, \"component\", \"method\", \"args\", \"initResult\", \"data\", \"pageTitle\", \"preSets\", \"onContentLoaded\", \"onLoadingContent\", 4, \"ngIf\"], [\"collapsible-footer\", \"\", 3, \"appearOnBottom\", \"courseId\", \"currentModuleId\", 4, \"ngIf\"], [3, \"module\", \"courseId\", \"component\", \"componentId\"], [3, \"component\", \"method\", \"args\", \"initResult\", \"data\", \"pageTitle\", \"preSets\", \"onContentLoaded\", \"onLoadingContent\"], [\"collapsible-footer\", \"\", 3, \"appearOnBottom\", \"courseId\", \"currentModuleId\"]],\n  template: function CoreSitePluginsModuleIndexComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"core-navbar-buttons\", 0)(1, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function CoreSitePluginsModuleIndexComponent_Template_ion_button_click_1_listener() {\n        return ctx.openModuleSummary();\n      });\n      i0.ɵɵpipe(2, \"translate\");\n      i0.ɵɵelement(3, \"ion-icon\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(4, CoreSitePluginsModuleIndexComponent_core_course_module_info_4_Template, 1, 4, \"core-course-module-info\", 3);\n      i0.ɵɵtemplate(5, CoreSitePluginsModuleIndexComponent_core_site_plugins_plugin_content_5_Template, 1, 7, \"core-site-plugins-plugin-content\", 4);\n      i0.ɵɵtemplate(6, CoreSitePluginsModuleIndexComponent_core_course_module_navigation_6_Template, 1, 3, \"core-course-module-navigation\", 5);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(2, 4, \"core.info\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.addDefaultModuleInfo);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.component && ctx.method);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.module);\n    }\n  },\n  styles: [\"[_nghost-%COMP%] { display: contents; }\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9jb3JlL2ZlYXR1cmVzL3NpdGVwbHVnaW5zL2NvbXBvbmVudHMvbW9kdWxlLWluZGV4L21vZHVsZS1pbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxRQUFRLGlCQUFpQixFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3QgeyBkaXNwbGF5OiBjb250ZW50czsgfSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["CoreCourseModuleSummaryComponent","CoreCourse","CoreCourseModuleDelegate","CoreSitePlugins","CoreDomUtils","CoreUtils","CoreSitePluginsPluginContentComponent","i0","ɵɵelement","ɵɵproperty","ctx_r0","module","courseId","component","id","ɵɵelementStart","ɵɵlistener","CoreSitePluginsModuleIndexComponent_core_site_plugins_plugin_content_5_Template_core_site_plugins_plugin_content_onContentLoaded_0_listener","$event","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","contentLoaded","CoreSitePluginsModuleIndexComponent_core_site_plugins_plugin_content_5_Template_core_site_plugins_plugin_content_onLoadingContent_0_listener","ctx_r5","contentLoading","ɵɵelementEnd","ctx_r1","method","args","initResult","jsData","pageTitle","preSets","ctx_r2","collapsibleFooterAppearOnBottom","CoreSitePluginsModuleIndexComponent","constructor","addDefaultModuleInfo","displayOpenInBrowser","displayDescription","displayRefresh","displayPrefetch","displaySize","displayGrades","displayBlog","ptrEnabled","isDestroyed","ngOnInit","handlerName","getHandlerName","modname","handler","getSitePluginHandler","plugin","componentId","handlerSchema","courseid","cmid","isFalseOrZero","displayopeninbrowser","displaydescription","displayrefresh","displayprefetch","displaysize","isTrueOrOne","displaygrades","ptrenabled","isresource","description","doRefresh","refresher","_this","_asyncToGenerator","_this$content","content","refreshContent","complete","data","includes","success","storeModuleViewed","sectionId","section","openModuleSummary","_this2","_this2$content","openSideModal","componentProps","moduleId","displayOptions","action","dataLoaded","_this2$content2","ngOnDestroy","callComponentFunction","name","params","_this$content2","selectors","viewQuery","CoreSitePluginsModuleIndexComponent_Query","rf","ctx","CoreSitePluginsModuleIndexComponent_Template_ion_button_click_1_listener","ɵɵtemplate","CoreSitePluginsModuleIndexComponent_core_course_module_info_4_Template","CoreSitePluginsModuleIndexComponent_core_site_plugins_plugin_content_5_Template","CoreSitePluginsModuleIndexComponent_core_course_module_navigation_6_Template","ɵɵadvance","ɵɵattribute","ɵɵpipeBind1"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/siteplugins/components/module-index/module-index.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/siteplugins/components/module-index/core-siteplugins-module-index.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit, OnDestroy, Input, ViewChild, HostBinding } from '@angular/core';\n\nimport { CoreSiteWSPreSets } from '@classes/sites/authenticated-site';\nimport {\n    CoreCourseModuleSummaryResult,\n    CoreCourseModuleSummaryComponent,\n} from '@features/course/components/module-summary/module-summary';\nimport { CoreCourse } from '@features/course/services/course';\nimport { CoreCourseModuleData } from '@features/course/services/course-helper';\nimport {\n    CoreCourseModuleDelegate,\n    CoreCourseModuleMainComponent,\n} from '@features/course/services/module-delegate';\nimport {\n    CoreSitePlugins,\n    CoreSitePluginsContent,\n    CoreSitePluginsCourseModuleHandlerData,\n} from '@features/siteplugins/services/siteplugins';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreSitePluginsPluginContentComponent, CoreSitePluginsPluginContentLoadedData } from '../plugin-content/plugin-content';\n\n/**\n * Component that displays the index of a module site plugin.\n */\n@Component({\n    selector: 'core-site-plugins-module-index',\n    templateUrl: 'core-siteplugins-module-index.html',\n    styles: [':host { display: contents; }'],\n})\nexport class CoreSitePluginsModuleIndexComponent implements OnInit, OnDestroy, CoreCourseModuleMainComponent {\n\n    @Input() module!: CoreCourseModuleData; // The module.\n    @Input() courseId!: number; // Course ID the module belongs to.\n    @Input() pageTitle?: string; // Current page title. It can be used by the \"new-content\" directives.\n\n    @ViewChild(CoreSitePluginsPluginContentComponent) content?: CoreSitePluginsPluginContentComponent;\n\n    @HostBinding('class') component?: string;\n    method?: string;\n    args?: Record<string, unknown>;\n    initResult?: CoreSitePluginsContent | null;\n    preSets?: CoreSiteWSPreSets;\n    description?: string;\n\n    collapsibleFooterAppearOnBottom = true;\n    addDefaultModuleInfo = false;\n\n    displayOpenInBrowser = true;\n    displayDescription = true;\n    displayRefresh = true;\n    displayPrefetch = true;\n    displaySize = true;\n    displayGrades = false;\n    // @todo  // Currently display blogs is not an option since it may change soon adding new summary handlers.\n    displayBlog = false;\n\n    ptrEnabled = true;\n    isDestroyed = false;\n\n    jsData?: Record<string, unknown>; // Data to pass to the component.\n\n    /**\n     * @inheritdoc\n     */\n    ngOnInit(): void {\n        if (!this.module) {\n            return;\n        }\n\n        const handlerName = CoreCourseModuleDelegate.getHandlerName(this.module.modname);\n        const handler = CoreSitePlugins.getSitePluginHandler(handlerName);\n\n        if (handler) {\n            this.component = handler.plugin.component;\n            this.preSets = { componentId: this.module.id };\n            this.method = handler.handlerSchema.method;\n            this.args = {\n                courseid: this.courseId,\n                cmid: this.module.id,\n            };\n            this.initResult = handler.initResult;\n            this.jsData = {\n                module: this.module,\n                courseId: this.courseId,\n            };\n\n            const handlerSchema = <CoreSitePluginsCourseModuleHandlerData> handler.handlerSchema;\n\n            this.displayOpenInBrowser = !CoreUtils.isFalseOrZero(handlerSchema.displayopeninbrowser);\n            this.displayDescription = !CoreUtils.isFalseOrZero(handlerSchema.displaydescription);\n            this.displayRefresh = !CoreUtils.isFalseOrZero(handlerSchema.displayrefresh);\n            this.displayPrefetch = !CoreUtils.isFalseOrZero(handlerSchema.displayprefetch);\n            this.displaySize = !CoreUtils.isFalseOrZero(handlerSchema.displaysize);\n            this.displayGrades = CoreUtils.isTrueOrOne(handlerSchema.displaygrades); // False by default.\n            this.ptrEnabled = !CoreUtils.isFalseOrZero(handlerSchema.ptrenabled);\n\n            this.collapsibleFooterAppearOnBottom = !CoreUtils.isFalseOrZero(handlerSchema.isresource);\n        }\n\n        // Get the data for the context menu.\n        this.description = this.module.description;\n    }\n\n    /**\n     * Refresh the data.\n     *\n     * @param refresher Refresher.\n     * @returns Promise resolved when done.\n     */\n    async doRefresh(refresher?: HTMLIonRefresherElement | null): Promise<void> {\n        try {\n            await this.content?.refreshContent(false);\n        } finally {\n            refresher?.complete();\n        }\n    }\n\n    /**\n     * Function called when the data of the site plugin content is loaded.\n     */\n    contentLoaded(data: CoreSitePluginsPluginContentLoadedData): void {\n        this.addDefaultModuleInfo = !data.content.includes('<core-course-module-info');\n        if (data.success) {\n            CoreCourse.storeModuleViewed(this.courseId, this.module.id, {\n                sectionId: this.module.section,\n            });\n        }\n    }\n\n    /**\n     * Function called when starting to load the data of the site plugin content.\n     */\n    contentLoading(): void {\n        return;\n    }\n\n    /**\n     * Opens a module summary page.\n     */\n    async openModuleSummary(): Promise<void> {\n        if (!this.module) {\n            return;\n        }\n\n        const data = await CoreDomUtils.openSideModal<CoreCourseModuleSummaryResult>({\n            component: CoreCourseModuleSummaryComponent,\n            componentProps: {\n                moduleId: this.module.id,\n                module: this.module,\n                description: this.description,\n                component: this.component,\n                courseId: this.courseId,\n                displayOptions: {\n                    displayOpenInBrowser: this.displayOpenInBrowser,\n                    displayDescription: this.displayDescription,\n                    displayRefresh: this.displayRefresh,\n                    displayPrefetch: this.displayPrefetch,\n                    displaySize: this.displaySize,\n                    displayBlog: this.displayBlog,\n                    displayGrades: this.displayGrades,\n                },\n            },\n        });\n\n        if (data && data.action == 'refresh' && this.content?.dataLoaded) {\n            this.content?.refreshContent(true);\n        }\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        this.isDestroyed = true;\n    }\n\n    /**\n     * Call a certain function on the component instance.\n     *\n     * @param name Name of the function to call.\n     * @param params List of params to send to the function.\n     * @returns Result of the call. Undefined if no component instance or the function doesn't exist.\n     */\n    callComponentFunction(name: string, params?: unknown[]): unknown | undefined {\n        return this.content?.callComponentFunction(name, params);\n    }\n\n}\n","<!-- Buttons to add to the header. -->\n<core-navbar-buttons slot=\"end\">\n    <ion-button fill=\"clear\" (click)=\"openModuleSummary()\" [attr.aria-label]=\"'core.info' | translate\">\n        <ion-icon name=\"fas-circle-info\" slot=\"icon-only\" aria-hidden=\"true\" />\n    </ion-button>\n</core-navbar-buttons>\n\n<!-- Activity info. -->\n<core-course-module-info *ngIf=\"addDefaultModuleInfo\" [module]=\"module\" [courseId]=\"courseId\" [component]=\"component\"\n    [componentId]=\"module.id\" />\n\n<core-site-plugins-plugin-content *ngIf=\"component && method\" [component]=\"component\" [method]=\"method\" [args]=\"args\"\n    [initResult]=\"initResult\" [data]=\"jsData\" [pageTitle]=\"pageTitle\" [preSets]=\"preSets\" (onContentLoaded)=\"contentLoaded($event)\"\n    (onLoadingContent)=\"contentLoading()\" />\n\n<core-course-module-navigation collapsible-footer [appearOnBottom]=\"collapsibleFooterAppearOnBottom\" *ngIf=\"module\" [courseId]=\"courseId\"\n    [currentModuleId]=\"module.id\" />\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}