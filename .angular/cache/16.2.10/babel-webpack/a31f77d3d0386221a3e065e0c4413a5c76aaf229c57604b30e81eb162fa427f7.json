{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { CorePromisedValue } from '@classes/promised-value';\nimport { CoreDirectivesRegistry } from '@singletons/directives-registry';\n/**\n * Helper class to build modals.\n */\nexport class CoreModalComponent {\n  constructor({\n    nativeElement: element\n  }) {\n    this.result = new CorePromisedValue();\n    CoreDirectivesRegistry.register(element, this);\n  }\n  /**\n   * Close the modal.\n   *\n   * @param result Result data, or error instance if the modal was closed with a failure.\n   */\n  close(result) {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (result instanceof Error) {\n        _this.result.reject(result);\n        return;\n      }\n      _this.result.resolve(result);\n    })();\n  }\n}","map":{"version":3,"names":["CorePromisedValue","CoreDirectivesRegistry","CoreModalComponent","constructor","nativeElement","element","result","register","close","_this","_asyncToGenerator","Error","reject","resolve"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/classes/modal-component.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { ElementRef } from '@angular/core';\nimport { CorePromisedValue } from '@classes/promised-value';\nimport { CoreDirectivesRegistry } from '@singletons/directives-registry';\n\n/**\n * Helper class to build modals.\n */\nexport class CoreModalComponent<T=unknown> {\n\n    result: CorePromisedValue<T> = new CorePromisedValue();\n\n    constructor({ nativeElement: element }: ElementRef<HTMLElement>) {\n        CoreDirectivesRegistry.register(element, this);\n    }\n\n    /**\n     * Close the modal.\n     *\n     * @param result Result data, or error instance if the modal was closed with a failure.\n     */\n    async close(result: T | Error): Promise<void> {\n        if (result instanceof Error) {\n            this.result.reject(result);\n\n            return;\n        }\n\n        this.result.resolve(result);\n    }\n\n}\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,SAASA,iBAAiB,QAAQ,yBAAyB;AAC3D,SAASC,sBAAsB,QAAQ,iCAAiC;AAExE;;;AAGA,OAAM,MAAOC,kBAAkB;EAI3BC,YAAY;IAAEC,aAAa,EAAEC;EAAO,CAA2B;IAF/D,KAAAC,MAAM,GAAyB,IAAIN,iBAAiB,EAAE;IAGlDC,sBAAsB,CAACM,QAAQ,CAACF,OAAO,EAAE,IAAI,CAAC;EAClD;EAEA;;;;;EAKMG,KAAKA,CAACF,MAAiB;IAAA,IAAAG,KAAA;IAAA,OAAAC,iBAAA;MACzB,IAAIJ,MAAM,YAAYK,KAAK,EAAE;QACzBF,KAAI,CAACH,MAAM,CAACM,MAAM,CAACN,MAAM,CAAC;QAE1B;;MAGJG,KAAI,CAACH,MAAM,CAACO,OAAO,CAACP,MAAM,CAAC;IAAC;EAChC"},"metadata":{},"sourceType":"module","externalDependencies":[]}