{"ast":null,"code":"var _class;\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { EventEmitter } from '@angular/core';\nimport { CoreSitesFactory } from '@services/sites-factory';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"siteItem\"];\nconst _c1 = [\"siteLabel\"];\nfunction CoreSitesListComponent_ion_list_0_ion_card_1_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction CoreSitesListComponent_ion_list_0_ion_card_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction CoreSitesListComponent_ion_list_0_ion_card_1_ng_container_3_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    site: a0,\n    isCurrentSite: false\n  };\n};\nfunction CoreSitesListComponent_ion_list_0_ion_card_1_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreSitesListComponent_ion_list_0_ion_card_1_ng_container_3_ng_container_1_Template, 1, 0, \"ng-container\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const site_r10 = ctx.$implicit;\n    i0.ɵɵnextContext(3);\n    const _r3 = i0.ɵɵreference(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r3)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(2, _c2, site_r10));\n  }\n}\nconst _c3 = function (a0) {\n  return {\n    site: a0,\n    isCurrentSite: true\n  };\n};\nfunction CoreSitesListComponent_ion_list_0_ion_card_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\");\n    i0.ɵɵtemplate(1, CoreSitesListComponent_ion_list_0_ion_card_1_ng_container_1_Template, 1, 0, \"ng-container\", 6);\n    i0.ɵɵtemplate(2, CoreSitesListComponent_ion_list_0_ion_card_1_ng_container_2_Template, 1, 0, \"ng-container\", 6);\n    i0.ɵɵtemplate(3, CoreSitesListComponent_ion_list_0_ion_card_1_ng_container_3_Template, 2, 4, \"ng-container\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    const _r1 = i0.ɵɵreference(2);\n    const _r3 = i0.ɵɵreference(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r1)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(5, _c3, ctx_r5.accountsList.currentSite));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r3)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(7, _c3, ctx_r5.accountsList.currentSite));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r5.accountsList.sameSite);\n  }\n}\nfunction CoreSitesListComponent_ion_list_0_ion_card_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction CoreSitesListComponent_ion_list_0_ion_card_2_ng_container_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0);\n  }\n}\nfunction CoreSitesListComponent_ion_list_0_ion_card_2_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreSitesListComponent_ion_list_0_ion_card_2_ng_container_2_ng_container_1_Template, 1, 0, \"ng-container\", 6);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const site_r15 = ctx.$implicit;\n    i0.ɵɵnextContext(3);\n    const _r3 = i0.ɵɵreference(4);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r3)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(2, _c2, site_r15));\n  }\n}\nfunction CoreSitesListComponent_ion_list_0_ion_card_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\");\n    i0.ɵɵtemplate(1, CoreSitesListComponent_ion_list_0_ion_card_2_ng_container_1_Template, 1, 0, \"ng-container\", 6);\n    i0.ɵɵtemplate(2, CoreSitesListComponent_ion_list_0_ion_card_2_ng_container_2_Template, 2, 4, \"ng-container\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const sites_r12 = ctx.$implicit;\n    i0.ɵɵnextContext(2);\n    const _r1 = i0.ɵɵreference(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngTemplateOutlet\", _r1)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction1(3, _c2, sites_r12[0]));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", sites_r12);\n  }\n}\nfunction CoreSitesListComponent_ion_list_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-list\", 3);\n    i0.ɵɵtemplate(1, CoreSitesListComponent_ion_list_0_ion_card_1_Template, 4, 9, \"ion-card\", 4);\n    i0.ɵɵtemplate(2, CoreSitesListComponent_ion_list_0_ion_card_2_Template, 3, 5, \"ion-card\", 5);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.accountsList.currentSite);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.accountsList.otherSites);\n  }\n}\nfunction CoreSitesListComponent_ng_template_1_ion_item_divider_0_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\")(1, \"a\", 10);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r21 = i0.ɵɵnextContext(2);\n    const site_r17 = ctx_r21.site;\n    const isCurrentSite_r18 = ctx_r21.isCurrentSite;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"href\", site_r17.siteUrl, i0.ɵɵsanitizeUrl)(\"autoLogin\", isCurrentSite_r18 ? \"yes\" : \"no\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", site_r17.siteUrlWithoutProtocol, \" \");\n  }\n}\nfunction CoreSitesListComponent_ng_template_1_ion_item_divider_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item-divider\", 8)(1, \"ion-label\")(2, \"h2\");\n    i0.ɵɵelement(3, \"core-format-text\", 9);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, CoreSitesListComponent_ng_template_1_ion_item_divider_0_p_4_Template, 3, 3, \"p\", 4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const site_r17 = i0.ɵɵnextContext().site;\n    const ctx_r19 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"text\", site_r17.siteName)(\"siteId\", site_r17.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r19.displaySiteUrl(site_r17));\n  }\n}\nfunction CoreSitesListComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, CoreSitesListComponent_ng_template_1_ion_item_divider_0_Template, 5, 3, \"ion-item-divider\", 7);\n  }\n  if (rf & 2) {\n    const site_r17 = ctx.site;\n    i0.ɵɵproperty(\"ngIf\", site_r17);\n  }\n}\nconst _c4 = function (a0, a1) {\n  return {\n    site: a0,\n    isCurrentSite: a1\n  };\n};\nfunction CoreSitesListComponent_ng_template_3_ng_container_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 15);\n  }\n  if (rf & 2) {\n    const ctx_r27 = i0.ɵɵnextContext();\n    const site_r23 = ctx_r27.site;\n    const isCurrentSite_r24 = ctx_r27.isCurrentSite;\n    const ctx_r25 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r25.siteLabelTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction2(2, _c4, site_r23, isCurrentSite_r24));\n  }\n}\nfunction CoreSitesListComponent_ng_template_3_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainer(0, 15);\n  }\n  if (rf & 2) {\n    const ctx_r28 = i0.ɵɵnextContext();\n    const site_r23 = ctx_r28.site;\n    const isCurrentSite_r24 = ctx_r28.isCurrentSite;\n    const ctx_r26 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngTemplateOutlet\", ctx_r26.siteItemTemplate)(\"ngTemplateOutletContext\", i0.ɵɵpureFunction2(2, _c4, site_r23, isCurrentSite_r24));\n  }\n}\nfunction CoreSitesListComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 11);\n    i0.ɵɵlistener(\"click\", function CoreSitesListComponent_ng_template_3_Template_ion_item_click_0_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r30);\n      const site_r23 = restoredCtx.site;\n      const isCurrentSite_r24 = restoredCtx.isCurrentSite;\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.siteClicked($event, site_r23, isCurrentSite_r24));\n    });\n    i0.ɵɵelement(1, \"core-user-avatar\", 12);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"p\", 13);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, CoreSitesListComponent_ng_template_3_ng_container_5_Template, 1, 5, \"ng-container\", 14);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, CoreSitesListComponent_ng_template_3_ng_container_6_Template, 1, 5, \"ng-container\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const site_r23 = ctx.site;\n    const isCurrentSite_r24 = ctx.isCurrentSite;\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵclassProp(\"item-current\", isCurrentSite_r24);\n    i0.ɵɵattribute(\"button\", ctx_r4.isSiteClickable(isCurrentSite_r24) ? true : null)(\"detail\", ctx_r4.isSiteClickable(isCurrentSite_r24) ? \"true\" : \"false\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"site\", site_r23)(\"linkProfile\", false)(\"siteId\", site_r23.id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(site_r23.fullname);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.siteLabelTemplate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.siteItemTemplate);\n  }\n}\n/**\n * Component to display a list of sites (accounts).\n *\n * By default this component will display the avatar and user fullname for each site, but it allows adding more information\n * in the item and in the label for each site, using #siteItem and #siteLabel ng-templates. These templates will receive the\n * site being rendered and whether it's the current site or not. Example:\n *\n * <core-sites-list [accountsList]=\"accountsList\">\n *     <ng-template #siteLabel let-site=\"site\" let-isCurrentSite=\"isCurrentSite\">\n *         <!-- Content to be placed in the label, after the user full name.\n *     </ng-template>\n *\n *    <ng-template #siteItem let-site=\"site\" let-isCurrentSite=\"isCurrentSite\">\n *         <!-- Content to be placed in the item.\n *     </ng-template>\n * </core-sites-list>\n */\nexport class CoreSitesListComponent {\n  constructor() {\n    this.sitesClickable = false; // Whether the sites are clickable.\n    this.onSiteClicked = new EventEmitter();\n  }\n  /**\n   * Check whether a site is clickable.\n   *\n   * @param isCurrentSite Whether the site is current site.\n   * @returns Whether it's clickable.\n   */\n  isSiteClickable(isCurrentSite) {\n    var _this$currentSiteClic;\n    return isCurrentSite ? (_this$currentSiteClic = this.currentSiteClickable) !== null && _this$currentSiteClic !== void 0 ? _this$currentSiteClic : this.sitesClickable : this.sitesClickable;\n  }\n  /**\n   * A site was clicked.\n   *\n   * @param ev Event.\n   * @param site Site clicked.\n   * @param isCurrentSite Whether the site is current site.\n   */\n  siteClicked(ev, site, isCurrentSite) {\n    if (!this.isSiteClickable(isCurrentSite)) {\n      return;\n    }\n    ev.preventDefault();\n    ev.stopPropagation();\n    this.onSiteClicked.emit(site);\n  }\n  /**\n   * Check whether site URL should be displayed.\n   *\n   * @param site Site to check.\n   * @returns Whether to display URL.\n   */\n  displaySiteUrl(site) {\n    return CoreSitesFactory.makeSite(site.id, site.siteUrl, '', {\n      info: site.info\n    }).shouldDisplayInformativeLinks();\n  }\n}\n_class = CoreSitesListComponent;\n_class.ɵfac = function CoreSitesListComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"core-sites-list\"]],\n  contentQueries: function CoreSitesListComponent_ContentQueries(rf, ctx, dirIndex) {\n    if (rf & 1) {\n      i0.ɵɵcontentQuery(dirIndex, _c0, 5);\n      i0.ɵɵcontentQuery(dirIndex, _c1, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.siteItemTemplate = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.siteLabelTemplate = _t.first);\n    }\n  },\n  inputs: {\n    accountsList: \"accountsList\",\n    sitesClickable: \"sitesClickable\",\n    currentSiteClickable: \"currentSiteClickable\"\n  },\n  outputs: {\n    onSiteClicked: \"onSiteClicked\"\n  },\n  decls: 5,\n  vars: 1,\n  consts: [[\"class\", \"core-sites-list\", 4, \"ngIf\"], [\"siteCardHeader\", \"\"], [\"siteItem\", \"\"], [1, \"core-sites-list\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [4, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"], [\"sticky\", \"true\", \"class\", \"core-sites-list-sitename\", 4, \"ngIf\"], [\"sticky\", \"true\", 1, \"core-sites-list-sitename\"], [\"clean\", \"true\", 3, \"text\", \"siteId\"], [\"core-link\", \"\", 3, \"href\", \"autoLogin\"], [3, \"click\"], [\"slot\", \"start\", 3, \"site\", \"linkProfile\", \"siteId\"], [1, \"item-heading\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\", 4, \"ngIf\"], [3, \"ngTemplateOutlet\", \"ngTemplateOutletContext\"]],\n  template: function CoreSitesListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, CoreSitesListComponent_ion_list_0_Template, 3, 2, \"ion-list\", 0);\n      i0.ɵɵtemplate(1, CoreSitesListComponent_ng_template_1_Template, 1, 1, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(3, CoreSitesListComponent_ng_template_3_Template, 7, 10, \"ng-template\", null, 2, i0.ɵɵtemplateRefExtractor);\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.accountsList);\n    }\n  },\n  styles: [\"ion-list.core-sites-list[_ngcontent-%COMP%]   .core-sites-list-sitename[_ngcontent-%COMP%] {\\n  border-bottom: 1px solid var(--stroke);\\n}\\nion-list.core-sites-list[_ngcontent-%COMP%]   .core-sites-list-sitename[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%] {\\n  margin-top: 8px;\\n  margin-bottom: 8px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9jb3JlL2NvbXBvbmVudHMvc2l0ZXMtbGlzdC9zaXRlcy1saXN0LnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0k7RUFNSSxzQ0FBQTtBQUxSO0FBQVE7RUFDSSxlQUFBO0VBQ0Esa0JBQUE7QUFFWiIsInNvdXJjZXNDb250ZW50IjpbImlvbi1saXN0LmNvcmUtc2l0ZXMtbGlzdCB7XG4gICAgLmNvcmUtc2l0ZXMtbGlzdC1zaXRlbmFtZSB7XG4gICAgICAgIGlvbi1sYWJlbCB7XG4gICAgICAgICAgICBtYXJnaW4tdG9wOiA4cHg7XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA4cHg7XG4gICAgICAgIH1cblxuICAgICAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgdmFyKC0tc3Ryb2tlKTtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["EventEmitter","CoreSitesFactory","i0","ɵɵelementContainer","ɵɵelementContainerStart","ɵɵtemplate","CoreSitesListComponent_ion_list_0_ion_card_1_ng_container_3_ng_container_1_Template","ɵɵelementContainerEnd","ɵɵadvance","ɵɵproperty","_r3","ɵɵpureFunction1","_c2","site_r10","ɵɵelementStart","CoreSitesListComponent_ion_list_0_ion_card_1_ng_container_1_Template","CoreSitesListComponent_ion_list_0_ion_card_1_ng_container_2_Template","CoreSitesListComponent_ion_list_0_ion_card_1_ng_container_3_Template","ɵɵelementEnd","_r1","_c3","ctx_r5","accountsList","currentSite","sameSite","CoreSitesListComponent_ion_list_0_ion_card_2_ng_container_2_ng_container_1_Template","site_r15","CoreSitesListComponent_ion_list_0_ion_card_2_ng_container_1_Template","CoreSitesListComponent_ion_list_0_ion_card_2_ng_container_2_Template","sites_r12","CoreSitesListComponent_ion_list_0_ion_card_1_Template","CoreSitesListComponent_ion_list_0_ion_card_2_Template","ctx_r0","otherSites","ɵɵtext","site_r17","siteUrl","ɵɵsanitizeUrl","isCurrentSite_r18","ɵɵtextInterpolate1","siteUrlWithoutProtocol","ɵɵelement","CoreSitesListComponent_ng_template_1_ion_item_divider_0_p_4_Template","siteName","id","ctx_r19","displaySiteUrl","CoreSitesListComponent_ng_template_1_ion_item_divider_0_Template","ctx_r25","siteLabelTemplate","ɵɵpureFunction2","_c4","site_r23","isCurrentSite_r24","ctx_r26","siteItemTemplate","ɵɵlistener","CoreSitesListComponent_ng_template_3_Template_ion_item_click_0_listener","$event","restoredCtx","ɵɵrestoreView","_r30","site","isCurrentSite","ctx_r29","ɵɵnextContext","ɵɵresetView","siteClicked","CoreSitesListComponent_ng_template_3_ng_container_5_Template","CoreSitesListComponent_ng_template_3_ng_container_6_Template","ɵɵclassProp","ɵɵattribute","ctx_r4","isSiteClickable","ɵɵtextInterpolate","fullname","CoreSitesListComponent","constructor","sitesClickable","onSiteClicked","_this$currentSiteClic","currentSiteClickable","ev","preventDefault","stopPropagation","emit","makeSite","info","shouldDisplayInformativeLinks","selectors","contentQueries","CoreSitesListComponent_ContentQueries","rf","ctx","dirIndex","CoreSitesListComponent_ion_list_0_Template","CoreSitesListComponent_ng_template_1_Template","ɵɵtemplateRefExtractor","CoreSitesListComponent_ng_template_3_Template"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/components/sites-list/sites-list.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/components/sites-list/sites-list.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, ContentChild, Input, Output, TemplateRef, EventEmitter } from '@angular/core';\n\nimport { CoreSiteBasicInfo } from '@services/sites';\nimport { CoreAccountsList } from '@features/login/services/login-helper';\nimport { CoreSitesFactory } from '@services/sites-factory';\n\n/**\n * Component to display a list of sites (accounts).\n *\n * By default this component will display the avatar and user fullname for each site, but it allows adding more information\n * in the item and in the label for each site, using #siteItem and #siteLabel ng-templates. These templates will receive the\n * site being rendered and whether it's the current site or not. Example:\n *\n * <core-sites-list [accountsList]=\"accountsList\">\n *     <ng-template #siteLabel let-site=\"site\" let-isCurrentSite=\"isCurrentSite\">\n *         <!-- Content to be placed in the label, after the user full name.\n *     </ng-template>\n *\n *    <ng-template #siteItem let-site=\"site\" let-isCurrentSite=\"isCurrentSite\">\n *         <!-- Content to be placed in the item.\n *     </ng-template>\n * </core-sites-list>\n */\n@Component({\n    selector: 'core-sites-list',\n    templateUrl: 'sites-list.html',\n    styleUrls: ['sites-list.scss'],\n})\nexport class CoreSitesListComponent<T extends CoreSiteBasicInfo> {\n\n    @Input() accountsList!: CoreAccountsList<T>;\n    @Input() sitesClickable = false; // Whether the sites are clickable.\n    @Input() currentSiteClickable?: boolean; // If set, specify a different clickable value for current site.\n    @Output() onSiteClicked = new EventEmitter<T>();\n\n    @ContentChild('siteItem') siteItemTemplate?: TemplateRef<unknown>;\n    @ContentChild('siteLabel') siteLabelTemplate?: TemplateRef<unknown>;\n\n    /**\n     * Check whether a site is clickable.\n     *\n     * @param isCurrentSite Whether the site is current site.\n     * @returns Whether it's clickable.\n     */\n    isSiteClickable(isCurrentSite: boolean): boolean {\n        return isCurrentSite ? this.currentSiteClickable ?? this.sitesClickable : this.sitesClickable;\n    }\n\n    /**\n     * A site was clicked.\n     *\n     * @param ev Event.\n     * @param site Site clicked.\n     * @param isCurrentSite Whether the site is current site.\n     */\n    siteClicked(ev: Event, site: T, isCurrentSite: boolean): void {\n        if (!this.isSiteClickable(isCurrentSite)) {\n            return;\n        }\n\n        ev.preventDefault();\n        ev.stopPropagation();\n\n        this.onSiteClicked.emit(site);\n    }\n\n    /**\n     * Check whether site URL should be displayed.\n     *\n     * @param site Site to check.\n     * @returns Whether to display URL.\n     */\n    displaySiteUrl(site: CoreSiteBasicInfo): boolean {\n        return CoreSitesFactory.makeSite(site.id, site.siteUrl, '', { info: site.info }).shouldDisplayInformativeLinks();\n    }\n\n}\n","<ion-list class=\"core-sites-list\" *ngIf=\"accountsList\">\n    <ion-card *ngIf=\"accountsList.currentSite\">\n        <ng-container *ngTemplateOutlet=\"siteCardHeader; context: {site: accountsList.currentSite, isCurrentSite: true}\" />\n\n        <ng-container *ngTemplateOutlet=\"siteItem; context: {site: accountsList.currentSite, isCurrentSite: true}\" />\n\n        <ng-container *ngFor=\"let site of accountsList.sameSite\">\n            <ng-container *ngTemplateOutlet=\"siteItem; context: {site: site, isCurrentSite: false}\" />\n        </ng-container>\n    </ion-card>\n\n    <ion-card *ngFor=\"let sites of accountsList.otherSites\">\n        <ng-container *ngTemplateOutlet=\"siteCardHeader; context: {site: sites[0], isCurrentSite: false}\" />\n\n        <ng-container *ngFor=\"let site of sites\">\n            <ng-container *ngTemplateOutlet=\"siteItem; context: {site: site, isCurrentSite: false}\" />\n        </ng-container>\n    </ion-card>\n\n</ion-list>\n\n<!-- Template to render the header of a site card. -->\n<ng-template #siteCardHeader let-site=\"site\" let-isCurrentSite=\"isCurrentSite\">\n    <ion-item-divider sticky=\"true\" *ngIf=\"site\" class=\"core-sites-list-sitename\">\n        <ion-label>\n            <h2>\n                <core-format-text [text]=\"site.siteName\" clean=\"true\" [siteId]=\"site.id\" />\n            </h2>\n            <p *ngIf=\"displaySiteUrl(site)\">\n                <a [href]=\"site.siteUrl\" core-link [autoLogin]=\"isCurrentSite ? 'yes' : 'no'\">\n                    {{ site.siteUrlWithoutProtocol }}\n                </a>\n            </p>\n        </ion-label>\n    </ion-item-divider>\n</ng-template>\n\n<!-- Template to render a site item. -->\n<ng-template #siteItem let-site=\"site\" let-isCurrentSite=\"isCurrentSite\">\n    <ion-item [attr.button]=\"isSiteClickable(isCurrentSite) ? true : null\" (click)=\"siteClicked($event, site, isCurrentSite)\"\n        [attr.detail]=\"isSiteClickable(isCurrentSite) ? 'true' : 'false'\" [class.item-current]=\"isCurrentSite\">\n\n        <core-user-avatar [site]=\"site\" slot=\"start\" [linkProfile]=\"false\" [siteId]=\"site.id\" />\n\n        <ion-label>\n            <p class=\"item-heading\">{{site.fullname}}</p>\n            <ng-container *ngIf=\"siteLabelTemplate\" [ngTemplateOutlet]=\"siteLabelTemplate\"\n                [ngTemplateOutletContext]=\"{site: site, isCurrentSite: isCurrentSite}\" />\n        </ion-label>\n\n        <ng-container *ngIf=\"siteItemTemplate\" [ngTemplateOutlet]=\"siteItemTemplate\"\n            [ngTemplateOutletContext]=\"{site: site, isCurrentSite: isCurrentSite}\" />\n    </ion-item>\n</ng-template>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}