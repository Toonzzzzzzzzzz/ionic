{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { Router } from '@singletons';\nimport { AddonMessagesMainMenuHandlerService } from '../services/handlers/mainmenu';\nimport { AddonMessages } from '../services/messages';\n/**\n * Guard to redirect to the right page based on the current Moodle site version.\n *\n * @returns Route.\n */\nexport const messagesIndexGuard = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator(function* (route) {\n    const enabled = AddonMessages.isGroupMessagingEnabled();\n    const path = `/main/${AddonMessagesMainMenuHandlerService.PAGE_NAME}/` + (enabled ? 'group-conversations' : 'index');\n    const newRoute = Router.parseUrl(path);\n    newRoute.queryParams = route.queryParams;\n    return newRoute;\n  });\n  return function messagesIndexGuard(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["Router","AddonMessagesMainMenuHandlerService","AddonMessages","messagesIndexGuard","_ref","_asyncToGenerator","route","enabled","isGroupMessagingEnabled","path","PAGE_NAME","newRoute","parseUrl","queryParams","_x","apply","arguments"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/messages/guards/index.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { ActivatedRouteSnapshot, CanActivateFn } from '@angular/router';\nimport { Router } from '@singletons';\nimport { AddonMessagesMainMenuHandlerService } from '../services/handlers/mainmenu';\nimport { AddonMessages } from '../services/messages';\n\n/**\n * Guard to redirect to the right page based on the current Moodle site version.\n *\n * @returns Route.\n */\nexport const messagesIndexGuard: CanActivateFn = async (route: ActivatedRouteSnapshot) => {\n    const enabled = AddonMessages.isGroupMessagingEnabled();\n    const path = `/main/${AddonMessagesMainMenuHandlerService.PAGE_NAME}/` + ( enabled ? 'group-conversations' : 'index');\n\n    const newRoute = Router.parseUrl(path);\n\n    newRoute.queryParams = route.queryParams;\n\n    return newRoute;\n};\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,SAASA,MAAM,QAAQ,aAAa;AACpC,SAASC,mCAAmC,QAAQ,+BAA+B;AACnF,SAASC,aAAa,QAAQ,sBAAsB;AAEpD;;;;;AAKA,OAAO,MAAMC,kBAAkB;EAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAkB,WAAOC,KAA6B,EAAI;IACrF,MAAMC,OAAO,GAAGL,aAAa,CAACM,uBAAuB,EAAE;IACvD,MAAMC,IAAI,GAAG,SAASR,mCAAmC,CAACS,SAAS,GAAG,IAAKH,OAAO,GAAG,qBAAqB,GAAG,OAAO,CAAC;IAErH,MAAMI,QAAQ,GAAGX,MAAM,CAACY,QAAQ,CAACH,IAAI,CAAC;IAEtCE,QAAQ,CAACE,WAAW,GAAGP,KAAK,CAACO,WAAW;IAExC,OAAOF,QAAQ;EACnB,CAAC;EAAA,gBATYR,kBAAkBA,CAAAW,EAAA;IAAA,OAAAV,IAAA,CAAAW,KAAA,OAAAC,SAAA;EAAA;AAAA,GAS9B"},"metadata":{},"sourceType":"module","externalDependencies":[]}