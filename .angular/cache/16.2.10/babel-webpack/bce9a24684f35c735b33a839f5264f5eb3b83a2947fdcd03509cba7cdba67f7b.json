{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { CoreConstants } from '@/core/constants';\nimport { CoreModuleHandlerBase } from '@features/course/classes/module-base-handler';\nimport { CoreCourse } from '@features/course/services/course';\nimport { CoreCourseModulePrefetchDelegate } from '@features/course/services/module-prefetch-delegate';\nimport { CoreFileHelper } from '@services/file-helper';\nimport { CoreMimetypeUtils } from '@services/utils/mimetype';\nimport { makeSingleton, Translate } from '@singletons';\nimport { AddonModResourceIndexComponent } from '../../components/index';\nimport { AddonModResource } from '../resource';\nimport { AddonModResourceHelper } from '../resource-helper';\nimport { CoreUtils } from '@services/utils/utils';\nimport * as i0 from \"@angular/core\";\n/**\n * Handler to support resource modules.\n */\nexport class AddonModResourceModuleHandlerService extends CoreModuleHandlerBase {\n  constructor() {\n    super(...arguments);\n    this.name = 'AddonModResource';\n    this.modName = 'resource';\n    this.pageName = AddonModResourceModuleHandlerService.PAGE_NAME;\n    this.supportedFeatures = {\n      [CoreConstants.FEATURE_MOD_ARCHETYPE]: CoreConstants.MOD_ARCHETYPE_RESOURCE,\n      [CoreConstants.FEATURE_GROUPS]: false,\n      [CoreConstants.FEATURE_GROUPINGS]: false,\n      [CoreConstants.FEATURE_MOD_INTRO]: true,\n      [CoreConstants.FEATURE_COMPLETION_TRACKS_VIEWS]: true,\n      [CoreConstants.FEATURE_GRADE_HAS_GRADE]: false,\n      [CoreConstants.FEATURE_GRADE_OUTCOMES]: false,\n      [CoreConstants.FEATURE_BACKUP_MOODLE2]: true,\n      [CoreConstants.FEATURE_SHOW_DESCRIPTION]: true,\n      [CoreConstants.FEATURE_MOD_PURPOSE]: \"content\" /* ModPurpose.MOD_PURPOSE_CONTENT */\n    };\n  }\n\n  /**\n   * @inheritdoc\n   */\n  isEnabled() {\n    return AddonModResource.isPluginEnabled();\n  }\n  /**\n   * @inheritdoc\n   */\n  getData(module, courseId, sectionId, forCoursePage) {\n    var _superprop_getGetData = () => super.getData,\n      _this = this;\n    return _asyncToGenerator(function* () {\n      const openWithPicker = CoreFileHelper.defaultIsOpenWithPicker();\n      const handlerData = yield _superprop_getGetData().call(_this, module, courseId, sectionId, forCoursePage);\n      handlerData.updateStatus = status => {\n        if (!handlerData.button) {\n          return;\n        }\n        handlerData.button.hidden = status !== CoreConstants.DOWNLOADED || AddonModResourceHelper.isDisplayedInIframe(module);\n      };\n      handlerData.button = {\n        hidden: true,\n        icon: openWithPicker ? 'fas-share-from-square' : 'fas-file',\n        label: module.name + ': ' + Translate.instant(openWithPicker ? 'core.openwith' : 'addon.mod_resource.openthefile'),\n        action: function () {\n          var _ref = _asyncToGenerator(function* (event, module, courseId) {\n            const hide = yield _this.hideOpenButton(module);\n            if (!hide) {\n              AddonModResourceHelper.openModuleFile(module, courseId);\n              CoreCourse.storeModuleViewed(courseId, module.id);\n            }\n          });\n          return function action(_x, _x2, _x3) {\n            return _ref.apply(this, arguments);\n          };\n        }()\n      };\n      const [hideButton, extraBadge] = yield Promise.all([CoreUtils.ignoreErrors(_this.hideOpenButton(module)), CoreUtils.ignoreErrors(AddonModResourceHelper.getAfterLinkDetails(module, courseId))]);\n      // Check if the button needs to be shown or not.\n      if (hideButton !== undefined) {\n        handlerData.button.hidden = hideButton;\n      }\n      if (extraBadge !== undefined) {\n        handlerData.extraBadge = extraBadge;\n      }\n      handlerData.icon = _this.getIconSrc(module);\n      return handlerData;\n    })();\n  }\n  /**\n   * Returns if contents are loaded to show open button.\n   *\n   * @param module The module object.\n   * @returns Resolved when done.\n   */\n  hideOpenButton(module) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (!module.contentsinfo) {\n        // Not informed before 3.7.6.\n        yield CoreCourse.loadModuleContents(module, undefined, undefined, false, false, undefined, _this2.modName);\n      }\n      const status = yield CoreCourseModulePrefetchDelegate.getModuleStatus(module, module.course);\n      return status !== CoreConstants.DOWNLOADED || AddonModResourceHelper.isDisplayedInIframe(module);\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  manualCompletionAlwaysShown(module) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      const hideButton = yield _this3.hideOpenButton(module);\n      return !hideButton;\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  getIconSrc(module) {\n    if (!module) {\n      return;\n    }\n    let mimetypeIcon = '';\n    if (module.contentsinfo) {\n      // No need to use the list of files.\n      const mimetype = module.contentsinfo.mimetypes[0];\n      if (mimetype) {\n        mimetypeIcon = CoreMimetypeUtils.getMimetypeIcon(mimetype);\n      }\n    } else if (module.contents && module.contents[0]) {\n      const files = module.contents;\n      const file = files[0];\n      mimetypeIcon = CoreMimetypeUtils.getFileIcon(file.filename || '');\n    }\n    return CoreCourse.getModuleIconSrc(module.modname, module.modicon, mimetypeIcon);\n  }\n  /**\n   * @inheritdoc\n   */\n  getMainComponent() {\n    return _asyncToGenerator(function* () {\n      return AddonModResourceIndexComponent;\n    })();\n  }\n}\n_class = AddonModResourceModuleHandlerService;\n_class.PAGE_NAME = 'mod_resource';\n_class.ɵfac = /*@__PURE__*/function () {\n  let ɵAddonModResourceModuleHandlerService_BaseFactory;\n  return function AddonModResourceModuleHandlerService_Factory(t) {\n    return (ɵAddonModResourceModuleHandlerService_BaseFactory || (ɵAddonModResourceModuleHandlerService_BaseFactory = i0.ɵɵgetInheritedFactory(_class)))(t || _class);\n  };\n}();\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});\nexport const AddonModResourceModuleHandler = makeSingleton(AddonModResourceModuleHandlerService);","map":{"version":3,"names":["CoreConstants","CoreModuleHandlerBase","CoreCourse","CoreCourseModulePrefetchDelegate","CoreFileHelper","CoreMimetypeUtils","makeSingleton","Translate","AddonModResourceIndexComponent","AddonModResource","AddonModResourceHelper","CoreUtils","AddonModResourceModuleHandlerService","constructor","name","modName","pageName","PAGE_NAME","supportedFeatures","FEATURE_MOD_ARCHETYPE","MOD_ARCHETYPE_RESOURCE","FEATURE_GROUPS","FEATURE_GROUPINGS","FEATURE_MOD_INTRO","FEATURE_COMPLETION_TRACKS_VIEWS","FEATURE_GRADE_HAS_GRADE","FEATURE_GRADE_OUTCOMES","FEATURE_BACKUP_MOODLE2","FEATURE_SHOW_DESCRIPTION","FEATURE_MOD_PURPOSE","isEnabled","isPluginEnabled","getData","module","courseId","sectionId","forCoursePage","_superprop_getGetData","_this","_asyncToGenerator","openWithPicker","defaultIsOpenWithPicker","handlerData","call","updateStatus","status","button","hidden","DOWNLOADED","isDisplayedInIframe","icon","label","instant","action","_ref","event","hide","hideOpenButton","openModuleFile","storeModuleViewed","id","_x","_x2","_x3","apply","arguments","hideButton","extraBadge","Promise","all","ignoreErrors","getAfterLinkDetails","undefined","getIconSrc","_this2","contentsinfo","loadModuleContents","getModuleStatus","course","manualCompletionAlwaysShown","_this3","mimetypeIcon","mimetype","mimetypes","getMimetypeIcon","contents","files","file","getFileIcon","filename","getModuleIconSrc","modname","modicon","getMainComponent","_class","t","factory","ɵfac","providedIn","AddonModResourceModuleHandler"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/resource/services/handlers/module.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { CoreConstants, ModPurpose } from '@/core/constants';\nimport { Injectable, Type } from '@angular/core';\nimport { CoreModuleHandlerBase } from '@features/course/classes/module-base-handler';\nimport { CoreCourse } from '@features/course/services/course';\nimport { CoreCourseModuleData } from '@features/course/services/course-helper';\nimport { CoreCourseModuleHandler, CoreCourseModuleHandlerData } from '@features/course/services/module-delegate';\nimport { CoreCourseModulePrefetchDelegate } from '@features/course/services/module-prefetch-delegate';\nimport { CoreFileHelper } from '@services/file-helper';\nimport { CoreMimetypeUtils } from '@services/utils/mimetype';\nimport { makeSingleton, Translate } from '@singletons';\nimport { AddonModResourceIndexComponent } from '../../components/index';\nimport { AddonModResource } from '../resource';\nimport { AddonModResourceHelper } from '../resource-helper';\nimport { CoreUtils } from '@services/utils/utils';\n\n/**\n * Handler to support resource modules.\n */\n@Injectable({ providedIn: 'root' })\nexport class AddonModResourceModuleHandlerService extends CoreModuleHandlerBase implements CoreCourseModuleHandler {\n\n    static readonly PAGE_NAME = 'mod_resource';\n\n    name = 'AddonModResource';\n    modName = 'resource';\n    protected pageName = AddonModResourceModuleHandlerService.PAGE_NAME;\n\n    supportedFeatures = {\n        [CoreConstants.FEATURE_MOD_ARCHETYPE]: CoreConstants.MOD_ARCHETYPE_RESOURCE,\n        [CoreConstants.FEATURE_GROUPS]: false,\n        [CoreConstants.FEATURE_GROUPINGS]: false,\n        [CoreConstants.FEATURE_MOD_INTRO]: true,\n        [CoreConstants.FEATURE_COMPLETION_TRACKS_VIEWS]: true,\n        [CoreConstants.FEATURE_GRADE_HAS_GRADE]: false,\n        [CoreConstants.FEATURE_GRADE_OUTCOMES]: false,\n        [CoreConstants.FEATURE_BACKUP_MOODLE2]: true,\n        [CoreConstants.FEATURE_SHOW_DESCRIPTION]: true,\n        [CoreConstants.FEATURE_MOD_PURPOSE]: ModPurpose.MOD_PURPOSE_CONTENT,\n    };\n\n    /**\n     * @inheritdoc\n     */\n    isEnabled(): Promise<boolean> {\n        return AddonModResource.isPluginEnabled();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async getData(\n        module: CoreCourseModuleData,\n        courseId: number,\n        sectionId?: number,\n        forCoursePage?: boolean,\n    ): Promise<CoreCourseModuleHandlerData> {\n        const openWithPicker = CoreFileHelper.defaultIsOpenWithPicker();\n\n        const handlerData = await super.getData(module, courseId, sectionId, forCoursePage);\n        handlerData.updateStatus = (status) => {\n            if (!handlerData.button) {\n                return;\n            }\n\n            handlerData.button.hidden = status !== CoreConstants.DOWNLOADED ||\n                AddonModResourceHelper.isDisplayedInIframe(module);\n        };\n        handlerData.button = {\n            hidden: true,\n            icon: openWithPicker ? 'fas-share-from-square' : 'fas-file',\n            label: module.name + ': ' + Translate.instant(openWithPicker ? 'core.openwith' : 'addon.mod_resource.openthefile'),\n            action: async (event: Event, module: CoreCourseModuleData, courseId: number): Promise<void> => {\n                const hide = await this.hideOpenButton(module);\n                if (!hide) {\n                    AddonModResourceHelper.openModuleFile(module, courseId);\n\n                    CoreCourse.storeModuleViewed(courseId, module.id);\n                }\n            },\n        };\n\n        const [hideButton, extraBadge] = await Promise.all([\n            CoreUtils.ignoreErrors(this.hideOpenButton(module)),\n            CoreUtils.ignoreErrors(AddonModResourceHelper.getAfterLinkDetails(module, courseId)),\n        ]);\n\n        // Check if the button needs to be shown or not.\n        if (hideButton !== undefined) {\n            handlerData.button.hidden = hideButton;\n        }\n        if (extraBadge !== undefined) {\n            handlerData.extraBadge = extraBadge;\n        }\n\n        handlerData.icon = this.getIconSrc(module);\n\n        return handlerData;\n    }\n\n    /**\n     * Returns if contents are loaded to show open button.\n     *\n     * @param module The module object.\n     * @returns Resolved when done.\n     */\n    protected async hideOpenButton(module: CoreCourseModuleData): Promise<boolean> {\n        if (!module.contentsinfo) { // Not informed before 3.7.6.\n            await CoreCourse.loadModuleContents(module, undefined, undefined, false, false, undefined, this.modName);\n        }\n\n        const status = await CoreCourseModulePrefetchDelegate.getModuleStatus(module, module.course);\n\n        return status !== CoreConstants.DOWNLOADED || AddonModResourceHelper.isDisplayedInIframe(module);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async manualCompletionAlwaysShown(module: CoreCourseModuleData): Promise<boolean> {\n        const hideButton = await this.hideOpenButton(module);\n\n        return !hideButton;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getIconSrc(module?: CoreCourseModuleData): string | undefined {\n        if (!module) {\n            return;\n        }\n\n        let mimetypeIcon = '';\n\n        if (module.contentsinfo) {\n            // No need to use the list of files.\n            const mimetype = module.contentsinfo.mimetypes[0];\n            if (mimetype) {\n                mimetypeIcon = CoreMimetypeUtils.getMimetypeIcon(mimetype);\n            }\n\n        } else if (module.contents && module.contents[0]) {\n            const files = module.contents;\n            const file = files[0];\n\n            mimetypeIcon = CoreMimetypeUtils.getFileIcon(file.filename || '');\n        }\n\n        return CoreCourse.getModuleIconSrc(module.modname, module.modicon, mimetypeIcon);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async getMainComponent(): Promise<Type<unknown>> {\n        return AddonModResourceIndexComponent;\n    }\n\n}\nexport const AddonModResourceModuleHandler = makeSingleton(AddonModResourceModuleHandlerService);\n"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,SAASA,aAAa,QAAoB,kBAAkB;AAE5D,SAASC,qBAAqB,QAAQ,8CAA8C;AACpF,SAASC,UAAU,QAAQ,kCAAkC;AAG7D,SAASC,gCAAgC,QAAQ,oDAAoD;AACrG,SAASC,cAAc,QAAQ,uBAAuB;AACtD,SAASC,iBAAiB,QAAQ,0BAA0B;AAC5D,SAASC,aAAa,EAAEC,SAAS,QAAQ,aAAa;AACtD,SAASC,8BAA8B,QAAQ,wBAAwB;AACvE,SAASC,gBAAgB,QAAQ,aAAa;AAC9C,SAASC,sBAAsB,QAAQ,oBAAoB;AAC3D,SAASC,SAAS,QAAQ,uBAAuB;;AAEjD;;;AAIA,OAAM,MAAOC,oCAAqC,SAAQX,qBAAqB;EAD/EY,YAAA;;IAKI,KAAAC,IAAI,GAAG,kBAAkB;IACzB,KAAAC,OAAO,GAAG,UAAU;IACV,KAAAC,QAAQ,GAAGJ,oCAAoC,CAACK,SAAS;IAEnE,KAAAC,iBAAiB,GAAG;MAChB,CAAClB,aAAa,CAACmB,qBAAqB,GAAGnB,aAAa,CAACoB,sBAAsB;MAC3E,CAACpB,aAAa,CAACqB,cAAc,GAAG,KAAK;MACrC,CAACrB,aAAa,CAACsB,iBAAiB,GAAG,KAAK;MACxC,CAACtB,aAAa,CAACuB,iBAAiB,GAAG,IAAI;MACvC,CAACvB,aAAa,CAACwB,+BAA+B,GAAG,IAAI;MACrD,CAACxB,aAAa,CAACyB,uBAAuB,GAAG,KAAK;MAC9C,CAACzB,aAAa,CAAC0B,sBAAsB,GAAG,KAAK;MAC7C,CAAC1B,aAAa,CAAC2B,sBAAsB,GAAG,IAAI;MAC5C,CAAC3B,aAAa,CAAC4B,wBAAwB,GAAG,IAAI;MAC9C,CAAC5B,aAAa,CAAC6B,mBAAmB,GAAC;KACtC;;;EAED;;;EAGAC,SAASA,CAAA;IACL,OAAOrB,gBAAgB,CAACsB,eAAe,EAAE;EAC7C;EAEA;;;EAGMC,OAAOA,CACTC,MAA4B,EAC5BC,QAAgB,EAChBC,SAAkB,EAClBC,aAAuB;IAAA,IAAAC,qBAAA,GAAAA,CAAA,WAAAL,OAAA;MAAAM,KAAA;IAAA,OAAAC,iBAAA;MAEvB,MAAMC,cAAc,GAAGpC,cAAc,CAACqC,uBAAuB,EAAE;MAE/D,MAAMC,WAAW,SAASL,qBAAA,GAAAM,IAAA,CAAAL,KAAA,EAAcL,MAAM,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,aAAa,CAAC;MACnFM,WAAW,CAACE,YAAY,GAAIC,MAAM,IAAI;QAClC,IAAI,CAACH,WAAW,CAACI,MAAM,EAAE;UACrB;;QAGJJ,WAAW,CAACI,MAAM,CAACC,MAAM,GAAGF,MAAM,KAAK7C,aAAa,CAACgD,UAAU,IAC3DtC,sBAAsB,CAACuC,mBAAmB,CAAChB,MAAM,CAAC;MAC1D,CAAC;MACDS,WAAW,CAACI,MAAM,GAAG;QACjBC,MAAM,EAAE,IAAI;QACZG,IAAI,EAAEV,cAAc,GAAG,uBAAuB,GAAG,UAAU;QAC3DW,KAAK,EAAElB,MAAM,CAACnB,IAAI,GAAG,IAAI,GAAGP,SAAS,CAAC6C,OAAO,CAACZ,cAAc,GAAG,eAAe,GAAG,gCAAgC,CAAC;QAClHa,MAAM;UAAA,IAAAC,IAAA,GAAAf,iBAAA,CAAE,WAAOgB,KAAY,EAAEtB,MAA4B,EAAEC,QAAgB,EAAmB;YAC1F,MAAMsB,IAAI,SAASlB,KAAI,CAACmB,cAAc,CAACxB,MAAM,CAAC;YAC9C,IAAI,CAACuB,IAAI,EAAE;cACP9C,sBAAsB,CAACgD,cAAc,CAACzB,MAAM,EAAEC,QAAQ,CAAC;cAEvDhC,UAAU,CAACyD,iBAAiB,CAACzB,QAAQ,EAAED,MAAM,CAAC2B,EAAE,CAAC;;UAEzD,CAAC;UAAA,gBAAAP,OAAAQ,EAAA,EAAAC,GAAA,EAAAC,GAAA;YAAA,OAAAT,IAAA,CAAAU,KAAA,OAAAC,SAAA;UAAA;QAAA;OACJ;MAED,MAAM,CAACC,UAAU,EAAEC,UAAU,CAAC,SAASC,OAAO,CAACC,GAAG,CAAC,CAC/C1D,SAAS,CAAC2D,YAAY,CAAChC,KAAI,CAACmB,cAAc,CAACxB,MAAM,CAAC,CAAC,EACnDtB,SAAS,CAAC2D,YAAY,CAAC5D,sBAAsB,CAAC6D,mBAAmB,CAACtC,MAAM,EAAEC,QAAQ,CAAC,CAAC,CACvF,CAAC;MAEF;MACA,IAAIgC,UAAU,KAAKM,SAAS,EAAE;QAC1B9B,WAAW,CAACI,MAAM,CAACC,MAAM,GAAGmB,UAAU;;MAE1C,IAAIC,UAAU,KAAKK,SAAS,EAAE;QAC1B9B,WAAW,CAACyB,UAAU,GAAGA,UAAU;;MAGvCzB,WAAW,CAACQ,IAAI,GAAGZ,KAAI,CAACmC,UAAU,CAACxC,MAAM,CAAC;MAE1C,OAAOS,WAAW;IAAC;EACvB;EAEA;;;;;;EAMgBe,cAAcA,CAACxB,MAA4B;IAAA,IAAAyC,MAAA;IAAA,OAAAnC,iBAAA;MACvD,IAAI,CAACN,MAAM,CAAC0C,YAAY,EAAE;QAAE;QACxB,MAAMzE,UAAU,CAAC0E,kBAAkB,CAAC3C,MAAM,EAAEuC,SAAS,EAAEA,SAAS,EAAE,KAAK,EAAE,KAAK,EAAEA,SAAS,EAAEE,MAAI,CAAC3D,OAAO,CAAC;;MAG5G,MAAM8B,MAAM,SAAS1C,gCAAgC,CAAC0E,eAAe,CAAC5C,MAAM,EAAEA,MAAM,CAAC6C,MAAM,CAAC;MAE5F,OAAOjC,MAAM,KAAK7C,aAAa,CAACgD,UAAU,IAAItC,sBAAsB,CAACuC,mBAAmB,CAAChB,MAAM,CAAC;IAAC;EACrG;EAEA;;;EAGM8C,2BAA2BA,CAAC9C,MAA4B;IAAA,IAAA+C,MAAA;IAAA,OAAAzC,iBAAA;MAC1D,MAAM2B,UAAU,SAASc,MAAI,CAACvB,cAAc,CAACxB,MAAM,CAAC;MAEpD,OAAO,CAACiC,UAAU;IAAC;EACvB;EAEA;;;EAGAO,UAAUA,CAACxC,MAA6B;IACpC,IAAI,CAACA,MAAM,EAAE;MACT;;IAGJ,IAAIgD,YAAY,GAAG,EAAE;IAErB,IAAIhD,MAAM,CAAC0C,YAAY,EAAE;MACrB;MACA,MAAMO,QAAQ,GAAGjD,MAAM,CAAC0C,YAAY,CAACQ,SAAS,CAAC,CAAC,CAAC;MACjD,IAAID,QAAQ,EAAE;QACVD,YAAY,GAAG5E,iBAAiB,CAAC+E,eAAe,CAACF,QAAQ,CAAC;;KAGjE,MAAM,IAAIjD,MAAM,CAACoD,QAAQ,IAAIpD,MAAM,CAACoD,QAAQ,CAAC,CAAC,CAAC,EAAE;MAC9C,MAAMC,KAAK,GAAGrD,MAAM,CAACoD,QAAQ;MAC7B,MAAME,IAAI,GAAGD,KAAK,CAAC,CAAC,CAAC;MAErBL,YAAY,GAAG5E,iBAAiB,CAACmF,WAAW,CAACD,IAAI,CAACE,QAAQ,IAAI,EAAE,CAAC;;IAGrE,OAAOvF,UAAU,CAACwF,gBAAgB,CAACzD,MAAM,CAAC0D,OAAO,EAAE1D,MAAM,CAAC2D,OAAO,EAAEX,YAAY,CAAC;EACpF;EAEA;;;EAGMY,gBAAgBA,CAAA;IAAA,OAAAtD,iBAAA;MAClB,OAAO/B,8BAA8B;IAAC;EAC1C;;SAzISI,oCAAqC;AAE9BkF,MAAA,CAAA7E,SAAS,GAAG,cAAc;;;;+IAFjCL,MAAoC,IAAAmF,CAAA,IAApCnF,MAAoC;EAAA;AAAA;;SAApCA,MAAoC;EAAAoF,OAAA,EAApCpF,MAAoC,CAAAqF,IAAA;EAAAC,UAAA,EADvB;AAAM;AA6IhC,OAAO,MAAMC,6BAA6B,GAAG7F,aAAa,CAACM,oCAAoC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}