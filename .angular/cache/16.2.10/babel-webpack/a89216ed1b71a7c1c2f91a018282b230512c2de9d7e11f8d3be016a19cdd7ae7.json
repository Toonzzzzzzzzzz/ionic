{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreCourse } from '@features/course/services/course';\nimport { CoreCourseModuleDelegate } from '@features/course/services/module-delegate';\nimport { CoreCourseHelper } from '@features/course/services/course-helper';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreConstants } from '@/core/constants';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreTime } from '@singletons/time';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\nimport * as i0 from \"@angular/core\";\nfunction CoreCourseListModTypePage_core_empty_box_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-empty-box\", 9);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"message\", i0.ɵɵpipeBind1(1, 1, \"core.course.nocontentavailable\"));\n  }\n}\nfunction CoreCourseListModTypePage_ng_container_15_ng_container_1_ion_item_divider_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item-divider\", 12)(1, \"ion-label\")(2, \"h2\");\n    i0.ɵɵelement(3, \"core-format-text\", 13);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const section_r2 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"text\", section_r2.name)(\"contextInstanceId\", ctx_r5.courseId);\n  }\n}\nfunction CoreCourseListModTypePage_ng_container_15_ng_container_1_ng_container_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelement(1, \"core-course-module\", 14);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const module_r8 = ctx.$implicit;\n    const section_r2 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"module\", module_r8)(\"section\", section_r2)(\"showActivityDates\", false)(\"showAvailability\", false)(\"showExtra\", false)(\"showDownloadStatus\", false)(\"showCompletion\", false)(\"showIndentation\", false);\n  }\n}\nfunction CoreCourseListModTypePage_ng_container_15_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreCourseListModTypePage_ng_container_15_ng_container_1_ion_item_divider_1_Template, 4, 2, \"ion-item-divider\", 11);\n    i0.ɵɵtemplate(2, CoreCourseListModTypePage_ng_container_15_ng_container_1_ng_container_2_Template, 2, 8, \"ng-container\", 7);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const section_r2 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", section_r2.name);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", section_r2.modules);\n  }\n}\nfunction CoreCourseListModTypePage_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreCourseListModTypePage_ng_container_15_ng_container_1_Template, 3, 2, \"ng-container\", 10);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const i_r3 = ctx.index;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", i_r3 <= ctx_r1.lastShownSectionIndex);\n  }\n}\n/**\n * Page that displays all modules of a certain type in a course.\n */\nexport class CoreCourseListModTypePage {\n  // How many activities should load each time showMoreActivities is called.\n  constructor() {\n    var _this = this;\n    this.sections = [];\n    this.title = '';\n    this.loaded = false;\n    this.courseId = 0;\n    this.canLoadMore = false;\n    this.lastShownSectionIndex = -1;\n    this.archetypes = {}; // To speed up the check of modules.\n    this.logView = CoreTime.once( /*#__PURE__*/_asyncToGenerator(function* () {\n      if (!_this.modName) {\n        return;\n      }\n      CoreAnalytics.logEvent({\n        type: CoreAnalyticsEventType.VIEW_ITEM_LIST,\n        ws: 'core_course_get_contents',\n        name: _this.title,\n        data: {\n          category: _this.modName\n        },\n        url: (_this.modName === 'resources' ? '/course/resources.php' : `/mod/${_this.modName}/index.php`) + `?id=${_this.courseId}`\n      });\n    }));\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        _this2.title = CoreNavigator.getRouteParam('title') || '';\n        _this2.courseId = CoreNavigator.getRequiredRouteParam('courseId');\n        _this2.modName = CoreNavigator.getRequiredRouteParam('modName');\n      } catch (error) {\n        CoreDomUtils.showErrorModal(error);\n        CoreNavigator.back();\n        return;\n      }\n      try {\n        yield _this2.fetchData();\n      } finally {\n        _this2.loaded = true;\n      }\n    })();\n  }\n  /**\n   * Fetches the data.\n   */\n  fetchData() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this3.courseId) {\n        return;\n      }\n      try {\n        // Get all the modules in the course.\n        let sections = yield CoreCourse.getSections(_this3.courseId, false, true);\n        sections = sections.filter(section => {\n          if (!section.modules.length || section.hiddenbynumsections) {\n            return false;\n          }\n          section.modules = section.modules.filter(mod => {\n            if (!CoreCourseHelper.canUserViewModule(mod, section) || !CoreCourse.moduleHasView(mod) || mod.visibleoncoursepage === 0) {\n              // Ignore this module.\n              return false;\n            }\n            if (_this3.modName === 'resources') {\n              // Check that the module is a resource.\n              if (_this3.archetypes[mod.modname] === undefined) {\n                _this3.archetypes[mod.modname] = CoreCourseModuleDelegate.supportsFeature(mod.modname, CoreConstants.FEATURE_MOD_ARCHETYPE, CoreConstants.MOD_ARCHETYPE_OTHER);\n              }\n              if (_this3.archetypes[mod.modname] === CoreConstants.MOD_ARCHETYPE_RESOURCE) {\n                return true;\n              }\n            } else if (mod.modname === _this3.modName) {\n              return true;\n            }\n          });\n          return section.modules.length > 0;\n        });\n        const result = yield CoreCourseHelper.addHandlerDataForModules(sections, _this3.courseId);\n        _this3.sections = result.sections;\n        _this3.lastShownSectionIndex = -1;\n        _this3.showMoreActivities();\n      } catch (error) {\n        CoreDomUtils.showErrorModalDefault(error, 'Error getting data');\n      }\n    })();\n  }\n  /**\n   * Show more activities.\n   *\n   * @param infiniteComplete Infinite scroll complete function. Only used from core-infinite-loading.\n   */\n  showMoreActivities(infiniteComplete) {\n    let modulesLoaded = 0;\n    while (this.lastShownSectionIndex < this.sections.length - 1 && modulesLoaded < CoreCourseListModTypePage.PAGE_LENGTH) {\n      this.lastShownSectionIndex++;\n      modulesLoaded += this.sections[this.lastShownSectionIndex].modules.length;\n    }\n    this.canLoadMore = this.lastShownSectionIndex < this.sections.length - 1;\n    infiniteComplete === null || infiniteComplete === void 0 || infiniteComplete();\n  }\n  /**\n   * Refresh the data.\n   *\n   * @param refresher Refresher.\n   */\n  refreshData(refresher) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      yield CoreUtils.ignoreErrors(CoreCourse.invalidateSections(_this4.courseId));\n      try {\n        yield _this4.fetchData();\n      } finally {\n        refresher.complete();\n      }\n    })();\n  }\n}\n_class = CoreCourseListModTypePage;\n_class.PAGE_LENGTH = 10;\n_class.ɵfac = function CoreCourseListModTypePage_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"page-core-course-list-mod-type\"]],\n  decls: 17,\n  vars: 12,\n  consts: [[\"slot\", \"start\"], [3, \"text\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [\"icon\", \"fas-box-open\", 3, \"message\", 4, \"ngIf\"], [1, \"core-course-module-list-wrapper\"], [4, \"ngFor\", \"ngForOf\"], [3, \"enabled\", \"action\"], [\"icon\", \"fas-box-open\", 3, \"message\"], [4, \"ngIf\"], [\"class\", \"course-section ion-text-wrap\", 4, \"ngIf\"], [1, \"course-section\", \"ion-text-wrap\"], [\"contextLevel\", \"course\", 3, \"text\", \"contextInstanceId\"], [3, \"module\", \"section\", \"showActivityDates\", \"showAvailability\", \"showExtra\", \"showDownloadStatus\", \"showCompletion\", \"showIndentation\"]],\n  template: function CoreCourseListModTypePage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n      i0.ɵɵelement(3, \"ion-back-button\", 1);\n      i0.ɵɵpipe(4, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ion-title\")(6, \"h1\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(8, \"ion-content\")(9, \"ion-refresher\", 2);\n      i0.ɵɵlistener(\"ionRefresh\", function CoreCourseListModTypePage_Template_ion_refresher_ionRefresh_9_listener($event) {\n        return ctx.refreshData($event.target);\n      });\n      i0.ɵɵelement(10, \"ion-refresher-content\", 3);\n      i0.ɵɵpipe(11, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"core-loading\", 4);\n      i0.ɵɵtemplate(13, CoreCourseListModTypePage_core_empty_box_13_Template, 2, 3, \"core-empty-box\", 5);\n      i0.ɵɵelementStart(14, \"ion-list\", 6);\n      i0.ɵɵtemplate(15, CoreCourseListModTypePage_ng_container_15_Template, 2, 1, \"ng-container\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"core-infinite-loading\", 8);\n      i0.ɵɵlistener(\"action\", function CoreCourseListModTypePage_Template_core_infinite_loading_action_16_listener($event) {\n        return ctx.showMoreActivities($event);\n      });\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"text\", i0.ɵɵpipeBind1(4, 8, \"core.back\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !ctx.loaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"pullingText\", i0.ɵɵpipeBind1(11, 10, \"core.pulltorefresh\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hideUntil\", ctx.loaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.sections || !ctx.sections.length);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngForOf\", ctx.sections);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"enabled\", ctx.canLoadMore);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"names":["CoreDomUtils","CoreCourse","CoreCourseModuleDelegate","CoreCourseHelper","CoreNavigator","CoreConstants","CoreUtils","CoreTime","CoreAnalytics","CoreAnalyticsEventType","i0","ɵɵelement","ɵɵproperty","ɵɵpipeBind1","ɵɵelementStart","ɵɵelementEnd","ɵɵadvance","section_r2","name","ctx_r5","courseId","ɵɵelementContainerStart","ɵɵelementContainerEnd","module_r8","ɵɵtemplate","CoreCourseListModTypePage_ng_container_15_ng_container_1_ion_item_divider_1_Template","CoreCourseListModTypePage_ng_container_15_ng_container_1_ng_container_2_Template","modules","CoreCourseListModTypePage_ng_container_15_ng_container_1_Template","i_r3","ctx_r1","lastShownSectionIndex","CoreCourseListModTypePage","constructor","_this","sections","title","loaded","canLoadMore","archetypes","logView","once","_asyncToGenerator","modName","logEvent","type","VIEW_ITEM_LIST","ws","data","category","url","ngOnInit","_this2","getRouteParam","getRequiredRouteParam","error","showErrorModal","back","fetchData","_this3","getSections","filter","section","length","hiddenbynumsections","mod","canUserViewModule","moduleHasView","visibleoncoursepage","modname","undefined","supportsFeature","FEATURE_MOD_ARCHETYPE","MOD_ARCHETYPE_OTHER","MOD_ARCHETYPE_RESOURCE","result","addHandlerDataForModules","showMoreActivities","showErrorModalDefault","infiniteComplete","modulesLoaded","PAGE_LENGTH","refreshData","refresher","_this4","ignoreErrors","invalidateSections","complete","_class","selectors","decls","vars","consts","template","CoreCourseListModTypePage_Template","rf","ctx","ɵɵtext","ɵɵlistener","CoreCourseListModTypePage_Template_ion_refresher_ionRefresh_9_listener","$event","target","CoreCourseListModTypePage_core_empty_box_13_Template","CoreCourseListModTypePage_ng_container_15_Template","CoreCourseListModTypePage_Template_core_infinite_loading_action_16_listener","ɵɵtextInterpolate","ɵɵpropertyInterpolate"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/course/pages/list-mod-type/list-mod-type.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/course/pages/list-mod-type/list-mod-type.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit } from '@angular/core';\n\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreCourse } from '@features/course/services/course';\nimport { CoreCourseModuleDelegate } from '@features/course/services/module-delegate';\nimport { CoreCourseHelper, CoreCourseSection } from '@features/course/services/course-helper';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreConstants } from '@/core/constants';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreTime } from '@singletons/time';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\n\n/**\n * Page that displays all modules of a certain type in a course.\n */\n@Component({\n    selector: 'page-core-course-list-mod-type',\n    templateUrl: 'list-mod-type.html',\n})\nexport class CoreCourseListModTypePage implements OnInit {\n\n    private static readonly PAGE_LENGTH = 10; // How many activities should load each time showMoreActivities is called.\n\n    sections: CoreCourseSection[] = [];\n    title = '';\n    loaded = false;\n    courseId = 0;\n    canLoadMore = false;\n    lastShownSectionIndex = -1;\n\n    protected modName?: string;\n    protected archetypes: Record<string, number> = {}; // To speed up the check of modules.\n    protected logView: () => void;\n\n    constructor() {\n        this.logView = CoreTime.once(async () => {\n            if (!this.modName) {\n                return;\n            }\n\n            CoreAnalytics.logEvent({\n                type: CoreAnalyticsEventType.VIEW_ITEM_LIST,\n                ws: 'core_course_get_contents',\n                name: this.title,\n                data: { category: this.modName },\n                url: (this.modName === 'resources' ? '/course/resources.php' : `/mod/${this.modName}/index.php`) +\n                    `?id=${this.courseId}`,\n            });\n        });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        try {\n            this.title = CoreNavigator.getRouteParam('title') || '';\n            this.courseId = CoreNavigator.getRequiredRouteParam('courseId');\n            this.modName = CoreNavigator.getRequiredRouteParam('modName');\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n            CoreNavigator.back();\n\n            return;\n        }\n\n        try {\n            await this.fetchData();\n        } finally {\n            this.loaded = true;\n        }\n    }\n\n    /**\n     * Fetches the data.\n     */\n    protected async fetchData(): Promise<void> {\n        if (!this.courseId) {\n            return;\n        }\n\n        try {\n            // Get all the modules in the course.\n            let sections = await CoreCourse.getSections(this.courseId, false, true);\n\n            sections = sections.filter((section) => {\n                if (!section.modules.length || section.hiddenbynumsections) {\n                    return false;\n                }\n\n                section.modules = section.modules.filter((mod) => {\n                    if (!CoreCourseHelper.canUserViewModule(mod, section) ||\n                        !CoreCourse.moduleHasView(mod) ||\n                        mod.visibleoncoursepage === 0) {\n                        // Ignore this module.\n                        return false;\n                    }\n\n                    if (this.modName === 'resources') {\n                        // Check that the module is a resource.\n                        if (this.archetypes[mod.modname] === undefined) {\n                            this.archetypes[mod.modname] = CoreCourseModuleDelegate.supportsFeature<number>(\n                                mod.modname,\n                                CoreConstants.FEATURE_MOD_ARCHETYPE,\n                                CoreConstants.MOD_ARCHETYPE_OTHER,\n                            );\n                        }\n\n                        if (this.archetypes[mod.modname] === CoreConstants.MOD_ARCHETYPE_RESOURCE) {\n                            return true;\n                        }\n\n                    } else if (mod.modname === this.modName) {\n                        return true;\n                    }\n                });\n\n                return section.modules.length > 0;\n            });\n\n            const result = await CoreCourseHelper.addHandlerDataForModules(sections, this.courseId);\n\n            this.sections = result.sections;\n\n            this.lastShownSectionIndex = -1;\n            this.showMoreActivities();\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error getting data');\n        }\n    }\n\n    /**\n     * Show more activities.\n     *\n     * @param infiniteComplete Infinite scroll complete function. Only used from core-infinite-loading.\n     */\n    showMoreActivities(infiniteComplete?: () => void): void {\n        let modulesLoaded = 0;\n        while (this.lastShownSectionIndex < this.sections.length - 1 && modulesLoaded < CoreCourseListModTypePage.PAGE_LENGTH) {\n            this.lastShownSectionIndex++;\n\n            modulesLoaded += this.sections[this.lastShownSectionIndex].modules.length;\n        }\n\n        this.canLoadMore = this.lastShownSectionIndex < this.sections.length - 1;\n\n        infiniteComplete?.();\n    }\n\n    /**\n     * Refresh the data.\n     *\n     * @param refresher Refresher.\n     */\n    async refreshData(refresher: HTMLIonRefresherElement): Promise<void> {\n        await CoreUtils.ignoreErrors(CoreCourse.invalidateSections(this.courseId));\n\n        try {\n            await this.fetchData();\n        } finally {\n            refresher.complete();\n        }\n    }\n\n}\n","<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button [text]=\"'core.back' | translate\" />\n        </ion-buttons>\n        <ion-title>\n            <h1>{{ title }}</h1>\n        </ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <ion-refresher slot=\"fixed\" [disabled]=\"!loaded\" (ionRefresh)=\"refreshData($event.target)\">\n        <ion-refresher-content pullingText=\"{{ 'core.pulltorefresh' | translate }}\" />\n    </ion-refresher>\n    <core-loading [hideUntil]=\"loaded\">\n        <core-empty-box *ngIf=\"!sections || !sections.length\" icon=\"fas-box-open\"\n            [message]=\"'core.course.nocontentavailable' | translate\" />\n\n        <ion-list class=\"core-course-module-list-wrapper\">\n            <ng-container *ngFor=\"let section of sections; index as i\">\n                <ng-container *ngIf=\"i <= lastShownSectionIndex\">\n                    <ion-item-divider class=\"course-section ion-text-wrap\" *ngIf=\"section.name\">\n                        <ion-label>\n                            <h2>\n                                <core-format-text [text]=\"section.name\" contextLevel=\"course\" [contextInstanceId]=\"courseId\" />\n                            </h2>\n                        </ion-label>\n                    </ion-item-divider>\n                    <ng-container *ngFor=\"let module of section.modules\">\n                        <core-course-module [module]=\"module\" [section]=\"section\" [showActivityDates]=\"false\" [showAvailability]=\"false\"\n                            [showExtra]=\"false\" [showDownloadStatus]=\"false\" [showCompletion]=\"false\" [showIndentation]=\"false\" />\n                    </ng-container>\n                </ng-container>\n            </ng-container>\n        </ion-list>\n        <core-infinite-loading [enabled]=\"canLoadMore\" (action)=\"showMoreActivities($event)\" />\n    </core-loading>\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}