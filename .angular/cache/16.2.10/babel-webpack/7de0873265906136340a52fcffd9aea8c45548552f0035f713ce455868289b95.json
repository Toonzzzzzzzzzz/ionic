{"ast":null,"code":"var _class;\nimport { Translate, makeSingleton } from '@singletons';\nimport { AddonModDataFieldTextHandlerService } from '../../text/services/handler';\nimport { AddonModDataFieldUrlComponent } from '../component/url';\nimport * as i0 from \"@angular/core\";\n/**\n * Handler for url data field plugin.\n */\nexport class AddonModDataFieldUrlHandlerService extends AddonModDataFieldTextHandlerService {\n  constructor() {\n    super(...arguments);\n    this.name = 'AddonModDataFieldUrlHandler';\n    this.type = 'url';\n  }\n  /**\n   * @inheritdoc\n   */\n  getComponent() {\n    return AddonModDataFieldUrlComponent;\n  }\n  /**\n   * @inheritdoc\n   */\n  getFieldEditData(field, inputData) {\n    const fieldName = 'f_' + field.id;\n    return [{\n      fieldid: field.id,\n      subfield: '0',\n      value: inputData[fieldName] && inputData[fieldName].trim() || ''\n    }];\n  }\n  /**\n   * @inheritdoc\n   */\n  getFieldsNotifications(field, inputData) {\n    if (field.required && (!inputData || !inputData.length || !inputData[0].value)) {\n      return Translate.instant('addon.mod_data.errormustsupplyvalue');\n    }\n  }\n  /**\n   * @inheritdoc\n   */\n  overrideData(originalContent, offlineContent) {\n    originalContent.content = offlineContent['0'] || '';\n    return originalContent;\n  }\n}\n_class = AddonModDataFieldUrlHandlerService;\n_class.ɵfac = /*@__PURE__*/function () {\n  let ɵAddonModDataFieldUrlHandlerService_BaseFactory;\n  return function AddonModDataFieldUrlHandlerService_Factory(t) {\n    return (ɵAddonModDataFieldUrlHandlerService_BaseFactory || (ɵAddonModDataFieldUrlHandlerService_BaseFactory = i0.ɵɵgetInheritedFactory(_class)))(t || _class);\n  };\n}();\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});\nexport const AddonModDataFieldUrlHandler = makeSingleton(AddonModDataFieldUrlHandlerService);","map":{"version":3,"names":["Translate","makeSingleton","AddonModDataFieldTextHandlerService","AddonModDataFieldUrlComponent","AddonModDataFieldUrlHandlerService","constructor","name","type","getComponent","getFieldEditData","field","inputData","fieldName","id","fieldid","subfield","value","trim","getFieldsNotifications","required","length","instant","overrideData","originalContent","offlineContent","content","t","factory","ɵfac","providedIn","AddonModDataFieldUrlHandler"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/data/fields/url/services/handler.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { AddonModDataEntryField, AddonModDataField, AddonModDataSubfieldData } from '@addons/mod/data/services/data';\nimport { Injectable, Type } from '@angular/core';\nimport { CoreFormFields } from '@singletons/form';\nimport { Translate, makeSingleton } from '@singletons';\nimport { AddonModDataFieldTextHandlerService } from '../../text/services/handler';\nimport { AddonModDataFieldUrlComponent } from '../component/url';\nimport type { AddonModDataFieldPluginBaseComponent } from '@addons/mod/data/classes/base-field-plugin-component';\n\n/**\n * Handler for url data field plugin.\n */\n@Injectable({ providedIn: 'root' })\nexport class AddonModDataFieldUrlHandlerService extends AddonModDataFieldTextHandlerService {\n\n    name = 'AddonModDataFieldUrlHandler';\n    type = 'url';\n\n    /**\n     * @inheritdoc\n     */\n    getComponent(): Type<AddonModDataFieldPluginBaseComponent> {\n        return AddonModDataFieldUrlComponent;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getFieldEditData(field: AddonModDataField, inputData: CoreFormFields<string>): AddonModDataSubfieldData[] {\n        const fieldName = 'f_' + field.id;\n\n        return [\n            {\n                fieldid: field.id,\n                subfield: '0',\n                value: (inputData[fieldName] && inputData[fieldName].trim()) || '',\n            },\n        ];\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getFieldsNotifications(field: AddonModDataField, inputData: AddonModDataSubfieldData[]): string | undefined {\n        if (field.required && (!inputData || !inputData.length || !inputData[0].value)) {\n            return Translate.instant('addon.mod_data.errormustsupplyvalue');\n        }\n    }\n\n    /**\n     * @inheritdoc\n     */\n    overrideData(originalContent: AddonModDataEntryField, offlineContent: CoreFormFields<string>): AddonModDataEntryField {\n        originalContent.content = offlineContent['0'] || '';\n\n        return originalContent;\n    }\n\n}\nexport const AddonModDataFieldUrlHandler = makeSingleton(AddonModDataFieldUrlHandlerService);\n"],"mappings":";AAiBA,SAASA,SAAS,EAAEC,aAAa,QAAQ,aAAa;AACtD,SAASC,mCAAmC,QAAQ,6BAA6B;AACjF,SAASC,6BAA6B,QAAQ,kBAAkB;;AAGhE;;;AAIA,OAAM,MAAOC,kCAAmC,SAAQF,mCAAmC;EAD3FG,YAAA;;IAGI,KAAAC,IAAI,GAAG,6BAA6B;IACpC,KAAAC,IAAI,GAAG,KAAK;;EAEZ;;;EAGAC,YAAYA,CAAA;IACR,OAAOL,6BAA6B;EACxC;EAEA;;;EAGAM,gBAAgBA,CAACC,KAAwB,EAAEC,SAAiC;IACxE,MAAMC,SAAS,GAAG,IAAI,GAAGF,KAAK,CAACG,EAAE;IAEjC,OAAO,CACH;MACIC,OAAO,EAAEJ,KAAK,CAACG,EAAE;MACjBE,QAAQ,EAAE,GAAG;MACbC,KAAK,EAAGL,SAAS,CAACC,SAAS,CAAC,IAAID,SAAS,CAACC,SAAS,CAAC,CAACK,IAAI,EAAE,IAAK;KACnE,CACJ;EACL;EAEA;;;EAGAC,sBAAsBA,CAACR,KAAwB,EAAEC,SAAqC;IAClF,IAAID,KAAK,CAACS,QAAQ,KAAK,CAACR,SAAS,IAAI,CAACA,SAAS,CAACS,MAAM,IAAI,CAACT,SAAS,CAAC,CAAC,CAAC,CAACK,KAAK,CAAC,EAAE;MAC5E,OAAOhB,SAAS,CAACqB,OAAO,CAAC,qCAAqC,CAAC;;EAEvE;EAEA;;;EAGAC,YAAYA,CAACC,eAAuC,EAAEC,cAAsC;IACxFD,eAAe,CAACE,OAAO,GAAGD,cAAc,CAAC,GAAG,CAAC,IAAI,EAAE;IAEnD,OAAOD,eAAe;EAC1B;;SA3CSnB,kCAAmC;;;;2IAAnCA,MAAkC,IAAAsB,CAAA,IAAlCtB,MAAkC;EAAA;AAAA;;SAAlCA,MAAkC;EAAAuB,OAAA,EAAlCvB,MAAkC,CAAAwB,IAAA;EAAAC,UAAA,EADrB;AAAM;AA+ChC,OAAO,MAAMC,2BAA2B,GAAG7B,aAAa,CAACG,kCAAkC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}