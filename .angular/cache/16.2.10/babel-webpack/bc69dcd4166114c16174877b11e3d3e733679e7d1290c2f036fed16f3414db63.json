{"ast":null,"code":"var _class;\nimport { CoreFile } from '@services/file';\nimport { ModalController, Translate } from '@singletons';\nimport * as i0 from \"@angular/core\";\n/**\n * Modal to display the list of shared files.\n */\nexport class CoreSharedFilesListModalComponent {\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    this.calculateTitle(this.path);\n  }\n  /**\n   * Calculate the title.\n   *\n   * @param path Path to use.\n   */\n  calculateTitle(path) {\n    if (path) {\n      this.title = CoreFile.getFileAndDirectoryFromPath(path).name;\n    } else {\n      this.title = Translate.instant('core.sharedfiles.sharedfiles');\n    }\n  }\n  /**\n   * Close modal.\n   */\n  closeModal() {\n    ModalController.dismiss();\n  }\n  /**\n   * A file was picked.\n   *\n   * @param file Picked file.\n   */\n  filePicked(file) {\n    ModalController.dismiss(file);\n  }\n}\n_class = CoreSharedFilesListModalComponent;\n_class.ɵfac = function CoreSharedFilesListModalComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"core-shared-files-list-modal\"]],\n  inputs: {\n    siteId: \"siteId\",\n    mimetypes: \"mimetypes\",\n    manage: \"manage\",\n    pick: \"pick\",\n    path: \"path\",\n    hideSitePicker: \"hideSitePicker\"\n  },\n  decls: 11,\n  vars: 11,\n  consts: [[\"slot\", \"end\"], [\"fill\", \"clear\", 3, \"click\"], [\"name\", \"fas-xmark\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [3, \"siteId\", \"mimetypes\", \"isModal\", \"manage\", \"pick\", \"path\", \"showSitePicker\", \"onPathChanged\", \"onFilePicked\"]],\n  template: function CoreSharedFilesListModalComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\")(3, \"h1\");\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"ion-buttons\", 0)(6, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function CoreSharedFilesListModalComponent_Template_ion_button_click_6_listener() {\n        return ctx.closeModal();\n      });\n      i0.ɵɵpipe(7, \"translate\");\n      i0.ɵɵelement(8, \"ion-icon\", 2);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(9, \"ion-content\")(10, \"core-shared-files-list\", 3);\n      i0.ɵɵlistener(\"onPathChanged\", function CoreSharedFilesListModalComponent_Template_core_shared_files_list_onPathChanged_10_listener($event) {\n        return ctx.calculateTitle($event);\n      })(\"onFilePicked\", function CoreSharedFilesListModalComponent_Template_core_shared_files_list_onFilePicked_10_listener($event) {\n        return ctx.filePicked($event);\n      });\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(7, 9, \"core.close\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"siteId\", ctx.siteId)(\"mimetypes\", ctx.mimetypes)(\"isModal\", true)(\"manage\", ctx.manage)(\"pick\", ctx.pick)(\"path\", ctx.path)(\"showSitePicker\", !ctx.hideSitePicker);\n    }\n  },\n  encapsulation: 2\n});","map":{"version":3,"names":["CoreFile","ModalController","Translate","CoreSharedFilesListModalComponent","ngOnInit","calculateTitle","path","title","getFileAndDirectoryFromPath","name","instant","closeModal","dismiss","filePicked","file","selectors","inputs","siteId","mimetypes","manage","pick","hideSitePicker","decls","vars","consts","template","CoreSharedFilesListModalComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","CoreSharedFilesListModalComponent_Template_ion_button_click_6_listener","ɵɵelement","CoreSharedFilesListModalComponent_Template_core_shared_files_list_onPathChanged_10_listener","$event","CoreSharedFilesListModalComponent_Template_core_shared_files_list_onFilePicked_10_listener","ɵɵadvance","ɵɵtextInterpolate","ɵɵattribute","ɵɵpipeBind1","ɵɵproperty"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/sharedfiles/components/list-modal/list-modal.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/sharedfiles/components/list-modal/list-modal.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit, Input } from '@angular/core';\nimport { FileEntry } from '@awesome-cordova-plugins/file/ngx';\n\nimport { CoreFile } from '@services/file';\nimport { ModalController, Translate } from '@singletons';\n\n/**\n * Modal to display the list of shared files.\n */\n@Component({\n    selector: 'core-shared-files-list-modal',\n    templateUrl: 'list-modal.html',\n})\nexport class CoreSharedFilesListModalComponent implements OnInit {\n\n    @Input() siteId?: string;\n    @Input() mimetypes?: string[];\n    @Input() manage?: boolean;\n    @Input() pick?: boolean; // To pick a file you MUST use a modal.\n    @Input() path?: string;\n    @Input() hideSitePicker?: boolean;\n\n    title?: string;\n\n    /**\n     * @inheritdoc\n     */\n    ngOnInit(): void {\n        this.calculateTitle(this.path);\n    }\n\n    /**\n     * Calculate the title.\n     *\n     * @param path Path to use.\n     */\n    calculateTitle(path?: string): void {\n        if (path) {\n            this.title = CoreFile.getFileAndDirectoryFromPath(path).name;\n        } else {\n            this.title = Translate.instant('core.sharedfiles.sharedfiles');\n        }\n    }\n\n    /**\n     * Close modal.\n     */\n    closeModal(): void {\n        ModalController.dismiss();\n    }\n\n    /**\n     * A file was picked.\n     *\n     * @param file Picked file.\n     */\n    filePicked(file: FileEntry): void {\n        ModalController.dismiss(file);\n    }\n\n}\n","<ion-header>\n    <ion-toolbar>\n        <ion-title>\n            <h1>{{ title }}</h1>\n        </ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-button fill=\"clear\" (click)=\"closeModal()\" [attr.aria-label]=\"'core.close' | translate\">\n                <ion-icon name=\"fas-xmark\" slot=\"icon-only\" aria-hidden=true />\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <core-shared-files-list [siteId]=\"siteId\" [mimetypes]=\"mimetypes\" [isModal]=\"true\" [manage]=\"manage\" [pick]=\"pick\" [path]=\"path\"\n        [showSitePicker]=\"!hideSitePicker\" (onPathChanged)=\"calculateTitle($event)\" (onFilePicked)=\"filePicked($event)\" />\n</ion-content>\n"],"mappings":";AAiBA,SAASA,QAAQ,QAAQ,gBAAgB;AACzC,SAASC,eAAe,EAAEC,SAAS,QAAQ,aAAa;;AAExD;;;AAOA,OAAM,MAAOC,iCAAiC;EAW1C;;;EAGAC,QAAQA,CAAA;IACJ,IAAI,CAACC,cAAc,CAAC,IAAI,CAACC,IAAI,CAAC;EAClC;EAEA;;;;;EAKAD,cAAcA,CAACC,IAAa;IACxB,IAAIA,IAAI,EAAE;MACN,IAAI,CAACC,KAAK,GAAGP,QAAQ,CAACQ,2BAA2B,CAACF,IAAI,CAAC,CAACG,IAAI;KAC/D,MAAM;MACH,IAAI,CAACF,KAAK,GAAGL,SAAS,CAACQ,OAAO,CAAC,8BAA8B,CAAC;;EAEtE;EAEA;;;EAGAC,UAAUA,CAAA;IACNV,eAAe,CAACW,OAAO,EAAE;EAC7B;EAEA;;;;;EAKAC,UAAUA,CAACC,IAAe;IACtBb,eAAe,CAACW,OAAO,CAACE,IAAI,CAAC;EACjC;;SA7CSX,iCAAiC;;mBAAjCA,MAAiC;AAAA;;QAAjCA,MAAiC;EAAAY,SAAA;EAAAC,MAAA;IAAAC,MAAA;IAAAC,SAAA;IAAAC,MAAA;IAAAC,IAAA;IAAAd,IAAA;IAAAe,cAAA;EAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,2CAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MC3B9CE,EAAA,CAAAC,cAAA,iBAAY;MAGID,EAAA,CAAAE,MAAA,GAAW;MAAAF,EAAA,CAAAG,YAAA,EAAK;MAExBH,EAAA,CAAAC,cAAA,qBAAwB;MACKD,EAAA,CAAAI,UAAA,mBAAAC,uEAAA;QAAA,OAASN,GAAA,CAAAjB,UAAA,EAAY;MAAA,EAAC;;MAC3CkB,EAAA,CAAAM,SAAA,kBAA+D;MACnEN,EAAA,CAAAG,YAAA,EAAa;MAIzBH,EAAA,CAAAC,cAAA,kBAAa;MAE8BD,EAAA,CAAAI,UAAA,2BAAAG,4FAAAC,MAAA;QAAA,OAAiBT,GAAA,CAAAvB,cAAA,CAAAgC,MAAA,CAAsB;MAAA,EAAC,0BAAAC,2FAAAD,MAAA;QAAA,OAAiBT,GAAA,CAAAf,UAAA,CAAAwB,MAAA,CAAkB;MAAA,EAAnC;MAD/ER,EAAA,CAAAG,YAAA,EACsH;;;MAX1GH,EAAA,CAAAU,SAAA,GAAW;MAAXV,EAAA,CAAAW,iBAAA,CAAAZ,GAAA,CAAArB,KAAA,CAAW;MAGiCsB,EAAA,CAAAU,SAAA,GAA4C;MAA5CV,EAAA,CAAAY,WAAA,eAAAZ,EAAA,CAAAa,WAAA,qBAA4C;MAO5Eb,EAAA,CAAAU,SAAA,GAAiB;MAAjBV,EAAA,CAAAc,UAAA,WAAAf,GAAA,CAAAX,MAAA,CAAiB,cAAAW,GAAA,CAAAV,SAAA,6BAAAU,GAAA,CAAAT,MAAA,UAAAS,GAAA,CAAAR,IAAA,UAAAQ,GAAA,CAAAtB,IAAA,qBAAAsB,GAAA,CAAAP,cAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}