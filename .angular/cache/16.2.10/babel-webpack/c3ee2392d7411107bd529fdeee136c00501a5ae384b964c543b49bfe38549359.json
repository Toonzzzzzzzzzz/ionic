{"ast":null,"code":"// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Database variables for AddonMessagesOffline service.\n */\nexport const MESSAGES_TABLE = 'addon_messages_offline_messages'; // When group messaging isn't available or new conversation starts.\nexport const CONVERSATION_MESSAGES_TABLE = 'addon_messages_offline_conversation_messages'; // Conversation messages.\nexport const MESSAGES_OFFLINE_SITE_SCHEMA = {\n  name: 'AddonMessagesOfflineProvider',\n  version: 1,\n  tables: [{\n    name: MESSAGES_TABLE,\n    columns: [{\n      name: 'touserid',\n      type: 'INTEGER'\n    }, {\n      name: 'useridfrom',\n      type: 'INTEGER'\n    }, {\n      name: 'smallmessage',\n      type: 'TEXT'\n    }, {\n      name: 'timecreated',\n      type: 'INTEGER'\n    }, {\n      name: 'deviceoffline',\n      type: 'INTEGER'\n    }],\n    primaryKeys: ['touserid', 'smallmessage', 'timecreated']\n  }, {\n    name: CONVERSATION_MESSAGES_TABLE,\n    columns: [{\n      name: 'conversationid',\n      type: 'INTEGER'\n    }, {\n      name: 'text',\n      type: 'TEXT'\n    }, {\n      name: 'timecreated',\n      type: 'INTEGER'\n    }, {\n      name: 'deviceoffline',\n      type: 'INTEGER'\n    }, {\n      name: 'conversation',\n      type: 'TEXT'\n    }],\n    primaryKeys: ['conversationid', 'text', 'timecreated']\n  }]\n};","map":{"version":3,"names":["MESSAGES_TABLE","CONVERSATION_MESSAGES_TABLE","MESSAGES_OFFLINE_SITE_SCHEMA","name","version","tables","columns","type","primaryKeys"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/messages/services/database/messages.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { CoreSiteSchema } from '@services/sites';\n\n/**\n * Database variables for AddonMessagesOffline service.\n */\nexport const MESSAGES_TABLE = 'addon_messages_offline_messages'; // When group messaging isn't available or new conversation starts.\nexport const CONVERSATION_MESSAGES_TABLE = 'addon_messages_offline_conversation_messages'; // Conversation messages.\nexport const MESSAGES_OFFLINE_SITE_SCHEMA: CoreSiteSchema = {\n    name: 'AddonMessagesOfflineProvider',\n    version: 1,\n    tables: [\n        {\n            name: MESSAGES_TABLE,\n            columns: [\n                {\n                    name: 'touserid',\n                    type: 'INTEGER',\n                },\n                {\n                    name: 'useridfrom',\n                    type: 'INTEGER',\n                },\n                {\n                    name: 'smallmessage',\n                    type: 'TEXT',\n                },\n                {\n                    name: 'timecreated',\n                    type: 'INTEGER',\n                },\n                {\n                    name: 'deviceoffline', // If message was stored because device was offline.\n                    type: 'INTEGER',\n                },\n            ],\n            primaryKeys: ['touserid', 'smallmessage', 'timecreated'],\n        },\n        {\n            name: CONVERSATION_MESSAGES_TABLE,\n            columns: [\n                {\n                    name: 'conversationid',\n                    type: 'INTEGER',\n                },\n                {\n                    name: 'text',\n                    type: 'TEXT',\n                },\n                {\n                    name: 'timecreated',\n                    type: 'INTEGER',\n                },\n                {\n                    name: 'deviceoffline', // If message was stored because device was offline.\n                    type: 'INTEGER',\n                },\n                {\n                    name: 'conversation', // Data about the conversation.\n                    type: 'TEXT',\n                },\n            ],\n            primaryKeys: ['conversationid', 'text', 'timecreated'],\n        },\n    ],\n};\n\nexport type AddonMessagesOfflineMessagesDBRecord = {\n    touserid: number;\n    useridfrom: number;\n    smallmessage: string;\n    timecreated: number;\n    deviceoffline: number; // If message was stored because device was offline.\n};\n\nexport type AddonMessagesOfflineConversationMessagesDBRecord = {\n    conversationid: number;\n    text: string;\n    timecreated: number;\n    deviceoffline: number; // If message was stored because device was offline.\n    conversation: string; // Data about the conversation.\n};\n"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;;AAGA,OAAO,MAAMA,cAAc,GAAG,iCAAiC,CAAC,CAAC;AACjE,OAAO,MAAMC,2BAA2B,GAAG,8CAA8C,CAAC,CAAC;AAC3F,OAAO,MAAMC,4BAA4B,GAAmB;EACxDC,IAAI,EAAE,8BAA8B;EACpCC,OAAO,EAAE,CAAC;EACVC,MAAM,EAAE,CACJ;IACIF,IAAI,EAAEH,cAAc;IACpBM,OAAO,EAAE,CACL;MACIH,IAAI,EAAE,UAAU;MAChBI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,YAAY;MAClBI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,cAAc;MACpBI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,aAAa;MACnBI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,eAAe;MACrBI,IAAI,EAAE;KACT,CACJ;IACDC,WAAW,EAAE,CAAC,UAAU,EAAE,cAAc,EAAE,aAAa;GAC1D,EACD;IACIL,IAAI,EAAEF,2BAA2B;IACjCK,OAAO,EAAE,CACL;MACIH,IAAI,EAAE,gBAAgB;MACtBI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,MAAM;MACZI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,aAAa;MACnBI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,eAAe;MACrBI,IAAI,EAAE;KACT,EACD;MACIJ,IAAI,EAAE,cAAc;MACpBI,IAAI,EAAE;KACT,CACJ;IACDC,WAAW,EAAE,CAAC,gBAAgB,EAAE,MAAM,EAAE,aAAa;GACxD;CAER"},"metadata":{},"sourceType":"module","externalDependencies":[]}