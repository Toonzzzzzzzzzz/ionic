{"ast":null,"code":"var _class;\nimport { CoreSitePluginsCallWSBaseDirective } from '../classes/call-ws-directive';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../components/plugin-content/plugin-content\";\n/**\n * Directive to call a WS as soon as its loaded.\n * This directive is meant for actions to do in the background, like calling logging WebServices.\n *\n * If you want to call a WS when the user clicks on a certain element, @see CoreSitePluginsCallWSDirective.\n *\n * @see CoreSitePluginsCallWSBaseDirective.\n *\n * Example usage:\n *\n * <span core-site-plugins-call-ws-on-load name=\"mod_certificate_view_certificate\" [params]=\"{certificateid: <% certificate.id %>}\"\n *     [preSets]=\"{getFromCache: 0, saveToCache: 0}\"></span>\n */\nexport class CoreSitePluginsCallWSOnLoadDirective extends CoreSitePluginsCallWSBaseDirective {\n  constructor(element, parentContent) {\n    super(element, parentContent);\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    super.ngOnInit();\n    // Call the WS immediately.\n    this.callWS().catch(() => {\n      // Ignore errors.\n    });\n  }\n}\n_class = CoreSitePluginsCallWSOnLoadDirective;\n_class.ɵfac = function CoreSitePluginsCallWSOnLoadDirective_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(i1.CoreSitePluginsPluginContentComponent, 8));\n};\n_class.ɵdir = /*@__PURE__*/i0.ɵɵdefineDirective({\n  type: _class,\n  selectors: [[\"\", \"core-site-plugins-call-ws-on-load\", \"\"]],\n  features: [i0.ɵɵInheritDefinitionFeature]\n});","map":{"version":3,"names":["CoreSitePluginsCallWSBaseDirective","CoreSitePluginsCallWSOnLoadDirective","constructor","element","parentContent","ngOnInit","callWS","catch","i0","ɵɵdirectiveInject","ElementRef","i1","CoreSitePluginsPluginContentComponent","selectors","features","ɵɵInheritDefinitionFeature"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/siteplugins/directives/call-ws-on-load.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Directive, OnInit, ElementRef, Optional } from '@angular/core';\n\nimport { CoreSitePluginsCallWSBaseDirective } from '../classes/call-ws-directive';\nimport { CoreSitePluginsPluginContentComponent } from '../components/plugin-content/plugin-content';\n\n/**\n * Directive to call a WS as soon as its loaded.\n * This directive is meant for actions to do in the background, like calling logging WebServices.\n *\n * If you want to call a WS when the user clicks on a certain element, @see CoreSitePluginsCallWSDirective.\n *\n * @see CoreSitePluginsCallWSBaseDirective.\n *\n * Example usage:\n *\n * <span core-site-plugins-call-ws-on-load name=\"mod_certificate_view_certificate\" [params]=\"{certificateid: <% certificate.id %>}\"\n *     [preSets]=\"{getFromCache: 0, saveToCache: 0}\"></span>\n */\n@Directive({\n    selector: '[core-site-plugins-call-ws-on-load]',\n})\nexport class CoreSitePluginsCallWSOnLoadDirective extends CoreSitePluginsCallWSBaseDirective implements OnInit {\n\n    constructor(\n        element: ElementRef,\n        @Optional() parentContent: CoreSitePluginsPluginContentComponent,\n    ) {\n        super(element, parentContent);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnInit(): void {\n        super.ngOnInit();\n\n        // Call the WS immediately.\n        this.callWS().catch(() => {\n            // Ignore errors.\n        });\n    }\n\n}\n"],"mappings":";AAgBA,SAASA,kCAAkC,QAAQ,8BAA8B;;;AAGjF;;;;;;;;;;;;;AAgBA,OAAM,MAAOC,oCAAqC,SAAQD,kCAAkC;EAExFE,YACIC,OAAmB,EACPC,aAAoD;IAEhE,KAAK,CAACD,OAAO,EAAEC,aAAa,CAAC;EACjC;EAEA;;;EAGAC,QAAQA,CAAA;IACJ,KAAK,CAACA,QAAQ,EAAE;IAEhB;IACA,IAAI,CAACC,MAAM,EAAE,CAACC,KAAK,CAAC,MAAK;MACrB;IAAA,CACH,CAAC;EACN;;SAnBSN,oCAAqC;;mBAArCA,MAAoC,EAAAO,EAAA,CAAAC,iBAAA,CAAAD,EAAA,CAAAE,UAAA,GAAAF,EAAA,CAAAC,iBAAA,CAAAE,EAAA,CAAAC,qCAAA;AAAA;;QAApCX,MAAoC;EAAAY,SAAA;EAAAC,QAAA,GAAAN,EAAA,CAAAO,0BAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}