{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreSites } from '@services/sites';\nimport { CoreCourse } from '../course';\nimport { CoreCourseUnsupportedModuleComponent } from '@features/course/components/unsupported-module/unsupported-module';\nimport { CoreNavigator } from '@services/navigator';\nimport * as i0 from \"@angular/core\";\n/**\n * Default handler used when the module doesn't have a specific implementation.\n */\nexport class CoreCourseModuleDefaultHandler {\n  constructor() {\n    this.name = 'CoreCourseModuleDefault';\n    this.modName = 'default';\n    this.pageName = '';\n  }\n  /**\n   * @inheritdoc\n   */\n  isEnabled() {\n    return _asyncToGenerator(function* () {\n      return true;\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  getData(module) {\n    var _this = this;\n    // Return the default data.\n    const defaultData = {\n      icon: CoreCourse.getModuleIconSrc(module.modname, module.modicon),\n      title: module.name,\n      class: 'core-course-default-handler core-course-module-' + module.modname + '-handler',\n      action: function () {\n        var _ref = _asyncToGenerator(function* (event, module, courseId, options) {\n          event.preventDefault();\n          event.stopPropagation();\n          yield _this.openActivityPage(module, courseId, options);\n        });\n        return function action(_x, _x2, _x3, _x4) {\n          return _ref.apply(this, arguments);\n        };\n      }()\n    };\n    if ('url' in module && module.url) {\n      const url = module.url;\n      defaultData.button = {\n        icon: 'fas-up-right-from-square',\n        label: 'core.openinbrowser',\n        action: e => {\n          e.preventDefault();\n          e.stopPropagation();\n          CoreSites.getRequiredCurrentSite().openInBrowserWithAutoLogin(url);\n        }\n      };\n    }\n    return defaultData;\n  }\n  /**\n   * @inheritdoc\n   */\n  getMainComponent() {\n    return _asyncToGenerator(function* () {\n      return CoreCourseUnsupportedModuleComponent;\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  displayRefresherInSingleActivity() {\n    return true;\n  }\n  /**\n   * @inheritdoc\n   */\n  openActivityPage(module, courseId, options) {\n    return _asyncToGenerator(function* () {\n      options = options || {};\n      options.params = options.params || {};\n      Object.assign(options.params, {\n        module\n      });\n      yield CoreNavigator.navigateToSitePath('course/' + courseId + '/' + module.id + '/module-preview', options);\n    })();\n  }\n}\n_class = CoreCourseModuleDefaultHandler;\n_class.ɵfac = function CoreCourseModuleDefaultHandler_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: _class,\n  factory: _class.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["CoreSites","CoreCourse","CoreCourseUnsupportedModuleComponent","CoreNavigator","CoreCourseModuleDefaultHandler","constructor","name","modName","pageName","isEnabled","_asyncToGenerator","getData","module","_this","defaultData","icon","getModuleIconSrc","modname","modicon","title","class","action","_ref","event","courseId","options","preventDefault","stopPropagation","openActivityPage","_x","_x2","_x3","_x4","apply","arguments","url","button","label","e","getRequiredCurrentSite","openInBrowserWithAutoLogin","getMainComponent","displayRefresherInSingleActivity","params","Object","assign","navigateToSitePath","id","factory","ɵfac","providedIn"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/course/services/handlers/default-module.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Injectable, Type } from '@angular/core';\n\nimport { CoreSites } from '@services/sites';\nimport { CoreCourseModuleHandler, CoreCourseModuleHandlerData } from '../module-delegate';\nimport { CoreCourse } from '../course';\nimport { CoreCourseModuleData } from '../course-helper';\nimport { CoreCourseUnsupportedModuleComponent } from '@features/course/components/unsupported-module/unsupported-module';\nimport { CoreNavigationOptions, CoreNavigator } from '@services/navigator';\n\n/**\n * Default handler used when the module doesn't have a specific implementation.\n */\n@Injectable({ providedIn: 'root' })\nexport class CoreCourseModuleDefaultHandler implements CoreCourseModuleHandler {\n\n    name = 'CoreCourseModuleDefault';\n    modName = 'default';\n    protected pageName = '';\n\n    /**\n     * @inheritdoc\n     */\n    async isEnabled(): Promise<boolean> {\n        return true;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getData(\n        module: CoreCourseModuleData,\n    ): CoreCourseModuleHandlerData {\n        // Return the default data.\n        const defaultData: CoreCourseModuleHandlerData = {\n            icon: CoreCourse.getModuleIconSrc(module.modname, module.modicon),\n            title: module.name,\n            class: 'core-course-default-handler core-course-module-' + module.modname + '-handler',\n            action: async (event: Event, module: CoreCourseModuleData, courseId: number, options?: CoreNavigationOptions) => {\n                event.preventDefault();\n                event.stopPropagation();\n\n                await this.openActivityPage(module, courseId, options);\n            },\n        };\n\n        if ('url' in module && module.url) {\n            const url = module.url;\n\n            defaultData.button = {\n                icon: 'fas-up-right-from-square',\n                label: 'core.openinbrowser',\n                action: (e: Event): void => {\n                    e.preventDefault();\n                    e.stopPropagation();\n\n                    CoreSites.getRequiredCurrentSite().openInBrowserWithAutoLogin(url);\n                },\n            };\n        }\n\n        return defaultData;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async getMainComponent(): Promise<Type<unknown>> {\n        return CoreCourseUnsupportedModuleComponent;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    displayRefresherInSingleActivity(): boolean {\n        return true;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async openActivityPage(module: CoreCourseModuleData, courseId: number, options?: CoreNavigationOptions): Promise<void> {\n        options = options || {};\n        options.params = options.params || {};\n        Object.assign(options.params, { module });\n\n        await CoreNavigator.navigateToSitePath('course/' + courseId + '/' + module.id +'/module-preview', options);\n    }\n\n}\n"],"mappings":";;AAgBA,SAASA,SAAS,QAAQ,iBAAiB;AAE3C,SAASC,UAAU,QAAQ,WAAW;AAEtC,SAASC,oCAAoC,QAAQ,mEAAmE;AACxH,SAAgCC,aAAa,QAAQ,qBAAqB;;AAE1E;;;AAIA,OAAM,MAAOC,8BAA8B;EAD3CC,YAAA;IAGI,KAAAC,IAAI,GAAG,yBAAyB;IAChC,KAAAC,OAAO,GAAG,SAAS;IACT,KAAAC,QAAQ,GAAG,EAAE;;EAEvB;;;EAGMC,SAASA,CAAA;IAAA,OAAAC,iBAAA;MACX,OAAO,IAAI;IAAC;EAChB;EAEA;;;EAGAC,OAAOA,CACHC,MAA4B;IAAA,IAAAC,KAAA;IAE5B;IACA,MAAMC,WAAW,GAAgC;MAC7CC,IAAI,EAAEd,UAAU,CAACe,gBAAgB,CAACJ,MAAM,CAACK,OAAO,EAAEL,MAAM,CAACM,OAAO,CAAC;MACjEC,KAAK,EAAEP,MAAM,CAACN,IAAI;MAClBc,KAAK,EAAE,iDAAiD,GAAGR,MAAM,CAACK,OAAO,GAAG,UAAU;MACtFI,MAAM;QAAA,IAAAC,IAAA,GAAAZ,iBAAA,CAAE,WAAOa,KAAY,EAAEX,MAA4B,EAAEY,QAAgB,EAAEC,OAA+B,EAAI;UAC5GF,KAAK,CAACG,cAAc,EAAE;UACtBH,KAAK,CAACI,eAAe,EAAE;UAEvB,MAAMd,KAAI,CAACe,gBAAgB,CAAChB,MAAM,EAAEY,QAAQ,EAAEC,OAAO,CAAC;QAC1D,CAAC;QAAA,gBAAAJ,OAAAQ,EAAA,EAAAC,GAAA,EAAAC,GAAA,EAAAC,GAAA;UAAA,OAAAV,IAAA,CAAAW,KAAA,OAAAC,SAAA;QAAA;MAAA;KACJ;IAED,IAAI,KAAK,IAAItB,MAAM,IAAIA,MAAM,CAACuB,GAAG,EAAE;MAC/B,MAAMA,GAAG,GAAGvB,MAAM,CAACuB,GAAG;MAEtBrB,WAAW,CAACsB,MAAM,GAAG;QACjBrB,IAAI,EAAE,0BAA0B;QAChCsB,KAAK,EAAE,oBAAoB;QAC3BhB,MAAM,EAAGiB,CAAQ,IAAU;UACvBA,CAAC,CAACZ,cAAc,EAAE;UAClBY,CAAC,CAACX,eAAe,EAAE;UAEnB3B,SAAS,CAACuC,sBAAsB,EAAE,CAACC,0BAA0B,CAACL,GAAG,CAAC;QACtE;OACH;;IAGL,OAAOrB,WAAW;EACtB;EAEA;;;EAGM2B,gBAAgBA,CAAA;IAAA,OAAA/B,iBAAA;MAClB,OAAOR,oCAAoC;IAAC;EAChD;EAEA;;;EAGAwC,gCAAgCA,CAAA;IAC5B,OAAO,IAAI;EACf;EAEA;;;EAGMd,gBAAgBA,CAAChB,MAA4B,EAAEY,QAAgB,EAAEC,OAA+B;IAAA,OAAAf,iBAAA;MAClGe,OAAO,GAAGA,OAAO,IAAI,EAAE;MACvBA,OAAO,CAACkB,MAAM,GAAGlB,OAAO,CAACkB,MAAM,IAAI,EAAE;MACrCC,MAAM,CAACC,MAAM,CAACpB,OAAO,CAACkB,MAAM,EAAE;QAAE/B;MAAM,CAAE,CAAC;MAEzC,MAAMT,aAAa,CAAC2C,kBAAkB,CAAC,SAAS,GAAGtB,QAAQ,GAAG,GAAG,GAAGZ,MAAM,CAACmC,EAAE,GAAE,iBAAiB,EAAEtB,OAAO,CAAC;IAAC;EAC/G;;SAzESrB,8BAA8B;;mBAA9BA,MAA8B;AAAA;;SAA9BA,MAA8B;EAAA4C,OAAA,EAA9B5C,MAA8B,CAAA6C,IAAA;EAAAC,UAAA,EADjB;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}