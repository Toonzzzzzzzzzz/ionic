{"ast":null,"code":"var _class;\nimport { CorePlatform } from '@services/platform';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ionic/angular\";\nimport * as i2 from \"../../directives/fa-icon\";\nimport * as i3 from \"../../directives/update-non-reactive-attributes\";\nimport * as i4 from \"@ngx-translate/core\";\nexport class CoreHorizontalScrollControlsComponent {\n  constructor() {\n    this.scrollPosition = \"hidden\" /* ScrollPosition.HIDDEN */;\n  }\n  /**\n   * Get target element.\n   *\n   * @returns The target element or null.\n   */\n  get target() {\n    return this.targetId && document.getElementById(this.targetId) || null;\n  }\n  /**\n   * Scroll the target in the given direction.\n   *\n   * @param ev Click event\n   * @param direction Scroll direction.\n   */\n  scroll(ev, direction) {\n    if (!this.target) {\n      return;\n    }\n    ev.stopPropagation();\n    ev.preventDefault();\n    const leftDelta = direction === 'forward' ? this.target.clientWidth : -this.target.clientWidth;\n    const newScrollLeft = Math.max(Math.min(this.target.scrollLeft + leftDelta, this.target.scrollWidth - this.target.clientWidth), 0);\n    this.target.scrollBy({\n      left: leftDelta,\n      behavior: 'smooth'\n    });\n    this.updateScrollPosition(newScrollLeft);\n  }\n  /**\n   * Update the current scroll position.\n   */\n  updateScrollPosition(scrollLeft) {\n    this.scrollPosition = this.getScrollPosition(scrollLeft);\n  }\n  /**\n   * Get the current scroll position.\n   *\n   * @param scrollLeft Scroll left to use for reference in the calculations.\n   * @returns Scroll position.\n   */\n  getScrollPosition(scrollLeft) {\n    var _ref, _scrollLeft, _this$target;\n    scrollLeft = (_ref = (_scrollLeft = scrollLeft) !== null && _scrollLeft !== void 0 ? _scrollLeft : (_this$target = this.target) === null || _this$target === void 0 ? void 0 : _this$target.scrollLeft) !== null && _ref !== void 0 ? _ref : 0;\n    if (!this.target || this.target.scrollWidth <= this.target.clientWidth) {\n      return \"hidden\" /* ScrollPosition.HIDDEN */;\n    }\n\n    if (scrollLeft === 0) {\n      return CorePlatform.isRTL ? \"end\" /* ScrollPosition.END */ : \"start\" /* ScrollPosition.START */;\n    }\n\n    if (!CorePlatform.isRTL && this.target.scrollWidth - scrollLeft === this.target.clientWidth) {\n      return \"end\" /* ScrollPosition.END */;\n    }\n\n    if (CorePlatform.isRTL && this.target.scrollWidth + scrollLeft === this.target.clientWidth) {\n      return \"start\" /* ScrollPosition.START */;\n    }\n\n    return \"middle\" /* ScrollPosition.MIDDLE */;\n  }\n}\n_class = CoreHorizontalScrollControlsComponent;\n_class.ɵfac = function CoreHorizontalScrollControlsComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"core-horizontal-scroll-controls\"]],\n  inputs: {\n    targetId: [\"aria-controls\", \"targetId\"]\n  },\n  decls: 6,\n  vars: 12,\n  consts: [[\"fill\", \"clear\", 3, \"hidden\", \"disabled\", \"click\"], [\"name\", \"fas-chevron-left\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\", \"flip-rtl\", \"false\"], [\"name\", \"fas-chevron-right\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\", \"flip-rtl\", \"false\"]],\n  template: function CoreHorizontalScrollControlsComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-button\", 0);\n      i0.ɵɵlistener(\"click\", function CoreHorizontalScrollControlsComponent_Template_ion_button_click_0_listener($event) {\n        return ctx.scroll($event, \"backward\");\n      });\n      i0.ɵɵpipe(1, \"translate\");\n      i0.ɵɵelement(2, \"ion-icon\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"ion-button\", 0);\n      i0.ɵɵlistener(\"click\", function CoreHorizontalScrollControlsComponent_Template_ion_button_click_3_listener($event) {\n        return ctx.scroll($event, \"forward\");\n      });\n      i0.ɵɵpipe(4, \"translate\");\n      i0.ɵɵelement(5, \"ion-icon\", 2);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"hidden\", ctx.scrollPosition === \"hidden\")(\"disabled\", ctx.scrollPosition === \"start\");\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 8, \"core.scrollbackward\"))(\"aria-controls\", ctx.targetId);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"hidden\", ctx.scrollPosition === \"hidden\")(\"disabled\", ctx.scrollPosition === \"end\");\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(4, 10, \"core.scrollforward\"))(\"aria-controls\", ctx.targetId);\n    }\n  },\n  dependencies: [i1.IonButton, i1.IonIcon, i2.CoreFaIconDirective, i3.CoreUpdateNonReactiveAttributesDirective, i4.TranslatePipe],\n  styles: [\"[_nghost-%COMP%] {\\n  --flex-row-direction: row;\\n  display: flex;\\n  flex-direction: var(--flex-row-direction);\\n}\\n\\n[dir=rtl][_nghost-%COMP%], [dir=rtl]   [_nghost-%COMP%] {\\n  --flex-row-direction: row-reverse;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9jb3JlL2NvbXBvbmVudHMvaG9yaXpvbnRhbC1zY3JvbGwtY29udHJvbHMvaG9yaXpvbnRhbC1zY3JvbGwtY29udHJvbHMuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHlCQUFBO0VBRUEsYUFBQTtFQUNBLHlDQUFBO0FBQUo7O0FBR0E7RUFDSSxpQ0FBQTtBQUFKIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICAgIC0tZmxleC1yb3ctZGlyZWN0aW9uOiByb3c7XG5cbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiB2YXIoLS1mbGV4LXJvdy1kaXJlY3Rpb24pO1xufVxuXG46aG9zdC1jb250ZXh0KFtkaXI9XCJydGxcIl0pIHtcbiAgICAtLWZsZXgtcm93LWRpcmVjdGlvbjogcm93LXJldmVyc2U7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["CorePlatform","CoreHorizontalScrollControlsComponent","constructor","scrollPosition","target","targetId","document","getElementById","scroll","ev","direction","stopPropagation","preventDefault","leftDelta","clientWidth","newScrollLeft","Math","max","min","scrollLeft","scrollWidth","scrollBy","left","behavior","updateScrollPosition","getScrollPosition","_ref","_scrollLeft","_this$target","isRTL","selectors","inputs","decls","vars","consts","template","CoreHorizontalScrollControlsComponent_Template","rf","ctx","i0","ɵɵelementStart","ɵɵlistener","CoreHorizontalScrollControlsComponent_Template_ion_button_click_0_listener","$event","ɵɵelement","ɵɵelementEnd","CoreHorizontalScrollControlsComponent_Template_ion_button_click_3_listener","ɵɵproperty","ɵɵattribute","ɵɵpipeBind1","ɵɵadvance"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/components/horizontal-scroll-controls/horizontal-scroll-controls.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/components/horizontal-scroll-controls/core-horizontal-scroll-controls.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input } from '@angular/core';\nimport { CorePlatform } from '@services/platform';\n\nconst enum ScrollPosition {\n    START = 'start',\n    END = 'end',\n    MIDDLE = 'middle',\n    HIDDEN = 'hidden',\n}\n\n@Component({\n    selector: 'core-horizontal-scroll-controls',\n    templateUrl: 'core-horizontal-scroll-controls.html',\n    styleUrls: ['./horizontal-scroll-controls.scss'],\n})\nexport class CoreHorizontalScrollControlsComponent {\n\n    // eslint-disable-next-line @angular-eslint/no-input-rename\n    @Input('aria-controls') targetId?: string;\n\n    scrollPosition: ScrollPosition = ScrollPosition.HIDDEN;\n\n    /**\n     * Get target element.\n     *\n     * @returns The target element or null.\n     */\n    private get target(): HTMLElement | null {\n        return this.targetId && document.getElementById(this.targetId) || null;\n    }\n\n    /**\n     * Scroll the target in the given direction.\n     *\n     * @param ev Click event\n     * @param direction Scroll direction.\n     */\n    scroll(ev: Event, direction: 'forward' | 'backward'): void {\n        if (!this.target) {\n            return;\n        }\n\n        ev.stopPropagation();\n        ev.preventDefault();\n\n        const leftDelta = direction === 'forward' ? this.target.clientWidth : -this.target.clientWidth;\n        const newScrollLeft = Math.max(\n            Math.min(\n                this.target.scrollLeft + leftDelta,\n                this.target.scrollWidth - this.target.clientWidth,\n            ),\n            0,\n        );\n\n        this.target.scrollBy({\n            left: leftDelta,\n            behavior: 'smooth',\n        });\n\n        this.updateScrollPosition(newScrollLeft);\n    }\n\n    /**\n     * Update the current scroll position.\n     */\n    updateScrollPosition(scrollLeft?: number): void {\n        this.scrollPosition = this.getScrollPosition(scrollLeft);\n    }\n\n    /**\n     * Get the current scroll position.\n     *\n     * @param scrollLeft Scroll left to use for reference in the calculations.\n     * @returns Scroll position.\n     */\n    private getScrollPosition(scrollLeft?: number): ScrollPosition {\n        scrollLeft = scrollLeft ?? this.target?.scrollLeft ?? 0;\n\n        if (!this.target || this.target.scrollWidth <= this.target.clientWidth) {\n            return ScrollPosition.HIDDEN;\n        }\n\n        if (scrollLeft === 0) {\n            return CorePlatform.isRTL ? ScrollPosition.END : ScrollPosition.START;\n        }\n\n        if (!CorePlatform.isRTL && this.target.scrollWidth - scrollLeft === this.target.clientWidth) {\n            return ScrollPosition.END;\n        }\n\n        if (CorePlatform.isRTL && this.target.scrollWidth + scrollLeft === this.target.clientWidth) {\n            return ScrollPosition.START;\n        }\n\n        return ScrollPosition.MIDDLE;\n    }\n\n}\n","<ion-button fill=\"clear\" (click)=\"scroll($event, 'backward')\" [hidden]=\"scrollPosition === 'hidden'\" [disabled]=\"scrollPosition === 'start'\"\n    [attr.aria-label]=\"'core.scrollbackward' | translate\" [attr.aria-controls]=\"targetId\">\n    <ion-icon name=\"fas-chevron-left\" slot=\"icon-only\" aria-hidden=\"true\" flip-rtl=\"false\" />\n</ion-button>\n\n<ion-button fill=\"clear\" (click)=\"scroll($event, 'forward')\" [hidden]=\"scrollPosition === 'hidden'\" [disabled]=\"scrollPosition === 'end'\"\n    [attr.aria-label]=\"'core.scrollforward' | translate\" [attr.aria-controls]=\"targetId\">\n    <ion-icon name=\"fas-chevron-right\" slot=\"icon-only\" aria-hidden=\"true\" flip-rtl=\"false\" />\n</ion-button>\n"],"mappings":";AAeA,SAASA,YAAY,QAAQ,oBAAoB;;;;;;AAcjD,OAAM,MAAOC,qCAAqC;EALlDC,YAAA;IAUI,KAAAC,cAAc;;EAEd;;;;;EAKA,IAAYC,MAAMA,CAAA;IACd,OAAO,IAAI,CAACC,QAAQ,IAAIC,QAAQ,CAACC,cAAc,CAAC,IAAI,CAACF,QAAQ,CAAC,IAAI,IAAI;EAC1E;EAEA;;;;;;EAMAG,MAAMA,CAACC,EAAS,EAAEC,SAAiC;IAC/C,IAAI,CAAC,IAAI,CAACN,MAAM,EAAE;MACd;;IAGJK,EAAE,CAACE,eAAe,EAAE;IACpBF,EAAE,CAACG,cAAc,EAAE;IAEnB,MAAMC,SAAS,GAAGH,SAAS,KAAK,SAAS,GAAG,IAAI,CAACN,MAAM,CAACU,WAAW,GAAG,CAAC,IAAI,CAACV,MAAM,CAACU,WAAW;IAC9F,MAAMC,aAAa,GAAGC,IAAI,CAACC,GAAG,CAC1BD,IAAI,CAACE,GAAG,CACJ,IAAI,CAACd,MAAM,CAACe,UAAU,GAAGN,SAAS,EAClC,IAAI,CAACT,MAAM,CAACgB,WAAW,GAAG,IAAI,CAAChB,MAAM,CAACU,WAAW,CACpD,EACD,CAAC,CACJ;IAED,IAAI,CAACV,MAAM,CAACiB,QAAQ,CAAC;MACjBC,IAAI,EAAET,SAAS;MACfU,QAAQ,EAAE;KACb,CAAC;IAEF,IAAI,CAACC,oBAAoB,CAACT,aAAa,CAAC;EAC5C;EAEA;;;EAGAS,oBAAoBA,CAACL,UAAmB;IACpC,IAAI,CAAChB,cAAc,GAAG,IAAI,CAACsB,iBAAiB,CAACN,UAAU,CAAC;EAC5D;EAEA;;;;;;EAMQM,iBAAiBA,CAACN,UAAmB;IAAA,IAAAO,IAAA,EAAAC,WAAA,EAAAC,YAAA;IACzCT,UAAU,IAAAO,IAAA,IAAAC,WAAA,GAAGR,UAAU,cAAAQ,WAAA,cAAAA,WAAA,IAAAC,YAAA,GAAI,IAAI,CAACxB,MAAM,cAAAwB,YAAA,uBAAXA,YAAA,CAAaT,UAAU,cAAAO,IAAA,cAAAA,IAAA,GAAI,CAAC;IAEvD,IAAI,CAAC,IAAI,CAACtB,MAAM,IAAI,IAAI,CAACA,MAAM,CAACgB,WAAW,IAAI,IAAI,CAAChB,MAAM,CAACU,WAAW,EAAE;MACpE;;;IAGJ,IAAIK,UAAU,KAAK,CAAC,EAAE;MAClB,OAAOnB,YAAY,CAAC6B,KAAK,GAAE,iCAAqB;;;IAGpD,IAAI,CAAC7B,YAAY,CAAC6B,KAAK,IAAI,IAAI,CAACzB,MAAM,CAACgB,WAAW,GAAGD,UAAU,KAAK,IAAI,CAACf,MAAM,CAACU,WAAW,EAAE;MACzF;;;IAGJ,IAAId,YAAY,CAAC6B,KAAK,IAAI,IAAI,CAACzB,MAAM,CAACgB,WAAW,GAAGD,UAAU,KAAK,IAAI,CAACf,MAAM,CAACU,WAAW,EAAE;MACxF;;;IAGJ;EACJ;;SAhFSb,qCAAqC;;mBAArCA,MAAqC;AAAA;;QAArCA,MAAqC;EAAA6B,SAAA;EAAAC,MAAA;IAAA1B,QAAA;EAAA;EAAA2B,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,+CAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MC7BlDE,EAAA,CAAAC,cAAA,oBAC0F;MADjED,EAAA,CAAAE,UAAA,mBAAAC,2EAAAC,MAAA;QAAA,OAASL,GAAA,CAAA9B,MAAA,CAAAmC,MAAA,EAAe,UAAU,CAAC;MAAA,EAAC;;MAEzDJ,EAAA,CAAAK,SAAA,kBAAyF;MAC7FL,EAAA,CAAAM,YAAA,EAAa;MAEbN,EAAA,CAAAC,cAAA,oBACyF;MADhED,EAAA,CAAAE,UAAA,mBAAAK,2EAAAH,MAAA;QAAA,OAASL,GAAA,CAAA9B,MAAA,CAAAmC,MAAA,EAAe,SAAS,CAAC;MAAA,EAAC;;MAExDJ,EAAA,CAAAK,SAAA,kBAA0F;MAC9FL,EAAA,CAAAM,YAAA,EAAa;;;MARiDN,EAAA,CAAAQ,UAAA,WAAAT,GAAA,CAAAnC,cAAA,cAAsC,aAAAmC,GAAA,CAAAnC,cAAA;MAChGoC,EAAA,CAAAS,WAAA,eAAAT,EAAA,CAAAU,WAAA,8BAAqD,kBAAAX,GAAA,CAAAjC,QAAA;MAIIkC,EAAA,CAAAW,SAAA,GAAsC;MAAtCX,EAAA,CAAAQ,UAAA,WAAAT,GAAA,CAAAnC,cAAA,cAAsC,aAAAmC,GAAA,CAAAnC,cAAA;MAC/FoC,EAAA,CAAAS,WAAA,eAAAT,EAAA,CAAAU,WAAA,8BAAoD,kBAAAX,GAAA,CAAAjC,QAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}