{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreSites } from '@services/sites';\nimport { CoreNetwork } from '@services/network';\nimport { AddonModForum } from '@addons/mod/forum/services/forum';\nimport { PopoverController } from '@singletons';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreNetworkError } from '@classes/errors/network-error';\nimport * as i0 from \"@angular/core\";\nfunction AddonModForumPostOptionsMenuComponent_ion_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 3);\n    i0.ɵɵlistener(\"click\", function AddonModForumPostOptionsMenuComponent_ion_item_3_Template_ion_item_click_0_listener() {\n      i0.ɵɵrestoreView(_r4);\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.editPost());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 4);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"p\", 5);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, \"addon.mod_forum.edit\"));\n  }\n}\nfunction AddonModForumPostOptionsMenuComponent_ion_item_4_p_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"addon.mod_forum.delete\"));\n  }\n}\nfunction AddonModForumPostOptionsMenuComponent_ion_item_4_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 5);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(2, 1, \"core.discard\"));\n  }\n}\nfunction AddonModForumPostOptionsMenuComponent_ion_item_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 3);\n    i0.ɵɵlistener(\"click\", function AddonModForumPostOptionsMenuComponent_ion_item_4_Template_ion_item_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const ctx_r7 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r7.deletePost());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 6);\n    i0.ɵɵelementStart(2, \"ion-label\");\n    i0.ɵɵtemplate(3, AddonModForumPostOptionsMenuComponent_ion_item_4_p_3_Template, 3, 3, \"p\", 7);\n    i0.ɵɵtemplate(4, AddonModForumPostOptionsMenuComponent_ion_item_4_p_4_Template, 3, 3, \"p\", 7);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"detail\", false);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r1.offlinePost);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.offlinePost);\n  }\n}\nfunction AddonModForumPostOptionsMenuComponent_ion_item_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 8);\n    i0.ɵɵelement(1, \"ion-icon\", 9);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"p\", 5);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"href\", ctx_r2.url)(\"detail\", false)(\"showBrowserWarning\", false);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 4, \"core.openinbrowser\"));\n  }\n}\n/**\n * This component is meant to display a popover with the post options.\n */\nexport class AddonModForumPostOptionsMenuComponent {\n  constructor() {\n    this.canEdit = false;\n    this.canDelete = false;\n    this.loaded = false;\n    this.offlinePost = false;\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      _this.offlinePost = _this.post.id < 0;\n      if (_this.offlinePost) {\n        _this.loaded = true;\n        return;\n      }\n      if (_this.post.capabilities.delete === undefined) {\n        if (_this.forumId) {\n          try {\n            _this.post = yield AddonModForum.getDiscussionPost(_this.forumId, _this.post.discussionid, _this.post.id, {\n              cmId: _this.cmId,\n              readingStrategy: 2 /* CoreSitesReadingStrategy.ONLY_NETWORK */\n            });\n          } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error getting discussion post.');\n          }\n        } else {\n          _this.loaded = true;\n          // Display the open in browser button to prevent having an empty menu.\n          _this.setOpenInBrowserUrl();\n          return;\n        }\n      }\n      _this.canDelete = !!_this.post.capabilities.delete && AddonModForum.isDeletePostAvailable();\n      _this.canEdit = !!_this.post.capabilities.edit && AddonModForum.isUpdatePostAvailable();\n      if (!_this.canDelete && !_this.canEdit) {\n        // Display the open in browser button to prevent having an empty menu.\n        _this.setOpenInBrowserUrl();\n      }\n      _this.loaded = true;\n    })();\n  }\n  /**\n   * Set the URL to open in browser.\n   */\n  setOpenInBrowserUrl() {\n    const site = CoreSites.getRequiredCurrentSite();\n    if (!site.shouldDisplayInformativeLinks()) {\n      return;\n    }\n    this.url = site.createSiteUrl('/mod/forum/discuss.php', {\n      d: this.post.discussionid.toString()\n    }, 'p' + this.post.id);\n  }\n  /**\n   * Close the popover.\n   */\n  dismiss() {\n    PopoverController.dismiss();\n  }\n  /**\n   * Delete a post.\n   */\n  deletePost() {\n    if (!this.offlinePost) {\n      if (!CoreNetwork.isOnline()) {\n        CoreDomUtils.showErrorModal(new CoreNetworkError());\n        return;\n      }\n      PopoverController.dismiss({\n        action: 'delete'\n      });\n    } else {\n      PopoverController.dismiss({\n        action: 'deleteoffline'\n      });\n    }\n  }\n  /**\n   * Edit a post.\n   */\n  editPost() {\n    if (!this.offlinePost && !CoreNetwork.isOnline()) {\n      CoreDomUtils.showErrorModal(new CoreNetworkError());\n      return;\n    }\n    PopoverController.dismiss({\n      action: 'edit'\n    });\n  }\n}\n_class = AddonModForumPostOptionsMenuComponent;\n_class.ɵfac = function AddonModForumPostOptionsMenuComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"addon-forum-post-options-menu\"]],\n  inputs: {\n    post: \"post\",\n    cmId: \"cmId\",\n    forumId: \"forumId\"\n  },\n  decls: 6,\n  vars: 5,\n  consts: [[3, \"hideUntil\", \"fullscreen\"], [\"button\", \"\", \"class\", \"ion-text-wrap\", 3, \"detail\", \"click\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap\", \"core-link\", \"\", \"capture\", \"false\", \"button\", \"\", 3, \"href\", \"detail\", \"showBrowserWarning\", 4, \"ngIf\"], [\"button\", \"\", 1, \"ion-text-wrap\", 3, \"detail\", \"click\"], [\"name\", \"fas-pen\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [1, \"item-heading\"], [\"name\", \"fas-trash\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [\"class\", \"item-heading\", 4, \"ngIf\"], [\"core-link\", \"\", \"capture\", \"false\", \"button\", \"\", 1, \"ion-text-wrap\", 3, \"href\", \"detail\", \"showBrowserWarning\"], [\"name\", \"fas-up-right-from-square\", \"slot\", \"start\", \"aria-hidden\", \"true\"]],\n  template: function AddonModForumPostOptionsMenuComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-content\")(1, \"core-loading\", 0)(2, \"ion-list\");\n      i0.ɵɵtemplate(3, AddonModForumPostOptionsMenuComponent_ion_item_3_Template, 6, 4, \"ion-item\", 1);\n      i0.ɵɵtemplate(4, AddonModForumPostOptionsMenuComponent_ion_item_4_Template, 5, 3, \"ion-item\", 1);\n      i0.ɵɵtemplate(5, AddonModForumPostOptionsMenuComponent_ion_item_5_Template, 6, 6, \"ion-item\", 2);\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hideUntil\", ctx.loaded)(\"fullscreen\", false);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.offlinePost || ctx.canEdit);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.offlinePost || ctx.canDelete);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.url);\n    }\n  },\n  styles: [\"core-loading[_ngcontent-%COMP%] {\\n  --loading-inline-min-height: 48px;\\n  --loading-display-message: none;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hZGRvbnMvbW9kL2ZvcnVtL2NvbXBvbmVudHMvcG9zdC1vcHRpb25zLW1lbnUvcG9zdC1vcHRpb25zLW1lbnUuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGlDQUFBO0VBQ0EsK0JBQUE7QUFDSiIsInNvdXJjZXNDb250ZW50IjpbImNvcmUtbG9hZGluZyB7XG4gICAgLS1sb2FkaW5nLWlubGluZS1taW4taGVpZ2h0OiA0OHB4O1xuICAgIC0tbG9hZGluZy1kaXNwbGF5LW1lc3NhZ2U6IG5vbmU7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["CoreSites","CoreNetwork","AddonModForum","PopoverController","CoreDomUtils","CoreNetworkError","i0","ɵɵelementStart","ɵɵlistener","AddonModForumPostOptionsMenuComponent_ion_item_3_Template_ion_item_click_0_listener","ɵɵrestoreView","_r4","ctx_r3","ɵɵnextContext","ɵɵresetView","editPost","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵproperty","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind1","AddonModForumPostOptionsMenuComponent_ion_item_4_Template_ion_item_click_0_listener","_r8","ctx_r7","deletePost","ɵɵtemplate","AddonModForumPostOptionsMenuComponent_ion_item_4_p_3_Template","AddonModForumPostOptionsMenuComponent_ion_item_4_p_4_Template","ctx_r1","offlinePost","ctx_r2","url","AddonModForumPostOptionsMenuComponent","constructor","canEdit","canDelete","loaded","ngOnInit","_this","_asyncToGenerator","post","id","capabilities","delete","undefined","forumId","getDiscussionPost","discussionid","cmId","readingStrategy","error","showErrorModalDefault","setOpenInBrowserUrl","isDeletePostAvailable","edit","isUpdatePostAvailable","site","getRequiredCurrentSite","shouldDisplayInformativeLinks","createSiteUrl","d","toString","dismiss","isOnline","showErrorModal","action","selectors","inputs","decls","vars","consts","template","AddonModForumPostOptionsMenuComponent_Template","rf","ctx","AddonModForumPostOptionsMenuComponent_ion_item_3_Template","AddonModForumPostOptionsMenuComponent_ion_item_4_Template","AddonModForumPostOptionsMenuComponent_ion_item_5_Template"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/forum/components/post-options-menu/post-options-menu.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/forum/components/post-options-menu/post-options-menu.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input, OnInit } from '@angular/core';\nimport { CoreSites, CoreSitesReadingStrategy } from '@services/sites';\nimport { CoreNetwork } from '@services/network';\nimport { AddonModForum, AddonModForumPost } from '@addons/mod/forum/services/forum';\nimport { PopoverController } from '@singletons';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreNetworkError } from '@classes/errors/network-error';\n\n/**\n * This component is meant to display a popover with the post options.\n */\n@Component({\n    selector: 'addon-forum-post-options-menu',\n    templateUrl: 'post-options-menu.html',\n    styleUrls: ['./post-options-menu.scss'],\n})\nexport class AddonModForumPostOptionsMenuComponent implements OnInit {\n\n    @Input() post!: AddonModForumPost; // The post.\n    @Input() cmId!: number;\n    @Input() forumId!: number; // The forum Id.\n\n    canEdit = false;\n    canDelete = false;\n    loaded = false;\n    url?: string;\n    offlinePost = false;\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        this.offlinePost = this.post.id < 0;\n        if (this.offlinePost) {\n            this.loaded = true;\n\n            return;\n        }\n\n        if (this.post.capabilities.delete === undefined) {\n            if (this.forumId) {\n                try {\n                    this.post =\n                        await AddonModForum.getDiscussionPost(this.forumId, this.post.discussionid, this.post.id, {\n                            cmId: this.cmId,\n                            readingStrategy: CoreSitesReadingStrategy.ONLY_NETWORK,\n                        });\n                } catch (error) {\n                    CoreDomUtils.showErrorModalDefault(error, 'Error getting discussion post.');\n                }\n            } else {\n                this.loaded = true;\n                // Display the open in browser button to prevent having an empty menu.\n                this.setOpenInBrowserUrl();\n\n                return;\n            }\n        }\n\n        this.canDelete = !!this.post.capabilities.delete && AddonModForum.isDeletePostAvailable();\n        this.canEdit = !!this.post.capabilities.edit && AddonModForum.isUpdatePostAvailable();\n        if (!this.canDelete && !this.canEdit) {\n            // Display the open in browser button to prevent having an empty menu.\n            this.setOpenInBrowserUrl();\n        }\n\n        this.loaded = true;\n    }\n\n    /**\n     * Set the URL to open in browser.\n     */\n    protected setOpenInBrowserUrl(): void {\n        const site = CoreSites.getRequiredCurrentSite();\n        if (!site.shouldDisplayInformativeLinks()) {\n            return;\n        }\n\n        this.url = site.createSiteUrl('/mod/forum/discuss.php', { d: this.post.discussionid.toString() }, 'p' + this.post.id);\n    }\n\n    /**\n     * Close the popover.\n     */\n    dismiss(): void {\n        PopoverController.dismiss();\n    }\n\n    /**\n     * Delete a post.\n     */\n    deletePost(): void {\n        if (!this.offlinePost) {\n            if (!CoreNetwork.isOnline()) {\n                CoreDomUtils.showErrorModal(new CoreNetworkError());\n\n                return;\n            }\n\n            PopoverController.dismiss({ action: 'delete' });\n        } else {\n            PopoverController.dismiss({ action: 'deleteoffline' });\n        }\n    }\n\n    /**\n     * Edit a post.\n     */\n    editPost(): void {\n        if (!this.offlinePost && !CoreNetwork.isOnline()) {\n            CoreDomUtils.showErrorModal(new CoreNetworkError());\n\n            return;\n        }\n\n        PopoverController.dismiss({ action: 'edit' });\n    }\n\n}\n","<ion-content>\n    <core-loading [hideUntil]=\"loaded\" [fullscreen]=\"false\">\n        <ion-list>\n            <ion-item button class=\"ion-text-wrap\" (click)=\"editPost()\" *ngIf=\"offlinePost || canEdit\" [detail]=\"false\">\n                <ion-icon name=\"fas-pen\" slot=\"start\" aria-hidden=\"true\" />\n                <ion-label>\n                    <p class=\"item-heading\">{{ 'addon.mod_forum.edit' | translate }}</p>\n                </ion-label>\n            </ion-item>\n            <ion-item button class=\"ion-text-wrap\" (click)=\"deletePost()\" *ngIf=\"offlinePost || canDelete\" [detail]=\"false\">\n                <ion-icon name=\"fas-trash\" slot=\"start\" aria-hidden=\"true\" />\n                <ion-label>\n                    <p class=\"item-heading\" *ngIf=\"!offlinePost\">{{ 'addon.mod_forum.delete' | translate }}</p>\n                    <p class=\"item-heading\" *ngIf=\"offlinePost\">{{ 'core.discard' | translate }}</p>\n                </ion-label>\n            </ion-item>\n            <ion-item class=\"ion-text-wrap\" [href]=\"url\" *ngIf=\"url\" core-link capture=\"false\" button [detail]=\"false\"\n                [showBrowserWarning]=\"false\">\n                <ion-icon name=\"fas-up-right-from-square\" slot=\"start\" aria-hidden=\"true\" />\n                <ion-label>\n                    <p class=\"item-heading\">{{ 'core.openinbrowser' | translate }}</p>\n                </ion-label>\n            </ion-item>\n        </ion-list>\n    </core-loading>\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}