{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n/**\n * Base handler to be registered in CoreContentLinksHandler. It is useful to minimize the amount of\n * functions that handlers need to implement.\n *\n * It allows you to specify a \"pattern\" (RegExp) that will be used to check if the handler handles a URL and to get its site URL.\n */\nexport class CoreContentLinksHandlerBase {\n  constructor() {\n    /**\n     * A name to identify the handler.\n     */\n    this.name = 'CoreContentLinksHandlerBase';\n    /**\n     * Handler's priority. The highest priority is treated first.\n     */\n    this.priority = 0;\n    /**\n     * Whether the isEnabled function should be called for all the users in a site. It should be true only if the isEnabled call\n     * can return different values for different users in same site.\n     */\n    this.checkAllUsers = false;\n    /**\n     * Name of the feature this handler is related to.\n     * It will be used to check if the feature is disabled (@see CoreSite.isFeatureDisabled).\n     */\n    this.featureName = '';\n    /**\n     * If true, a \"^\" will be added to the beginning of the pattern. It's recommended to avoid collisions with other handlers.\n     */\n    this.patternMatchStart = true;\n  }\n  /**\n   * Get the list of actions for a link (url).\n   *\n   * @param siteIds List of sites the URL belongs to.\n   * @param url The URL to treat.\n   * @param params The params of the URL. E.g. 'mysite.com?id=1' -> {id: 1}\n   * @param courseId Course ID related to the URL. Optional but recommended.\n   * @param data Extra data to handle the URL.\n   * @returns List of (or promise resolved with list of) actions.\n   */\n  getActions(\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  siteIds,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  url,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  params,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  courseId,\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  data) {\n    return [];\n  }\n  /**\n   * Check if a URL is handled by this handler.\n   *\n   * @param url The URL to check.\n   * @returns Whether the URL is handled by this handler\n   */\n  handles(url) {\n    let pattern = this.pattern;\n    if (pattern && this.patternMatchStart) {\n      let patternString = pattern.toString();\n      patternString = patternString.substring(1, patternString.length - 1); // Remove slashes from beginning and end.\n      pattern = new RegExp('^' + patternString);\n    }\n    return !!pattern && url.search(pattern) >= 0;\n  }\n  /**\n   * If the URL is handled by this handler, return the site URL.\n   *\n   * @param url The URL to check.\n   * @returns Site URL if it is handled, undefined otherwise.\n   */\n  getSiteUrl(url) {\n    if (this.pattern) {\n      const position = url.search(this.pattern);\n      if (position > -1) {\n        return url.substring(0, position);\n      }\n    }\n  }\n  /**\n   * Check if the handler is enabled for a certain site (site + user) and a URL.\n   * If not defined, defaults to true.\n   *\n   * @param siteId The site ID.\n   * @param url The URL to treat.\n   * @param params The params of the URL. E.g. 'mysite.com?id=1' -> {id: 1}\n   * @param courseId Course ID related to the URL. Optional but recommended.\n   * @returns Whether the handler is enabled for the URL and site.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  isEnabled(siteId, url, params, courseId) {\n    return _asyncToGenerator(function* () {\n      return true;\n    })();\n  }\n}","map":{"version":3,"names":["CoreContentLinksHandlerBase","constructor","name","priority","checkAllUsers","featureName","patternMatchStart","getActions","siteIds","url","params","courseId","data","handles","pattern","patternString","toString","substring","length","RegExp","search","getSiteUrl","position","isEnabled","siteId","_asyncToGenerator"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/contentlinks/classes/base-handler.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { CoreContentLinksHandler, CoreContentLinksAction } from '../services/contentlinks-delegate';\n\n/**\n * Base handler to be registered in CoreContentLinksHandler. It is useful to minimize the amount of\n * functions that handlers need to implement.\n *\n * It allows you to specify a \"pattern\" (RegExp) that will be used to check if the handler handles a URL and to get its site URL.\n */\nexport class CoreContentLinksHandlerBase implements CoreContentLinksHandler {\n\n    /**\n     * A name to identify the handler.\n     */\n    name = 'CoreContentLinksHandlerBase';\n\n    /**\n     * Handler's priority. The highest priority is treated first.\n     */\n    priority = 0;\n\n    /**\n     * Whether the isEnabled function should be called for all the users in a site. It should be true only if the isEnabled call\n     * can return different values for different users in same site.\n     */\n    checkAllUsers = false;\n\n    /**\n     * Name of the feature this handler is related to.\n     * It will be used to check if the feature is disabled (@see CoreSite.isFeatureDisabled).\n     */\n    featureName = '';\n\n    /**\n     * A pattern to use to detect if the handler handles a URL and to get its site URL. Required if \"handles\" and\n     * \"getSiteUrl\" functions aren't overridden.\n     */\n    pattern?: RegExp;\n\n    /**\n     * If true, a \"^\" will be added to the beginning of the pattern. It's recommended to avoid collisions with other handlers.\n     */\n    patternMatchStart = true;\n\n    /**\n     * Get the list of actions for a link (url).\n     *\n     * @param siteIds List of sites the URL belongs to.\n     * @param url The URL to treat.\n     * @param params The params of the URL. E.g. 'mysite.com?id=1' -> {id: 1}\n     * @param courseId Course ID related to the URL. Optional but recommended.\n     * @param data Extra data to handle the URL.\n     * @returns List of (or promise resolved with list of) actions.\n     */\n    getActions(\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        siteIds: string[],\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        url: string,\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        params: Record<string, string>,\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        courseId?: number,\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        data?: unknown,\n    ): CoreContentLinksAction[] | Promise<CoreContentLinksAction[]> {\n        return [];\n    }\n\n    /**\n     * Check if a URL is handled by this handler.\n     *\n     * @param url The URL to check.\n     * @returns Whether the URL is handled by this handler\n     */\n    handles(url: string): boolean {\n        let pattern = this.pattern;\n\n        if (pattern && this.patternMatchStart) {\n            let patternString = pattern.toString();\n            patternString = patternString.substring(1, patternString.length - 1); // Remove slashes from beginning and end.\n            pattern = new RegExp('^' + patternString);\n        }\n\n        return !!pattern && url.search(pattern) >= 0;\n    }\n\n    /**\n     * If the URL is handled by this handler, return the site URL.\n     *\n     * @param url The URL to check.\n     * @returns Site URL if it is handled, undefined otherwise.\n     */\n    getSiteUrl(url: string): string | undefined {\n        if (this.pattern) {\n            const position = url.search(this.pattern);\n            if (position > -1) {\n                return url.substring(0, position);\n            }\n        }\n    }\n\n    /**\n     * Check if the handler is enabled for a certain site (site + user) and a URL.\n     * If not defined, defaults to true.\n     *\n     * @param siteId The site ID.\n     * @param url The URL to treat.\n     * @param params The params of the URL. E.g. 'mysite.com?id=1' -> {id: 1}\n     * @param courseId Course ID related to the URL. Optional but recommended.\n     * @returns Whether the handler is enabled for the URL and site.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    async isEnabled(siteId: string, url: string, params: Record<string, string>, courseId?: number): Promise<boolean> {\n        return true;\n    }\n\n}\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;;;;;AAMA,OAAM,MAAOA,2BAA2B;EAAxCC,YAAA;IAEI;;;IAGA,KAAAC,IAAI,GAAG,6BAA6B;IAEpC;;;IAGA,KAAAC,QAAQ,GAAG,CAAC;IAEZ;;;;IAIA,KAAAC,aAAa,GAAG,KAAK;IAErB;;;;IAIA,KAAAC,WAAW,GAAG,EAAE;IAQhB;;;IAGA,KAAAC,iBAAiB,GAAG,IAAI;EA2E5B;EAzEI;;;;;;;;;;EAUAC,UAAUA;EACN;EACAC,OAAiB;EACjB;EACAC,GAAW;EACX;EACAC,MAA8B;EAC9B;EACAC,QAAiB;EACjB;EACAC,IAAc;IAEd,OAAO,EAAE;EACb;EAEA;;;;;;EAMAC,OAAOA,CAACJ,GAAW;IACf,IAAIK,OAAO,GAAG,IAAI,CAACA,OAAO;IAE1B,IAAIA,OAAO,IAAI,IAAI,CAACR,iBAAiB,EAAE;MACnC,IAAIS,aAAa,GAAGD,OAAO,CAACE,QAAQ,EAAE;MACtCD,aAAa,GAAGA,aAAa,CAACE,SAAS,CAAC,CAAC,EAAEF,aAAa,CAACG,MAAM,GAAG,CAAC,CAAC,CAAC,CAAC;MACtEJ,OAAO,GAAG,IAAIK,MAAM,CAAC,GAAG,GAAGJ,aAAa,CAAC;;IAG7C,OAAO,CAAC,CAACD,OAAO,IAAIL,GAAG,CAACW,MAAM,CAACN,OAAO,CAAC,IAAI,CAAC;EAChD;EAEA;;;;;;EAMAO,UAAUA,CAACZ,GAAW;IAClB,IAAI,IAAI,CAACK,OAAO,EAAE;MACd,MAAMQ,QAAQ,GAAGb,GAAG,CAACW,MAAM,CAAC,IAAI,CAACN,OAAO,CAAC;MACzC,IAAIQ,QAAQ,GAAG,CAAC,CAAC,EAAE;QACf,OAAOb,GAAG,CAACQ,SAAS,CAAC,CAAC,EAAEK,QAAQ,CAAC;;;EAG7C;EAEA;;;;;;;;;;EAUA;EACMC,SAASA,CAACC,MAAc,EAAEf,GAAW,EAAEC,MAA8B,EAAEC,QAAiB;IAAA,OAAAc,iBAAA;MAC1F,OAAO,IAAI;IAAC;EAChB"},"metadata":{},"sourceType":"module","externalDependencies":[]}