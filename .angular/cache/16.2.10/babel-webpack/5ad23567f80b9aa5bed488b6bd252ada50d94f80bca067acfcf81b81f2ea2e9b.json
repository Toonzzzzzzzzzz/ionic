{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreEvents } from '@singletons/events';\nimport { CoreTimeUtils } from '@services/utils/time';\nimport { CoreSites } from '@services/sites';\nimport { CoreCoursesProvider, CoreCourses } from '@features/courses/services/courses';\nimport { CoreCoursesHelper } from '@features/courses/services/courses-helper';\nimport { CoreCourseHelper } from '@features/course/services/course-helper';\nimport { CoreCourseOptionsDelegate } from '@features/course/services/course-options-delegate';\nimport { CoreBlockBaseComponent } from '@features/block/classes/base-block-component';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreTextUtils } from '@services/utils/text';\nimport { AddonCourseCompletion } from '@addons/coursecompletion/services/coursecompletion';\nimport { CoreNavigator } from '@services/navigator';\nimport { PageLoadsManager } from '@classes/page-loads-manager';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@classes/page-loads-manager\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../../../core/components/empty-box/empty-box\";\nimport * as i4 from \"../../../../../core/components/loading/loading\";\nimport * as i5 from \"../../../../../core/components/combobox/combobox\";\nimport * as i6 from \"../../../../../core/directives/fa-icon\";\nimport * as i7 from \"../../../../../core/directives/update-non-reactive-attributes\";\nimport * as i8 from \"@angular/forms\";\nimport * as i9 from \"@ionic/angular\";\nimport * as i10 from \"../../../../../core/features/courses/components/course-list-item/course-list-item\";\nimport * as i11 from \"@ngx-translate/core\";\nfunction AddonBlockMyOverviewComponent_div_6_ion_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 12);\n    i0.ɵɵlistener(\"click\", function AddonBlockMyOverviewComponent_div_6_ion_button_1_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r8.prefetchCourses());\n    });\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelement(2, \"ion-icon\", 13);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 2, ctx_r5.prefetchCoursesData.statusTranslatable));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"name\", ctx_r5.prefetchCoursesData.icon);\n  }\n}\nfunction AddonBlockMyOverviewComponent_div_6_ion_badge_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵattribute(\"aria-valuemax\", ctx_r6.prefetchCoursesData.total)(\"aria-valuenow\", ctx_r6.prefetchCoursesData.count)(\"aria-valuetext\", ctx_r6.prefetchCoursesData.badgeA11yText);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.prefetchCoursesData.badge, \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_div_6_ion_spinner_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-spinner\");\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.loading\"));\n  }\n}\nfunction AddonBlockMyOverviewComponent_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, AddonBlockMyOverviewComponent_div_6_ion_button_1_Template, 3, 4, \"ion-button\", 9);\n    i0.ɵɵtemplate(2, AddonBlockMyOverviewComponent_div_6_ion_badge_2_Template, 2, 4, \"ion-badge\", 10);\n    i0.ɵɵtemplate(3, AddonBlockMyOverviewComponent_div_6_ion_spinner_3_Template, 2, 3, \"ion-spinner\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.prefetchCoursesData.loading);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.prefetchCoursesData.badge);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.prefetchCoursesData.loading);\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-row\", 15)(1, \"ion-col\")(2, \"ion-searchbar\", 16);\n    i0.ɵɵlistener(\"ngModelChange\", function AddonBlockMyOverviewComponent_ion_row_8_Template_ion_searchbar_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.textFilter = $event);\n    })(\"ionInput\", function AddonBlockMyOverviewComponent_ion_row_8_Template_ion_searchbar_ionInput_2_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.filterTextChanged($event.target));\n    })(\"ionCancel\", function AddonBlockMyOverviewComponent_ion_row_8_Template_ion_searchbar_ionCancel_2_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.filterTextChanged($event.target));\n    });\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.textFilter)(\"placeholder\", i0.ɵɵpipeBind1(3, 2, \"core.courses.filtermycourses\"));\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 29);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"addon.block_myoverview.allincludinghidden\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 30);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"addon.block_myoverview.all\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 31);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r19 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"core-select-option-border-bottom\", !ctx_r19.filters.show.past && !ctx_r19.filters.show.future);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 3, \"addon.block_myoverview.inprogress\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r20 = i0.ɵɵnextContext(3);\n    i0.ɵɵclassProp(\"core-select-option-border-bottom\", !ctx_r20.filters.show.past);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 3, \"addon.block_myoverview.future\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 33);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"addon.block_myoverview.past\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ng_container_8_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"ion-select-option\", 35);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const customOption_r26 = ctx.$implicit;\n    const index_r27 = ctx.index;\n    const last_r28 = ctx.last;\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"core-select-option-border-bottom\", last_r28);\n    i0.ɵɵpropertyInterpolate1(\"value\", \"custom-\", index_r27, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", customOption_r26.name, \"\");\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ng_container_8_ng_container_1_Template, 3, 4, \"ng-container\", 34);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r22 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r22.filters.customFilters);\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 36);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"addon.block_myoverview.favourites\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 37);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"addon.block_myoverview.hiddencourses\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-col\", 20)(1, \"core-combobox\", 21);\n    i0.ɵɵlistener(\"onChange\", function AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_Template_core_combobox_onChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r29.filterOptionsChanged($event));\n    });\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵtemplate(3, AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_3_Template, 3, 3, \"ion-select-option\", 22);\n    i0.ɵɵtemplate(4, AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_4_Template, 3, 3, \"ion-select-option\", 23);\n    i0.ɵɵtemplate(5, AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_5_Template, 3, 5, \"ion-select-option\", 24);\n    i0.ɵɵtemplate(6, AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_6_Template, 3, 5, \"ion-select-option\", 25);\n    i0.ɵɵtemplate(7, AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_7_Template, 3, 3, \"ion-select-option\", 26);\n    i0.ɵɵtemplate(8, AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ng_container_8_Template, 2, 1, \"ng-container\", 11);\n    i0.ɵɵtemplate(9, AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_9_Template, 3, 3, \"ion-select-option\", 27);\n    i0.ɵɵtemplate(10, AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_10_Template, 3, 3, \"ion-select-option\", 28);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"label\", i0.ɵɵpipeBind1(2, 10, \"core.courses.filtermycourses\"))(\"selection\", ctx_r14.filters.timeFilterSelected);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.filters.show.allincludinghidden);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.filters.show.all);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.filters.show.inprogress);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.filters.show.future);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.filters.show.past);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.filters.show.custom);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.filters.show.favourite);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r14.filters.show.hidden);\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_5_ion_select_option_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-select-option\", 42);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"addon.block_myoverview.shortname\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r33 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-col\", 20)(1, \"core-combobox\", 38);\n    i0.ɵɵlistener(\"onChange\", function AddonBlockMyOverviewComponent_ion_row_9_ion_col_5_Template_core_combobox_onChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r33);\n      const ctx_r32 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r32.sortCourses($event));\n    });\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementStart(3, \"ion-select-option\", 39);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, AddonBlockMyOverviewComponent_ion_row_9_ion_col_5_ion_select_option_6_Template, 3, 3, \"ion-select-option\", 40);\n    i0.ɵɵelementStart(7, \"ion-select-option\", 41);\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"label\", i0.ɵɵpipeBind1(2, 5, \"core.sortby\"))(\"selection\", ctx_r15.sort.selected);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(5, 7, \"addon.block_myoverview.title\"), \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r15.sort.shortnameEnabled);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(9, 9, \"addon.block_myoverview.lastaccessed\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_6_ion_button_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r37 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 44);\n    i0.ɵɵlistener(\"click\", function AddonBlockMyOverviewComponent_ion_row_9_ion_col_6_ion_button_1_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r37);\n      const ctx_r36 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r36.toggleLayout(\"list\"));\n    });\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelement(2, \"ion-icon\", 45);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"addon.block_myoverview.aria:list\"));\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_6_ion_button_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-button\", 44);\n    i0.ɵɵlistener(\"click\", function AddonBlockMyOverviewComponent_ion_row_9_ion_col_6_ion_button_2_Template_ion_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const ctx_r38 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r38.toggleLayout(\"card\"));\n    });\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelement(2, \"ion-icon\", 46);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"addon.block_myoverview.aria:card\"));\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_ion_col_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-col\", 20);\n    i0.ɵɵtemplate(1, AddonBlockMyOverviewComponent_ion_row_9_ion_col_6_ion_button_1_Template, 3, 3, \"ion-button\", 43);\n    i0.ɵɵtemplate(2, AddonBlockMyOverviewComponent_ion_row_9_ion_col_6_ion_button_2_Template, 3, 3, \"ion-button\", 43);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r16.layout === \"card\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r16.layout === \"list\");\n  }\n}\nfunction AddonBlockMyOverviewComponent_ion_row_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r41 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-row\", 17);\n    i0.ɵɵtemplate(1, AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_Template, 11, 12, \"ion-col\", 18);\n    i0.ɵɵelementStart(2, \"ion-col\")(3, \"ion-searchbar\", 19);\n    i0.ɵɵlistener(\"ngModelChange\", function AddonBlockMyOverviewComponent_ion_row_9_Template_ion_searchbar_ngModelChange_3_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r40 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r40.textFilter = $event);\n    })(\"ionInput\", function AddonBlockMyOverviewComponent_ion_row_9_Template_ion_searchbar_ionInput_3_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r42 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r42.filterTextChanged($event.target));\n    })(\"ionCancel\", function AddonBlockMyOverviewComponent_ion_row_9_Template_ion_searchbar_ionCancel_3_listener($event) {\n      i0.ɵɵrestoreView(_r41);\n      const ctx_r43 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r43.filterTextChanged($event.target));\n    });\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(5, AddonBlockMyOverviewComponent_ion_row_9_ion_col_5_Template, 10, 11, \"ion-col\", 18);\n    i0.ɵɵtemplate(6, AddonBlockMyOverviewComponent_ion_row_9_ion_col_6_Template, 3, 2, \"ion-col\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.filters.enabled);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r2.textFilter)(\"placeholder\", i0.ɵɵpipeBind1(4, 5, \"core.courses.filtermycourses\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.sort.enabled);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.isLayoutSwitcherAvailable);\n  }\n}\nfunction AddonBlockMyOverviewComponent_core_empty_box_10_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"addon.block_myoverview.noresult\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_core_empty_box_10_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 49);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"addon.block_myoverview.nocoursesenrolled\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_core_empty_box_10_ng_container_3_p_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"addon.block_myoverview.noresultdescription\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_core_empty_box_10_ng_container_3_p_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 1, \"addon.block_myoverview.nocoursesenrolleddescription\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_core_empty_box_10_ng_container_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r50 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, AddonBlockMyOverviewComponent_core_empty_box_10_ng_container_3_p_1_Template, 3, 3, \"p\", 50);\n    i0.ɵɵtemplate(2, AddonBlockMyOverviewComponent_core_empty_box_10_ng_container_3_p_2_Template, 3, 3, \"p\", 50);\n    i0.ɵɵelementStart(3, \"ion-button\", 44);\n    i0.ɵɵlistener(\"click\", function AddonBlockMyOverviewComponent_core_empty_box_10_ng_container_3_Template_ion_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r50);\n      const ctx_r49 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r49.openSearch());\n    });\n    i0.ɵɵelement(4, \"ion-icon\", 51);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r46 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r46.hasCourses);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r46.hasCourses);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(6, 3, \"addon.block_myoverview.browseallcourses\"), \" \");\n  }\n}\nfunction AddonBlockMyOverviewComponent_core_empty_box_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"core-empty-box\", 47);\n    i0.ɵɵtemplate(1, AddonBlockMyOverviewComponent_core_empty_box_10_p_1_Template, 3, 3, \"p\", 48);\n    i0.ɵɵtemplate(2, AddonBlockMyOverviewComponent_core_empty_box_10_p_2_Template, 3, 3, \"p\", 48);\n    i0.ɵɵtemplate(3, AddonBlockMyOverviewComponent_core_empty_box_10_ng_container_3_Template, 7, 5, \"ng-container\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.hasCourses);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.hasCourses);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.searchEnabled);\n  }\n}\nfunction AddonBlockMyOverviewComponent_div_11_ion_col_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-col\", 56);\n    i0.ɵɵelement(1, \"core-courses-course-list-item\", 57);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const course_r52 = ctx.$implicit;\n    const ctx_r51 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"course\", course_r52)(\"showDownload\", ctx_r51.downloadCourseEnabled)(\"layout\", ctx_r51.layout);\n  }\n}\nfunction AddonBlockMyOverviewComponent_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 53)(1, \"ion-grid\", 54)(2, \"ion-row\", 54);\n    i0.ɵɵtemplate(3, AddonBlockMyOverviewComponent_div_11_ion_col_3_Template, 2, 3, \"ion-col\", 55);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"core-no-grid\", ctx_r4.layout !== \"card\")(\"list-item-limited-width\", ctx_r4.layout !== \"card\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r4.filteredCourses);\n  }\n}\nconst FILTER_PRIORITY = ['all', 'inprogress', 'future', 'past', 'favourite', 'allincludinghidden', 'hidden'];\n/**\n * Component to render a my overview block.\n */\nexport class AddonBlockMyOverviewComponent extends CoreBlockBaseComponent {\n  constructor(loadsManager) {\n    super('AddonBlockMyOverviewComponent');\n    this.filteredCourses = [];\n    this.prefetchCoursesData = {\n      icon: '',\n      statusTranslatable: 'core.loading',\n      status: '',\n      loading: true\n    };\n    this.downloadCourseEnabled = false;\n    this.downloadCoursesEnabled = false;\n    this.filters = {\n      enabled: false,\n      show: {\n        allincludinghidden: true,\n        all: true,\n        past: true,\n        inprogress: true,\n        future: true,\n        favourite: true,\n        hidden: true,\n        custom: false\n      },\n      timeFilterSelected: 'inprogress',\n      customFilters: []\n    };\n    this.isLayoutSwitcherAvailable = false;\n    this.layout = 'list';\n    this.sort = {\n      shortnameEnabled: false,\n      selected: 'fullname',\n      enabled: false\n    };\n    this.textFilter = '';\n    this.hasCourses = false;\n    this.searchEnabled = false;\n    this.allCourses = [];\n    this.prefetchIconsInitialized = false;\n    this.isDirty = false;\n    this.isDestroyed = false;\n    this.fetchContentDefaultError = 'Error getting my overview data.';\n    this.gradePeriodAfter = 0;\n    this.gradePeriodBefore = 0;\n    this.today = 0;\n    this.loadsManager = loadsManager !== null && loadsManager !== void 0 ? loadsManager : new PageLoadsManager();\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    var _superprop_getNgOnInit = () => super.ngOnInit,\n      _this = this;\n    return _asyncToGenerator(function* () {\n      _this.firstLoadWatcher = _this.loadsManager.startComponentLoad(_this);\n      // Refresh the enabled flags if enabled.\n      _this.downloadCourseEnabled = !CoreCourses.isDownloadCourseDisabledInSite();\n      _this.downloadCoursesEnabled = !CoreCourses.isDownloadCoursesDisabledInSite();\n      _this.searchEnabled = !CoreCourses.isSearchCoursesDisabledInSite();\n      // Refresh the enabled flags if site is updated.\n      _this.updateSiteObserver = CoreEvents.on(CoreEvents.SITE_UPDATED, () => {\n        _this.downloadCourseEnabled = !CoreCourses.isDownloadCourseDisabledInSite();\n        _this.downloadCoursesEnabled = !CoreCourses.isDownloadCoursesDisabledInSite();\n        _this.searchEnabled = !CoreCourses.isSearchCoursesDisabledInSite();\n      }, CoreSites.getCurrentSiteId());\n      _this.coursesObserver = CoreEvents.on(CoreCoursesProvider.EVENT_MY_COURSES_UPDATED, data => {\n        _this.refreshCourseList(data);\n      }, CoreSites.getCurrentSiteId());\n      _this.currentSite = CoreSites.getRequiredCurrentSite();\n      const promises = [];\n      promises.push(_this.currentSite.getLocalSiteConfig('AddonBlockMyOverviewSort', _this.sort.selected).then(value => {\n        _this.sort.selected = value;\n        return;\n      }));\n      promises.push(_this.currentSite.getLocalSiteConfig('AddonBlockMyOverviewLayout', _this.layout).then(value => {\n        _this.layout = value;\n        return;\n      }));\n      promises.push(_this.currentSite.getLocalSiteConfig('AddonBlockMyOverviewFilter', _this.filters.timeFilterSelected).then(value => {\n        _this.filters.timeFilterSelected = value;\n        return;\n      }));\n      Promise.all(promises).finally(() => {\n        _superprop_getNgOnInit().call(_this);\n      });\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnChanges(changes) {\n    super.ngOnChanges(changes);\n    if (this.loaded && changes.block) {\n      // Block was re-fetched, load content.\n      this.reloadContent();\n    }\n  }\n  /**\n   * Refresh the data.\n   *\n   * @param refresher Refresher.\n   * @param done Function to call when done.\n   * @returns Promise resolved when done.\n   */\n  doRefresh(refresher, done) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      if (_this2.loaded) {\n        return _this2.refreshContent().finally(() => {\n          refresher === null || refresher === void 0 || refresher.complete();\n          done && done();\n        });\n      }\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  invalidateContent() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      _this3.isDirty = true;\n      const courseIds = _this3.allCourses.map(course => course.id);\n      yield _this3.invalidateCourses(courseIds);\n    })();\n  }\n  /**\n   * Invalidate list of courses.\n   *\n   * @returns Promise resolved when done.\n   */\n  invalidateCourseList() {\n    return CoreCourses.invalidateUserCourses();\n  }\n  /**\n   * Helper function to invalidate only selected courses.\n   *\n   * @param courseIds Course Id array.\n   * @returns Promise resolved when done.\n   */\n  invalidateCourses(courseIds) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const promises = [];\n      // Invalidate course completion data.\n      promises.push(_this4.invalidateCourseList().finally(() => CoreUtils.allPromises(courseIds.map(courseId => AddonCourseCompletion.invalidateCourseCompletion(courseId)))));\n      if (courseIds.length == 1) {\n        promises.push(CoreCourseOptionsDelegate.clearAndInvalidateCoursesOptions(courseIds[0]));\n      } else {\n        promises.push(CoreCourseOptionsDelegate.clearAndInvalidateCoursesOptions());\n      }\n      if (courseIds.length > 0) {\n        promises.push(CoreCourses.invalidateCoursesByField('ids', courseIds.join(',')));\n      }\n      yield CoreUtils.allPromises(promises).finally(() => {\n        _this4.prefetchIconsInitialized = false;\n      });\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  fetchContent() {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      var _this5$firstLoadWatch, _this5$block$configsR;\n      const loadWatcher = (_this5$firstLoadWatch = _this5.firstLoadWatcher) !== null && _this5$firstLoadWatch !== void 0 ? _this5$firstLoadWatch : _this5.loadsManager.startComponentLoad(_this5);\n      _this5.firstLoadWatcher = undefined;\n      yield Promise.all([_this5.loadAllCourses(loadWatcher), _this5.loadGracePeriod(loadWatcher)]);\n      _this5.loadSort();\n      _this5.loadLayouts((_this5$block$configsR = _this5.block.configsRecord) === null || _this5$block$configsR === void 0 || (_this5$block$configsR = _this5$block$configsR.layouts) === null || _this5$block$configsR === void 0 ? void 0 : _this5$block$configsR.value.split(','));\n      yield _this5.loadFilters(_this5.block.configsRecord, loadWatcher);\n      _this5.isDirty = false;\n    })();\n  }\n  /**\n   * Load all courses.\n   *\n   * @param loadWatcher To manage the requests.\n   * @returns Promise resolved when done.\n   */\n  loadAllCourses(loadWatcher) {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      var _this6$block$configsR;\n      const showCategories = ((_this6$block$configsR = _this6.block.configsRecord) === null || _this6$block$configsR === void 0 || (_this6$block$configsR = _this6$block$configsR.displaycategories) === null || _this6$block$configsR === void 0 ? void 0 : _this6$block$configsR.value) === '1';\n      _this6.allCourses = yield loadWatcher.watchRequest(CoreCoursesHelper.getUserCoursesWithOptionsObservable({\n        sort: _this6.sort.selected,\n        loadCategoryNames: showCategories,\n        readingStrategy: _this6.isDirty ? 3 /* CoreSitesReadingStrategy.PREFER_NETWORK */ : loadWatcher.getReadingStrategy()\n      }), (prevCourses, newCourses) => _this6.coursesHaveMeaningfulChanges(prevCourses, newCourses));\n      _this6.hasCourses = _this6.allCourses.length > 0;\n    })();\n  }\n  /**\n   * Load grace period.\n   *\n   * @param loadWatcher To manage the requests.\n   * @returns Promise resolved when done.\n   */\n  loadGracePeriod(loadWatcher) {\n    var _this7 = this;\n    return _asyncToGenerator(function* () {\n      _this7.hasCourses = _this7.allCourses.length > 0;\n      try {\n        const siteConfig = yield loadWatcher.watchRequest(_this7.currentSite.getConfigObservable(undefined, _this7.isDirty ? 3 /* CoreSitesReadingStrategy.PREFER_NETWORK */ : loadWatcher.getReadingStrategy()));\n        _this7.gradePeriodAfter = parseInt(siteConfig.coursegraceperiodafter, 10);\n        _this7.gradePeriodBefore = parseInt(siteConfig.coursegraceperiodbefore, 10);\n      } catch (_unused) {\n        _this7.gradePeriodAfter = 0;\n        _this7.gradePeriodBefore = 0;\n      }\n    })();\n  }\n  /**\n   * Load sort.\n   */\n  loadSort() {\n    const sampleCourse = this.allCourses[0];\n    // Check to show sort by short name only if the text is visible.\n    this.sort.shortnameEnabled = !!(sampleCourse !== null && sampleCourse !== void 0 && sampleCourse.displayname) && !!(sampleCourse !== null && sampleCourse !== void 0 && sampleCourse.shortname) && (sampleCourse === null || sampleCourse === void 0 ? void 0 : sampleCourse.fullname) != (sampleCourse === null || sampleCourse === void 0 ? void 0 : sampleCourse.displayname);\n    // Rollback to sort by full name if user is sorting by short name then Moodle web change the config.\n    if (!this.sort.shortnameEnabled && this.sort.selected === 'shortname') {\n      this.saveSort('fullname');\n    }\n    this.sort.enabled = (sampleCourse === null || sampleCourse === void 0 ? void 0 : sampleCourse.lastaccess) !== undefined;\n  }\n  /**\n   * Load filters.\n   *\n   * @param config Block configuration.\n   * @param loadWatcher To manage the requests.\n   * @returns Promise resolved when done.\n   */\n  loadFilters(config, loadWatcher) {\n    var _this8 = this;\n    return _asyncToGenerator(function* () {\n      var _config$displaygroupi, _config$displaygroupi2, _config$displaygroupi3, _config$displaygroupi4, _config$displaygroupi5, _config$displaygroupi6, _config$displaygroupi7, _config$displaygroupi8, _config$displaygroupi9, _config$displaygroupi10, _config$customfieldse, _config$customfieldse2;\n      if (!_this8.hasCourses) {\n        return;\n      }\n      _this8.textFilter = '';\n      const sampleCourse = _this8.allCourses[0];\n      // Do not show hidden if config it's not present (before 3.8) but if hidden is enabled.\n      _this8.filters.show.hidden = (config === null || config === void 0 || (_config$displaygroupi = config.displaygroupingallincludinghidden) === null || _config$displaygroupi === void 0 ? void 0 : _config$displaygroupi.value) == '1' || sampleCourse.hidden !== undefined && (!config || ((_config$displaygroupi2 = config.displaygroupinghidden) === null || _config$displaygroupi2 === void 0 ? void 0 : _config$displaygroupi2.value) == '1');\n      _this8.filters.show.allincludinghidden = !config || ((_config$displaygroupi3 = config.displaygroupingallincludinghidden) === null || _config$displaygroupi3 === void 0 ? void 0 : _config$displaygroupi3.value) == '1';\n      _this8.filters.show.all = !config || ((_config$displaygroupi4 = config.displaygroupingall) === null || _config$displaygroupi4 === void 0 ? void 0 : _config$displaygroupi4.value) == '1';\n      _this8.filters.show.inprogress = !config || ((_config$displaygroupi5 = config.displaygroupinginprogress) === null || _config$displaygroupi5 === void 0 ? void 0 : _config$displaygroupi5.value) == '1';\n      _this8.filters.show.past = !config || ((_config$displaygroupi6 = config.displaygroupingpast) === null || _config$displaygroupi6 === void 0 ? void 0 : _config$displaygroupi6.value) == '1';\n      _this8.filters.show.future = !config || ((_config$displaygroupi7 = config.displaygroupingfuture) === null || _config$displaygroupi7 === void 0 ? void 0 : _config$displaygroupi7.value) == '1';\n      _this8.filters.show.favourite = sampleCourse.isfavourite !== undefined && (!config || ((_config$displaygroupi8 = config.displaygroupingstarred) === null || _config$displaygroupi8 === void 0 ? void 0 : _config$displaygroupi8.value) == '1' || ((_config$displaygroupi9 = config.displaygroupingfavourites) === null || _config$displaygroupi9 === void 0 ? void 0 : _config$displaygroupi9.value) == '1');\n      _this8.filters.show.custom = (config === null || config === void 0 || (_config$displaygroupi10 = config.displaygroupingcustomfield) === null || _config$displaygroupi10 === void 0 ? void 0 : _config$displaygroupi10.value) == '1' && !!(config !== null && config !== void 0 && (_config$customfieldse = config.customfieldsexport) !== null && _config$customfieldse !== void 0 && _config$customfieldse.value);\n      _this8.filters.customFilters = _this8.filters.show.custom ? CoreTextUtils.parseJSON((config === null || config === void 0 || (_config$customfieldse2 = config.customfieldsexport) === null || _config$customfieldse2 === void 0 ? void 0 : _config$customfieldse2.value) || '[]', []) : [];\n      // Check if any selector is shown and not disabled.\n      _this8.filters.enabled = Object.keys(_this8.filters.show).some(key => _this8.filters.show[key]);\n      if (!_this8.filters.enabled) {\n        // All filters disabled, display all the courses.\n        _this8.filters.show.all = true;\n        _this8.saveFilters('all');\n      }\n      yield _this8.filterCourses(loadWatcher);\n    })();\n  }\n  /**\n   * Load block layouts.\n   *\n   * @param layouts Config available layouts.\n   */\n  loadLayouts(layouts) {\n    const layoutsOptions = [];\n    if (layouts === undefined) {\n      this.isLayoutSwitcherAvailable = true;\n      return;\n    }\n    layouts.forEach(layout => {\n      if (layout == '') {\n        return;\n      }\n      const validLayout = layout == 'summary' ? 'list' : layout;\n      if (!layoutsOptions.includes(validLayout)) {\n        layoutsOptions.push(validLayout);\n      }\n    });\n    // If no layout is available use list.\n    if (layoutsOptions.length == 0) {\n      layoutsOptions.push('list');\n    }\n    if (!layoutsOptions.includes(this.layout)) {\n      this.layout = layoutsOptions[0];\n    }\n    this.isLayoutSwitcherAvailable = layoutsOptions.length > 1;\n  }\n  /**\n   * Refresh course list based on a EVENT_MY_COURSES_UPDATED event.\n   *\n   * @param data Event data.\n   * @returns Promise resolved when done.\n   */\n  refreshCourseList(data) {\n    var _this9 = this;\n    return _asyncToGenerator(function* () {\n      if (data.action == CoreCoursesProvider.ACTION_ENROL) {\n        // Always update if user enrolled in a course.\n        return _this9.refreshContent(true);\n      }\n      const course = _this9.allCourses.find(course => course.id == data.courseId);\n      if (data.action == CoreCoursesProvider.ACTION_STATE_CHANGED) {\n        if (!course) {\n          // Not found, use WS update.\n          return _this9.refreshContent(true);\n        }\n        if (data.state == CoreCoursesProvider.STATE_FAVOURITE) {\n          course.isfavourite = !!data.value;\n        }\n        if (data.state == CoreCoursesProvider.STATE_HIDDEN) {\n          course.hidden = !!data.value;\n        }\n        yield _this9.invalidateCourseList();\n        yield _this9.filterCourses();\n      }\n      if (data.action == CoreCoursesProvider.ACTION_VIEW && data.courseId != CoreSites.getCurrentSiteHomeId()) {\n        if (!course) {\n          // Not found, use WS update.\n          return _this9.refreshContent(true);\n        }\n        course.lastaccess = CoreTimeUtils.timestamp();\n        yield _this9.invalidateCourseList();\n        yield _this9.filterCourses();\n      }\n    })();\n  }\n  /**\n   * Initialize the prefetch icon for selected courses.\n   *\n   * @returns Promise resolved when done.\n   */\n  initPrefetchCoursesIcons() {\n    var _this10 = this;\n    return _asyncToGenerator(function* () {\n      if (_this10.prefetchIconsInitialized) {\n        // Already initialized.\n        return;\n      }\n      _this10.prefetchIconsInitialized = true;\n      _this10.prefetchCoursesData = yield CoreCourseHelper.initPrefetchCoursesIcons(_this10.filteredCourses, _this10.prefetchCoursesData);\n    })();\n  }\n  /**\n   * Prefetch all the shown courses.\n   *\n   * @returns Promise resolved when done.\n   */\n  prefetchCourses() {\n    var _this11 = this;\n    return _asyncToGenerator(function* () {\n      const initialIcon = _this11.prefetchCoursesData.icon;\n      try {\n        yield CoreCourseHelper.prefetchCourses(_this11.filteredCourses, _this11.prefetchCoursesData);\n      } catch (error) {\n        if (!_this11.isDestroyed) {\n          CoreDomUtils.showErrorModalDefault(error, 'core.course.errordownloadingcourse', true);\n          _this11.prefetchCoursesData.icon = initialIcon;\n        }\n      }\n    })();\n  }\n  /**\n   * Text filter changed.\n   *\n   * @param target Searchbar element.\n   */\n  filterTextChanged(target) {\n    this.textFilter = target.value || '';\n    this.filterCourses();\n  }\n  /**\n   * Set selected courses filter.\n   *\n   * @param loadWatcher To manage the requests.\n   * @returns Promise resolved when done.\n   */\n  filterCourses(loadWatcher) {\n    var _this12 = this;\n    return _asyncToGenerator(function* () {\n      let timeFilter = _this12.filters.timeFilterSelected;\n      _this12.filteredCourses = _this12.allCourses;\n      if (_this12.filters.show.custom && timeFilter.startsWith('custom-')) {\n        var _this12$block$configs, _this12$filters$custo;\n        // Custom filter.\n        const customFilterName = (_this12$block$configs = _this12.block.configsRecord) === null || _this12$block$configs === void 0 ? void 0 : _this12$block$configs.customfiltergrouping.value;\n        const customFilterValue = (_this12$filters$custo = _this12.filters.customFilters[timeFilter.substring(7)]) === null || _this12$filters$custo === void 0 ? void 0 : _this12$filters$custo.value;\n        if (customFilterName !== undefined && customFilterValue !== undefined) {\n          const alreadyLoading = _this12.loaded === false;\n          _this12.loaded = false;\n          try {\n            const courses = loadWatcher ? yield loadWatcher.watchRequest(CoreCourses.getEnrolledCoursesByCustomFieldObservable(customFilterName, customFilterValue, {\n              readingStrategy: loadWatcher.getReadingStrategy()\n            }), (prevCourses, newCourses) => _this12.customFilterCoursesHaveMeaningfulChanges(prevCourses, newCourses)) : yield CoreCourses.getEnrolledCoursesByCustomField(customFilterName, customFilterValue);\n            // Get the courses information from allincludinghidden to get the max info about the course.\n            const courseIds = courses.map(course => course.id);\n            _this12.filteredCourses = _this12.filteredCourses.filter(course => courseIds.includes(course.id));\n            _this12.saveFilters(timeFilter);\n          } catch (error) {\n            if (alreadyLoading) {\n              throw error; // Pass the error to the caller so it's treated there.\n            }\n\n            CoreDomUtils.showErrorModalDefault(error, _this12.fetchContentDefaultError);\n          } finally {\n            if (!alreadyLoading) {\n              // Only set loaded to true if there was no other data being loaded.\n              _this12.loaded = true;\n            }\n          }\n        }\n      } else {\n        // Filter is not active, take the first active or all. Custom is never saved.\n        if (!_this12.filters.show[timeFilter]) {\n          timeFilter = FILTER_PRIORITY.find(name => _this12.filters.show[name]) || 'all';\n        }\n        _this12.saveFilters(timeFilter);\n        // Update today date.\n        _this12.today = Date.now();\n        // Apply filters.\n        switch (timeFilter) {\n          case 'allincludinghidden':\n            // No nothing, it's all courses.\n            break;\n          case 'all':\n            _this12.filteredCourses = _this12.filteredCourses.filter(course => !course.hidden);\n            break;\n          case 'inprogress':\n            _this12.filteredCourses = _this12.filteredCourses.filter(course => !course.hidden && !CoreCoursesHelper.isPastCourse(course, _this12.gradePeriodAfter) && !CoreCoursesHelper.isFutureCourse(course, _this12.gradePeriodAfter, _this12.gradePeriodBefore));\n            break;\n          case 'future':\n            _this12.filteredCourses = _this12.filteredCourses.filter(course => !course.hidden && CoreCoursesHelper.isFutureCourse(course, _this12.gradePeriodAfter, _this12.gradePeriodBefore));\n            break;\n          case 'past':\n            _this12.filteredCourses = _this12.filteredCourses.filter(course => !course.hidden && CoreCoursesHelper.isPastCourse(course, _this12.gradePeriodAfter));\n            break;\n          case 'favourite':\n            _this12.filteredCourses = _this12.filteredCourses.filter(course => !course.hidden && course.isfavourite);\n            break;\n          case 'hidden':\n            _this12.filteredCourses = _this12.filteredCourses.filter(course => course.hidden);\n            break;\n        }\n      }\n      // Text filter.\n      const value = _this12.textFilter.trim().toLowerCase();\n      if (value != '' && _this12.filteredCourses.length > 0) {\n        // Use displayname if available, or fullname if not.\n        if (_this12.filteredCourses[0].displayname !== undefined) {\n          _this12.filteredCourses = _this12.filteredCourses.filter(course => course.displayname && course.displayname.toLowerCase().indexOf(value) > -1);\n        } else {\n          _this12.filteredCourses = _this12.filteredCourses.filter(course => course.fullname.toLowerCase().indexOf(value) > -1);\n        }\n      }\n      _this12.sortCourses(_this12.sort.selected);\n      // Refresh prefetch data (if enabled).\n      _this12.prefetchIconsInitialized = false;\n      _this12.initPrefetchCoursesIcons();\n    })();\n  }\n  /**\n   * Sort courses\n   *\n   * @param sort Sort by value.\n   */\n  sortCourses(sort) {\n    if (!this.sort.enabled) {\n      return;\n    }\n    if (this.sort.selected != sort) {\n      this.saveSort(sort);\n    }\n    if (this.sort.selected == 'lastaccess') {\n      this.filteredCourses.sort((a, b) => (b.lastaccess || 0) - (a.lastaccess || 0));\n    } else if (this.sort.selected == 'fullname') {\n      this.filteredCourses.sort((a, b) => {\n        const compareA = a.fullname.toLowerCase();\n        const compareB = b.fullname.toLowerCase();\n        return compareA.localeCompare(compareB);\n      });\n    } else if (this.sort.selected == 'shortname') {\n      this.filteredCourses.sort((a, b) => {\n        const compareA = a.shortname.toLowerCase();\n        const compareB = b.shortname.toLowerCase();\n        return compareA.localeCompare(compareB);\n      });\n    }\n  }\n  /**\n   * Saves filters value.\n   *\n   * @param timeFilter New time filter.\n   * @returns Promise resolved when done.\n   */\n  saveFilters(timeFilter) {\n    var _this13 = this;\n    return _asyncToGenerator(function* () {\n      _this13.filters.timeFilterSelected = timeFilter;\n      yield _this13.currentSite.setLocalSiteConfig('AddonBlockMyOverviewFilter', timeFilter);\n    })();\n  }\n  /**\n   * Toggle layout value.\n   *\n   * @param layout New layout.\n   * @returns Promise resolved when done.\n   */\n  toggleLayout(layout) {\n    var _this14 = this;\n    return _asyncToGenerator(function* () {\n      _this14.layout = layout;\n      yield _this14.currentSite.setLocalSiteConfig('AddonBlockMyOverviewLayout', _this14.layout);\n    })();\n  }\n  /**\n   * Saves sort courses value.\n   *\n   * @param sort New sorting.\n   * @returns Promise resolved when done.\n   */\n  saveSort(sort) {\n    var _this15 = this;\n    return _asyncToGenerator(function* () {\n      _this15.sort.selected = sort;\n      yield _this15.currentSite.setLocalSiteConfig('AddonBlockMyOverviewSort', _this15.sort.selected);\n    })();\n  }\n  /**\n   * Option selected save and apply filter.\n   *\n   * @param selected Option selected.\n   * @returns Promise resolved when done.\n   */\n  filterOptionsChanged(selected) {\n    var _this16 = this;\n    return _asyncToGenerator(function* () {\n      _this16.filters.timeFilterSelected = selected;\n      _this16.filterCourses();\n    })();\n  }\n  /**\n   * Go to search courses.\n   */\n  openSearch() {\n    return _asyncToGenerator(function* () {\n      CoreNavigator.navigateToSitePath('courses/list', {\n        params: {\n          mode: 'search'\n        }\n      });\n    })();\n  }\n  /**\n   * Compare if the WS data has meaningful changes for the user.\n   *\n   * @param previousCourses Previous courses.\n   * @param newCourses New courses.\n   * @returns Whether it has meaningful changes.\n   */\n  coursesHaveMeaningfulChanges(previousCourses, newCourses) {\n    return _asyncToGenerator(function* () {\n      if (previousCourses.length !== newCourses.length) {\n        return true;\n      }\n      previousCourses = Array.from(previousCourses).sort((a, b) => a.fullname.toLowerCase().localeCompare(b.fullname.toLowerCase()));\n      newCourses = Array.from(newCourses).sort((a, b) => a.fullname.toLowerCase().localeCompare(b.fullname.toLowerCase()));\n      for (let i = 0; i < previousCourses.length; i++) {\n        var _prevCourse$displayna, _newCourse$displaynam;\n        const prevCourse = previousCourses[i];\n        const newCourse = newCourses[i];\n        if (prevCourse.progress !== newCourse.progress || prevCourse.categoryname !== newCourse.categoryname || ((_prevCourse$displayna = prevCourse.displayname) !== null && _prevCourse$displayna !== void 0 ? _prevCourse$displayna : prevCourse.fullname) !== ((_newCourse$displaynam = newCourse.displayname) !== null && _newCourse$displaynam !== void 0 ? _newCourse$displaynam : newCourse.fullname)) {\n          return true;\n        }\n      }\n      return false;\n    })();\n  }\n  /**\n   * Compare if the WS data has meaningful changes for the user.\n   *\n   * @param previousCourses Previous courses.\n   * @param newCourses New courses.\n   * @returns Whether it has meaningful changes.\n   */\n  customFilterCoursesHaveMeaningfulChanges(previousCourses, newCourses) {\n    return _asyncToGenerator(function* () {\n      if (previousCourses.length !== newCourses.length) {\n        return true;\n      }\n      const previousIds = previousCourses.map(course => course.id).sort();\n      const newIds = newCourses.map(course => course.id).sort();\n      return previousIds.some((previousId, index) => previousId !== newIds[index]);\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnDestroy() {\n    var _this$coursesObserver, _this$updateSiteObser;\n    this.isDestroyed = true;\n    (_this$coursesObserver = this.coursesObserver) === null || _this$coursesObserver === void 0 || _this$coursesObserver.off();\n    (_this$updateSiteObser = this.updateSiteObserver) === null || _this$updateSiteObser === void 0 || _this$updateSiteObser.off();\n  }\n}\n_class = AddonBlockMyOverviewComponent;\n_class.ɵfac = function AddonBlockMyOverviewComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.PageLoadsManager, 8));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"addon-block-myoverview\"]],\n  features: [i0.ɵɵInheritDefinitionFeature, i0.ɵɵNgOnChangesFeature],\n  decls: 12,\n  vars: 10,\n  consts: [[3, \"sticky\"], [\"slot\", \"end\", 1, \"flex-row\"], [\"class\", \"core-button-spinner\", 4, \"ngIf\"], [3, \"hideUntil\"], [\"class\", \"ion-hide-md-up addon-block-myoverview-filter\", 4, \"ngIf\"], [\"class\", \"ion-justify-content-between ion-align-items-center addon-block-myoverview-filter\", 4, \"ngIf\"], [\"image\", \"assets/img/icons/courses.svg\", 4, \"ngIf\"], [\"class\", \"safe-area-padding\", 4, \"ngIf\"], [1, \"core-button-spinner\"], [\"fill\", \"clear\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"core-course-download-courses-progress\", \"role\", \"progressbar\", 4, \"ngIf\"], [4, \"ngIf\"], [\"fill\", \"clear\", 3, \"click\"], [\"slot\", \"icon-only\", \"aria-hidden\", \"true\", 3, \"name\"], [\"role\", \"progressbar\", 1, \"core-course-download-courses-progress\"], [1, \"ion-hide-md-up\", \"addon-block-myoverview-filter\"], [3, \"ngModel\", \"placeholder\", \"ngModelChange\", \"ionInput\", \"ionCancel\"], [1, \"ion-justify-content-between\", \"ion-align-items-center\", \"addon-block-myoverview-filter\"], [\"size\", \"auto\", 4, \"ngIf\"], [1, \"ion-hide-md-down\", 3, \"ngModel\", \"placeholder\", \"ngModelChange\", \"ionInput\", \"ionCancel\"], [\"size\", \"auto\"], [3, \"label\", \"selection\", \"onChange\"], [\"class\", \"ion-text-wrap core-select-option-border-bottom\", \"value\", \"allincludinghidden\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap core-select-option-border-bottom\", \"value\", \"all\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap\", \"value\", \"inprogress\", 3, \"core-select-option-border-bottom\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap\", \"value\", \"future\", 3, \"core-select-option-border-bottom\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap core-select-option-border-bottom\", \"value\", \"past\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap core-select-option-border-bottom\", \"value\", \"favourite\", 4, \"ngIf\"], [\"class\", \"ion-text-wrap\", \"value\", \"hidden\", 4, \"ngIf\"], [\"value\", \"allincludinghidden\", 1, \"ion-text-wrap\", \"core-select-option-border-bottom\"], [\"value\", \"all\", 1, \"ion-text-wrap\", \"core-select-option-border-bottom\"], [\"value\", \"inprogress\", 1, \"ion-text-wrap\"], [\"value\", \"future\", 1, \"ion-text-wrap\"], [\"value\", \"past\", 1, \"ion-text-wrap\", \"core-select-option-border-bottom\"], [4, \"ngFor\", \"ngForOf\"], [1, \"ion-text-wrap\", 3, \"value\"], [\"value\", \"favourite\", 1, \"ion-text-wrap\", \"core-select-option-border-bottom\"], [\"value\", \"hidden\", 1, \"ion-text-wrap\"], [\"icon\", \"fas-arrow-down-short-wide\", 3, \"label\", \"selection\", \"onChange\"], [\"value\", \"fullname\", 1, \"ion-text-wrap\"], [\"class\", \"ion-text-wrap\", \"value\", \"shortname\", 4, \"ngIf\"], [\"value\", \"lastaccess\", 1, \"ion-text-wrap\"], [\"value\", \"shortname\", 1, \"ion-text-wrap\"], [\"fill\", \"outline\", 3, \"click\", 4, \"ngIf\"], [\"fill\", \"outline\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"fas-list\", \"aria-hidden\", \"true\"], [\"slot\", \"icon-only\", \"name\", \"fas-table-cells-large\", \"aria-hidden\", \"true\"], [\"image\", \"assets/img/icons/courses.svg\"], [\"class\", \"item-heading\", 4, \"ngIf\"], [1, \"item-heading\"], [\"class\", \"subdued\", 4, \"ngIf\"], [\"name\", \"fas-magnifying-glass\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [1, \"subdued\"], [1, \"safe-area-padding\"], [1, \"ion-no-padding\"], [\"class\", \"ion-no-padding\", \"size\", \"12\", \"size-sm\", \"6\", \"size-md\", \"6\", \"size-lg\", \"4\", \"size-xl\", \"3\", 4, \"ngFor\", \"ngForOf\"], [\"size\", \"12\", \"size-sm\", \"6\", \"size-md\", \"6\", \"size-lg\", \"4\", \"size-xl\", \"3\", 1, \"ion-no-padding\"], [1, \"core-courseoverview\", 3, \"course\", \"showDownload\", \"layout\"]],\n  template: function AddonBlockMyOverviewComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-item-divider\", 0)(1, \"ion-label\")(2, \"h2\");\n      i0.ɵɵtext(3);\n      i0.ɵɵpipe(4, \"translate\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"div\", 1);\n      i0.ɵɵtemplate(6, AddonBlockMyOverviewComponent_div_6_Template, 4, 3, \"div\", 2);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(7, \"core-loading\", 3);\n      i0.ɵɵtemplate(8, AddonBlockMyOverviewComponent_ion_row_8_Template, 4, 4, \"ion-row\", 4);\n      i0.ɵɵtemplate(9, AddonBlockMyOverviewComponent_ion_row_9_Template, 7, 7, \"ion-row\", 5);\n      i0.ɵɵtemplate(10, AddonBlockMyOverviewComponent_core_empty_box_10_Template, 4, 3, \"core-empty-box\", 6);\n      i0.ɵɵtemplate(11, AddonBlockMyOverviewComponent_div_11_Template, 4, 5, \"div\", 7);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"sticky\", true);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 8, \"addon.block_myoverview.pluginname\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngIf\", ctx.downloadCoursesEnabled && ctx.filteredCourses.length > 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"hideUntil\", ctx.loaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.hasCourses);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.hasCourses);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.filteredCourses.length === 0);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.hasCourses);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.CoreEmptyBoxComponent, i4.CoreLoadingComponent, i5.CoreComboboxComponent, i6.CoreFaIconDirective, i7.CoreUpdateNonReactiveAttributesDirective, i8.NgControlStatus, i8.NgModel, i9.IonBadge, i9.IonButton, i9.IonCol, i9.IonGrid, i9.IonIcon, i9.IonItemDivider, i9.IonLabel, i9.IonRow, i9.IonSearchbar, i9.IonSelectOption, i9.IonSpinner, i9.TextValueAccessor, i10.CoreCoursesCourseListItemComponent, i11.TranslatePipe],\n  styles: [\"[_nghost-%COMP%]   ion-row.addon-block-myoverview-filter[_ngcontent-%COMP%] {\\n  margin: 8px;\\n  padding: 0;\\n}\\n[_nghost-%COMP%]   ion-row.addon-block-myoverview-filter[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%] {\\n  padding: 0;\\n  margin-right: 2px;\\n  margin-left: 2px;\\n}\\n[_nghost-%COMP%]   ion-row.addon-block-myoverview-filter[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-row.addon-block-myoverview-filter[_ngcontent-%COMP%]   core-combobox[_ngcontent-%COMP%]     ion-button {\\n  --border-width: 0;\\n  --a11y-min-target-size: 40px;\\n  margin: 0;\\n}\\n[_nghost-%COMP%]   ion-row.addon-block-myoverview-filter[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   .select-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-row.addon-block-myoverview-filter[_ngcontent-%COMP%]   core-combobox[_ngcontent-%COMP%]     ion-button .select-icon {\\n  display: none;\\n}\\n[_nghost-%COMP%]   ion-row.addon-block-myoverview-filter[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%], [_nghost-%COMP%]   ion-row.addon-block-myoverview-filter[_ngcontent-%COMP%]   core-combobox[_ngcontent-%COMP%]     ion-button ion-icon {\\n  font-size: 20px;\\n}\\n[_nghost-%COMP%]   ion-row.addon-block-myoverview-filter[_ngcontent-%COMP%]   core-combobox[_ngcontent-%COMP%]     ion-select {\\n  margin: 0;\\n  --a11y-min-target-size: 40px;\\n}\\n[_nghost-%COMP%]   ion-row.addon-block-myoverview-filter[_ngcontent-%COMP%]   ion-searchbar[_ngcontent-%COMP%] {\\n  padding: 0;\\n  --height: 40px;\\n}\\n[_nghost-%COMP%]   core-empty-box[_ngcontent-%COMP%]   .item-heading[_ngcontent-%COMP%] {\\n  font-weight: bold;\\n  margin-bottom: 0;\\n  font-size: 16px;\\n}\\n[_nghost-%COMP%]   core-empty-box[_ngcontent-%COMP%]   .subdued[_ngcontent-%COMP%] {\\n  color: var(--subdued-text-color);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hZGRvbnMvYmxvY2svbXlvdmVydmlldy9jb21wb25lbnRzL215b3ZlcnZpZXcvbXlvdmVydmlldy5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNJO0VBQ0ksV0FBQTtFQUNBLFVBQUE7QUFBUjtBQUVRO0VBQ0ksVUFBQTtFQUNBLGlCQUFBO0VBQ0EsZ0JBQUE7QUFBWjtBQUdROztFQUVJLGlCQUFBO0VBQ0EsNEJBQUE7RUFDQSxTQUFBO0FBRFo7QUFHWTs7RUFDSSxhQUFBO0FBQWhCO0FBRVk7O0VBQ0ksZUFBQTtBQUNoQjtBQUdRO0VBQ0ksU0FBQTtFQUNBLDRCQUFBO0FBRFo7QUFJTztFQUNLLFVBQUE7RUFDQSxjQUFBO0FBRlo7QUFPUTtFQUNJLGlCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxlQUFBO0FBTFo7QUFRUTtFQUNJLGdDQUFBO0FBTloiLCJzb3VyY2VzQ29udGVudCI6WyI6aG9zdCB7XG4gICAgaW9uLXJvdy5hZGRvbi1ibG9jay1teW92ZXJ2aWV3LWZpbHRlciB7XG4gICAgICAgIG1hcmdpbjogOHB4O1xuICAgICAgICBwYWRkaW5nOiAwO1xuXG4gICAgICAgIGlvbi1jb2wge1xuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIG1hcmdpbi1yaWdodDogMnB4O1xuICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDJweDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlvbi1idXR0b24sXG4gICAgICAgIGNvcmUtY29tYm9ib3ggOjpuZy1kZWVwIGlvbi1idXR0b24ge1xuICAgICAgICAgICAgLS1ib3JkZXItd2lkdGg6IDA7XG4gICAgICAgICAgICAtLWExMXktbWluLXRhcmdldC1zaXplOiA0MHB4O1xuICAgICAgICAgICAgbWFyZ2luOiAwO1xuXG4gICAgICAgICAgICAuc2VsZWN0LWljb24ge1xuICAgICAgICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpb24taWNvbiB7XG4gICAgICAgICAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29yZS1jb21ib2JveCA6Om5nLWRlZXAgaW9uLXNlbGVjdCB7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICAtLWExMXktbWluLXRhcmdldC1zaXplOiA0MHB4O1xuICAgICAgICB9XG5cbiAgICAgICBpb24tc2VhcmNoYmFyIHtcbiAgICAgICAgICAgIHBhZGRpbmc6IDA7XG4gICAgICAgICAgICAtLWhlaWdodDogNDBweDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvcmUtZW1wdHktYm94IHtcbiAgICAgICAgLml0ZW0taGVhZGluZyB7XG4gICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDA7XG4gICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgIH1cblxuICAgICAgICAuc3ViZHVlZCB7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0tc3ViZHVlZC10ZXh0LWNvbG9yKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"names":["CoreEvents","CoreTimeUtils","CoreSites","CoreCoursesProvider","CoreCourses","CoreCoursesHelper","CoreCourseHelper","CoreCourseOptionsDelegate","CoreBlockBaseComponent","CoreUtils","CoreDomUtils","CoreTextUtils","AddonCourseCompletion","CoreNavigator","PageLoadsManager","i0","ɵɵelementStart","ɵɵlistener","AddonBlockMyOverviewComponent_div_6_ion_button_1_Template_ion_button_click_0_listener","ɵɵrestoreView","_r9","ctx_r8","ɵɵnextContext","ɵɵresetView","prefetchCourses","ɵɵelement","ɵɵelementEnd","ɵɵattribute","ɵɵpipeBind1","ctx_r5","prefetchCoursesData","statusTranslatable","ɵɵadvance","ɵɵproperty","icon","ɵɵtext","ctx_r6","total","count","badgeA11yText","ɵɵtextInterpolate1","badge","ɵɵtemplate","AddonBlockMyOverviewComponent_div_6_ion_button_1_Template","AddonBlockMyOverviewComponent_div_6_ion_badge_2_Template","AddonBlockMyOverviewComponent_div_6_ion_spinner_3_Template","ctx_r0","loading","AddonBlockMyOverviewComponent_ion_row_8_Template_ion_searchbar_ngModelChange_2_listener","$event","_r11","ctx_r10","textFilter","AddonBlockMyOverviewComponent_ion_row_8_Template_ion_searchbar_ionInput_2_listener","ctx_r12","filterTextChanged","target","AddonBlockMyOverviewComponent_ion_row_8_Template_ion_searchbar_ionCancel_2_listener","ctx_r13","ctx_r1","ɵɵclassProp","ctx_r19","filters","show","past","future","ctx_r20","ɵɵelementContainerStart","ɵɵelementContainerEnd","last_r28","ɵɵpropertyInterpolate1","index_r27","customOption_r26","name","AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ng_container_8_ng_container_1_Template","ctx_r22","customFilters","AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_Template_core_combobox_onChange_1_listener","_r30","ctx_r29","filterOptionsChanged","AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_3_Template","AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_4_Template","AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_5_Template","AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_6_Template","AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_7_Template","AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ng_container_8_Template","AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_9_Template","AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_ion_select_option_10_Template","ctx_r14","timeFilterSelected","allincludinghidden","all","inprogress","custom","favourite","hidden","AddonBlockMyOverviewComponent_ion_row_9_ion_col_5_Template_core_combobox_onChange_1_listener","_r33","ctx_r32","sortCourses","AddonBlockMyOverviewComponent_ion_row_9_ion_col_5_ion_select_option_6_Template","ctx_r15","sort","selected","shortnameEnabled","AddonBlockMyOverviewComponent_ion_row_9_ion_col_6_ion_button_1_Template_ion_button_click_0_listener","_r37","ctx_r36","toggleLayout","AddonBlockMyOverviewComponent_ion_row_9_ion_col_6_ion_button_2_Template_ion_button_click_0_listener","_r39","ctx_r38","AddonBlockMyOverviewComponent_ion_row_9_ion_col_6_ion_button_1_Template","AddonBlockMyOverviewComponent_ion_row_9_ion_col_6_ion_button_2_Template","ctx_r16","layout","AddonBlockMyOverviewComponent_ion_row_9_ion_col_1_Template","AddonBlockMyOverviewComponent_ion_row_9_Template_ion_searchbar_ngModelChange_3_listener","_r41","ctx_r40","AddonBlockMyOverviewComponent_ion_row_9_Template_ion_searchbar_ionInput_3_listener","ctx_r42","AddonBlockMyOverviewComponent_ion_row_9_Template_ion_searchbar_ionCancel_3_listener","ctx_r43","AddonBlockMyOverviewComponent_ion_row_9_ion_col_5_Template","AddonBlockMyOverviewComponent_ion_row_9_ion_col_6_Template","ctx_r2","enabled","isLayoutSwitcherAvailable","AddonBlockMyOverviewComponent_core_empty_box_10_ng_container_3_p_1_Template","AddonBlockMyOverviewComponent_core_empty_box_10_ng_container_3_p_2_Template","AddonBlockMyOverviewComponent_core_empty_box_10_ng_container_3_Template_ion_button_click_3_listener","_r50","ctx_r49","openSearch","ctx_r46","hasCourses","AddonBlockMyOverviewComponent_core_empty_box_10_p_1_Template","AddonBlockMyOverviewComponent_core_empty_box_10_p_2_Template","AddonBlockMyOverviewComponent_core_empty_box_10_ng_container_3_Template","ctx_r3","searchEnabled","course_r52","ctx_r51","downloadCourseEnabled","AddonBlockMyOverviewComponent_div_11_ion_col_3_Template","ctx_r4","filteredCourses","FILTER_PRIORITY","AddonBlockMyOverviewComponent","constructor","loadsManager","status","downloadCoursesEnabled","allCourses","prefetchIconsInitialized","isDirty","isDestroyed","fetchContentDefaultError","gradePeriodAfter","gradePeriodBefore","today","ngOnInit","_superprop_getNgOnInit","_this","_asyncToGenerator","firstLoadWatcher","startComponentLoad","isDownloadCourseDisabledInSite","isDownloadCoursesDisabledInSite","isSearchCoursesDisabledInSite","updateSiteObserver","on","SITE_UPDATED","getCurrentSiteId","coursesObserver","EVENT_MY_COURSES_UPDATED","data","refreshCourseList","currentSite","getRequiredCurrentSite","promises","push","getLocalSiteConfig","then","value","Promise","finally","call","ngOnChanges","changes","loaded","block","reloadContent","doRefresh","refresher","done","_this2","refreshContent","complete","invalidateContent","_this3","courseIds","map","course","id","invalidateCourses","invalidateCourseList","invalidateUserCourses","_this4","allPromises","courseId","invalidateCourseCompletion","length","clearAndInvalidateCoursesOptions","invalidateCoursesByField","join","fetchContent","_this5","_this5$firstLoadWatch","_this5$block$configsR","loadWatcher","undefined","loadAllCourses","loadGracePeriod","loadSort","loadLayouts","configsRecord","layouts","split","loadFilters","_this6","_this6$block$configsR","showCategories","displaycategories","watchRequest","getUserCoursesWithOptionsObservable","loadCategoryNames","readingStrategy","getReadingStrategy","prevCourses","newCourses","coursesHaveMeaningfulChanges","_this7","siteConfig","getConfigObservable","parseInt","coursegraceperiodafter","coursegraceperiodbefore","_unused","sampleCourse","displayname","shortname","fullname","saveSort","lastaccess","config","_this8","_config$displaygroupi","_config$displaygroupi2","_config$displaygroupi3","_config$displaygroupi4","_config$displaygroupi5","_config$displaygroupi6","_config$displaygroupi7","_config$displaygroupi8","_config$displaygroupi9","_config$displaygroupi10","_config$customfieldse","_config$customfieldse2","displaygroupingallincludinghidden","displaygroupinghidden","displaygroupingall","displaygroupinginprogress","displaygroupingpast","displaygroupingfuture","isfavourite","displaygroupingstarred","displaygroupingfavourites","displaygroupingcustomfield","customfieldsexport","parseJSON","Object","keys","some","key","saveFilters","filterCourses","layoutsOptions","forEach","validLayout","includes","_this9","action","ACTION_ENROL","find","ACTION_STATE_CHANGED","state","STATE_FAVOURITE","STATE_HIDDEN","ACTION_VIEW","getCurrentSiteHomeId","timestamp","initPrefetchCoursesIcons","_this10","_this11","initialIcon","error","showErrorModalDefault","_this12","timeFilter","startsWith","_this12$block$configs","_this12$filters$custo","customFilterName","customfiltergrouping","customFilterValue","substring","alreadyLoading","courses","getEnrolledCoursesByCustomFieldObservable","customFilterCoursesHaveMeaningfulChanges","getEnrolledCoursesByCustomField","filter","Date","now","isPastCourse","isFutureCourse","trim","toLowerCase","indexOf","a","b","compareA","compareB","localeCompare","_this13","setLocalSiteConfig","_this14","_this15","_this16","navigateToSitePath","params","mode","previousCourses","Array","from","i","_prevCourse$displayna","_newCourse$displaynam","prevCourse","newCourse","progress","categoryname","previousIds","newIds","previousId","index","ngOnDestroy","_this$coursesObserver","_this$updateSiteObser","off","ɵɵdirectiveInject","i1","selectors","features","ɵɵInheritDefinitionFeature","ɵɵNgOnChangesFeature","decls","vars","consts","template","AddonBlockMyOverviewComponent_Template","rf","ctx","AddonBlockMyOverviewComponent_div_6_Template","AddonBlockMyOverviewComponent_ion_row_8_Template","AddonBlockMyOverviewComponent_ion_row_9_Template","AddonBlockMyOverviewComponent_core_empty_box_10_Template","AddonBlockMyOverviewComponent_div_11_Template","ɵɵtextInterpolate"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/block/myoverview/components/myoverview/myoverview.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/addons/block/myoverview/components/myoverview/addon-block-myoverview.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit, OnDestroy, Optional, OnChanges, SimpleChanges } from '@angular/core';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\nimport { CoreTimeUtils } from '@services/utils/time';\nimport { CoreSites, CoreSitesReadingStrategy } from '@services/sites';\nimport {\n    CoreCoursesProvider,\n    CoreCourses,\n    CoreCoursesMyCoursesUpdatedEventData,\n    CoreCourseSummaryData,\n} from '@features/courses/services/courses';\nimport { CoreCoursesHelper, CoreEnrolledCourseDataWithExtraInfoAndOptions } from '@features/courses/services/courses-helper';\nimport { CoreCourseHelper, CorePrefetchStatusInfo } from '@features/course/services/course-helper';\nimport { CoreCourseOptionsDelegate } from '@features/course/services/course-options-delegate';\nimport { CoreBlockBaseComponent } from '@features/block/classes/base-block-component';\nimport { CoreSite } from '@classes/sites/site';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreTextUtils } from '@services/utils/text';\nimport { AddonCourseCompletion } from '@addons/coursecompletion/services/coursecompletion';\nimport { IonSearchbar } from '@ionic/angular';\nimport { CoreNavigator } from '@services/navigator';\nimport { PageLoadWatcher } from '@classes/page-load-watcher';\nimport { PageLoadsManager } from '@classes/page-loads-manager';\n\nconst FILTER_PRIORITY: AddonBlockMyOverviewTimeFilters[] =\n    ['all', 'inprogress', 'future', 'past', 'favourite', 'allincludinghidden', 'hidden'];\n\n/**\n * Component to render a my overview block.\n */\n@Component({\n    selector: 'addon-block-myoverview',\n    templateUrl: 'addon-block-myoverview.html',\n    styleUrls: ['myoverview.scss'],\n})\nexport class AddonBlockMyOverviewComponent extends CoreBlockBaseComponent implements OnInit, OnDestroy, OnChanges {\n\n    filteredCourses: CoreEnrolledCourseDataWithExtraInfoAndOptions[] = [];\n\n    prefetchCoursesData: CorePrefetchStatusInfo = {\n        icon: '',\n        statusTranslatable: 'core.loading',\n        status: '',\n        loading: true,\n    };\n\n    downloadCourseEnabled = false;\n    downloadCoursesEnabled = false;\n\n    filters: AddonBlockMyOverviewFilterOptions = {\n        enabled: false,\n        show: { // Options are visible, disabled, hidden.\n            allincludinghidden: true,\n            all: true,\n            past: true,\n            inprogress: true,\n            future: true,\n            favourite: true,\n            hidden: true,\n            custom: false,\n        },\n        timeFilterSelected: 'inprogress',\n        customFilters: [],\n    };\n\n    isLayoutSwitcherAvailable = false;\n    layout: AddonBlockMyOverviewLayouts = 'list';\n\n    sort: AddonBlockMyOverviewSortOptions = {\n        shortnameEnabled: false,\n        selected: 'fullname',\n        enabled: false,\n    };\n\n    textFilter = '';\n    hasCourses = false;\n    searchEnabled = false;\n\n    protected currentSite!: CoreSite;\n    protected allCourses: CoreEnrolledCourseDataWithExtraInfoAndOptions[] = [];\n    protected prefetchIconsInitialized = false;\n    protected isDirty = false;\n    protected isDestroyed = false;\n    protected coursesObserver?: CoreEventObserver;\n    protected updateSiteObserver?: CoreEventObserver;\n    protected fetchContentDefaultError = 'Error getting my overview data.';\n    protected gradePeriodAfter = 0;\n    protected gradePeriodBefore = 0;\n    protected today = 0;\n    protected firstLoadWatcher?: PageLoadWatcher;\n    protected loadsManager: PageLoadsManager;\n\n    constructor(@Optional() loadsManager?: PageLoadsManager) {\n        super('AddonBlockMyOverviewComponent');\n\n        this.loadsManager = loadsManager ?? new PageLoadsManager();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        this.firstLoadWatcher = this.loadsManager.startComponentLoad(this);\n\n        // Refresh the enabled flags if enabled.\n        this.downloadCourseEnabled = !CoreCourses.isDownloadCourseDisabledInSite();\n        this.downloadCoursesEnabled = !CoreCourses.isDownloadCoursesDisabledInSite();\n        this.searchEnabled = !CoreCourses.isSearchCoursesDisabledInSite();\n\n        // Refresh the enabled flags if site is updated.\n        this.updateSiteObserver = CoreEvents.on(CoreEvents.SITE_UPDATED, () => {\n            this.downloadCourseEnabled = !CoreCourses.isDownloadCourseDisabledInSite();\n            this.downloadCoursesEnabled = !CoreCourses.isDownloadCoursesDisabledInSite();\n            this.searchEnabled = !CoreCourses.isSearchCoursesDisabledInSite();\n        }, CoreSites.getCurrentSiteId());\n\n        this.coursesObserver = CoreEvents.on(\n            CoreCoursesProvider.EVENT_MY_COURSES_UPDATED,\n            (data) => {\n                this.refreshCourseList(data);\n            },\n            CoreSites.getCurrentSiteId(),\n        );\n\n        this.currentSite = CoreSites.getRequiredCurrentSite();\n\n        const promises: Promise<void>[] = [];\n\n        promises.push(this.currentSite.getLocalSiteConfig(\n            'AddonBlockMyOverviewSort',\n            this.sort.selected,\n        ).then((value) => {\n            this.sort.selected = value;\n\n            return;\n        }));\n\n        promises.push(this.currentSite.getLocalSiteConfig(\n            'AddonBlockMyOverviewLayout',\n            this.layout,\n        ).then((value) => {\n            this.layout = value;\n\n            return;\n        }));\n\n        promises.push(this.currentSite.getLocalSiteConfig(\n            'AddonBlockMyOverviewFilter',\n            this.filters.timeFilterSelected,\n        ).then((value) => {\n            this.filters.timeFilterSelected = value;\n\n            return;\n        }));\n\n        Promise.all(promises).finally(() => {\n            super.ngOnInit();\n        });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnChanges(changes: SimpleChanges): void {\n        super.ngOnChanges(changes);\n\n        if (this.loaded && changes.block) {\n            // Block was re-fetched, load content.\n            this.reloadContent();\n        }\n    }\n\n    /**\n     * Refresh the data.\n     *\n     * @param refresher Refresher.\n     * @param done Function to call when done.\n     * @returns Promise resolved when done.\n     */\n    async doRefresh(refresher?: HTMLIonRefresherElement, done?: () => void): Promise<void> {\n        if (this.loaded) {\n            return this.refreshContent().finally(() => {\n                refresher?.complete();\n                done && done();\n            });\n        }\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async invalidateContent(): Promise<void> {\n        this.isDirty = true;\n        const courseIds = this.allCourses.map((course) => course.id);\n\n        await this.invalidateCourses(courseIds);\n    }\n\n    /**\n     * Invalidate list of courses.\n     *\n     * @returns Promise resolved when done.\n     */\n    protected invalidateCourseList(): Promise<void> {\n        return CoreCourses.invalidateUserCourses();\n    }\n\n    /**\n     * Helper function to invalidate only selected courses.\n     *\n     * @param courseIds Course Id array.\n     * @returns Promise resolved when done.\n     */\n    protected async invalidateCourses(courseIds: number[]): Promise<void> {\n        const promises: Promise<void>[] = [];\n\n        // Invalidate course completion data.\n        promises.push(this.invalidateCourseList().finally(() =>\n            CoreUtils.allPromises(courseIds.map((courseId) =>\n                AddonCourseCompletion.invalidateCourseCompletion(courseId)))));\n\n        if (courseIds.length  == 1) {\n            promises.push(CoreCourseOptionsDelegate.clearAndInvalidateCoursesOptions(courseIds[0]));\n        } else {\n            promises.push(CoreCourseOptionsDelegate.clearAndInvalidateCoursesOptions());\n        }\n        if (courseIds.length > 0) {\n            promises.push(CoreCourses.invalidateCoursesByField('ids', courseIds.join(',')));\n        }\n\n        await CoreUtils.allPromises(promises).finally(() => {\n            this.prefetchIconsInitialized = false;\n        });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    protected async fetchContent(): Promise<void> {\n        const loadWatcher = this.firstLoadWatcher ?? this.loadsManager.startComponentLoad(this);\n        this.firstLoadWatcher = undefined;\n\n        await Promise.all([\n            this.loadAllCourses(loadWatcher),\n            this.loadGracePeriod(loadWatcher),\n        ]);\n\n        this.loadSort();\n        this.loadLayouts(this.block.configsRecord?.layouts?.value.split(','));\n\n        await this.loadFilters(this.block.configsRecord, loadWatcher);\n\n        this.isDirty = false;\n    }\n\n    /**\n     * Load all courses.\n     *\n     * @param loadWatcher To manage the requests.\n     * @returns Promise resolved when done.\n     */\n    protected async loadAllCourses(loadWatcher: PageLoadWatcher): Promise<void> {\n        const showCategories = this.block.configsRecord?.displaycategories?.value === '1';\n\n        this.allCourses = await loadWatcher.watchRequest(\n            CoreCoursesHelper.getUserCoursesWithOptionsObservable({\n                sort: this.sort.selected,\n                loadCategoryNames: showCategories,\n                readingStrategy: this.isDirty ? CoreSitesReadingStrategy.PREFER_NETWORK : loadWatcher.getReadingStrategy(),\n            }),\n            (prevCourses, newCourses) => this.coursesHaveMeaningfulChanges(prevCourses, newCourses),\n        );\n\n        this.hasCourses = this.allCourses.length > 0;\n    }\n\n    /**\n     * Load grace period.\n     *\n     * @param loadWatcher To manage the requests.\n     * @returns Promise resolved when done.\n     */\n    protected async loadGracePeriod(loadWatcher: PageLoadWatcher): Promise<void> {\n        this.hasCourses = this.allCourses.length > 0;\n\n        try {\n            const siteConfig = await loadWatcher.watchRequest(\n                this.currentSite.getConfigObservable(\n                    undefined,\n                    this.isDirty ? CoreSitesReadingStrategy.PREFER_NETWORK : loadWatcher.getReadingStrategy(),\n                ),\n            );\n\n            this.gradePeriodAfter = parseInt(siteConfig.coursegraceperiodafter, 10);\n            this.gradePeriodBefore = parseInt(siteConfig.coursegraceperiodbefore, 10);\n        } catch {\n            this.gradePeriodAfter = 0;\n            this.gradePeriodBefore = 0;\n        }\n    }\n\n    /**\n     * Load sort.\n     */\n    protected loadSort(): void {\n        const sampleCourse = this.allCourses[0];\n\n        // Check to show sort by short name only if the text is visible.\n        this.sort.shortnameEnabled = !!sampleCourse?.displayname && !!sampleCourse?.shortname &&\n            sampleCourse?.fullname != sampleCourse?.displayname;\n\n        // Rollback to sort by full name if user is sorting by short name then Moodle web change the config.\n        if (!this.sort.shortnameEnabled && this.sort.selected === 'shortname') {\n            this.saveSort('fullname');\n        }\n\n        this.sort.enabled = sampleCourse?.lastaccess !== undefined;\n    }\n\n    /**\n     * Load filters.\n     *\n     * @param config Block configuration.\n     * @param loadWatcher To manage the requests.\n     * @returns Promise resolved when done.\n     */\n    protected async loadFilters(\n        config?: Record<string, { name: string; value: string; type: string }>,\n        loadWatcher?: PageLoadWatcher,\n    ): Promise<void> {\n        if (!this.hasCourses) {\n            return;\n        }\n\n        this.textFilter = '';\n\n        const sampleCourse = this.allCourses[0];\n\n        // Do not show hidden if config it's not present (before 3.8) but if hidden is enabled.\n        this.filters.show.hidden =\n            config?.displaygroupingallincludinghidden?.value == '1' ||\n            sampleCourse.hidden !== undefined && (!config || config.displaygroupinghidden?.value == '1');\n\n        this.filters.show.allincludinghidden =  !config || config.displaygroupingallincludinghidden?.value == '1';\n        this.filters.show.all =  !config || config.displaygroupingall?.value == '1';\n        this.filters.show.inprogress = !config || config.displaygroupinginprogress?.value == '1';\n        this.filters.show.past = !config || config.displaygroupingpast?.value == '1';\n        this.filters.show.future = !config || config.displaygroupingfuture?.value == '1';\n\n        this.filters.show.favourite = sampleCourse.isfavourite !== undefined &&\n            (!config || config.displaygroupingstarred?.value == '1' || config.displaygroupingfavourites?.value == '1');\n\n        this.filters.show.custom = config?.displaygroupingcustomfield?.value == '1' && !!config?.customfieldsexport?.value;\n\n        this.filters.customFilters = this.filters.show.custom\n            ? CoreTextUtils.parseJSON(config?.customfieldsexport?.value || '[]', [])\n            : [];\n\n        // Check if any selector is shown and not disabled.\n        this.filters.enabled = Object.keys(this.filters.show).some((key) => this.filters.show[key]);\n\n        if (!this.filters.enabled) {\n            // All filters disabled, display all the courses.\n            this.filters.show.all = true;\n            this.saveFilters('all');\n        }\n\n        await this.filterCourses(loadWatcher);\n    }\n\n    /**\n     * Load block layouts.\n     *\n     * @param layouts Config available layouts.\n     */\n    protected loadLayouts(layouts?: string[]): void {\n        const layoutsOptions: AddonBlockMyOverviewLayouts[] = [];\n\n        if (layouts === undefined) {\n            this.isLayoutSwitcherAvailable = true;\n\n            return;\n        }\n\n        layouts.forEach((layout) => {\n            if (layout == '') {\n                return;\n            }\n\n            const validLayout: AddonBlockMyOverviewLayouts = layout == 'summary' ? 'list' : layout as AddonBlockMyOverviewLayouts;\n            if (!layoutsOptions.includes(validLayout)) {\n                layoutsOptions.push(validLayout);\n            }\n        });\n\n        // If no layout is available use list.\n        if (layoutsOptions.length == 0) {\n            layoutsOptions.push('list');\n        }\n\n        if (!layoutsOptions.includes(this.layout)) {\n            this.layout = layoutsOptions[0];\n        }\n\n        this.isLayoutSwitcherAvailable = layoutsOptions.length > 1;\n    }\n\n    /**\n     * Refresh course list based on a EVENT_MY_COURSES_UPDATED event.\n     *\n     * @param data Event data.\n     * @returns Promise resolved when done.\n     */\n    protected async refreshCourseList(data: CoreCoursesMyCoursesUpdatedEventData): Promise<void> {\n        if (data.action == CoreCoursesProvider.ACTION_ENROL) {\n            // Always update if user enrolled in a course.\n            return this.refreshContent(true);\n        }\n\n        const course = this.allCourses.find((course) => course.id == data.courseId);\n        if (data.action == CoreCoursesProvider.ACTION_STATE_CHANGED) {\n            if (!course) {\n                // Not found, use WS update.\n                return this.refreshContent(true);\n            }\n\n            if (data.state == CoreCoursesProvider.STATE_FAVOURITE) {\n                course.isfavourite = !!data.value;\n            }\n\n            if (data.state == CoreCoursesProvider.STATE_HIDDEN) {\n                course.hidden = !!data.value;\n            }\n\n            await this.invalidateCourseList();\n            await this.filterCourses();\n        }\n\n        if (data.action == CoreCoursesProvider.ACTION_VIEW && data.courseId != CoreSites.getCurrentSiteHomeId()) {\n            if (!course) {\n                // Not found, use WS update.\n                return this.refreshContent(true);\n            }\n\n            course.lastaccess = CoreTimeUtils.timestamp();\n\n            await this.invalidateCourseList();\n            await this.filterCourses();\n        }\n    }\n\n    /**\n     * Initialize the prefetch icon for selected courses.\n     *\n     * @returns Promise resolved when done.\n     */\n    async initPrefetchCoursesIcons(): Promise<void> {\n        if (this.prefetchIconsInitialized) {\n            // Already initialized.\n            return;\n        }\n\n        this.prefetchIconsInitialized = true;\n\n        this.prefetchCoursesData = await CoreCourseHelper.initPrefetchCoursesIcons(this.filteredCourses, this.prefetchCoursesData);\n    }\n\n    /**\n     * Prefetch all the shown courses.\n     *\n     * @returns Promise resolved when done.\n     */\n    async prefetchCourses(): Promise<void> {\n        const initialIcon = this.prefetchCoursesData.icon;\n\n        try {\n            await CoreCourseHelper.prefetchCourses(this.filteredCourses, this.prefetchCoursesData);\n        } catch (error) {\n            if (!this.isDestroyed) {\n                CoreDomUtils.showErrorModalDefault(error, 'core.course.errordownloadingcourse', true);\n                this.prefetchCoursesData.icon = initialIcon;\n            }\n        }\n    }\n\n    /**\n     * Text filter changed.\n     *\n     * @param target Searchbar element.\n     */\n    filterTextChanged(target: IonSearchbar): void {\n        this.textFilter = target.value || '';\n\n        this.filterCourses();\n    }\n\n    /**\n     * Set selected courses filter.\n     *\n     * @param loadWatcher To manage the requests.\n     * @returns Promise resolved when done.\n     */\n    protected async filterCourses(loadWatcher?: PageLoadWatcher): Promise<void> {\n        let timeFilter = this.filters.timeFilterSelected;\n\n        this.filteredCourses = this.allCourses;\n\n        if (this.filters.show.custom && timeFilter.startsWith('custom-')) {\n            // Custom filter.\n            const customFilterName = this.block.configsRecord?.customfiltergrouping.value;\n            const customFilterValue = this.filters.customFilters[timeFilter.substring(7)]?.value;\n\n            if (customFilterName !== undefined && customFilterValue !== undefined) {\n                const alreadyLoading = this.loaded === false;\n                this.loaded = false;\n\n                try {\n                    const courses = loadWatcher ?\n                        await loadWatcher.watchRequest(\n                            CoreCourses.getEnrolledCoursesByCustomFieldObservable(customFilterName, customFilterValue, {\n                                readingStrategy: loadWatcher.getReadingStrategy(),\n                            }),\n                            (prevCourses, newCourses) => this.customFilterCoursesHaveMeaningfulChanges(prevCourses, newCourses),\n                        )\n                        :\n                        await CoreCourses.getEnrolledCoursesByCustomField(customFilterName, customFilterValue);\n\n                    // Get the courses information from allincludinghidden to get the max info about the course.\n                    const courseIds = courses.map((course) => course.id);\n\n                    this.filteredCourses = this.filteredCourses.filter((course) => courseIds.includes(course.id));\n                    this.saveFilters(timeFilter);\n                } catch (error) {\n                    if (alreadyLoading) {\n                        throw error; // Pass the error to the caller so it's treated there.\n                    }\n\n                    CoreDomUtils.showErrorModalDefault(error, this.fetchContentDefaultError);\n                } finally {\n                    if (!alreadyLoading) {\n                        // Only set loaded to true if there was no other data being loaded.\n                        this.loaded = true;\n                    }\n                }\n            }\n        } else {\n            // Filter is not active, take the first active or all. Custom is never saved.\n            if (!this.filters.show[timeFilter]) {\n                timeFilter = FILTER_PRIORITY.find((name) => this.filters.show[name]) || 'all';\n            }\n            this.saveFilters(timeFilter);\n\n            // Update today date.\n            this.today = Date.now();\n\n            // Apply filters.\n            switch(timeFilter) {\n                case 'allincludinghidden':\n                    // No nothing, it's all courses.\n                    break;\n                case 'all':\n                    this.filteredCourses = this.filteredCourses.filter((course) => !course.hidden);\n                    break;\n                case 'inprogress':\n                    this.filteredCourses = this.filteredCourses.filter((course) =>\n                        !course.hidden &&\n                        !CoreCoursesHelper.isPastCourse(course, this.gradePeriodAfter) &&\n                        !CoreCoursesHelper.isFutureCourse(course, this.gradePeriodAfter, this.gradePeriodBefore));\n                    break;\n                case 'future':\n                    this.filteredCourses = this.filteredCourses.filter((course) =>\n                        !course.hidden &&\n                        CoreCoursesHelper.isFutureCourse(course, this.gradePeriodAfter, this.gradePeriodBefore));\n                    break;\n                case 'past':\n                    this.filteredCourses = this.filteredCourses.filter((course) =>\n                        !course.hidden &&\n                        CoreCoursesHelper.isPastCourse(course, this.gradePeriodAfter));\n                    break;\n                case 'favourite':\n                    this.filteredCourses = this.filteredCourses.filter((course) => !course.hidden && course.isfavourite);\n                    break;\n                case 'hidden':\n                    this.filteredCourses = this.filteredCourses.filter((course) => course.hidden);\n                    break;\n            }\n        }\n\n        // Text filter.\n        const value = this.textFilter.trim().toLowerCase();\n        if (value != '' && this.filteredCourses.length > 0) {\n            // Use displayname if available, or fullname if not.\n            if (this.filteredCourses[0].displayname !== undefined) {\n                this.filteredCourses = this.filteredCourses.filter((course) =>\n                    course.displayname && course.displayname.toLowerCase().indexOf(value) > -1);\n            } else {\n                this.filteredCourses = this.filteredCourses.filter((course) =>\n                    course.fullname.toLowerCase().indexOf(value) > -1);\n            }\n        }\n\n        this.sortCourses(this.sort.selected);\n\n        // Refresh prefetch data (if enabled).\n        this.prefetchIconsInitialized = false;\n        this.initPrefetchCoursesIcons();\n    }\n\n    /**\n     * Sort courses\n     *\n     * @param sort Sort by value.\n     */\n    sortCourses(sort: string): void {\n        if (!this.sort.enabled) {\n            return;\n        }\n\n        if (this.sort.selected != sort) {\n            this.saveSort(sort);\n        }\n\n        if (this.sort.selected == 'lastaccess') {\n            this.filteredCourses.sort((a, b) => (b.lastaccess || 0) - (a.lastaccess || 0));\n        } else if (this.sort.selected == 'fullname') {\n            this.filteredCourses.sort((a, b) => {\n                const compareA = a.fullname.toLowerCase();\n                const compareB = b.fullname.toLowerCase();\n\n                return compareA.localeCompare(compareB);\n            });\n        } else if (this.sort.selected == 'shortname') {\n            this.filteredCourses.sort((a, b) => {\n                const compareA = a.shortname.toLowerCase();\n                const compareB = b.shortname.toLowerCase();\n\n                return compareA.localeCompare(compareB);\n            });\n        }\n    }\n\n    /**\n     * Saves filters value.\n     *\n     * @param timeFilter New time filter.\n     * @returns Promise resolved when done.\n     */\n    async saveFilters(timeFilter: string): Promise<void> {\n        this.filters.timeFilterSelected = timeFilter;\n        await this.currentSite.setLocalSiteConfig('AddonBlockMyOverviewFilter', timeFilter);\n    }\n\n    /**\n     * Toggle layout value.\n     *\n     * @param layout New layout.\n     * @returns Promise resolved when done.\n     */\n    async toggleLayout(layout: AddonBlockMyOverviewLayouts): Promise<void> {\n        this.layout = layout;\n\n        await this.currentSite.setLocalSiteConfig('AddonBlockMyOverviewLayout', this.layout);\n    }\n\n    /**\n     * Saves sort courses value.\n     *\n     * @param sort New sorting.\n     * @returns Promise resolved when done.\n     */\n    async saveSort(sort: string): Promise<void> {\n        this.sort.selected = sort;\n\n        await this.currentSite.setLocalSiteConfig('AddonBlockMyOverviewSort', this.sort.selected);\n    }\n\n    /**\n     * Option selected save and apply filter.\n     *\n     * @param selected Option selected.\n     * @returns Promise resolved when done.\n     */\n    async filterOptionsChanged(selected: AddonBlockMyOverviewTimeFilters): Promise<void> {\n        this.filters.timeFilterSelected = selected;\n        this.filterCourses();\n    }\n\n    /**\n     * Go to search courses.\n     */\n    async openSearch(): Promise<void> {\n        CoreNavigator.navigateToSitePath('courses/list', { params : { mode: 'search' } });\n    }\n\n    /**\n     * Compare if the WS data has meaningful changes for the user.\n     *\n     * @param previousCourses Previous courses.\n     * @param newCourses New courses.\n     * @returns Whether it has meaningful changes.\n     */\n    protected async coursesHaveMeaningfulChanges(\n        previousCourses: CoreEnrolledCourseDataWithExtraInfoAndOptions[],\n        newCourses: CoreEnrolledCourseDataWithExtraInfoAndOptions[],\n    ): Promise<boolean> {\n        if (previousCourses.length !== newCourses.length) {\n            return true;\n        }\n\n        previousCourses = Array.from(previousCourses)\n            .sort((a, b) => a.fullname.toLowerCase().localeCompare(b.fullname.toLowerCase()));\n        newCourses = Array.from(newCourses).sort((a, b) => a.fullname.toLowerCase().localeCompare(b.fullname.toLowerCase()));\n\n        for (let i = 0; i < previousCourses.length; i++) {\n            const prevCourse = previousCourses[i];\n            const newCourse = newCourses[i];\n\n            if (\n                prevCourse.progress !== newCourse.progress ||\n                prevCourse.categoryname !== newCourse.categoryname ||\n                (prevCourse.displayname ?? prevCourse.fullname) !== (newCourse.displayname ?? newCourse.fullname)\n            ) {\n                return true;\n            }\n        }\n\n        return false;\n    }\n\n    /**\n     * Compare if the WS data has meaningful changes for the user.\n     *\n     * @param previousCourses Previous courses.\n     * @param newCourses New courses.\n     * @returns Whether it has meaningful changes.\n     */\n    protected async customFilterCoursesHaveMeaningfulChanges(\n        previousCourses: CoreCourseSummaryData[],\n        newCourses: CoreCourseSummaryData[],\n    ): Promise<boolean> {\n        if (previousCourses.length !== newCourses.length) {\n            return true;\n        }\n\n        const previousIds = previousCourses.map(course => course.id).sort();\n        const newIds = newCourses.map(course => course.id).sort();\n\n        return previousIds.some((previousId, index) => previousId !== newIds[index]);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        this.isDestroyed = true;\n        this.coursesObserver?.off();\n        this.updateSiteObserver?.off();\n    }\n\n}\n\ntype AddonBlockMyOverviewLayouts = 'card'|'list';\ntype AddonBlockMyOverviewTimeFilters = 'allincludinghidden'|'all'|'inprogress'|'future'|'past'|'favourite'|'hidden';\n\nexport type AddonBlockMyOverviewFilterOptions = {\n    enabled: boolean;\n    show: {\n        allincludinghidden: boolean;\n        all: boolean;\n        inprogress: boolean;\n        future: boolean;\n        past: boolean;\n        favourite: boolean;\n        hidden: boolean;\n        custom: boolean;\n    };\n    timeFilterSelected: string;\n    customFilters: {\n        name: string;\n        value: string;\n    }[];\n};\n\ntype AddonBlockMyOverviewSortOptions = {\n    shortnameEnabled: boolean;\n    selected: string;\n    enabled: boolean;\n};\n","<ion-item-divider [sticky]=\"true\">\n    <ion-label>\n        <h2>{{ 'addon.block_myoverview.pluginname' | translate }}</h2>\n    </ion-label>\n    <div slot=\"end\" class=\"flex-row\">\n        <!-- Download all courses. -->\n        <div *ngIf=\"downloadCoursesEnabled && filteredCourses.length > 0\" class=\"core-button-spinner\">\n            <ion-button *ngIf=\"!prefetchCoursesData.loading\" fill=\"clear\" (click)=\"prefetchCourses()\"\n                [attr.aria-label]=\"prefetchCoursesData.statusTranslatable | translate\">\n                <ion-icon [name]=\"prefetchCoursesData.icon\" slot=\"icon-only\" aria-hidden=\"true\" />\n            </ion-button>\n            <ion-badge class=\"core-course-download-courses-progress\" *ngIf=\"prefetchCoursesData.badge\" role=\"progressbar\"\n                [attr.aria-valuemax]=\"prefetchCoursesData.total\" [attr.aria-valuenow]=\"prefetchCoursesData.count\"\n                [attr.aria-valuetext]=\"prefetchCoursesData.badgeA11yText\">\n                {{prefetchCoursesData.badge}}\n            </ion-badge>\n            <ion-spinner *ngIf=\"prefetchCoursesData.loading\" [attr.aria-label]=\"'core.loading' | translate\" />\n        </div>\n    </div>\n</ion-item-divider>\n<core-loading [hideUntil]=\"loaded\">\n\n    <ion-row class=\"ion-hide-md-up addon-block-myoverview-filter\" *ngIf=\"hasCourses\">\n        <ion-col>\n            <!-- Filter courses. -->\n            <ion-searchbar [(ngModel)]=\"textFilter\" (ionInput)=\"filterTextChanged($event.target)\"\n                (ionCancel)=\"filterTextChanged($event.target)\" [placeholder]=\"'core.courses.filtermycourses' | translate\" />\n        </ion-col>\n    </ion-row>\n    <ion-row class=\"ion-justify-content-between ion-align-items-center addon-block-myoverview-filter\" *ngIf=\"hasCourses\">\n        <ion-col size=\"auto\" *ngIf=\"filters.enabled\">\n            <core-combobox [label]=\"'core.courses.filtermycourses' | translate\" [selection]=\"filters.timeFilterSelected\"\n                (onChange)=\"filterOptionsChanged($event)\">\n                <ion-select-option class=\"ion-text-wrap core-select-option-border-bottom\" value=\"allincludinghidden\"\n                    *ngIf=\"filters.show.allincludinghidden\">\n                    {{ 'addon.block_myoverview.allincludinghidden' | translate }}\n                </ion-select-option>\n                <ion-select-option class=\"ion-text-wrap core-select-option-border-bottom\" value=\"all\" *ngIf=\"filters.show.all\">\n                    {{ 'addon.block_myoverview.all' | translate }}\n                </ion-select-option>\n                <ion-select-option class=\"ion-text-wrap\"\n                    [class.core-select-option-border-bottom]=\"!filters.show.past && !filters.show.future\" value=\"inprogress\"\n                    *ngIf=\"filters.show.inprogress\">\n                    {{ 'addon.block_myoverview.inprogress' | translate }}\n                </ion-select-option>\n                <ion-select-option class=\"ion-text-wrap\" [class.core-select-option-border-bottom]=\"!filters.show.past\" value=\"future\"\n                    *ngIf=\"filters.show.future\">\n                    {{ 'addon.block_myoverview.future' | translate }}\n                </ion-select-option>\n                <ion-select-option class=\"ion-text-wrap core-select-option-border-bottom\" value=\"past\" *ngIf=\"filters.show.past\">\n                    {{ 'addon.block_myoverview.past' | translate }}\n                </ion-select-option>\n                <ng-container *ngIf=\"filters.show.custom\">\n                    <ng-container *ngFor=\"let customOption of filters.customFilters; let index = index; let last = last\">\n                        <ion-select-option class=\"ion-text-wrap\" value=\"custom-{{index}}\" [class.core-select-option-border-bottom]=\"last\">\n                            {{ customOption.name }}</ion-select-option>\n                    </ng-container>\n                </ng-container>\n                <ion-select-option class=\"ion-text-wrap core-select-option-border-bottom\" value=\"favourite\" *ngIf=\"filters.show.favourite\">\n                    {{ 'addon.block_myoverview.favourites' | translate }}\n                </ion-select-option>\n                <ion-select-option class=\"ion-text-wrap\" value=\"hidden\" *ngIf=\"filters.show.hidden\">\n                    {{ 'addon.block_myoverview.hiddencourses' | translate }}\n                </ion-select-option>\n            </core-combobox>\n        </ion-col>\n        <ion-col>\n            <!-- Filter courses. -->\n            <ion-searchbar class=\"ion-hide-md-down\" [(ngModel)]=\"textFilter\" (ionInput)=\"filterTextChanged($event.target)\"\n                (ionCancel)=\"filterTextChanged($event.target)\" [placeholder]=\"'core.courses.filtermycourses' | translate\" />\n        </ion-col>\n        <ion-col size=\"auto\" *ngIf=\"sort.enabled\">\n            <core-combobox [label]=\"'core.sortby' | translate\" [selection]=\"sort.selected\" (onChange)=\"sortCourses($event)\"\n                icon=\"fas-arrow-down-short-wide\">\n                <ion-select-option class=\"ion-text-wrap\" value=\"fullname\">\n                    {{'addon.block_myoverview.title' | translate}}\n                </ion-select-option>\n                <ion-select-option class=\"ion-text-wrap\" value=\"shortname\" *ngIf=\"sort.shortnameEnabled\">\n                    {{'addon.block_myoverview.shortname' | translate}}\n                </ion-select-option>\n                <ion-select-option class=\"ion-text-wrap\" value=\"lastaccess\">\n                    {{'addon.block_myoverview.lastaccessed' | translate}}\n                </ion-select-option>\n            </core-combobox>\n        </ion-col>\n        <ion-col size=\"auto\" *ngIf=\"isLayoutSwitcherAvailable\">\n            <ion-button *ngIf=\"layout === 'card'\" fill=\"outline\" (click)=\"toggleLayout('list')\"\n                [attr.aria-label]=\"'addon.block_myoverview.aria:list' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"fas-list\" aria-hidden=\"true\" />\n            </ion-button>\n            <ion-button *ngIf=\"layout === 'list'\" fill=\"outline\" (click)=\"toggleLayout('card')\"\n                [attr.aria-label]=\"'addon.block_myoverview.aria:card' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"fas-table-cells-large\" aria-hidden=\"true\" />\n            </ion-button>\n        </ion-col>\n    </ion-row>\n\n    <core-empty-box *ngIf=\"filteredCourses.length === 0\" image=\"assets/img/icons/courses.svg\">\n        <p *ngIf=\"hasCourses\" class=\"item-heading\">\n            {{'addon.block_myoverview.noresult' | translate}}\n        </p>\n        <p *ngIf=\"!hasCourses\" class=\"item-heading\">\n            {{'addon.block_myoverview.nocoursesenrolled' | translate}}\n        </p>\n        <ng-container *ngIf=\"searchEnabled\">\n            <p *ngIf=\"hasCourses\" class=\"subdued\">\n                {{'addon.block_myoverview.noresultdescription' | translate}}\n            </p>\n            <p *ngIf=\"!hasCourses\" class=\"subdued\">\n                {{'addon.block_myoverview.nocoursesenrolleddescription' | translate}}\n            </p>\n            <ion-button (click)=\"openSearch()\" fill=\"outline\">\n                <ion-icon name=\"fas-magnifying-glass\" slot=\"start\" aria-hidden=\"true\" />\n                {{'addon.block_myoverview.browseallcourses' | translate}}\n            </ion-button>\n        </ng-container>\n    </core-empty-box>\n\n    <!-- List of courses. -->\n    <div class=\"safe-area-padding\" *ngIf=\"hasCourses\">\n        <ion-grid class=\"ion-no-padding\" [class.core-no-grid]=\"layout !== 'card'\" [class.list-item-limited-width]=\"layout !== 'card'\">\n            <ion-row class=\"ion-no-padding\">\n                <ion-col *ngFor=\"let course of filteredCourses\" class=\"ion-no-padding\" size=\"12\" size-sm=\"6\" size-md=\"6\" size-lg=\"4\"\n                    size-xl=\"3\">\n                    <core-courses-course-list-item [course]=\"course\" class=\"core-courseoverview\" [showDownload]=\"downloadCourseEnabled\"\n                        [layout]=\"layout\" />\n                </ion-col>\n            </ion-row>\n        </ion-grid>\n    </div>\n</core-loading>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}