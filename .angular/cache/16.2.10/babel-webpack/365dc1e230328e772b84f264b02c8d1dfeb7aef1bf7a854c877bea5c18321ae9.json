{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreGrades } from '@features/grades/services/grades';\nimport { CoreGradesHelper } from '@features/grades/services/grades-helper';\nimport { CoreSites } from '@services/sites';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreScreen } from '@services/screen';\nimport { Translate } from '@singletons';\nimport { CoreSwipeNavigationItemsManager } from '@classes/items-management/swipe-navigation-items-manager';\nimport { CoreRoutedItemsManagerSourcesTracker } from '@classes/items-management/routed-items-manager-sources-tracker';\nimport { CoreUserParticipantsSource } from '@features/user/classes/participants-source';\nimport { CoreGradesCoursesSource } from '@features/grades/classes/grades-courses-source';\nimport { CoreDom } from '@singletons/dom';\nimport { CoreTime } from '@singletons/time';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../../../../components/empty-box/empty-box\";\nimport * as i4 from \"../../../../components/infinite-loading/infinite-loading\";\nimport * as i5 from \"../../../../components/loading/loading\";\nimport * as i6 from \"../../../../components/mod-icon/mod-icon\";\nimport * as i7 from \"../../../../directives/fa-icon\";\nimport * as i8 from \"../../../../directives/format-text\";\nimport * as i9 from \"../../../../directives/aria-button\";\nimport * as i10 from \"../../../../directives/swipe-navigation\";\nimport * as i11 from \"../../../../directives/collapsible-item\";\nimport * as i12 from \"../../../../directives/content\";\nimport * as i13 from \"@ionic/angular\";\nimport * as i14 from \"@ngx-translate/core\";\nfunction CoreGradesCoursePage_core_empty_box_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-empty-box\", 8);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"message\", i0.ɵɵpipeBind1(1, 1, \"core.grades.nogradesreturned\"));\n  }\n}\nfunction CoreGradesCoursePage_div_14_th_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 14);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r4 = ctx.$implicit;\n    i0.ɵɵclassProp(\"ion-hide-md-down\", column_r4.hiddenPhone);\n    i0.ɵɵpropertyInterpolate(\"id\", column_r4.name);\n    i0.ɵɵattribute(\"colspan\", column_r4.colspan);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(2, 5, \"core.grades.\" + column_r4.name), \" \");\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelement(1, \"td\", 18);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"rowspan\", row_r5.rowspan);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"td\", 27);\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵattribute(\"rowspan\", row_r5.rowspan);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ion_icon_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 28);\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵclassProp(\"expandable-status-icon-expanded\", row_r5.expanded);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ion_icon_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 29);\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵpropertyInterpolate(\"name\", row_r5.icon);\n    i0.ɵɵattribute(\"aria-label\", row_r5.iconAlt);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_img_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"img\", 30);\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵproperty(\"src\", row_r5.image, i0.ɵɵsanitizeUrl)(\"alt\", row_r5.iconAlt);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_core_mod_icon_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-mod-icon\", 31);\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(3).$implicit;\n    i0.ɵɵproperty(\"modicon\", row_r5.image)(\"modname\", row_r5.itemmodule);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_td_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"td\", 26);\n  }\n  if (rf & 2) {\n    const column_r23 = i0.ɵɵnextContext().$implicit;\n    const row_r5 = i0.ɵɵnextContext(4).$implicit;\n    i0.ɵɵclassMap(\"ion-text-start core-grades-table-\" + column_r23.name);\n    i0.ɵɵclassProp(\"ion-hide-md-down\", column_r23.hiddenPhone);\n    i0.ɵɵproperty(\"innerHTML\", row_r5[column_r23.name], i0.ɵɵsanitizeHtml);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_td_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\", 35);\n    i0.ɵɵelement(1, \"core-format-text\", 36);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r23 = i0.ɵɵnextContext().$implicit;\n    const row_r5 = i0.ɵɵnextContext(4).$implicit;\n    const ctx_r25 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassProp(\"ion-hide-md-down\", column_r23.hiddenPhone);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"text\", row_r5.feedback)(\"contextInstanceId\", ctx_r25.courseId);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_td_3_ion_icon_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-icon\", 38);\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(6).$implicit;\n    i0.ɵɵproperty(\"name\", row_r5.gradeIcon);\n    i0.ɵɵattribute(\"aria-label\", row_r5.gradeIconAlt);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_td_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵtemplate(1, CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_td_3_ion_icon_1_Template, 1, 2, \"ion-icon\", 37);\n    i0.ɵɵelement(2, \"span\", 26);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r23 = i0.ɵɵnextContext().$implicit;\n    const row_r5 = i0.ɵɵnextContext(4).$implicit;\n    i0.ɵɵclassMapInterpolate1(\"ion-text-start core-grades-table-grade \", row_r5.gradeClass, \"\");\n    i0.ɵɵclassProp(\"ion-hide-md-down\", column_r23.hiddenPhone);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.gradeIcon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", row_r5[column_r23.name], i0.ɵɵsanitizeHtml);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_td_1_Template, 1, 5, \"td\", 32);\n    i0.ɵɵtemplate(2, CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_td_2_Template, 2, 4, \"td\", 33);\n    i0.ɵɵtemplate(3, CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_td_3_Template, 3, 7, \"td\", 34);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const column_r23 = ctx.$implicit;\n    const row_r5 = i0.ɵɵnextContext(4).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", column_r23.name !== \"gradeitem\" && column_r23.name !== \"feedback\" && column_r23.name !== \"grade\" && row_r5[column_r23.name] !== undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", column_r23.name === \"feedback\" && row_r5.feedback !== undefined);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", column_r23.name === \"grade\");\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_Template, 4, 3, \"ng-container\", 12);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const ctx_r16 = i0.ɵɵnextContext(5);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r16.columns);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_td_1_Template, 1, 1, \"td\", 20);\n    i0.ɵɵelementStart(2, \"th\", 21);\n    i0.ɵɵtemplate(3, CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ion_icon_3_Template, 1, 2, \"ion-icon\", 22);\n    i0.ɵɵtemplate(4, CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ion_icon_4_Template, 1, 2, \"ion-icon\", 23);\n    i0.ɵɵtemplate(5, CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_img_5_Template, 1, 2, \"img\", 24);\n    i0.ɵɵtemplate(6, CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_core_mod_icon_6_Template, 1, 2, \"core-mod-icon\", 25);\n    i0.ɵɵelement(7, \"span\", 26);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(8, CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_Template, 2, 1, \"ng-container\", 15);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r10 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.itemtype === \"category\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", row_r5.colspan);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.expandable && ctx_r10.showSummary);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.icon);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.image && !row_r5.itemmodule);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.image && row_r5.itemmodule);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"innerHTML\", row_r5.gradeitem, i0.ɵɵsanitizeHtml);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.itemtype !== \"category\");\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r39 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 19);\n    i0.ɵɵlistener(\"ariaButtonClick\", function CoreGradesCoursePage_div_14_ng_container_6_tr_2_Template_tr_ariaButtonClick_0_listener() {\n      i0.ɵɵrestoreView(_r39);\n      const row_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r37 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(row_r5.expandable && ctx_r37.showSummary && ctx_r37.toggleRow(row_r5));\n    });\n    i0.ɵɵtemplate(1, CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_Template, 9, 8, \"ng-container\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(row_r5.rowclass);\n    i0.ɵɵclassProp(\"core-grades-grade-clickable\", row_r5.expandable && ctx_r7.showSummary);\n    i0.ɵɵproperty(\"id\", \"grade-\" + row_r5.id);\n    i0.ɵɵattribute(\"role\", row_r5.expandable && ctx_r7.showSummary ? \"button row\" : \"row\")(\"tabindex\", row_r5.expandable && ctx_r7.showSummary && 0)(\"aria-expanded\", row_r5.expanded)(\"aria-label\", ctx_r7.rowAriaLabel(row_r5))(\"aria-controls\", row_r5.detailsid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.itemtype);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 41)(1, \"ion-label\")(2, \"p\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"p\", 26);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.grades.weight\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", row_r5.weight, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 41)(1, \"ion-label\")(2, \"p\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"p\", 26);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.grades.grade\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", row_r5.grade, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 41)(1, \"ion-label\")(2, \"p\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"p\", 26);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.grades.range\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", row_r5.range, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 41)(1, \"ion-label\")(2, \"p\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"p\", 26);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.grades.percentage\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", row_r5.percentage, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 41)(1, \"ion-label\")(2, \"p\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"p\", 26);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.grades.lettergrade\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", row_r5.lettergrade, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 41)(1, \"ion-label\")(2, \"p\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"p\", 26);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.grades.rank\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", row_r5.rank, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 41)(1, \"ion-label\")(2, \"p\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"p\", 26);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.grades.average\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", row_r5.average, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 41)(1, \"ion-label\")(2, \"p\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵelement(6, \"core-format-text\", 36);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(2).$implicit;\n    const ctx_r48 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 3, \"core.grades.feedback\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"text\", row_r5.feedback)(\"contextInstanceId\", ctx_r48.courseId);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 41)(1, \"ion-label\")(2, \"p\", 42);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(5, \"p\", 26);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(4, 2, \"core.grades.contributiontocoursetotal\"));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"innerHTML\", row_r5.contributiontocoursetotal, i0.ɵɵsanitizeHtml);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_tr_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\", 39)(1, \"td\")(2, \"ion-list\");\n    i0.ɵɵtemplate(3, CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_3_Template, 6, 4, \"ion-item\", 40);\n    i0.ɵɵtemplate(4, CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_4_Template, 6, 4, \"ion-item\", 40);\n    i0.ɵɵtemplate(5, CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_5_Template, 6, 4, \"ion-item\", 40);\n    i0.ɵɵtemplate(6, CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_6_Template, 6, 4, \"ion-item\", 40);\n    i0.ɵɵtemplate(7, CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_7_Template, 6, 4, \"ion-item\", 40);\n    i0.ɵɵtemplate(8, CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_8_Template, 6, 4, \"ion-item\", 40);\n    i0.ɵɵtemplate(9, CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_9_Template, 6, 4, \"ion-item\", 40);\n    i0.ɵɵtemplate(10, CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_10_Template, 7, 5, \"ion-item\", 40);\n    i0.ɵɵtemplate(11, CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_11_Template, 6, 4, \"ion-item\", 40);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const row_r5 = i0.ɵɵnextContext().$implicit;\n    const ctx_r8 = i0.ɵɵnextContext(2);\n    i0.ɵɵclassMap(row_r5.rowclass);\n    i0.ɵɵproperty(\"id\", row_r5.detailsid);\n    i0.ɵɵadvance(1);\n    i0.ɵɵattribute(\"colspan\", ctx_r8.totalColumnsSpan);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", row_r5.weight);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.grade);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.range);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.percentage);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.lettergrade);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.rank);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.average);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.feedback);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.contributiontocoursetotal);\n  }\n}\nfunction CoreGradesCoursePage_div_14_ng_container_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreGradesCoursePage_div_14_ng_container_6_tr_1_Template, 2, 1, \"tr\", 15);\n    i0.ɵɵtemplate(2, CoreGradesCoursePage_div_14_ng_container_6_tr_2_Template, 2, 11, \"tr\", 16);\n    i0.ɵɵtemplate(3, CoreGradesCoursePage_div_14_ng_container_6_tr_3_Template, 12, 13, \"tr\", 17);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const row_r5 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.itemtype === \"leader\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.itemtype !== \"leader\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", row_r5.expandable && row_r5.expanded);\n  }\n}\nfunction CoreGradesCoursePage_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r61 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 9)(1, \"table\", 10)(2, \"thead\")(3, \"tr\");\n    i0.ɵɵtemplate(4, CoreGradesCoursePage_div_14_th_4_Template, 3, 7, \"th\", 11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(5, \"tbody\");\n    i0.ɵɵtemplate(6, CoreGradesCoursePage_div_14_ng_container_6_Template, 4, 3, \"ng-container\", 12);\n    i0.ɵɵpipe(7, \"slice\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"core-infinite-loading\", 13);\n    i0.ɵɵlistener(\"action\", function CoreGradesCoursePage_div_14_Template_core_infinite_loading_action_8_listener($event) {\n      i0.ɵɵrestoreView(_r61);\n      const ctx_r60 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r60.loadMore($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassProp(\"summary\", ctx_r1.showSummary);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.columns);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind3(7, 5, ctx_r1.rows, 0, ctx_r1.rowsOnView));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"enabled\", ctx_r1.rowsOnView < ctx_r1.rows.length);\n  }\n}\n/**\n * Page that displays a course grades.\n */\nexport class CoreGradesCoursePage {\n  constructor(route, element) {\n    this.route = route;\n    this.element = element;\n    this.columns = [];\n    this.rows = [];\n    this.rowsOnView = 0;\n    this.loaded = false;\n    this.logView = CoreTime.once(() => this.performLogView());\n    try {\n      var _CoreNavigator$getRou, _route$snapshot$data$, _route$snapshot$paren;\n      this.courseId = CoreNavigator.getRequiredRouteNumberParam('courseId', {\n        route\n      });\n      this.userId = (_CoreNavigator$getRou = CoreNavigator.getRouteNumberParam('userId', {\n        route\n      })) !== null && _CoreNavigator$getRou !== void 0 ? _CoreNavigator$getRou : CoreSites.getCurrentSiteUserId();\n      this.gradeId = CoreNavigator.getRouteNumberParam('gradeId', {\n        route\n      });\n      this.expandLabel = Translate.instant('core.expand');\n      this.collapseLabel = Translate.instant('core.collapse');\n      this.useLegacyLayout = !CoreSites.getRequiredCurrentSite().isVersionGreaterEqualThan('4.1');\n      switch ((_route$snapshot$data$ = route.snapshot.data.swipeManagerSource) !== null && _route$snapshot$data$ !== void 0 ? _route$snapshot$data$ : (_route$snapshot$paren = route.snapshot.parent) === null || _route$snapshot$paren === void 0 ? void 0 : _route$snapshot$paren.data.swipeManagerSource) {\n        case 'courses':\n          this.swipeManager = new CoreGradesCourseCoursesSwipeManager(CoreRoutedItemsManagerSourcesTracker.getOrCreateSource(CoreGradesCoursesSource, []));\n          break;\n        case 'participants':\n          {\n            const search = CoreNavigator.getRouteParam('search');\n            this.swipeManager = new CoreGradesCourseParticipantsSwipeManager(CoreRoutedItemsManagerSourcesTracker.getOrCreateSource(CoreUserParticipantsSource, [this.courseId, search]));\n          }\n          break;\n      }\n    } catch (error) {\n      CoreDomUtils.showErrorModal(error);\n      CoreNavigator.back();\n      return;\n    }\n  }\n  get showSummary() {\n    return CoreScreen.isMobile || !!this.withinSplitView;\n  }\n  /**\n   * @inheritdoc\n   */\n  ngAfterViewInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      var _this$element$nativeE, _this$swipeManager;\n      _this.withinSplitView = !!((_this$element$nativeE = _this.element.nativeElement.parentElement) !== null && _this$element$nativeE !== void 0 && _this$element$nativeE.closest('core-split-view'));\n      yield (_this$swipeManager = _this.swipeManager) === null || _this$swipeManager === void 0 ? void 0 : _this$swipeManager.start();\n      yield _this.fetchInitialGrades();\n      _this.loaded = true;\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnDestroy() {\n    var _this$swipeManager2;\n    (_this$swipeManager2 = this.swipeManager) === null || _this$swipeManager2 === void 0 || _this$swipeManager2.destroy();\n  }\n  /**\n   * Get aria label for row.\n   *\n   * @param row Row.\n   * @returns Aria label, if applicable.\n   */\n  rowAriaLabel(row) {\n    if (!row.expandable || !this.showSummary) {\n      return;\n    }\n    const actionLabel = row.expanded ? this.collapseLabel : this.expandLabel;\n    return `${actionLabel} ${row.ariaLabel}`;\n  }\n  /**\n   * Toggle whether a row is expanded or collapsed.\n   *\n   * @param row Row.\n   * @param expand If defined, force expand or collapse.\n   */\n  toggleRow(row, expand) {\n    var _row$colspan;\n    if (!this.rows || !this.columns) {\n      return;\n    }\n    row.expanded = expand !== null && expand !== void 0 ? expand : !row.expanded;\n    let colspan = this.columns.length + ((_row$colspan = row.colspan) !== null && _row$colspan !== void 0 ? _row$colspan : 0);\n    if (this.useLegacyLayout) {\n      colspan--;\n    }\n    for (let i = this.rows.indexOf(row) - 1; i >= 0; i--) {\n      const previousRow = this.rows[i];\n      if (!previousRow.rowspan || !previousRow.colspan || previousRow.colspan !== colspan || !this.useLegacyLayout && previousRow.itemtype !== 'leader' || this.useLegacyLayout && previousRow.expandable) {\n        continue;\n      }\n      colspan++;\n      previousRow.rowspan += row.expanded ? 1 : -1;\n    }\n  }\n  /**\n   * Refresh grades.\n   *\n   * @param refresher Refresher.\n   */\n  refreshGrades(refresher) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      yield CoreUtils.ignoreErrors(CoreGrades.invalidateCourseGradesData(_this2.courseId, _this2.userId));\n      yield CoreUtils.ignoreErrors(_this2.fetchGrades());\n      refresher === null || refresher === void 0 || refresher.complete();\n    })();\n  }\n  /**\n   * Obtain the initial table of grades.\n   */\n  fetchInitialGrades() {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this3.fetchGrades();\n        if (_this3.gradeId && _this3.rows) {\n          const row = _this3.rows.find(row => row.id == _this3.gradeId);\n          if (row) {\n            _this3.toggleRow(row, true);\n            CoreDom.scrollToElement(_this3.element.nativeElement, '#grade-' + row.id);\n            _this3.gradeId = undefined;\n          }\n        }\n      } catch (error) {\n        CoreDomUtils.showErrorModalDefault(error, 'Error loading course');\n        _this3.columns = [];\n        _this3.rows = [];\n        _this3.rowsOnView = 0;\n      }\n    })();\n  }\n  /**\n   * Update the table of grades.\n   */\n  fetchGrades() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      var _ref, _this4$swipeManager$g, _this4$swipeManager, _formattedTable$rows$;\n      const table = yield CoreGrades.getCourseGradesTable(_this4.courseId, _this4.userId);\n      const formattedTable = yield CoreGradesHelper.formatGradesTable(table);\n      _this4.title = (_ref = (_this4$swipeManager$g = (_this4$swipeManager = _this4.swipeManager) === null || _this4$swipeManager === void 0 ? void 0 : _this4$swipeManager.getPageTitle()) !== null && _this4$swipeManager$g !== void 0 ? _this4$swipeManager$g : (_formattedTable$rows$ = formattedTable.rows[0]) === null || _formattedTable$rows$ === void 0 ? void 0 : _formattedTable$rows$.gradeitem) !== null && _ref !== void 0 ? _ref : Translate.instant('core.grades.grades');\n      _this4.columns = formattedTable.columns;\n      _this4.rows = formattedTable.rows;\n      _this4.rowsOnView = _this4.getRowsOnHeight();\n      _this4.totalColumnsSpan = formattedTable.columns.reduce((total, column) => total + column.colspan, 0);\n      _this4.logView();\n    })();\n  }\n  /**\n   * Function to get the number of rows that can be shown on the screen.\n   *\n   * @returns The number of rows.\n   */\n  getRowsOnHeight() {\n    return Math.floor(window.innerHeight / 44);\n  }\n  /**\n   * Function to load more rows.\n   *\n   * @param infiniteComplete Infinite scroll complete function. Only used from core-infinite-loading.\n   */\n  loadMore(infiniteComplete) {\n    this.rowsOnView += this.getRowsOnHeight();\n    infiniteComplete && infiniteComplete();\n  }\n  /**\n   * Log view.\n   */\n  performLogView() {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      var _this5$title;\n      yield CoreUtils.ignoreErrors(CoreGrades.logCourseGradesView(_this5.courseId, _this5.userId));\n      CoreAnalytics.logEvent({\n        type: CoreAnalyticsEventType.VIEW_ITEM,\n        ws: 'gradereport_user_view_grade_report',\n        name: (_this5$title = _this5.title) !== null && _this5$title !== void 0 ? _this5$title : '',\n        data: {\n          id: _this5.courseId,\n          userid: _this5.userId,\n          category: 'grades'\n        },\n        url: `/grade/report/user/index.php?id=${_this5.courseId}` + (_this5.userId !== CoreSites.getCurrentSiteUserId() ? `&userid=${_this5.userId}` : '')\n      });\n    })();\n  }\n}\n/**\n * Swipe manager for courses grades.\n */\n_class = CoreGradesCoursePage;\n_class.ɵfac = function CoreGradesCoursePage_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i0.ElementRef));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"page-core-grades-course\"]],\n  decls: 15,\n  vars: 12,\n  consts: [[\"slot\", \"start\"], [3, \"text\"], [3, \"core-swipe-navigation\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [\"icon\", \"fas-chart-bar\", 3, \"message\", 4, \"ngIf\"], [\"class\", \"core-grades-container\", 4, \"ngIf\"], [\"icon\", \"fas-chart-bar\", 3, \"message\"], [1, \"core-grades-container\"], [1, \"core-grades-table\"], [\"class\", \"ion-text-start\", 3, \"id\", \"ion-hide-md-down\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngFor\", \"ngForOf\"], [3, \"enabled\", \"action\"], [1, \"ion-text-start\", 3, \"id\"], [4, \"ngIf\"], [3, \"class\", \"core-grades-grade-clickable\", \"id\", \"ariaButtonClick\", 4, \"ngIf\"], [3, \"id\", \"class\", 4, \"ngIf\"], [1, \"core-grades-table-leader\"], [3, \"id\", \"ariaButtonClick\"], [\"class\", \"core-grades-table-category\", 4, \"ngIf\"], [1, \"core-grades-table-gradeitem\", \"ion-text-start\"], [\"aria-hidden\", \"true\", \"slot\", \"start\", \"name\", \"fas-chevron-right\", \"class\", \"expandable-status-icon\", 3, \"expandable-status-icon-expanded\", 4, \"ngIf\"], [\"slot\", \"start\", 3, \"name\", 4, \"ngIf\"], [\"slot\", \"start\", \"class\", \"core-module-icon\", 3, \"src\", \"alt\", 4, \"ngIf\"], [\"slot\", \"start\", 3, \"modicon\", \"modname\", 4, \"ngIf\"], [3, \"innerHTML\"], [1, \"core-grades-table-category\"], [\"aria-hidden\", \"true\", \"slot\", \"start\", \"name\", \"fas-chevron-right\", 1, \"expandable-status-icon\"], [\"slot\", \"start\", 3, \"name\"], [\"slot\", \"start\", 1, \"core-module-icon\", 3, \"src\", \"alt\"], [\"slot\", \"start\", 3, \"modicon\", \"modname\"], [3, \"class\", \"ion-hide-md-down\", \"innerHTML\", 4, \"ngIf\"], [\"class\", \"ion-text-start core-grades-table-feedback\", 3, \"ion-hide-md-down\", 4, \"ngIf\"], [3, \"ion-hide-md-down\", \"class\", 4, \"ngIf\"], [1, \"ion-text-start\", \"core-grades-table-feedback\"], [\"collapsible-item\", \"\", \"contextLevel\", \"course\", 3, \"text\", \"contextInstanceId\"], [3, \"name\", 4, \"ngIf\"], [3, \"name\"], [3, \"id\"], [\"class\", \"ion-text-wrap\", 4, \"ngIf\"], [1, \"ion-text-wrap\"], [1, \"item-heading\"]],\n  template: function CoreGradesCoursePage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n      i0.ɵɵelement(3, \"ion-back-button\", 1);\n      i0.ɵɵpipe(4, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ion-title\")(6, \"h1\");\n      i0.ɵɵtext(7);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(8, \"ion-content\", 2)(9, \"ion-refresher\", 3);\n      i0.ɵɵlistener(\"ionRefresh\", function CoreGradesCoursePage_Template_ion_refresher_ionRefresh_9_listener($event) {\n        return ctx.refreshGrades($event.target);\n      });\n      i0.ɵɵelement(10, \"ion-refresher-content\", 4);\n      i0.ɵɵpipe(11, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"core-loading\", 5);\n      i0.ɵɵtemplate(13, CoreGradesCoursePage_core_empty_box_13_Template, 2, 3, \"core-empty-box\", 6);\n      i0.ɵɵtemplate(14, CoreGradesCoursePage_div_14_Template, 9, 9, \"div\", 7);\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"text\", i0.ɵɵpipeBind1(4, 8, \"core.back\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.title);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"core-swipe-navigation\", ctx.swipeManager);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !ctx.columns || !ctx.rows);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"pullingText\", i0.ɵɵpipeBind1(11, 10, \"core.pulltorefresh\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hideUntil\", ctx.loaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.rows.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.rows.length);\n    }\n  },\n  dependencies: [i2.NgForOf, i2.NgIf, i3.CoreEmptyBoxComponent, i4.CoreInfiniteLoadingComponent, i5.CoreLoadingComponent, i6.CoreModIconComponent, i7.CoreFaIconDirective, i8.CoreFormatTextDirective, i9.CoreAriaButtonClickDirective, i10.CoreSwipeNavigationDirective, i11.CoreCollapsibleItemDirective, i12.CoreContentDirective, i13.IonButtons, i13.IonContent, i13.IonHeader, i13.IonIcon, i13.IonItem, i13.IonLabel, i13.IonList, i13.IonRefresher, i13.IonRefresherContent, i13.IonTitle, i13.IonToolbar, i13.IonBackButton, i2.SlicePipe, i14.TranslatePipe],\n  styles: [\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n[_nghost-%COMP%] {\\n  --header-background: var(--white);\\n  --odd-cell-background: var(--light);\\n  --odd-cell-hover: var(--gray-200);\\n  --even-cell-background: var(--white);\\n  --even-cell-hover: var(--light);\\n  --icon-color: var(--gray-500);\\n  --border-color: var(--stroke);\\n}\\n[_nghost-%COMP%]   .odd[_ngcontent-%COMP%] {\\n  --cell-background: var(--odd-cell-background);\\n  --cell-hover: var(--odd-cell-hover);\\n}\\n[_nghost-%COMP%]   .even[_ngcontent-%COMP%] {\\n  --cell-background: var(--even-cell-background);\\n  --cell-hover: var(--even-cell-hover);\\n}\\n\\nhtml.dark[_nghost-%COMP%], html.dark   [_nghost-%COMP%] {\\n  --header-background: var(--gray-900);\\n  --odd-cell-background: var(--gray-800);\\n  --odd-cell-hover: var(--gray-600);\\n  --even-cell-background: var(--gray-900);\\n  --even-cell-hover: var(--gray-700);\\n  --icon-color: var(--gray-200);\\n}\\n\\n.core-grades-table[_ngcontent-%COMP%] {\\n  border-collapse: collapse;\\n  line-height: 20px;\\n  width: 100%;\\n  font-size: 16px;\\n  color: var(--ion-text-color);\\n}\\n.core-grades-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%] {\\n  border-bottom: 1px solid var(--border-color);\\n}\\n.core-grades-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .core-grades-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  -webkit-padding-end: 8px;\\n  padding-inline-end: 8px;\\n  padding-top: 8px;\\n  padding-bottom: 8px;\\n  vertical-align: top;\\n  white-space: normal;\\n  text-align: start;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  vertical-align: bottom;\\n  font-weight: bold;\\n  background-color: var(--header-background);\\n}\\n.core-grades-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   #gradeitem[_ngcontent-%COMP%] {\\n  -webkit-padding-start: 24px;\\n  padding-inline-start: 24px;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  font-weight: normal;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr.core-bold[_ngcontent-%COMP%]   th[_ngcontent-%COMP%] {\\n  font-weight: inherit;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   #gradeitem[_ngcontent-%COMP%] {\\n  -webkit-padding-start: 4px;\\n  padding-inline-start: 4px;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-table-gradeitem[_ngcontent-%COMP%] {\\n  -webkit-padding-start: 4px;\\n  padding-inline-start: 4px;\\n  font-weight: bold;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-table-gradeitem.column-itemname[_ngcontent-%COMP%] {\\n  -webkit-padding-start: 0;\\n  padding-inline-start: 0;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-table-gradeitem[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] {\\n  width: 16px;\\n  height: 16px;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-table-gradeitem[_ngcontent-%COMP%]   core-mod-icon[_ngcontent-%COMP%] {\\n  --padding: 0px;\\n  --size: 16px;\\n  background: transparent;\\n  --filter: var(--module-icon-filter);\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-table-gradeitem[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] {\\n  color: var(--icon-color);\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-table-gradeitem[_ngcontent-%COMP%]   span[_ngcontent-%COMP%] {\\n  -webkit-margin-start: 4px;\\n  margin-inline-start: 4px;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-table-gradeitem[_ngcontent-%COMP%]   .expandable-status-icon[_ngcontent-%COMP%] {\\n  font-size: var(--text-size);\\n  -webkit-margin-start: 0;\\n  margin-inline-start: 0;\\n  -webkit-margin-end: 2px;\\n  margin-inline-end: 2px;\\n  transition: transform 200ms ease-in-out;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-table-gradeitem[_ngcontent-%COMP%]   .expandable-status-icon.expandable-status-icon-expanded[_ngcontent-%COMP%] {\\n  transform: var(--rotate-expandable);\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-table-feedback[_ngcontent-%COMP%] {\\n  -webkit-padding-start: 4px;\\n  padding-inline-start: 4px;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-table-feedback[_ngcontent-%COMP%]   .no-overflow[_ngcontent-%COMP%] {\\n  overflow: auto;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-table-grade[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%] {\\n  -webkit-padding-end: 4px;\\n  padding-inline-end: 4px;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-table-leader[_ngcontent-%COMP%] {\\n  width: 0;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .ion-no-border[_ngcontent-%COMP%] {\\n  border: 0 !important;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .dimmed_text[_ngcontent-%COMP%], .core-grades-table[_ngcontent-%COMP%]   .hidden[_ngcontent-%COMP%] {\\n  opacity: 0.7;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .core-grades-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .core-grades-table[_ngcontent-%COMP%]   .odd[_ngcontent-%COMP%]   th[aria-current=page][_ngcontent-%COMP%], .core-grades-table[_ngcontent-%COMP%]   .even[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .core-grades-table[_ngcontent-%COMP%]   .even[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .core-grades-table[_ngcontent-%COMP%]   .even[_ngcontent-%COMP%]   th[aria-current=page][_ngcontent-%COMP%] {\\n  background-color: var(--cell-background);\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-grade-clickable[_ngcontent-%COMP%] {\\n  cursor: pointer;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-grade-clickable[_ngcontent-%COMP%]:hover   td[_ngcontent-%COMP%], .core-grades-table[_ngcontent-%COMP%]   .core-grades-grade-clickable[_ngcontent-%COMP%]:hover   th[_ngcontent-%COMP%], .core-grades-table[_ngcontent-%COMP%]   .core-grades-grade-clickable[_ngcontent-%COMP%]:hover   th[aria-current=page][_ngcontent-%COMP%] {\\n  background-color: var(--cell-hover);\\n}\\n.core-grades-table[_ngcontent-%COMP%]   .core-grades-grade-clickable[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .core-grades-table[_ngcontent-%COMP%]   .core-grades-grade-clickable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n  height: var(--a11y-min-target-size);\\n  vertical-align: middle;\\n}\\n.core-grades-table[_ngcontent-%COMP%]   ion-list[_ngcontent-%COMP%], .core-grades-table[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]::part(native) {\\n  background-color: transparent;\\n}\\n.core-grades-table.summary[_ngcontent-%COMP%]   .ion-hide-md-down[_ngcontent-%COMP%] {\\n  display: none;\\n  opacity: 0;\\n}\\n\\n@media (max-width: 767.98px) {\\n  .core-grades-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%] {\\n    font-size: 0.85em;\\n  }\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuc3RyaW5nLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2lvbmljLm1peGlucy5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2hlbHBlcnMvaW9uaWMuY29tcG9uZW50cy5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2N1c3RvbS5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLmN1c3RvbS5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2dsb2JhbHMudmFyaWFibGVzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvY29yZS9mZWF0dXJlcy9ncmFkZXMvcGFnZXMvY291cnNlL2NvdXJzZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7O0VBQUE7QUNBQTs7Ozs7RUFBQTtBQ0FBOzs7OztFQUFBO0FDQUE7Ozs7O0VBQUE7QUNBQTs7Ozs7O0VBQUE7QUNFQTs7OztFQUFBO0FBNEdBOztFQUFBO0FDOUdBOzs7O0VBQUE7QUNBQTs7OztFQUFBO0FBK0RBOzs7O0VBQUE7QUM3REE7RUFDSSxpQ0FBQTtFQUNBLG1DQUFBO0VBQ0EsaUNBQUE7RUFDQSxvQ0FBQTtFQUNBLCtCQUFBO0VBQ0EsNkJBQUE7RUFDQSw2QkFBQTtBQW9ESjtBQWxESTtFQUNJLDZDQUFBO0VBQ0EsbUNBQUE7QUFvRFI7QUFqREk7RUFDSSw4Q0FBQTtFQUNBLG9DQUFBO0FBbURSOztBQTlDQTtFQUNJLG9DQUFBO0VBQ0Esc0NBQUE7RUFDQSxpQ0FBQTtFQUNBLHVDQUFBO0VBQ0Esa0NBQUE7RUFDQSw2QkFBQTtBQWlESjs7QUE5Q0E7RUFDSSx5QkFBQTtFQUNBLGlCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSw0QkFBQTtBQWlESjtBQS9DSTtFQUNJLDRDQUFBO0FBaURSO0FBOUNJO0VMNFFBLHdCSzNRMEI7RUw0UTFCLHVCSzVRMEI7RUwwUjVCLGdCSzFSdUI7RUwyUnZCLG1CSzNSaUM7RUFDM0IsbUJBQUE7RUFDQSxtQkFBQTtFQUNBLGlCQUFBO0FBbURSO0FBaERJO0VBQ0ksc0JBQUE7RUFDQSxpQkFBQTtFQUNBLDBDQUFBO0FBa0RSO0FBL0NJO0VMNlBBLDJCSzVQdUM7RUw2UHZDLDBCSzdQdUM7QUFrRDNDO0FBL0NJO0VBQ0UsbUJBQUE7QUFpRE47QUE5Q0k7RUFDRSxvQkFBQTtBQWdETjtBQTdDSTtFTGlQQSwwQktoUHVDO0VMaVB2Qyx5QktqUHVDO0FBZ0QzQztBQTdDSTtFTDZPQSwwQks1T3VDO0VMNk92Qyx5Qks3T3VDO0VBQ25DLGlCQUFBO0FBZ0RSO0FBOUNRO0VMeU9KLHdCS3hPMkM7RUx5TzNDLHVCS3pPMkM7QUFpRC9DO0FBOUNRO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUFnRFo7QUE3Q1E7RUFDSSxjQUFBO0VBQ0EsWUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUNBQUE7QUErQ1o7QUEzQ1E7RUFDSSx3QkFBQTtBQTZDWjtBQTFDUTtFTG9OSix5QktuTjBDO0VMb04xQyx3QktwTjBDO0FBNkM5QztBQTFDUTtFQUNJLDJCQUFBO0VMK01SLHVCSzlNbUM7RUwrTW5DLHNCSy9NbUM7RUxnTm5DLHVCS2hOc0M7RUxpTnRDLHNCS2pOc0M7RUhSdEMsdUNBSmdCO0FHNkRwQjtBQTlDWTtFQUNJLG1DQUFBO0FBZ0RoQjtBQTFDSTtFTG9NQSwwQktuTXVDO0VMb012Qyx5QktwTXVDO0FBNkMzQztBQTNDUTtFQUNJLGNBQUE7QUE2Q1o7QUF2Q1E7RUw0TEosd0JLM0wrQjtFTDRML0IsdUJLNUwrQjtBQTBDbkM7QUF0Q0k7RUFDSSxRQUFBO0FBd0NSO0FBckNJO0VBQ0ksb0JBQUE7QUF1Q1I7QUFwQ0k7O0VBRUksWUFBQTtBQXNDUjtBQWxDUTtFQUNJLHdDQUFBO0FBb0NaO0FBaENJO0VBQ0ksZUFBQTtBQWtDUjtBQWhDWTtFQUNJLG1DQUFBO0FBa0NoQjtBQTlCUTtFQUNJLG1DQUFBO0VBQ0Esc0JBQUE7QUFnQ1o7QUE1Qkk7RUFDSSw2QkFBQTtBQThCUjtBQTNCSTtFQUNJLGFBQUE7RUFDQSxVQUFBO0FBNkJSOztBTHRCSTtFS0FBO0lBQ0ksaUJBQUE7RUEwQk47QUFDRiIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQXBwIEdsb2JhbCB2YXJpYWJsZXMgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUGxhY2UgaGVyZSB0aGUgZGlmZmVyZW50IGZpbGVzIHlvdSBzaG91bGQgaW1wb3J0IHRvIHVzZSBnbG9iYWwgdmFyaWFibGVzLlxuICovXG5cbiRmb250LXBhdGg6IFwiLi4vYXNzZXRzL2ZvbnRzXCI7XG4kYXNzZXRzLXBhdGg6IFwiLi4vYXNzZXRzXCI7XG5cbkBpbXBvcnQgXCIuL2hlbHBlcnMvaGVscGVycy5zY3NzXCI7XG5AaW1wb3J0IFwiLi9nbG9iYWxzLmN1c3RvbS5zY3NzXCI7XG5AaW1wb3J0IFwiLi9nbG9iYWxzLnZhcmlhYmxlcy5zY3NzXCI7XG4iLCIvKipcbiAqIEltcG9ydGVkIGlvbmljIHN0cmluZyBmdW5jdGlvbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLmZ1bmN0aW9ucy5zdHJpbmcuc2Nzc1xuICovXG5cblxuLy8gU3RyaW5nIFV0aWxpdHkgRnVuY3Rpb25zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4vLyBTdHJpbmcgUmVwbGFjZSBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIHN0ci1yZXBsYWNlKCRzdHJpbmcsICRzZWFyY2gsICRyZXBsYWNlOiBcIlwiKSB7XG4gICRpbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzZWFyY2gpO1xuXG4gIEBpZiAkaW5kZXgge1xuICAgIEByZXR1cm4gc3RyLXNsaWNlKCRzdHJpbmcsIDEsICRpbmRleCAtIDEpICsgJHJlcGxhY2UgKyBzdHItcmVwbGFjZShzdHItc2xpY2UoJHN0cmluZywgJGluZGV4ICsgc3RyLWxlbmd0aCgkc2VhcmNoKSksICRzZWFyY2gsICRyZXBsYWNlKTtcbiAgfVxuXG4gIEByZXR1cm4gJHN0cmluZztcbn1cblxuLy8gU3RyaW5nIFNwbGl0IEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbkBmdW5jdGlvbiBzdHItc3BsaXQoJHN0cmluZywgJHNlcGFyYXRvcikge1xuICAvLyBlbXB0eSBhcnJheS9saXN0XG4gICRzcGxpdC1hcnI6ICgpO1xuICAvLyBmaXJzdCBpbmRleCBvZiBzZXBhcmF0b3IgaW4gc3RyaW5nXG4gICRpbmRleDogc3RyLWluZGV4KCRzdHJpbmcsICRzZXBhcmF0b3IpO1xuICAvLyBsb29wIHRocm91Z2ggc3RyaW5nXG4gIEB3aGlsZSAkaW5kZXggIT0gbnVsbCB7XG4gICAgLy8gZ2V0IHRoZSBzdWJzdHJpbmcgZnJvbSB0aGUgZmlyc3QgY2hhcmFjdGVyIHRvIHRoZSBzZXBhcmF0b3JcbiAgICAkaXRlbTogc3RyLXNsaWNlKCRzdHJpbmcsIDEsICRpbmRleCAtIDEpO1xuICAgIC8vIHB1c2ggaXRlbSB0byBhcnJheVxuICAgICRzcGxpdC1hcnI6IGFwcGVuZCgkc3BsaXQtYXJyLCAkaXRlbSk7XG4gICAgLy8gcmVtb3ZlIGl0ZW0gYW5kIHNlcGFyYXRvciBmcm9tIHN0cmluZ1xuICAgICRzdHJpbmc6IHN0ci1zbGljZSgkc3RyaW5nLCAkaW5kZXggKyAxKTtcbiAgICAvLyBmaW5kIG5ldyBpbmRleCBvZiBzZXBhcmF0b3JcbiAgICAkaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc2VwYXJhdG9yKTtcbiAgfVxuICAvLyBhZGQgdGhlIHJlbWFpbmluZyBzdHJpbmcgdG8gbGlzdCAodGhlIGxhc3QgaXRlbSlcbiAgJHNwbGl0LWFycjogYXBwZW5kKCRzcGxpdC1hcnIsICRzdHJpbmcpO1xuXG4gIEByZXR1cm4gJHNwbGl0LWFycjtcbn1cblxuXG4vLyBTdHJpbmcgRXh0cmFjdCBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIHN0ci1leHRyYWN0KCRzdHJpbmcsICRzdGFydCwgJGVuZCkge1xuICAkc3RhcnQtaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc3RhcnQpO1xuXG4gIEBpZiAkc3RhcnQtaW5kZXgge1xuICAgICRwb3N0OiBzdHItc2xpY2UoJHN0cmluZywgJHN0YXJ0LWluZGV4ICsgc3RyLWxlbmd0aCgkc3RhcnQpKTtcbiAgICAkZW5kLWluZGV4OiBzdHItaW5kZXgoJHBvc3QsICRlbmQpO1xuXG4gICAgQGlmICRlbmQtaW5kZXgge1xuICAgICAgQHJldHVybiBzdHItc2xpY2UoJHBvc3QsIDEsICRlbmQtaW5kZXggLSAxKTtcbiAgICB9XG4gIH1cblxuICBAcmV0dXJuIG51bGw7XG59XG5cblxuLy8gU3RyaW5nIENvbnRhaW5zIEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gc3RyLWNvbnRhaW5zKCRzdHJpbmcsICRuZWVkbGUpIHtcbiAgQGlmICh0eXBlLW9mKCRzdHJpbmcpID09IHN0cmluZykge1xuICAgIEByZXR1cm4gc3RyLWluZGV4KCRzdHJpbmcsICRuZWVkbGUpICE9IG51bGw7XG4gIH1cblxuICBAcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8vIFVSTCBFbmNvZGUgRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBmdW5jdGlvbiB1cmwtZW5jb2RlKCR2YWwpIHtcbiAgJHNwYWNlczogc3RyLXJlcGxhY2UoJHZhbCwgXCIgXCIsIFwiJTIwXCIpO1xuICAkZW5jb2RlZDogc3RyLXJlcGxhY2UoJHNwYWNlcywgXCIjXCIsIFwiJTIzXCIpO1xuICBAcmV0dXJuICRlbmNvZGVkO1xufVxuXG5cbi8vIEFkZCBSb290IFNlbGVjdG9yXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gQWRkcyBhIHJvb3Qgc2VsZWN0b3IgdXNpbmcgaG9zdCBiYXNlZCBvbiB0aGUgc2VsZWN0b3IgcGFzc2VkXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gYWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsICRhZGRIb3N0U2VsZWN0b3IpIHtcbiAgJHNlbGVjdG9yczogc3RyLXNwbGl0KCRyb290LCBcIixcIik7XG5cbiAgJGxpc3Q6ICgpO1xuXG4gIEBlYWNoICRzZWxlY3RvciBpbiAkc2VsZWN0b3JzIHtcbiAgICAvLyBJZiB0aGUgc2VsZWN0b3IgY29udGFpbnMgOmhvc3QoIGl0IG1lYW5zIGl0IGlzIHRhcmdldGluZyBhIGNsYXNzIG9uIHRoZSBob3N0XG4gICAgLy8gZWxlbWVudCBzbyB3ZSBuZWVkIHRvIGNoYW5nZSBob3cgd2UgdGFyZ2V0IGl0OlxuICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3QoLmZpeGVkKVwiLCBcIltkaXI9cnRsXVwiKVxuICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpXG4gICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5maXhlZFxuICAgIEBpZiBzdHItY29udGFpbnMoJHNlbGVjdG9yLCBcIjpob3N0KFwiKSB7XG4gICAgICAvLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcIjpob3N0KC5maXhlZClcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpXG4gICAgICAkc2hhZG93LWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzZWxlY3RvciwgXCI6aG9zdChcIiwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pOmhvc3QoXCIpO1xuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJHNoYWRvdy1lbGVtZW50LCBjb21tYSk7XG5cbiAgICAgICRuZXctZWxlbWVudDogKCk7XG4gICAgICAkZWxlbWVudHM6IHN0ci1zcGxpdCgkc2VsZWN0b3IsIFwiIFwiKTtcblxuICAgICAgQGVhY2ggJGVsZW1lbnQgaW4gJGVsZW1lbnRzIHtcbiAgICAgICAgQGlmIHN0ci1jb250YWlucygkZWxlbWVudCwgXCI6aG9zdChcIikge1xuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogJGVsZW1lbnQ7XG5cbiAgICAgICAgICAvLyBSZXBsYWNlIHRoZSA6aG9zdCggYW5kICkgc28gYWxsIHdlIGhhdmUgbGVmdCBpcyB0aGUgY2xhc3NcbiAgICAgICAgICAvLyBpbnNpZGUgb2YgaXQ6XG4gICAgICAgICAgLy8gOmhvc3QoLmZpeGVkKSAtPiAuZml4ZWRcbiAgICAgICAgICAkc2NvcGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzY29wZWQtZWxlbWVudCwgXCIpXCIsIFwiXCIpO1xuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJHNjb3BlZC1lbGVtZW50LCBcIjpob3N0KFwiLCBcIlwiKTtcblxuICAgICAgICAgIC8vIEFkZCB0aGUgY2xhc3MgYmFjayBpbnNpZGUgb2YgaG9zdCB3aXRoIHRoZSBydGwgc2VsZWN0b3I6XG4gICAgICAgICAgLy8gLmZpeGVkIC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5maXhlZFxuICAgICAgICAgICRzY29wZWQtZWxlbWVudDogc3RyLXJlcGxhY2UoJHNjb3BlZC1lbGVtZW50LCAkc2NvcGVkLWVsZW1lbnQsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KSN7JHNjb3BlZC1lbGVtZW50fVwiKTtcblxuICAgICAgICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3QoLmZpeGVkKVwiLCBcIltkaXI9cnRsXVwiKVxuICAgICAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkuZml4ZWRcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICRzY29wZWQtZWxlbWVudCwgc3BhY2UpO1xuICAgICAgICB9IEBlbHNlIHtcbiAgICAgICAgICAvLyBBZGQgYmFjayBhbnkgc2VsZWN0b3JzIHRoYXQgZm9sbG93ZWQgdGhlIGhvc3QgYWZ0ZXIgdHJhbnNmb3JtaW5nIHRoZVxuICAgICAgICAgIC8vIGZpcnN0IHNlbGVjdG9yOlxuICAgICAgICAgIC8vIDpob3N0KC5maXhlZCkgOjpzbG90dGVkKGlvbi1pY29uKVxuICAgICAgICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSk6aG9zdCguZml4ZWQpIDo6c2xvdHRlZChpb24taWNvbilcbiAgICAgICAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLmZpeGVkIDo6c2xvdHRlZChpb24taWNvbilcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICRlbGVtZW50LCBzcGFjZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgJG5ldy1lbGVtZW50LCBjb21tYSk7XG4gICAgLy8gSWYgdGhlIHNlbGVjdG9yIGNvbnRhaW5zIDpob3N0IHdpdGhvdXQgYSBwYXJhbnRoZXNlc1xuICAgIC8vIGl0IG1lYW5zIGl0IGlzIHRhcmdldGluZyBqdXN0IHRoZSBob3N0XG4gICAgLy8gZWxlbWVudCBzbyB3ZSBjYW4gY2hhbmdlIGl0IHRvIGxvb2sgZm9yIGhvc3QtY29udGV4dFxuICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiOmhvc3RcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pXG4gICAgLy8gLS0+IDpob3N0OmRpcihydGwpXG4gICAgfSBAZWxzZSBpZiBzdHItY29udGFpbnMoJHNlbGVjdG9yLCBcIjpob3N0XCIpIHtcbiAgICAgICRuZXctZWxlbWVudDogKCk7XG4gICAgICAkZWxlbWVudHM6IHN0ci1zcGxpdCgkc2VsZWN0b3IsIFwiIFwiKTtcblxuICAgICAgQGVhY2ggJGVsZW1lbnQgaW4gJGVsZW1lbnRzIHtcbiAgICAgICAgQGlmIHN0ci1jb250YWlucygkZWxlbWVudCwgXCI6aG9zdFwiKSB7XG4gICAgICAgICAgLy8gUmVwbGFjZSB0aGUgOmhvc3Qgd2l0aCB0aGUgYWRkSG9zdFNlbGVjdG9yOlxuICAgICAgICAgIC8vIDpob3N0IC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKVxuICAgICAgICAgICR1cGRhdGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRlbGVtZW50LCBcIjpob3N0XCIsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KVwiKTtcblxuICAgICAgICAgIC8vIEFkZCB0aGUgZmluYWwgc2VsZWN0b3IgYWZ0ZXIgYWxsIHRyYW5zZm9ybWF0aW9uczpcbiAgICAgICAgICAvLyA6aG9zdCAtPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSlcbiAgICAgICAgICAkbmV3LWVsZW1lbnQ6IGFwcGVuZCgkbmV3LWVsZW1lbnQsICR1cGRhdGVkLWVsZW1lbnQsIHNwYWNlKTtcbiAgICAgICAgfSBAZWxzZSB7XG4gICAgICAgICAgLy8gQWRkIGJhY2sgYW55IHNlbGVjdG9ycyB0aGF0IGZvbGxvd2VkIHRoZSBob3N0IGFmdGVyIHRyYW5zZm9ybWluZyB0aGVcbiAgICAgICAgICAvLyBmaXJzdCBzZWxlY3RvcjpcbiAgICAgICAgICAvLyA6aG9zdCA6OnNsb3R0ZWQoaW9uLWljb24pIC0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKSA6OnNsb3R0ZWQoaW9uLWljb24pXG4gICAgICAgICAgJG5ldy1lbGVtZW50OiBhcHBlbmQoJG5ldy1lbGVtZW50LCAkZWxlbWVudCwgc3BhY2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsICRuZXctZWxlbWVudCwgY29tbWEpO1xuICAgIC8vIElmIHRoZSBzZWxlY3RvciBkb2VzIG5vdCBjb250YWluIGhvc3QgYXQgYWxsIGl0IGlzIGVpdGhlciBhIHNoYWRvd1xuICAgIC8vIG9yIG5vcm1hbCBlbGVtZW50IHNvIGFwcGVuZCBib3RoIHRoZSBhZGRIb3N0U2VsZWN0b3IgYW5kIGhvc3QtY29udGV4dFxuICAgIC8vIEBpbmNsdWRlIGFkZC1yb290LXNlbGVjdG9yKFwiaW9uLWNvbXBvbmVudFwiLCBcIltkaXI9cnRsXVwiKVxuICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgaW9uLWNvbXBvbmVudFxuICAgIC8vIC0tPiBbZGlyPXJ0bF0gaW9uLWNvbXBvbmVudFxuICAgIH0gQGVsc2Uge1xuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgXCIjeyRhZGRIb3N0U2VsZWN0b3J9ICN7JHNlbGVjdG9yfVwiLCBjb21tYSk7XG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCBcIjpob3N0LWNvbnRleHQoI3skYWRkSG9zdFNlbGVjdG9yfSkgI3skc2VsZWN0b3J9XCIsIGNvbW1hKTtcbiAgICB9XG4gIH1cblxuICBAcmV0dXJuICRsaXN0O1xufVxuIiwiLyoqXG4gKiBJbXBvcnRlZCBpb25pYyBjb2xvciBmdW5jdGlvbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLmZ1bmN0aW9ucy5jb2xvci5zY3NzXG4gKi9cblxuLy8gR2V0cyB0aGUgYWN0aXZlIGNvbG9yJ3MgY3NzIHZhcmlhYmxlIGZyb20gYSB2YXJpYXRpb24uIEFscGhhIGlzIG9wdGlvbmFsLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEV4YW1wbGUgdXNhZ2U6XG4vLyBjdXJyZW50LWNvbG9yKGJhc2UpID0+IHZhcigtLWlvbi1jb2xvci1iYXNlKVxuLy8gY3VycmVudC1jb2xvcihjb250cmFzdCwgMC4xKSA9PiByZ2JhKHZhcigtLWlvbi1jb2xvci1jb250cmFzdC1yZ2IpLCAwLjEpXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGN1cnJlbnQtY29sb3IoJHZhcmlhdGlvbiwgJGFscGhhOiBudWxsKSB7XG4gIEBpZiAkYWxwaGEgPT0gbnVsbCB7XG4gICAgQHJldHVybiB2YXIoLS1pb24tY29sb3ItI3skdmFyaWF0aW9ufSk7XG4gIH0gQGVsc2Uge1xuICAgIEByZXR1cm4gcmdiYSh2YXIoLS1pb24tY29sb3ItI3skdmFyaWF0aW9ufS1yZ2IpLCAjeyRhbHBoYX0pO1xuICB9XG59XG5cbi8vIEdldHMgdGhlIHNwZWNpZmljIGNvbG9yJ3MgY3NzIHZhcmlhYmxlIGZyb20gdGhlIG5hbWUgYW5kIHZhcmlhdGlvbi4gQWxwaGEvcmdiIGFyZSBvcHRpb25hbC5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFeGFtcGxlIHVzYWdlOlxuLy8gaW9uLWNvbG9yKHByaW1hcnksIGJhc2UpID0+IHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LCAjMzg4MGZmKVxuLy8gaW9uLWNvbG9yKHNlY29uZGFyeSwgY29udHJhc3QpID0+IHZhcigtLWlvbi1jb2xvci1zZWNvbmRhcnktY29udHJhc3QpXG4vLyBpb24tY29sb3IocHJpbWFyeSwgYmFzZSwgMC41KSA9PiByZ2JhKHZhcigtLWlvbi1jb2xvci1wcmltYXJ5LXJnYiwgNTYsIDEyOCwgMjU1KSwgMC41KVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBpb24tY29sb3IoJG5hbWUsICR2YXJpYXRpb24sICRhbHBoYTogbnVsbCwgJHJnYjogbnVsbCkge1xuICAkdmFsdWVzOiBtYXAtZ2V0KCRjb2xvcnMsICRuYW1lKTtcbiAgJHZhbHVlOiBtYXAtZ2V0KCR2YWx1ZXMsICR2YXJpYXRpb24pO1xuICAkdmFyaWFibGU6IC0taW9uLWNvbG9yLSN7JG5hbWV9LSN7JHZhcmlhdGlvbn07XG5cbiAgQGlmICgkdmFyaWF0aW9uID09IGJhc2UpIHtcbiAgICAkdmFyaWFibGU6IC0taW9uLWNvbG9yLSN7JG5hbWV9O1xuICB9XG5cbiAgQGlmICgkYWxwaGEpIHtcbiAgICAkdmFsdWU6IGNvbG9yLXRvLXJnYi1saXN0KCR2YWx1ZSk7XG4gICAgQHJldHVybiByZ2JhKHZhcigjeyR2YXJpYWJsZX0tcmdiLCAkdmFsdWUpLCAkYWxwaGEpO1xuICB9XG4gIEBpZiAoJHJnYikge1xuICAgICR2YWx1ZTogY29sb3ItdG8tcmdiLWxpc3QoJHZhbHVlKTtcbiAgICAkdmFyaWFibGU6ICN7JHZhcmlhYmxlfS1yZ2I7XG4gIH1cblxuICBAcmV0dXJuIHZhcigjeyR2YXJpYWJsZX0sICR2YWx1ZSk7XG59XG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCBibGFjayB0byBjcmVhdGUgaXRzIHNoYWRlLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBnZXQtY29sb3Itc2hhZGUoJGNvbG9yKSB7XG4gIEByZXR1cm4gbWl4KCMwMDAsICRjb2xvciwgMTIlKTtcbn1cblxuLy8gTWl4ZXMgYSBjb2xvciB3aXRoIHdoaXRlIHRvIGNyZWF0ZSBpdHMgdGludC5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXRpbnQoJGNvbG9yKSB7XG4gIEByZXR1cm4gbWl4KCNmZmYsICRjb2xvciwgMTAlKTtcbn1cblxuLy8gQ29udmVydHMgYSBjb2xvciB0byBhIGNvbW1hIHNlcGFyYXRlZCByZ2IuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGNvbG9yLXRvLXJnYi1saXN0KCRjb2xvcikge1xuICBAcmV0dXJuICN7cmVkKCRjb2xvcil9LCN7Z3JlZW4oJGNvbG9yKX0sI3tibHVlKCRjb2xvcil9O1xufVxuIiwiLyoqXG4gKiBJbXBvcnRlZCBpb25pYyBtaXhpbnMgZm9yIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvdGhlbWVzL2lvbmljLm1peGlucy5zY3NzXG4gKi9cblxuQG1peGluIGlucHV0LWNvdmVyKCkge1xuICBAaW5jbHVkZSBwb3NpdGlvbigwLCBudWxsLCBudWxsLCAwKTtcbiAgQGluY2x1ZGUgbWFyZ2luKDApO1xuXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuXG4gIGJvcmRlcjogMDtcbiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG4gIGN1cnNvcjogcG9pbnRlcjtcblxuICBhcHBlYXJhbmNlOiBub25lO1xuICBvdXRsaW5lOiBub25lO1xuXG4gICY6Oi1tb3otZm9jdXMtaW5uZXIge1xuICAgIGJvcmRlcjogMDtcbiAgfVxufVxuXG5AbWl4aW4gdmlzdWFsbHktaGlkZGVuKCkge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgdG9wOiAwO1xuICBsZWZ0OiAwO1xuICByaWdodDogMDtcbiAgYm90dG9tOiAwO1xuXG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG5cbiAgbWFyZ2luOiAwO1xuICBwYWRkaW5nOiAwO1xuXG4gIGJvcmRlcjogMDtcbiAgb3V0bGluZTogMDtcbiAgY2xpcDogcmVjdCgwIDAgMCAwKTtcblxuICBvcGFjaXR5OiAwO1xuICBvdmVyZmxvdzogaGlkZGVuO1xuXG4gIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTtcbiAgLW1vei1hcHBlYXJhbmNlOiBub25lO1xufVxuXG5AbWl4aW4gdGV4dC1pbmhlcml0KCkge1xuICBmb250LWZhbWlseTogaW5oZXJpdDtcbiAgZm9udC1zaXplOiBpbmhlcml0O1xuICBmb250LXN0eWxlOiBpbmhlcml0O1xuICBmb250LXdlaWdodDogaW5oZXJpdDtcbiAgbGV0dGVyLXNwYWNpbmc6IGluaGVyaXQ7XG4gIHRleHQtZGVjb3JhdGlvbjogaW5oZXJpdDtcbiAgdGV4dC1pbmRlbnQ6IGluaGVyaXQ7XG4gIHRleHQtb3ZlcmZsb3c6IGluaGVyaXQ7XG4gIHRleHQtdHJhbnNmb3JtOiBpbmhlcml0O1xuICB0ZXh0LWFsaWduOiBpbmhlcml0O1xuICB3aGl0ZS1zcGFjZTogaW5oZXJpdDtcbiAgY29sb3I6IGluaGVyaXQ7XG59XG5cbkBtaXhpbiBidXR0b24tc3RhdGUoKSB7XG4gIEBpbmNsdWRlIHBvc2l0aW9uKDAsIDAsIDAsIDApO1xuXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcblxuICBjb250ZW50OiBcIlwiO1xuXG4gIG9wYWNpdHk6IDA7XG59XG5cbi8vIEZvbnQgc21vb3RoaW5nXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gZm9udC1zbW9vdGhpbmcoKSB7XG4gIC1tb3otb3N4LWZvbnQtc21vb3RoaW5nOiBncmF5c2NhbGU7XG4gIC13ZWJraXQtZm9udC1zbW9vdGhpbmc6IGFudGlhbGlhc2VkO1xufVxuXG4vLyBHZXQgdGhlIGtleSBmcm9tIGEgbWFwIGJhc2VkIG9uIHRoZSBpbmRleFxuQGZ1bmN0aW9uIGluZGV4LXRvLWtleSgkbWFwLCAkaW5kZXgpIHtcbiAgJGtleXM6IG1hcC1rZXlzKCRtYXApO1xuXG4gIEByZXR1cm4gbnRoKCRrZXlzLCAkaW5kZXgpO1xufVxuXG5cbi8vIEJyZWFrcG9pbnQgTWl4aW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gQnJlYWtwb2ludCB2aWV3cG9ydCBzaXplcyBhbmQgbWVkaWEgcXVlcmllcy5cbi8vXG4vLyBCcmVha3BvaW50cyBhcmUgZGVmaW5lZCBhcyBhIG1hcCBvZiAobmFtZTogbWluaW11bSB3aWR0aCksIG9yZGVyIGZyb20gc21hbGwgdG8gbGFyZ2U6XG4vL1xuLy8gICAgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KVxuLy9cbi8vIFRoZSBtYXAgZGVmaW5lZCBpbiB0aGUgYCRzY3JlZW4tYnJlYWtwb2ludHNgIGdsb2JhbCB2YXJpYWJsZSBpcyB1c2VkIGFzIHRoZSBgJGJyZWFrcG9pbnRzYCBhcmd1bWVudCBieSBkZWZhdWx0LlxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gTWluaW11bSBicmVha3BvaW50IHdpZHRoLiBOdWxsIGZvciB0aGUgc21hbGxlc3QgKGZpcnN0KSBicmVha3BvaW50LlxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtbWluKHNtLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxuLy8gICAgNTc2cHhcbkBmdW5jdGlvbiBicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtaW46IG1hcC1nZXQoJGJyZWFrcG9pbnRzLCAkbmFtZSk7XG5cbiAgQHJldHVybiBpZigkbmFtZSAhPSBpbmRleC10by1rZXkoJGJyZWFrcG9pbnRzLCAxKSwgJG1pbiwgbnVsbCk7XG59XG5cbi8vIFJldHVybnMgYSBibGFuayBzdHJpbmcgaWYgc21hbGxlc3QgYnJlYWtwb2ludCwgb3RoZXJ3aXNlIHJldHVybnMgdGhlIG5hbWUgd2l0aCBhIGRhc2ggaW5mcm9udC5cbi8vIFVzZWZ1bCBmb3IgbWFraW5nIHJlc3BvbnNpdmUgdXRpbGl0aWVzLlxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtaW5maXgoeHMsICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICBcIlwiICAoUmV0dXJucyBhIGJsYW5rIHN0cmluZylcbi8vICAgID4+IGJyZWFrcG9pbnQtaW5maXgoc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICBcIi1zbVwiXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1pbmZpeCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gIEByZXR1cm4gaWYoYnJlYWtwb2ludC1taW4oJG5hbWUsICRicmVha3BvaW50cykgPT0gbnVsbCwgXCJcIiwgXCItI3skbmFtZX1cIik7XG59XG5cbi8vIE1lZGlhIG9mIGF0IGxlYXN0IHRoZSBtaW5pbXVtIGJyZWFrcG9pbnQgd2lkdGguIE5vIHF1ZXJ5IGZvciB0aGUgc21hbGxlc3QgYnJlYWtwb2ludC5cbi8vIE1ha2VzIHRoZSBAY29udGVudCBhcHBseSB0byB0aGUgZ2l2ZW4gYnJlYWtwb2ludCBhbmQgd2lkZXIuXG5AbWl4aW4gbWVkaWEtYnJlYWtwb2ludC11cCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtaW46IGJyZWFrcG9pbnQtbWluKCRuYW1lLCAkYnJlYWtwb2ludHMpO1xuICBAaWYgJG1pbiB7XG4gICAgQG1lZGlhIChtaW4td2lkdGg6ICRtaW4pIHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cblxuLy8gTmFtZSBvZiB0aGUgbmV4dCBicmVha3BvaW50LCBvciBudWxsIGZvciB0aGUgbGFzdCBicmVha3BvaW50LlxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtbmV4dChzbSlcbi8vICAgIG1kXG4vLyAgICA+PiBicmVha3BvaW50LW5leHQoc20sICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICBtZFxuLy8gICAgPj4gYnJlYWtwb2ludC1uZXh0KHNtLCAkYnJlYWtwb2ludC1uYW1lczogKHhzIHNtIG1kIGxnIHhsKSlcbi8vICAgIG1kXG5AZnVuY3Rpb24gYnJlYWtwb2ludC1uZXh0KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMsICRicmVha3BvaW50LW5hbWVzOiBtYXAta2V5cygkYnJlYWtwb2ludHMpKSB7XG4gICRuOiBpbmRleCgkYnJlYWtwb2ludC1uYW1lcywgJG5hbWUpO1xuICBAcmV0dXJuIGlmKCRuIDwgbGVuZ3RoKCRicmVha3BvaW50LW5hbWVzKSwgbnRoKCRicmVha3BvaW50LW5hbWVzLCAkbiArIDEpLCBudWxsKTtcbn1cblxuLy8gTWF4aW11bSBicmVha3BvaW50IHdpZHRoLiBOdWxsIGZvciB0aGUgc21hbGxlc3QgKGZpcnN0KSBicmVha3BvaW50LlxuLy8gVGhlIG1heGltdW0gdmFsdWUgaXMgcmVkdWNlZCBieSAwLjAycHggdG8gd29yayBhcm91bmQgdGhlIGxpbWl0YXRpb25zIG9mXG4vLyBgbWluLWAgYW5kIGBtYXgtYCBwcmVmaXhlcyBhbmQgdmlld3BvcnRzIHdpdGggZnJhY3Rpb25hbCB3aWR0aHMuXG4vL1xuLy8gU2VlIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9tZWRpYXF1ZXJpZXMtNC8jbXEtbWluLW1heFxuLy8gVXNlcyAwLjAycHggcmF0aGVyIHRoYW4gMC4wMXB4IHRvIHdvcmsgYXJvdW5kIGEgY3VycmVudCByb3VuZGluZyBidWcgaW4gU2FmYXJpLlx0Ly8gVXNlcyAwLjAycHggcmF0aGVyIHRoYW4gMC4wMXB4IHRvIHdvcmsgYXJvdW5kIGEgY3VycmVudCByb3VuZGluZyBidWcgaW4gU2FmYXJpLlxuLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNzgyNjFcdC8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTc4MjYxXG4vL1xuLy8gICAgPj4gYnJlYWtwb2ludC1tYXgobWQsICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweCkpXG4vLyAgICA3NjcuOThweFxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbWF4KCRuYW1lLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgJG1heDogbWFwLWdldCgkYnJlYWtwb2ludHMsICRuYW1lKTtcbiAgQHJldHVybiBpZigkbWF4IGFuZCAkbWF4ID4gMCwgJG1heCAtIC4wMiwgbnVsbCk7XG59XG5cbi8vIE1lZGlhIG9mIGF0IG1vc3QgdGhlIG1heGltdW0gYnJlYWtwb2ludCB3aWR0aC4gTm8gcXVlcnkgZm9yIHRoZSBsYXJnZXN0IGJyZWFrcG9pbnQuXG4vLyBNYWtlcyB0aGUgQGNvbnRlbnQgYXBwbHkgdG8gdGhlIGdpdmVuIGJyZWFrcG9pbnQgYW5kIG5hcnJvd2VyLlxuQG1peGluIG1lZGlhLWJyZWFrcG9pbnQtZG93bigkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtYXg6IGJyZWFrcG9pbnQtbWF4KCRuYW1lLCAkYnJlYWtwb2ludHMpO1xuICBAaWYgJG1heCB7XG4gICAgQG1lZGlhIChtYXgtd2lkdGg6ICRtYXgpIHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGNvbnRlbnQ7XG4gIH1cbn1cblxuXG4vLyBUZXh0IERpcmVjdGlvbiAtIGx0ciAvIHJ0bFxuLy9cbi8vIENTUyBkZWZhdWx0cyB0byB1c2UgdGhlIGx0ciBjc3MsIGFuZCBhZGRzIFtkaXI9cnRsXSBzZWxlY3RvcnNcbi8vIHRvIG92ZXJyaWRlIGx0ciBkZWZhdWx0cy5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIG11bHRpLWRpcigpIHtcbiAgQGNvbnRlbnQ7XG5cbiAgLy8gJHJvb3Q6ICN7Jn07XG4gIC8vIEBhdC1yb290IFtkaXJdIHtcbiAgLy8gICAjeyRyb290fSB7XG4gIC8vICAgICBAY29udGVudDtcbiAgLy8gICB9XG4gIC8vIH1cbn1cblxuQG1peGluIHJ0bCgpIHtcbiAgJHJvb3Q6ICN7Jn07XG5cbiAgJHJvb3RTcGxpdDogc3RyLXNwbGl0KCRyb290LCBcIixcIik7XG4gICRzZWxlY3RvcnM6ICN7YWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsIFwiW2Rpcj1ydGxdXCIpfTtcbiAgJHNlbGVjdG9yc1NwbGl0OiBzdHItc3BsaXQoJHNlbGVjdG9ycywgXCIsXCIpO1xuXG4gICRob3N0Q29udGV4dFNlbGVjdG9yczogKCk7XG4gICRyZXN0U2VsZWN0b3JzOiAoKTtcbiAgJGRpclNlbGVjdG9yczogKCk7XG5cbiAgLy8gU2VsZWN0b3JzIG11c3QgYmUgc3BsaXQgaW50byBpbmRpdmlkdWFsIHNlbGVjdG9ycyBpbiBjYXNlIHRoZSBicm93c2VyXG4gIC8vIGRvZXNuJ3Qgc3VwcG9ydCBhIHNwZWNpZmljIHNlbGVjdG9yLlxuICAvLyBGb3IgZXhhbXBsZSwgRmlyZWZveCBhbmQgU2FmYXJpIGRvZXNuJ3Qgc3VwcG9ydCBgOmhvc3QtY29udGV4dCgpYC5cbiAgLy8gSWYgYW4gaW52YWxpZCBzZWxlY3RvciBpcyB1c2VkLCB0aGVuIHRoZSBlbnRpcmUgZ3JvdXAgb2Ygc2VsZWN0b3JzXG4gIC8vIHdpbGwgYmUgaWdub3JlZC5cbiAgLy8gQGxpbmsgaHR0cHM6Ly93d3cudzMub3JnL1RSL3NlbGVjdG9ycy0zLyNncm91cGluZ1xuICBAZWFjaCAkc2VsZWN0b3IgaW4gJHNlbGVjdG9yc1NwbGl0IHtcbiAgICAvLyBHcm91cCB0aGUgc2VsZWN0b3JzIGJhY2sgaW50byBhIHNpbmdsZSBzZWxlY3RvciB0byBvcHRpbWl6ZSB0aGUgb3V0cHV0LlxuICAgIEBpZiBzdHItaW5kZXgoJHNlbGVjdG9yLCBcIjpob3N0LWNvbnRleHRcIikge1xuICAgICAgJGhvc3RDb250ZXh0U2VsZWN0b3JzOiBhcHBlbmQoJGhvc3RDb250ZXh0U2VsZWN0b3JzLCAkc2VsZWN0b3IsIGNvbW1hKTtcbiAgICB9IEBlbHNlIHtcbiAgICAgIC8vIEdyb3VwIHRoZSBzZWxlY3RvcnMgYmFjayBpbnRvIGEgc2luZ2xlIHNlbGVjdG9yIHRvIG9wdGltaXplIHRoZSBvdXRwdXQuXG4gICAgICAkcmVzdFNlbGVjdG9yczogYXBwZW5kKCRyZXN0U2VsZWN0b3JzLCAkc2VsZWN0b3IsIGNvbW1hKTtcbiAgICB9XG4gIH1cblxuICAvLyBTdXBwb3J0ZWQgYnkgQ2hyb21lLlxuICBAaWYgbGVuZ3RoKCRob3N0Q29udGV4dFNlbGVjdG9ycykgPiAwIHtcbiAgICBAYXQtcm9vdCAjeyRob3N0Q29udGV4dFNlbGVjdG9yc30ge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9XG5cbiAgLy8gU3VwcG9ydGVkIGJ5IGFsbCBicm93c2Vycy5cbiAgQGlmIGxlbmd0aCgkcmVzdFNlbGVjdG9ycykgPiAwIHtcbiAgICBAYXQtcm9vdCAjeyRyZXN0U2VsZWN0b3JzfSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cblxuICAvLyBJZiBicm93c2VyIGNhbiBzdXBwb3J0IGA6ZGlyKClgLCB0aGVuIGFkZCB0aGUgYDpkaXIoKWAgc2VsZWN0b3JzLlxuICAvLyBAc3VwcG9ydHMgc2VsZWN0b3IoOmRpcihydGwpKSB7IC8vIEAgSU1QT1RBTlQgTk9URTogVGhpcyBoYXMgYmVlbiByZW1vdmVkIGJlY2F1c2Ugc2VsZWN0b3IgZnVuY3Rpb24gaXMgbm90IHN1cHBvcnRlZCBpbiBjdXJyZW50IFNDU1NcbiAgLy8gQWRkaW5nIDpkaXIoKSBpbiBjYXNlIHRoZSBicm93c2VyIGRvZXNuJ3Qgc3VwcG9ydCBgOmhvc3QtY29udGV4dCgpYCBhbmQgZG9lcyBzdXBwb3J0IGA6ZGlyKClgLlxuICAvLyBgOmhvc3QtY29udGV4dCgpYCBpcyBhZGRlZDpcbiAgLy8gLSB0aHJvdWdoIHRoZSBgYWRkLXJvb3Qtc2VsZWN0b3IoKWAgZnVuY3Rpb24uXG4gIC8vIC0gZmlyc3Qgc28gdGhhdCBpdCB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgYDpkaXIoKWAuXG4gIC8vIEZvciBleGFtcGxlLFxuICAvLyAtIEZpcmVmb3ggZG9lc24ndCBzdXBwb3J0IGA6aG9zdC1jb250ZXh0KClgLCBidXQgZG9lcyBzdXBwb3J0IGA6ZGlyKClgLlxuICAvLyAtIFNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgYDpob3N0LWNvbnRleHQoKWAsIGJ1dCBTYWZhcmkgMTYuNCsgc3VwcG9ydHMgYDpkaXIoKWBcbiAgLy8gQGxpbmsgaHR0cHM6Ly93ZWJraXQub3JnL2Jsb2cvMTM5NjYvd2Via2l0LWZlYXR1cmVzLWluLXNhZmFyaS0xNi00L1xuICBAZWFjaCAkc2VsZWN0b3IgaW4gJHJvb3RTcGxpdCB7XG4gICAgJGRpclNlbGVjdG9yOiBcIiN7JHNlbGVjdG9yfTpkaXIocnRsKVwiO1xuICAgIC8vIEdyb3VwIHRoZSBzZWxlY3RvcnMgYmFjayBpbnRvIGEgc2luZ2xlIHNlbGVjdG9yIHRvIG9wdGltaXplIHRoZSBvdXRwdXQuXG4gICAgJGRpclNlbGVjdG9yczogYXBwZW5kKCRkaXJTZWxlY3RvcnMsICRkaXJTZWxlY3RvciwgY29tbWEpO1xuICB9XG5cbiAgLy8gU3VwcG9ydGVkIGJ5IEZpcmVmb3guXG4gIEBpZiBsZW5ndGgoJGRpclNlbGVjdG9ycykgPiAwIHtcbiAgICBAYXQtcm9vdCAjeyRkaXJTZWxlY3RvcnN9IHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfVxuICAvL31cbn1cblxuQG1peGluIGx0cigpIHtcbiAgQGNvbnRlbnQ7XG59XG5cblxuLy8gU1ZHIEJhY2tncm91bmQgSW1hZ2UgTWl4aW5cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3ZnXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gc3ZnLWJhY2tncm91bmQtaW1hZ2UoJHN2ZywgJGZsaXAtcnRsOiBmYWxzZSkge1xuICAkdXJsOiB1cmwtZW5jb2RlKCRzdmcpO1xuICAkdmlld0JveDogc3RyLXNwbGl0KHN0ci1leHRyYWN0KCRzdmcsIFwidmlld0JveD0nXCIsIFwiJ1wiKSwgXCIgXCIpO1xuXG4gIEBpZiAkZmxpcC1ydGwgIT0gdHJ1ZSBvciAkdmlld0JveCA9PSBudWxsIHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwjeyR1cmx9XCIpO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgJHRyYW5zZm9ybTogXCJ0cmFuc2Zvcm09J3RyYW5zbGF0ZSgje250aCgkdmlld0JveCwgMyl9LCAwKSBzY2FsZSgtMSwgMSknXCI7XG4gICAgJGZsaXBwZWQtdXJsOiAkc3ZnO1xuICAgICRmbGlwcGVkLXVybDogc3RyLXJlcGxhY2UoJGZsaXBwZWQtdXJsLCBcIjxwYXRoXCIsIFwiPHBhdGggI3skdHJhbnNmb3JtfVwiKTtcbiAgICAkZmxpcHBlZC11cmw6IHN0ci1yZXBsYWNlKCRmbGlwcGVkLXVybCwgXCI8bGluZVwiLCBcIjxsaW5lICN7JHRyYW5zZm9ybX1cIik7XG4gICAgJGZsaXBwZWQtdXJsOiBzdHItcmVwbGFjZSgkZmxpcHBlZC11cmwsIFwiPHBvbHlnb25cIiwgXCI8cG9seWdvbiAjeyR0cmFuc2Zvcm19XCIpO1xuICAgICRmbGlwcGVkLXVybDogdXJsLWVuY29kZSgkZmxpcHBlZC11cmwpO1xuXG4gICAgQGluY2x1ZGUgbHRyICgpIHtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCN7JHVybH1cIik7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybChcImRhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCN7JGZsaXBwZWQtdXJsfVwiKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gQWRkIHByb3BlcnR5IGhvcml6b250YWxcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcHJvcGVydHktaG9yaXpvbnRhbCgkcHJvcCwgJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgQGlmICRzdGFydCA9PSAwIGFuZCAkZW5kID09IDAge1xuICAgICN7JHByb3B9LWxlZnQ6ICRzdGFydDtcbiAgICAjeyRwcm9wfS1yaWdodDogJGVuZDtcblxuICB9IEBlbHNlIHtcbiAgICAtd2Via2l0LSN7JHByb3B9LXN0YXJ0OiAkc3RhcnQ7XG4gICAgI3skcHJvcH0taW5saW5lLXN0YXJ0OiAkc3RhcnQ7XG4gICAgLXdlYmtpdC0jeyRwcm9wfS1lbmQ6ICRlbmQ7XG4gICAgI3skcHJvcH0taW5saW5lLWVuZDogJGVuZDtcbiAgfVxufVxuXG4vLyBBZGQgcHJvcGVydHkgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHByb3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7Ym9vbGVhbn0gJGNvbnRlbnQgaW5jbHVkZSBjb250ZW50IG9yIHVzZSBkZWZhdWx0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcHJvcGVydHkoJHByb3AsICR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKCRwcm9wLCAkc3RhcnQsICRlbmQpO1xuICAjeyRwcm9wfS10b3A6ICR0b3A7XG4gICN7JHByb3B9LWJvdHRvbTogJGJvdHRvbTtcbn1cblxuLy8gQWRkIHBhZGRpbmcgaG9yaXpvbnRhbFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwYWRkaW5nLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChwYWRkaW5nLCAkc3RhcnQsICRlbmQpO1xufVxuXG4vLyBBZGQgcGFkZGluZyBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b21cbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwYWRkaW5nKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eShwYWRkaW5nLCAkdG9wLCAkZW5kLCAkYm90dG9tLCAkc3RhcnQpO1xufVxuXG4vLyBBZGQgbWFyZ2luIGhvcml6b250YWxcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gbWFyZ2luLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChtYXJnaW4sICRzdGFydCwgJGVuZCk7XG59XG5cbi8vIEFkZCBtYXJnaW4gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gbWFyZ2luKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eShtYXJnaW4sICR0b3AsICRlbmQsICRib3R0b20sICRzdGFydCk7XG59XG5cbi8vIEFkZCBwb3NpdGlvbiBob3Jpem9udGFsXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0IC0gYW1vdW50IHRvIHBvc2l0aW9uIHN0YXJ0XG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZCAtIGFtb3VudCB0byBsZWZ0OiAwOyBlbmRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBwb3NpdGlvbi1ob3Jpem9udGFsKCRzdGFydDogbnVsbCwgJGVuZDogbnVsbCkge1xuICBAaWYgJHN0YXJ0ID09ICRlbmQge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIGxlZnQ6ICRzdGFydDtcbiAgICAgIHJpZ2h0OiAkZW5kO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGF0LXJvb3Qge1xuICAgICAgQHN1cHBvcnRzIChpbnNldC1pbmxpbmUtc3RhcnQ6IDApIHtcbiAgICAgICAgJiB7XG4gICAgICAgICAgaW5zZXQtaW5saW5lLXN0YXJ0OiAkc3RhcnQ7XG4gICAgICAgICAgaW5zZXQtaW5saW5lLWVuZDogJGVuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFRPRE8gRlctMzc2NlxuICAgIEBhdC1yb290IHtcbiAgICAgIEBzdXBwb3J0cyBub3QgKGluc2V0LWlubGluZS1zdGFydDogMCkge1xuICAgICAgICAmIHtcbiAgICAgICAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICAgICAgICBsZWZ0OiAkc3RhcnQ7XG4gICAgICAgICAgICByaWdodDogJGVuZDtcbiAgICAgICAgICB9XG4gICAgICAgICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgICAgICAgbGVmdDogdW5zZXQ7XG4gICAgICAgICAgICByaWdodDogdW5zZXQ7XG5cbiAgICAgICAgICAgIGxlZnQ6ICRlbmQ7XG4gICAgICAgICAgICByaWdodDogJHN0YXJ0O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBBZGQgcG9zaXRpb24gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcG9zaXRpb24oJHRvcDogbnVsbCwgJGVuZDogbnVsbCwgJGJvdHRvbTogbnVsbCwgJHN0YXJ0OiBudWxsKSB7XG4gIEBpbmNsdWRlIHBvc2l0aW9uLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kKTtcbiAgdG9wOiAkdG9wO1xuICBib3R0b206ICRib3R0b207XG59XG5cbi8vIEFkZCBib3JkZXIgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gYm9yZGVyKCR0b3AsICRlbmQ6ICR0b3AsICRib3R0b206ICR0b3AsICRzdGFydDogJGVuZCkge1xuICBAaW5jbHVkZSBwcm9wZXJ0eShib3JkZXIsICR0b3AsICRlbmQsICRib3R0b20sICRzdGFydCk7XG59XG5cbi8vIEFkZCBib3JkZXIgcmFkaXVzIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Atc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wLWVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b20tZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbS1zdGFydFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIGJvcmRlci1yYWRpdXMoJHRvcC1zdGFydCwgJHRvcC1lbmQ6ICR0b3Atc3RhcnQsICRib3R0b20tZW5kOiAkdG9wLXN0YXJ0LCAkYm90dG9tLXN0YXJ0OiAkdG9wLWVuZCkge1xuICBAaWYgJHRvcC1zdGFydCA9PSAkdG9wLWVuZCBhbmQgJHRvcC1zdGFydCA9PSAkYm90dG9tLWVuZCBhbmQgJHRvcC1zdGFydCA9PSAkYm90dG9tLXN0YXJ0IHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBib3JkZXItcmFkaXVzOiAkdG9wLXN0YXJ0O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogJHRvcC1zdGFydDtcbiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAkdG9wLWVuZDtcbiAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAkYm90dG9tLWVuZDtcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICRib3R0b20tc3RhcnQ7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogJHRvcC1lbmQ7XG4gICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogJHRvcC1zdGFydDtcbiAgICAgIGJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOiAkYm90dG9tLXN0YXJ0O1xuICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogJGJvdHRvbS1lbmQ7XG4gICAgfVxuICB9XG59XG5cbi8vIEFkZCBkaXJlY3Rpb24gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJGRpciAtIERpcmVjdGlvbiBvbiBMVFJcbkBtaXhpbiBkaXJlY3Rpb24oJGRpcikge1xuICAkb3RoZXItZGlyOiBudWxsO1xuXG4gIEBpZiAkZGlyID09IGx0ciB7XG4gICAgJG90aGVyLWRpcjogcnRsO1xuICB9IEBlbHNlIHtcbiAgICAkb3RoZXItZGlyOiBsdHI7XG4gIH1cblxuICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgZGlyZWN0aW9uOiAkZGlyO1xuICB9XG4gIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICBkaXJlY3Rpb246ICRvdGhlci1kaXI7XG4gIH1cbn1cblxuLy8gQWRkIGZsb2F0IGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICRzaWRlXG4vLyBAcGFyYW0ge3N0cmluZ30gJGRlY29yYXRvciAtICFpbXBvcnRhbnRcbkBtaXhpbiBmbG9hdCgkc2lkZSwgJGRlY29yYXRvcjogbnVsbCkge1xuICBAaWYgJHNpZGUgPT0gc3RhcnQge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIGZsb2F0OiBsZWZ0ICRkZWNvcmF0b3I7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGZsb2F0OiByaWdodCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgfSBAZWxzZSBpZiAkc2lkZSA9PSBlbmQge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIGZsb2F0OiByaWdodCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBmbG9hdDogbGVmdCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgZmxvYXQ6ICRzaWRlICRkZWNvcmF0b3I7XG4gICAgfVxuICB9XG59XG5cbkBtaXhpbiBiYWNrZ3JvdW5kLXBvc2l0aW9uKCRob3Jpem9udGFsLCAkaG9yaXpvbnRhbC1hbW91bnQ6IG51bGwsICR2ZXJ0aWNhbDogbnVsbCwgJHZlcnRpY2FsLWFtb3VudDogbnVsbCkge1xuICBAaWYgJGhvcml6b250YWwgPT0gc3RhcnQgb3IgJGhvcml6b250YWwgPT0gZW5kIHtcbiAgICAkaG9yaXpvbnRhbC1sdHI6IG51bGw7XG4gICAgJGhvcml6b250YWwtcnRsOiBudWxsO1xuICAgIEBpZiAkaG9yaXpvbnRhbCA9PSBzdGFydCB7XG4gICAgICAkaG9yaXpvbnRhbC1sdHI6IGxlZnQ7XG4gICAgICAkaG9yaXpvbnRhbC1ydGw6IHJpZ2h0O1xuICAgIH0gQGVsc2Uge1xuICAgICAgJGhvcml6b250YWwtbHRyOiByaWdodDtcbiAgICAgICRob3Jpem9udGFsLXJ0bDogbGVmdDtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAkaG9yaXpvbnRhbC1sdHIgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAkaG9yaXpvbnRhbC1ydGwgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogJGhvcml6b250YWwgJGhvcml6b250YWwtYW1vdW50ICR2ZXJ0aWNhbCAkdmVydGljYWwtYW1vdW50O1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gdHJhbnNmb3JtLW9yaWdpbigkeC1heGlzLCAkeS1heGlzOiBudWxsKSB7XG4gIEBpZiAkeC1heGlzID09IHN0YXJ0IHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0ICR5LWF4aXM7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IHJpZ2h0ICR5LWF4aXM7XG4gICAgfVxuICB9IEBlbHNlIGlmICR4LWF4aXMgPT0gZW5kIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCAkeS1heGlzO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBsZWZ0ICR5LWF4aXM7XG4gICAgfVxuICB9IEBlbHNlIGlmICR4LWF4aXMgPT0gbGVmdCBvciAkeC1heGlzID09IHJpZ2h0IHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAkeC1heGlzICR5LWF4aXM7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAkeC1heGlzICR5LWF4aXM7XG4gICAgfVxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IGNhbGMoMTAwJSAtICN7JHgtYXhpc30pICR5LWF4aXM7XG4gICAgfVxuICB9XG59XG5cbi8vIEFkZCB0cmFuc2Zvcm0gZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRyYW5zZm9ybXMgLSBjb21tYSBzZXBhcmF0ZWQgbGlzdCBvZiB0cmFuc2Zvcm1zXG5AbWl4aW4gdHJhbnNmb3JtKCR0cmFuc2Zvcm1zLi4uKSB7XG4gICRleHRyYTogbnVsbDtcblxuICAkeDogbnVsbDtcbiAgJGx0ci10cmFuc2xhdGU6IG51bGw7XG4gICRydGwtdHJhbnNsYXRlOiBudWxsO1xuXG4gIEBlYWNoICR0cmFuc2Zvcm0gaW4gJHRyYW5zZm9ybXMge1xuICAgIEBpZiAoc3RyLWluZGV4KCR0cmFuc2Zvcm0sIHRyYW5zbGF0ZTNkKSkge1xuICAgICAgJHRyYW5zZm9ybTogc3RyLXJlcGxhY2UoJHRyYW5zZm9ybSwgJ3RyYW5zbGF0ZTNkKCcpO1xuICAgICAgJHRyYW5zZm9ybTogc3RyLXJlcGxhY2UoJHRyYW5zZm9ybSwgJyknKTtcblxuICAgICAgJGNvb3JkaW5hdGVzOiBzdHItc3BsaXQoJHRyYW5zZm9ybSwgJywnKTtcblxuICAgICAgJHg6IG50aCgkY29vcmRpbmF0ZXMsIDEpO1xuICAgICAgJHk6IG50aCgkY29vcmRpbmF0ZXMsIDIpO1xuICAgICAgJHo6IG50aCgkY29vcmRpbmF0ZXMsIDMpO1xuXG4gICAgICAkbHRyLXRyYW5zbGF0ZTogdHJhbnNsYXRlM2QoJHgsICR5LCAkeik7XG4gICAgICAkcnRsLXRyYW5zbGF0ZTogdHJhbnNsYXRlM2QoY2FsYygtMSAqICN7JHh9KSwgJHksICR6KTtcbiAgICB9IEBlbHNlIHtcbiAgICAgIEBpZiAkZXh0cmEgPT0gbnVsbCB7XG4gICAgICAgICRleHRyYTogJHRyYW5zZm9ybTtcbiAgICAgIH0gQGVsc2Uge1xuICAgICAgICAkZXh0cmE6ICRleHRyYSAkdHJhbnNmb3JtO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIEBpZiAkeCA9PSAnMCcgb3IgJHggPT0gbnVsbCB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgdHJhbnNmb3JtOiAkbHRyLXRyYW5zbGF0ZSAkZXh0cmE7XG4gICAgfVxuICB9IEBlbHNlIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICB0cmFuc2Zvcm06ICRsdHItdHJhbnNsYXRlICRleHRyYTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICB0cmFuc2Zvcm06ICRydGwtdHJhbnNsYXRlICRleHRyYTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKlxuICogSW1wb3J0ZWQgaW9uaWMgbWl4aW5zIGZvciBTQ1NTIGZyb20gZGlmZmVyZW50IGNvbXBvbmVudHNcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIEV4dHJhY3RlZCBmcm9tXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvY29tcG9uZW50cy9ncmlkL2dyaWQubWl4aW5zLnNjc3NcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9pb25pYy10ZWFtL2lvbmljLWZyYW1ld29yay9ibG9iL21hc3Rlci9jb3JlL3NyYy9jb21wb25lbnRzL2l0ZW0vaXRlbS5taXhpbnMuc2Nzc1xuICovXG5cbi8vIFJlc3BvbnNpdmUgTWl4aW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5cbi8vIENyZWF0ZXMgYSBmaXhlZCB3aWR0aCBmb3IgdGhlIGdyaWQgYmFzZWQgb24gdGhlIHNjcmVlbiBzaXplXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIG1ha2UtZ3JpZC13aWR0aHMoJHdpZHRoczogJGdyaWQtd2lkdGhzLCAkYnJlYWtwb2ludHM6ICRzY3JlZW4tYnJlYWtwb2ludHMpIHtcbiAgQGVhY2ggJGJyZWFrcG9pbnQsICR3aWR0aCBpbiAkd2lkdGhzIHtcbiAgICBAaW5jbHVkZSBtZWRpYS1icmVha3BvaW50LXVwKCRicmVha3BvaW50LCAkYnJlYWtwb2ludHMpIHtcbiAgICAgIHdpZHRoOiAkd2lkdGg7XG4gICAgfVxuICB9XG5cbiAgbWF4LXdpZHRoOiAxMDAlO1xufVxuXG5cbi8vIEFkZHMgcGFkZGluZyB0byB0aGUgZWxlbWVudCBiYXNlZCBvbiBicmVha3BvaW50c1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBtaXhpbiBtYWtlLWJyZWFrcG9pbnQtcGFkZGluZygkcGFkZGluZ3MpIHtcbiAgQGVhY2ggJGJyZWFrcG9pbnQgaW4gbWFwLWtleXMoJHBhZGRpbmdzKSB7XG4gICAgQGluY2x1ZGUgbWVkaWEtYnJlYWtwb2ludC11cCgkYnJlYWtwb2ludCkge1xuICAgICAgJHBhZGRpbmc6IG1hcC1nZXQoJHBhZGRpbmdzLCAkYnJlYWtwb2ludCk7XG5cbiAgICAgIEBpbmNsdWRlIHBhZGRpbmcoJHBhZGRpbmcpO1xuICAgIH1cbiAgfVxufVxuXG5cbi8vIEl0ZW0gTWl4aW5zXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gaXRlbS1wdXNoLXN2Zy11cmwoJGZpbGwpIHtcbiAgJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnOiBcIjxzdmcgeG1sbnM9J2h0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnJyB2aWV3Qm94PScwIDAgMTIgMjAnPjxwYXRoIGQ9J00yLDIwbC0yLTJsOC04TDAsMmwyLTJsMTAsMTBMMiwyMHonIGZpbGw9JyN7JGZpbGx9Jy8+PC9zdmc+XCI7XG5cbiAgQGluY2x1ZGUgc3ZnLWJhY2tncm91bmQtaW1hZ2UoJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnLCB0cnVlKTtcbn1cbiIsIkB1c2UgXCJzYXNzOm1hdGhcIiBhcyBtYXRoO1xuXG4vKipcbiAqIEFwcCBjdXN0b20gbWl4aW5zIGZvciBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQbGFjZSBoZXJlIG91ciBjdXN0b20gbWl4aW5zLlxuICovXG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCBibGFjayB0byBjcmVhdGUgaXRzIHNoYWRlLlxuLy8gRGVmYXVsdCB0byBib290c3RyYXAgbGV2ZWwgNi5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXNoYWRlLXBlcmNlbnQoJGNvbG9yLCAkcGVyY2VudDogNDglKSB7XG4gICAgQHJldHVybiBtaXgoIzAwMCwgJGNvbG9yLCAkcGVyY2VudCk7XG59XG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCB3aGl0ZSB0byBjcmVhdGUgaXRzIHRpbnQuXG4vLyBEZWZhdWx0IHRvIGJvb3RzdHJhcCBsZXZlbCAtMTAuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGdldC1jb2xvci10aW50LXBlcmNlbnQoJGNvbG9yLCAkcGVyY2VudDogODAlKSB7XG4gICAgQHJldHVybiBtaXgoI2ZmZiwgJGNvbG9yLCAkcGVyY2VudCk7XG59XG5cbi8vIElvbmljIENvbG9yc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEdlbmVyYXRlcyB0aGUgY29sb3IgY2xhc3NlcyBhbmQgdmFyaWFibGVzIGJhc2VkIG9uIHRoZVxuLy8gY29sb3JzIG1hcFxuXG5AbWl4aW4gZ2VuZXJhdGUtY29sb3IoJGNvbG9yLW5hbWUsICRjb2xvcnMsICR0aGVtZSkge1xuICAgICRjb2xvci10aGVtZXM6IG1hcC1nZXQoJGNvbG9ycywgJGNvbG9yLW5hbWUpO1xuICAgICRiYXNlOiBtYXAtZ2V0KCRjb2xvci10aGVtZXMsICR0aGVtZSk7XG5cbiAgICBAaWYgJHRoZW1lID09ICdkYXJrJyB7XG4gICAgICAgICRiYXNlOiBtaXgobWFwLWdldCgkY29sb3ItdGhlbWVzLCAnbGlnaHQnKSwgd2hpdGUsIDgwJSkgIWRlZmF1bHQ7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgZ2VuZXJhdGUtY29sb3ItdmFyaWFudHMoJGNvbG9yLW5hbWUsICRiYXNlKTtcbn1cblxuQG1peGluIGdlbmVyYXRlLWNvbG9yLXZhcmlhbnRzKCRjb2xvci1uYW1lLCAkYmFzZSkge1xuICAgICRjb250cmFzdDogZ2V0X2NvbnRyYXN0X2NvbG9yKCRiYXNlKTtcbiAgICAkc2hhZGU6IGdldC1jb2xvci1zaGFkZS1wZXJjZW50KCRiYXNlKTtcbiAgICAkdGludDogZ2V0LWNvbG9yLXRpbnQtcGVyY2VudCgkYmFzZSk7XG5cbiAgICAtLSN7JGNvbG9yLW5hbWV9OiAjeyRiYXNlfTtcbiAgICAtLSN7JGNvbG9yLW5hbWV9LXNoYWRlOiAjeyRzaGFkZX07XG4gICAgLS0jeyRjb2xvci1uYW1lfS10aW50OiAjeyR0aW50fTtcbiAgICAtLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0OiAjeyRjb250cmFzdH07XG5cbiAgICAvLyBJbnRlcm5hbCBpb25pYyB1c2Ugb25seS5cbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfTogdmFyKC0tI3skY29sb3ItbmFtZX0pO1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWJhc2U6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfSk7XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tcmdiOiAje2NvbG9yLXRvLXJnYi1saXN0KCRiYXNlKX07XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3Q6ICN7JGNvbnRyYXN0fTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdC1yZ2I6ICN7Y29sb3ItdG8tcmdiLWxpc3QoJGNvbnRyYXN0KX07XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tc2hhZGU6ICN7JHNoYWRlfTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS10aW50OiAjeyR0aW50fTtcblxuICAgIC5pb24tY29sb3ItI3skY29sb3ItbmFtZX0ge1xuICAgICAgICAtLWlvbi1jb2xvcjogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9KTtcbiAgICAgICAgLS1pb24tY29sb3ItYmFzZTogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWJhc2UpO1xuICAgICAgICAtLWlvbi1jb2xvci1yZ2I6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1yZ2IpO1xuICAgICAgICAtLWlvbi1jb2xvci1jb250cmFzdDogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0KTtcbiAgICAgICAgLS1pb24tY29sb3ItY29udHJhc3QtcmdiOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3QtcmdiKTtcbiAgICAgICAgLS1pb24tY29sb3Itc2hhZGU6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1zaGFkZSk7XG4gICAgICAgIC0taW9uLWNvbG9yLXRpbnQ6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS10aW50KTtcbiAgICB9XG59XG5cbkBtaXhpbiBjb3JlLWZvY3VzKCkge1xuICAgIG91dGxpbmU6IG5vbmU7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgICY6OmFmdGVyIHtcbiAgICAgICAgQGluY2x1ZGUgcG9zaXRpb24oMCwgMCwgMCwgMCk7XG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICAgICAgY29udGVudDogXCJcIjtcbiAgICAgICAgb3BhY2l0eTogMTtcbiAgICAgICAgei1pbmRleDogMTtcbiAgICAgICAgQGluY2x1ZGUgY29yZS1mb2N1cy1zdHlsZSgpO1xuICAgIH1cbn1cblxuQG1peGluIGNvcmUtZm9jdXMtc3R5bGUoKSB7XG4gICAgYm94LXNoYWRvdzogaW5zZXQgMCAwIHZhcigtLWExMXktZm9jdXMtd2lkdGgpIDFweCB2YXIoLS1hMTF5LWZvY3VzLWNvbG9yKTtcbiAgICBib3JkZXItcmFkaXVzOiB2YXIoLS1ib3JkZXItcmFkaXVzKTtcbiAgICAvLyBUaGlja2VyIG9wdGlvbjpcbiAgICAvLyBib3JkZXI6IHZhcigtLWExMXktZm9jdXMtd2lkdGgpIHNvbGlkIHZhcigtLWExMXktZm9jdXMtY29sb3IpO1xufVxuXG5AbWl4aW4gY29yZS10cmFuc2l0aW9uKCRwcm9wZXJ0aWVzOiBhbGwsICRkdXJhdGlvbjogNTAwbXMsICR0aW1pbmctZnVuY3Rpb246IGVhc2UtaW4tb3V0KSB7XG4gICAgJHRyYW5zaXRpb25zOiAoKTtcbiAgICBAZWFjaCAkcHJvcGVydHkgaW4gJHByb3BlcnRpZXMge1xuICAgICAgJHRyYW5zaXRpb25zOiBhcHBlbmQoJHRyYW5zaXRpb25zLCAkcHJvcGVydHkgJGR1cmF0aW9uICR0aW1pbmctZnVuY3Rpb24sIGNvbW1hKTtcbiAgICB9XG5cbiAgICAtd2Via2l0LXRyYW5zaXRpb246ICR0cmFuc2l0aW9ucztcbiAgICB0cmFuc2l0aW9uOiAkdHJhbnNpdGlvbnM7XG59XG5cbkBtaXhpbiBzci1vbmx5KCkge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICB3aWR0aDogMXB4O1xuICAgIGhlaWdodDogMXB4O1xuICAgIHBhZGRpbmc6IDA7XG4gICAgbWFyZ2luOiAtMXB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgY2xpcDogcmVjdCgwLCAwLCAwLCAwKTtcbiAgICB3aGl0ZS1zcGFjZTogbm93cmFwO1xuICAgIGJvcmRlcjogMDtcbn1cblxuLyoqXG4gKiBTYW1lIGFzIGl0ZW0tcHVzaC1zdmctdXJsIGJ1dCBhZG1pdHMgZmxpcC1ydGxcbiAqL1xuQG1peGluIHB1c2gtYXJyb3ctY29sb3IoJGZpbGw6IDYyNjI2MiwgJGZsaXAtcnRsOiBmYWxzZSkge1xuICAgICRpdGVtLWRldGFpbC1wdXNoLXN2ZzogXCI8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDEyIDIwJz48cGF0aCBkPSdNMiwyMGwtMi0ybDgtOEwwLDJsMi0ybDEwLDEwTDIsMjB6JyBmaWxsPScjeyRmaWxsfScvPjwvc3ZnPlwiO1xuXG4gICAgQGluY2x1ZGUgc3ZnLWJhY2tncm91bmQtaW1hZ2UoJGl0ZW0tZGV0YWlsLXB1c2gtc3ZnLCAkZmxpcC1ydGwpO1xufVxuXG5AbWl4aW4gYm9yZGVyLXN0YXJ0KCRweCwgJHR5cGU6IG51bGwsICRjb2xvcjogbnVsbCkge1xuICAgIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwoYm9yZGVyLCAkcHggJHR5cGUgJGNvbG9yLCBudWxsKTtcbn1cblxuQG1peGluIGJvcmRlci1lbmQoJHB4LCAkdHlwZTogbnVsbCwgJGNvbG9yOiBudWxsKSB7XG4gICAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbChib3JkZXIsIG51bGwsICRweCAkdHlwZSAkY29sb3IpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLWJvcmRlci1zdGFydCgkcHgsICR0eXBlLCAkY29sb3IpIHtcbiAgICAkc2FmZS1hcmVhLXBvc2l0aW9uOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRweH0pO1xuXG4gICAgQGluY2x1ZGUgYm9yZGVyLXN0YXJ0KCRzYWZlLWFyZWEtcG9zaXRpb24sICR0eXBlLCAkY29sb3IpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLWJvcmRlci1lbmQoJHB4LCAkdHlwZSwgJGNvbG9yKSB7XG4gICAgJHNhZmUtYXJlYS1wb3NpdGlvbjogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JHB4fSk7XG5cbiAgICBAaW5jbHVkZSBib3JkZXItZW5kKCRzYWZlLWFyZWEtcG9zaXRpb24sICR0eXBlLCAkY29sb3IpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLW1hcmdpbi1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IG51bGw7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogbnVsbDtcblxuICAgIEBpZiAoJGVuZCkge1xuICAgICAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuICAgIH1cbiAgICBAaWYgKCRzdGFydCkge1xuICAgICAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xuICAgIH1cblxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRzYWZlLWFyZWEtZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1tYXJnaW4tc3RhcnQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcblxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRlbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLW1hcmdpbi1lbmQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcblxuICAgIEBpbmNsdWRlIG1hcmdpbi1ob3Jpem9udGFsKCRzdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBhZGRpbmctaG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xuICAgICRzYWZlLWFyZWEtZW5kOiBudWxsO1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IG51bGw7XG5cbiAgICBAaWYgKCRlbmQpIHtcbiAgICAgICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcbiAgICB9XG4gICAgQGlmICgkc3RhcnQpIHtcbiAgICAgICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBhZGRpbmctc3RhcnQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcblxuICAgIEBpbmNsdWRlIHBhZGRpbmctaG9yaXpvbnRhbCgkc2FmZS1hcmVhLXN0YXJ0LCAkZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1wYWRkaW5nLWVuZCgkc3RhcnQsICRlbmQpIHtcbiAgICAkc2FmZS1hcmVhLWVuZDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLXJpZ2h0KSArICN7JGVuZH0pO1xuXG4gICAgQGluY2x1ZGUgcGFkZGluZy1ob3Jpem9udGFsKCRzdGFydCwgJHNhZmUtYXJlYS1lbmQpO1xufVxuXG5AbWl4aW4gc2FmZS1hcmVhLXBvc2l0aW9uKCR0b3A6IG51bGwsICRlbmQ6IG51bGwsICRib3R0b206IG51bGwsICRzdGFydDogbnVsbCkge1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcblxuICAgIEBpbmNsdWRlIHBvc2l0aW9uKCR0b3AsICRzYWZlLWFyZWEtZW5kLCAkYm90dG9tLCAkc2FmZS1hcmVhLXN0YXJ0KTtcbn1cblxuQG1peGluIGNvcmUtaGVhZGluZ3MoKSB7XG4gICAgaDEge1xuICAgICAgICBmb250LXNpemU6IDI2cHg7XG4gICAgfVxuICAgIGgyLCAuaXRlbS1oZWFkaW5nIHtcbiAgICAgICAgZm9udC1zaXplOiAyNHB4O1xuICAgIH1cbiAgICBoMyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMjJweDtcbiAgICB9XG4gICAgaDQge1xuICAgICAgICBmb250LXNpemU6IDIwcHg7XG4gICAgfVxuICAgIGg1IHtcbiAgICAgICAgZm9udC1zaXplOiAxOHB4O1xuICAgIH1cbiAgICBoNiB7XG4gICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICB9XG59XG5cbkBtaXhpbiBkYXJrbW9kZSgpIHtcbiAgICAkcm9vdDogI3smfTtcblxuICAgIEBhdC1yb290ICN7YWRkLXJvb3Qtc2VsZWN0b3IoJHJvb3QsIFwiaHRtbC5kYXJrXCIpfSB7XG4gICAgICAgIEBjb250ZW50O1xuICAgIH1cbn1cblxuQG1peGluIGhvcml6b250YWxfc2Nyb2xsX2l0ZW0oJHdpZHRoLCAkbWluLXdpZHRoLCAkbWF4LXdpZHRoKSB7XG4gICAgZmxleDogMCAwICR3aWR0aDtcbiAgICBtaW4td2lkdGg6ICRtaW4td2lkdGg7XG4gICAgbWF4LXdpZHRoOiAkbWF4LXdpZHRoO1xuICAgIGFsaWduLXNlbGY6IHN0cmV0Y2g7XG4gICAgZGlzcGxheTogYmxvY2s7XG5cbiAgICBpb24tY2FyZCB7XG4gICAgICAgIC0tdmVydGljYWwtbWFyZ2luOiAxMHB4O1xuICAgICAgICAtLWhvcml6b250YWwtbWFyZ2luOiAxMHB4O1xuXG4gICAgICAgIHdpZHRoOiBjYWxjKDEwMCUgLSB2YXIoLS1ob3Jpem9udGFsLW1hcmdpbikgLSB2YXIoLS1ob3Jpem9udGFsLW1hcmdpbikpO1xuICAgICAgICBoZWlnaHQ6IGNhbGMoMTAwJSAtIHZhcigtLXZlcnRpY2FsLW1hcmdpbikgLSB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pKTtcbiAgICAgICAgbWFyZ2luOiB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pIHZhcigtLWhvcml6b250YWwtbWFyZ2luKTtcblxuICAgICAgICBAbWVkaWEgKG1heC13aWR0aDogMzYwcHgpIHtcbiAgICAgICAgICAgIC0taG9yaXpvbnRhbC1tYXJnaW46IDZweDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLy8gQ29sb3IgbWl4aW5zLlxuQGZ1bmN0aW9uIGdldF9icmlnaHRuZXNzKCRjb2xvcikge1xuICAgIEByZXR1cm4gbWF0aC5kaXYocmVkKCRjb2xvcikgKyBncmVlbigkY29sb3IpICsgYmx1ZSgkY29sb3IpLCAzKTtcbn1cblxuLy8gR2V0IHRoZSBiZXR0ZXIgY29sb3IgY29udHJhc3QgdXNpbmcgV0NBRyBhbGdvcnl0aG0uXG5AZnVuY3Rpb24gZ2V0X2NvbnRyYXN0X2NvbG9yKCRjb2xvcikge1xuICAgICRsdW1pYW5jZTogbHVtaW5hbmNlKCRjb2xvcik7XG5cbiAgICAvLyBXaGl0ZSBsdW1pYW5jZSBpcyAxLlxuICAgICR3aGl0ZUNvbnRyYXN0OiBtYXRoLmRpdigkbHVtaWFuY2UgKyAwLjA1LCAxICsgMC4wNSk7XG4gICAgLy8gV2hpdGUgbHVtaWFuY2UgaXMgMC5cbiAgICAkYmxhY2tDb250cmFzdDogbWF0aC5kaXYoMC4wNSwgJGx1bWlhbmNlICsgMC4wNSk7XG5cbiAgICBAcmV0dXJuIGlmKCR3aGl0ZUNvbnRyYXN0IDwgJGJsYWNrQ29udHJhc3QsIHdoaXRlLCBibGFjayk7XG59XG5cbi8vIENvbG9yIGNvbnRyYXN0IHVzaW5nIHlpcSBhcHJveGltYXRpb24gd2l0aCAxNTAgdGhyZXNob2xkLlxuQGZ1bmN0aW9uIGdldF9jb250cmFzdF9jb2xvcl95aXEoJGNvbG9yLCAkZGFyazogYmxhY2ssICRsaWdodDogd2hpdGUpIHtcbiAgICAkcjogcmVkKCRjb2xvcik7XG4gICAgJGc6IGdyZWVuKCRjb2xvcik7XG4gICAgJGI6IGJsdWUoJGNvbG9yKTtcblxuICAgICR5aXE6IG1hdGguZGl2KCgkciAqIDI5OSkgKyAoJGcgKiA1ODcpICsgKCRiICogMTE0KSwgMTAwMCk7XG5cbiAgICBAcmV0dXJuIGlmKCR5aXEgPj0gMTI4LCAkZGFyaywgJGxpZ2h0KTtcbn1cblxuLy8gV0NBRyBjb250cmFzdCBhbGdvcml0aG1cbkBmdW5jdGlvbiBjaGVjay1jb250cmFzdCgkZm9yZWdyb3VuZCwgJGJhY2tncm91bmQpIHtcbiAgICAkZm9yZWdyb3VuZEx1bWlhbmNlOiBsdW1pbmFuY2UoJGZvcmVncm91bmQpO1xuICAgICRiYWNrZ3JvdW5kTHVtaW5hbmNlOiBsdW1pbmFuY2UoJGJhY2tncm91bmQpO1xuXG4gICAgQGlmICgkYmFja2dyb3VuZEx1bWluYW5jZSA8ICRmb3JlZ3JvdW5kTHVtaWFuY2UpIHtcbiAgICAgICAgQHJldHVybiBtYXRoLmRpdigkYmFja2dyb3VuZEx1bWluYW5jZSArIDAuMDUsICRmb3JlZ3JvdW5kTHVtaWFuY2UgKyAwLjA1KTtcbiAgICB9IEBlbHNlIHtcbiAgICAgICAgQHJldHVybiBtYXRoLmRpdigkZm9yZWdyb3VuZEx1bWlhbmNlICsgMC4wNSwgJGJhY2tncm91bmRMdW1pbmFuY2UgKyAwLjA1KTtcbiAgICB9XG59XG5cbkBmdW5jdGlvbiBsdW1pbmFuY2UoJGNvbG9yKSB7XG4gICAgJHI6IHJlZCgkY29sb3IpO1xuICAgICRnOiBncmVlbigkY29sb3IpO1xuICAgICRiOiBibHVlKCRjb2xvcik7XG5cbiAgICAkcjogY29tcG9uZW50LWx1bWluYW5jZSgkcik7XG4gICAgJGc6IGNvbXBvbmVudC1sdW1pbmFuY2UoJGcpO1xuICAgICRiOiBjb21wb25lbnQtbHVtaW5hbmNlKCRiKTtcblxuICAgIEByZXR1cm4gJHIgKiAwLjIxMjYgKyAkZyAqIDAuNzE1MiArICRiICogMC4wNzIyO1xufVxuXG5AZnVuY3Rpb24gY29tcG9uZW50LWx1bWluYW5jZSgkdmFsdWUpIHtcbiAgICAkdmFsdWU6IG1hdGguZGl2KCR2YWx1ZSwgMjU1KTtcblxuICAgIEBpZiAoJHZhbHVlIDw9IDAuMDM5MjgpIHtcbiAgICAgICAgQHJldHVybiBtYXRoLmRpdigkdmFsdWUsIDEyLjkyKTtcbiAgICB9IEBlbHNlIHtcbiAgICAgICAgQHJldHVybiBtYXRoLnBvdyhtYXRoLmRpdigkdmFsdWUgKyAwLjA1NSwgMS4wNTUpLCAyLjQpO1xuICAgIH1cbn1cbiIsIi8qXG4gKiBBcHAgQ3VzdG9tIEFwcCB2YXJpYWJsZXMgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUGxhY2UgaGVyZSBhbGwgY3VzdG9tIGFwcCB2YXJpYWJsZXMuXG4gKi9cbiIsIi8qXG4gKiBBcHAgR2xvYmFsIHZhcmlhYmxlcyBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBQbGFjZSBoZXJlIGFsbCBnbG9iYWwgdmFyaWFibGVzLlxuICovXG5cbiR3aGl0ZTogICAgICAgI2ZmZmZmZiAhZGVmYXVsdDtcbiRncmF5LTEwMDogICAgI2Y4ZjlmYSAhZGVmYXVsdDtcbiRncmF5LTIwMDogICAgI2U5ZWNlZiAhZGVmYXVsdDtcbiRncmF5LTMwMDogICAgI2RlZTJlNiAhZGVmYXVsdDsgLy8gU3Ryb2tlXG4kZ3JheS00MDA6ICAgICNjZWQ0ZGEgIWRlZmF1bHQ7XG4kZ3JheS01MDA6ICAgICM4Zjk1OWUgIWRlZmF1bHQ7IC8vIFN0cm9rZSBvbiBpbnB1dHNcbiRncmF5LTYwMDogICAgIzZhNzM3YiAhZGVmYXVsdDtcbiRncmF5LTcwMDogICAgIzQ5NTA1NyAhZGVmYXVsdDtcbiRncmF5LTgwMDogICAgIzM0M2E0MCAhZGVmYXVsdDtcbiRncmF5LTkwMDogICAgIzI4MjgyOCAhZGVmYXVsdDsgLy8gQ29weSB0ZXh0XG4kYmxhY2s6ICAgICAgICMwMDAwMDAgIWRlZmF1bHQ7IC8vIEF2b2lkIHVzYWdlXG5cbiRibHVlOiAgICAgICAgIzBmNmNiZiAhZGVmYXVsdDtcbiRjeWFuOiAgICAgICAgIzAwODE5NiAhZGVmYXVsdDsgLy8gTm90IHVzZWQuXG4kZ3JlZW46ICAgICAgICMzNTdhMzIgIWRlZmF1bHQ7XG4kcmVkOiAgICAgICAgICNjYTMxMjAgIWRlZmF1bHQ7XG4keWVsbG93OiAgICAgICNmMGFkNGUgIWRlZmF1bHQ7XG5cbiRicmFuZC1jb2xvcjogI2Y5ODAxMiAhZGVmYXVsdDtcblxuJHRleHQtY29sb3I6ICAgICAgICAgICAgICAgJGdyYXktOTAwICFkZWZhdWx0O1xuJHRleHQtY29sb3ItcmdiOiAgICAgICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJHRleHQtY29sb3IpICFkZWZhdWx0O1xuJHRleHQtY29sb3ItZGFyazogICAgICAgICAgJHdoaXRlICFkZWZhdWx0O1xuJHRleHQtY29sb3ItZGFyay1yZ2I6ICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJHRleHQtY29sb3ItZGFyaykgIWRlZmF1bHQ7XG5cbiRiYWNrZ3JvdW5kLWNvbG9yOiAgICAgICAgICAkd2hpdGUgIWRlZmF1bHQ7XG4kYmFja2dyb3VuZC1jb2xvci1yZ2I6ICAgICAgY29sb3ItdG8tcmdiLWxpc3QoJGJhY2tncm91bmQtY29sb3IpICFkZWZhdWx0O1xuJGJhY2tncm91bmQtY29sb3ItZGFyazogICAgICRncmF5LTkwMCAhZGVmYXVsdDsgLy8gIzFhMWExYVxuJGJhY2tncm91bmQtY29sb3ItZGFyay1yZ2I6IGNvbG9yLXRvLXJnYi1saXN0KCRiYWNrZ3JvdW5kLWNvbG9yLWRhcmspICFkZWZhdWx0O1xuXG4kaW9uLWl0ZW0tYmFja2dyb3VuZDogICAgICAkd2hpdGUgIWRlZmF1bHQ7XG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1yZ2I6ICBjb2xvci10by1yZ2ItbGlzdCgkaW9uLWl0ZW0tYmFja2dyb3VuZCkgIWRlZmF1bHQ7XG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1kYXJrOiAkZ3JheS05MDAgIWRlZmF1bHQ7XG4kaW9uLWl0ZW0tYmFja2dyb3VuZC1kYXJrLXJnYjogY29sb3ItdG8tcmdiLWxpc3QoJGlvbi1pdGVtLWJhY2tncm91bmQtZGFyaykgIWRlZmF1bHQ7XG5cbiRwcmltYXJ5OiAgICAkYnJhbmQtY29sb3IgIWRlZmF1bHQ7XG4kc2Vjb25kYXJ5OiAgJGdyYXktMzAwICFkZWZhdWx0O1xuJGRhbmdlcjogICAgICRyZWQgIWRlZmF1bHQ7XG4kd2FybmluZzogICAgJHllbGxvdyAhZGVmYXVsdDtcbiRzdWNjZXNzOiAgICAkZ3JlZW4gIWRlZmF1bHQ7XG4kaW5mbzogICAgICAgJGJsdWUgIWRlZmF1bHQ7XG4kbGlnaHQ6ICAgICAgJGdyYXktMTAwICFkZWZhdWx0O1xuJG1lZGl1bTogICAgICRncmF5LTcwMCAhZGVmYXVsdDtcbiRkYXJrOiAgICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7XG5cbiRjb2xvcnM6ICAoXG4gICAgcHJpbWFyeTogKGxpZ2h0OiAkcHJpbWFyeSwgZGFyazogJHByaW1hcnkpLFxuICAgIHNlY29uZGFyeTogKGxpZ2h0OiAkc2Vjb25kYXJ5LCBkYXJrOiAkZ3JheS03MDApLFxuICAgIHN1Y2Nlc3M6IChsaWdodDogJHN1Y2Nlc3MpLFxuICAgIHdhcm5pbmc6IChsaWdodDogJHdhcm5pbmcpLFxuICAgIGRhbmdlcjogIChsaWdodDogJGRhbmdlciksXG4gICAgaW5mbzogKGxpZ2h0OiAkaW5mbyksXG4gICAgbGlnaHQ6IChsaWdodDogJGxpZ2h0LCBkYXJrOiAkZGFyayksXG4gICAgbWVkaXVtOiAobGlnaHQ6ICRtZWRpdW0sIGRhcms6ICRncmF5LTIwMCksXG4gICAgZGFyazogKGxpZ2h0OiAkZGFyaywgZGFyazogJGxpZ2h0KSxcbikgIWRlZmF1bHQ7XG5cbi8qKlxuICogTGF5b3V0IEJyZWFrcG9pbnRzXG4gKlxuICogaHR0cHM6Ly9pb25pY2ZyYW1ld29yay5jb20vZG9jcy9sYXlvdXQvZ3JpZCNkZWZhdWx0LWJyZWFrcG9pbnRzXG4gKi9cblxuLy8gVGhlIG1pbmltdW0gZGltZW5zaW9ucyBhdCB3aGljaCB5b3VyIGxheW91dCB3aWxsIGNoYW5nZSxcbi8vIGFkYXB0aW5nIHRvIGRpZmZlcmVudCBzY3JlZW4gc2l6ZXMsIGZvciB1c2UgaW4gbWVkaWEgcXVlcmllc1xuJHNjcmVlbi1icmVha3BvaW50czogKFxuICAgIHhzOiAwcHgsXG4gICAgc206IDU3NnB4LFxuICAgIG1kOiA3NjhweCxcbiAgICBsZzogOTkycHgsXG4gICAgdGFibGV0OiA5OTJweCxcbiAgICB4bDogMTIwMHB4XG4pICFkZWZhdWx0O1xuXG4kY29yZS1jb3Vyc2UtaW1hZ2UtYmFja2dyb3VuZDogIzgxZWNlYywgIzc0YjlmZiwgI2EyOWJmZSwgI2RmZTZlOSwgIzAwYjg5NCwgIzA5ODRlMywgI2IyYmVjMywgI2ZkY2I2ZSwgI2ZkNzlhOCwgIzZjNWNlNyAhZGVmYXVsdDtcbiRjb3JlLWRkLXF1ZXN0aW9uLWNvbG9yczogI0ZGRkZGRiwgI0IwQzRERSwgI0RDRENEQywgI0Q4QkZEOCwgIzg3Q0VGQSwgI0RBQTUyMCwgI0ZGRDcwMCwgI0YwRTY4QyAhZGVmYXVsdDtcbiRjb3JlLXRleHQtaGlnaHRsaWdodC1iYWNrZ3JvdW5kLWNvbG9yOiBsaWdodGVuKCRibHVlLCA0MCUpICFkZWZhdWx0O1xuXG4kY29yZS1maXhlZC11cmw6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtZGFzaGJvYXJkLWxvZ286IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtYWx3YXlzLXNob3ctbWFpbi1tZW51OiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWZvcm1hdC10ZXh0LW5ldmVyLXNob3J0ZW46IGZhbHNlICFkZWZhdWx0O1xuXG4kY29yZS1oaWRlLWNvdXJzZWltYWdlLW9uLWNvdXJzZTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1oaWRlLXByb2dyZXNzLW9uLWNvdXJzZTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1oaWRlLXByb2dyZXNzLW9uLXNlY3Rpb24tc2VsZWN0b3I6IGZhbHNlICFkZWZhdWx0O1xuXG4kY29yZS1jb3Vyc2UtaGlkZS10aHVtYi1vbi1jYXJkczogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1jb3Vyc2UtdGh1bWItb24tY2FyZHMtYmFja2dyb3VuZDogbnVsbCAhZGVmYXVsdDtcbiRjb3JlLWNvdXJzZS1oaWRlLXByb2dyZXNzLW9uLWNhcmRzOiBmYWxzZSAhZGVmYXVsdDtcblxuLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBsb2dpbiBwYWdlLlxuJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmU6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmUtZGFyazogJGNvcmUtbG9naW4tYnV0dG9uLW91dGxpbmUgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1sb2FkaW5nLWNvbG9yOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWxvYWRpbmctY29sb3ItZGFyazogJHRleHQtY29sb3ItZGFyayAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWhpZGUtZm9yZ290LXBhc3N3b3JkOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWhpZGUtbmVlZC1oZWxwOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWhpZGUtcXJjb2RlOiBmYWxzZSAhZGVmYXVsdDtcblxuLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciBtb3JlIHBhZ2UuIChkZXByZWNhdGVkIG9uIDQuMClcbiRjb3JlLW1vcmUtaGlkZS1zaXRlaW5mbzogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1tb3JlLWhpZGUtc2l0ZW5hbWU6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbW9yZS1oaWRlLXNpdGV1cmw6IGZhbHNlICFkZWZhdWx0O1xuXG4vLyBDb25maWd1cmF0aW9uIG9wdGlvbnMgZm9yIHVzZXIgcGFnZS5cbiRjb3JlLXVzZXItaGlkZS1zaXRlaW5mbzogJGNvcmUtbW9yZS1oaWRlLXNpdGVpbmZvICFkZWZhdWx0O1xuJGNvcmUtdXNlci1oaWRlLXNpdGVuYW1lOiAkY29yZS1tb3JlLWhpZGUtc2l0ZW5hbWUgIWRlZmF1bHQ7XG4kY29yZS11c2VyLWhpZGUtc2l0ZXVybDogJGNvcmUtbW9yZS1oaWRlLXNpdGV1cmwgIWRlZmF1bHQ7XG5cbi8vIEFjdGl2aXR5IGljb24gYmFja2dyb3VuZCBjb2xvcnMuXG4kYWN0aXZpdHktaWNvbi1jb2xvcnM6IChcbiAgICBhZG1pbmlzdHJhdGlvbjogIzVkNjNmNixcbiAgICBhc3Nlc3NtZW50OiAjZWI2NmEyLFxuICAgIGNvbGxhYm9yYXRpb246ICNmNzYzNGQsXG4gICAgY29tbXVuaWNhdGlvbjogIzExYTY3NixcbiAgICBjb250ZW50OiAjMzk5YmUyLFxuICAgIGludGVyZmFjZTogI2EzNzhmZlxuKSAhZGVmYXVsdDtcblxuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNhdGVnb3J5OiAjOGUyNGFhICFkZWZhdWx0O1xuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvdXJzZTogJHJlZCAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1ncm91cDogJHllbGxvdyAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS11c2VyOiAkYmx1ZSAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1zaXRlOiAkZ3JlZW4gIWRlZmF1bHQ7XG5cbi8vIENhbGVuZGFyIGV2ZW50IGNhdGVnb3J5IGJhY2tncm91bmQgY29sb3JzLlxuJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvbG9yczogKFxuICAgIGNhdGVnb3J5OiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY2F0ZWdvcnksXG4gICAgY291cnNlOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktY291cnNlLFxuICAgIGdyb3VwOiAkY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktZ3JvdXAsXG4gICAgdXNlcjogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXVzZXIsXG4gICAgc2l0ZTogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LXNpdGUsXG4pICFkZWZhdWx0O1xuIiwiQHVzZSBcInRoZW1lL2dsb2JhbHNcIiBhcyAqO1xuXG46aG9zdCB7XG4gICAgLS1oZWFkZXItYmFja2dyb3VuZDogdmFyKC0td2hpdGUpO1xuICAgIC0tb2RkLWNlbGwtYmFja2dyb3VuZDogdmFyKC0tbGlnaHQpO1xuICAgIC0tb2RkLWNlbGwtaG92ZXI6IHZhcigtLWdyYXktMjAwKTtcbiAgICAtLWV2ZW4tY2VsbC1iYWNrZ3JvdW5kOiB2YXIoLS13aGl0ZSk7XG4gICAgLS1ldmVuLWNlbGwtaG92ZXI6IHZhcigtLWxpZ2h0KTtcbiAgICAtLWljb24tY29sb3I6IHZhcigtLWdyYXktNTAwKTtcbiAgICAtLWJvcmRlci1jb2xvcjogdmFyKC0tc3Ryb2tlKTtcblxuICAgIC5vZGQge1xuICAgICAgICAtLWNlbGwtYmFja2dyb3VuZDogdmFyKC0tb2RkLWNlbGwtYmFja2dyb3VuZCk7XG4gICAgICAgIC0tY2VsbC1ob3ZlcjogdmFyKC0tb2RkLWNlbGwtaG92ZXIpO1xuICAgIH1cblxuICAgIC5ldmVuIHtcbiAgICAgICAgLS1jZWxsLWJhY2tncm91bmQ6IHZhcigtLWV2ZW4tY2VsbC1iYWNrZ3JvdW5kKTtcbiAgICAgICAgLS1jZWxsLWhvdmVyOiB2YXIoLS1ldmVuLWNlbGwtaG92ZXIpO1xuICAgIH1cblxufVxuXG46aG9zdC1jb250ZXh0KGh0bWwuZGFyaykge1xuICAgIC0taGVhZGVyLWJhY2tncm91bmQ6IHZhcigtLWdyYXktOTAwKTtcbiAgICAtLW9kZC1jZWxsLWJhY2tncm91bmQ6IHZhcigtLWdyYXktODAwKTtcbiAgICAtLW9kZC1jZWxsLWhvdmVyOiB2YXIoLS1ncmF5LTYwMCk7XG4gICAgLS1ldmVuLWNlbGwtYmFja2dyb3VuZDogdmFyKC0tZ3JheS05MDApO1xuICAgIC0tZXZlbi1jZWxsLWhvdmVyOiB2YXIoLS1ncmF5LTcwMCk7XG4gICAgLS1pY29uLWNvbG9yOiB2YXIoLS1ncmF5LTIwMCk7XG59XG5cbi5jb3JlLWdyYWRlcy10YWJsZSB7XG4gICAgYm9yZGVyLWNvbGxhcHNlOiBjb2xsYXBzZTtcbiAgICBsaW5lLWhlaWdodDogMjBweDtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBmb250LXNpemU6IDE2cHg7XG4gICAgY29sb3I6IHZhcigtLWlvbi10ZXh0LWNvbG9yKTtcblxuICAgIHRyIHtcbiAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHZhcigtLWJvcmRlci1jb2xvcik7XG4gICAgfVxuXG4gICAgdGgsIHRkIHtcbiAgICAgICAgQGluY2x1ZGUgcGFkZGluZyg4cHgsIDhweCwgOHB4LCBudWxsKTtcbiAgICAgICAgdmVydGljYWwtYWxpZ246IHRvcDtcbiAgICAgICAgd2hpdGUtc3BhY2U6IG5vcm1hbDtcbiAgICAgICAgdGV4dC1hbGlnbjogc3RhcnQ7XG4gICAgfVxuXG4gICAgdGhlYWQgdGgge1xuICAgICAgICB2ZXJ0aWNhbC1hbGlnbjogYm90dG9tO1xuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0taGVhZGVyLWJhY2tncm91bmQpO1xuICAgIH1cblxuICAgIHRoZWFkICNncmFkZWl0ZW0ge1xuICAgICAgICBAaW5jbHVkZSBwYWRkaW5nKG51bGwsIG51bGwsIG51bGwsIDI0cHgpO1xuICAgIH1cblxuICAgIHRib2R5IHRoIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7XG4gICAgfVxuXG4gICAgdGJvZHkgdHIuY29yZS1ib2xkIHRoIHtcbiAgICAgIGZvbnQtd2VpZ2h0OiBpbmhlcml0O1xuICAgIH1cblxuICAgIHRib2R5ICNncmFkZWl0ZW0ge1xuICAgICAgICBAaW5jbHVkZSBwYWRkaW5nKG51bGwsIG51bGwsIG51bGwsIDRweCk7XG4gICAgfVxuXG4gICAgLmNvcmUtZ3JhZGVzLXRhYmxlLWdyYWRlaXRlbSB7XG4gICAgICAgIEBpbmNsdWRlIHBhZGRpbmcobnVsbCwgbnVsbCwgbnVsbCwgNHB4KTtcbiAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG5cbiAgICAgICAgJi5jb2x1bW4taXRlbW5hbWUge1xuICAgICAgICAgICAgQGluY2x1ZGUgcGFkZGluZyhudWxsLCBudWxsLCBudWxsLCAwKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGltZyB7XG4gICAgICAgICAgICB3aWR0aDogMTZweDtcbiAgICAgICAgICAgIGhlaWdodDogMTZweDtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvcmUtbW9kLWljb24ge1xuICAgICAgICAgICAgLS1wYWRkaW5nOiAwcHg7XG4gICAgICAgICAgICAtLXNpemU6IDE2cHg7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcbiAgICAgICAgICAgIC0tZmlsdGVyOiB2YXIoLS1tb2R1bGUtaWNvbi1maWx0ZXIpO1xuICAgICAgICB9XG5cblxuICAgICAgICBpb24taWNvbiB7XG4gICAgICAgICAgICBjb2xvcjogdmFyKC0taWNvbi1jb2xvcik7XG4gICAgICAgIH1cblxuICAgICAgICBzcGFuIHtcbiAgICAgICAgICAgIEBpbmNsdWRlIG1hcmdpbihudWxsLCBudWxsLCBudWxsLCA0cHgpO1xuICAgICAgICB9XG5cbiAgICAgICAgLmV4cGFuZGFibGUtc3RhdHVzLWljb24ge1xuICAgICAgICAgICAgZm9udC1zaXplOiB2YXIoLS10ZXh0LXNpemUpO1xuICAgICAgICAgICAgQGluY2x1ZGUgbWFyZ2luLWhvcml6b250YWwoMCwgMnB4KTtcbiAgICAgICAgICAgIEBpbmNsdWRlIGNvcmUtdHJhbnNpdGlvbih0cmFuc2Zvcm0sIDIwMG1zKTtcblxuICAgICAgICAgICAgJi5leHBhbmRhYmxlLXN0YXR1cy1pY29uLWV4cGFuZGVkIHtcbiAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IHZhcigtLXJvdGF0ZS1leHBhbmRhYmxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLmNvcmUtZ3JhZGVzLXRhYmxlLWZlZWRiYWNrIHtcbiAgICAgICAgQGluY2x1ZGUgcGFkZGluZyhudWxsLCBudWxsLCBudWxsLCA0cHgpO1xuXG4gICAgICAgIC5uby1vdmVyZmxvdyB7XG4gICAgICAgICAgICBvdmVyZmxvdzogYXV0bztcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLmNvcmUtZ3JhZGVzLXRhYmxlLWdyYWRlIHtcbiAgICAgICAgaW9uLWljb24ge1xuICAgICAgICAgICAgQGluY2x1ZGUgcGFkZGluZyhudWxsLCA0cHgsIG51bGwsIG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmNvcmUtZ3JhZGVzLXRhYmxlLWxlYWRlciB7XG4gICAgICAgIHdpZHRoOiAwO1xuICAgIH1cblxuICAgIC5pb24tbm8tYm9yZGVyIHtcbiAgICAgICAgYm9yZGVyOiAwICFpbXBvcnRhbnQ7XG4gICAgfVxuXG4gICAgLmRpbW1lZF90ZXh0LFxuICAgIC5oaWRkZW4ge1xuICAgICAgICBvcGFjaXR5OiAuNztcbiAgICB9XG5cbiAgICAub2RkLCAuZXZlbiB7XG4gICAgICAgIHRkLCB0aCwgdGhbYXJpYS1jdXJyZW50PVwicGFnZVwiXSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jZWxsLWJhY2tncm91bmQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLmNvcmUtZ3JhZGVzLWdyYWRlLWNsaWNrYWJsZSB7XG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcbiAgICAgICAgJjpob3ZlciB7XG4gICAgICAgICAgICB0ZCwgdGgsIHRoW2FyaWEtY3VycmVudD1cInBhZ2VcIl0ge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNlbGwtaG92ZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGgsIHRkIHtcbiAgICAgICAgICAgIGhlaWdodDogdmFyKC0tYTExeS1taW4tdGFyZ2V0LXNpemUpO1xuICAgICAgICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlvbi1saXN0LCBpb24taXRlbTo6cGFydChuYXRpdmUpIHtcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XG4gICAgfVxuXG4gICAgJi5zdW1tYXJ5IC5pb24taGlkZS1tZC1kb3duIHtcbiAgICAgICAgZGlzcGxheTogbm9uZTtcbiAgICAgICAgb3BhY2l0eTogMDtcbiAgICB9XG5cbn1cblxuQGluY2x1ZGUgbWVkaWEtYnJlYWtwb2ludC1kb3duKG1kKSB7XG5cbiAgICAuY29yZS1ncmFkZXMtdGFibGUgdGQge1xuICAgICAgICBmb250LXNpemU6IDAuODVlbTtcbiAgICB9XG5cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});\nclass CoreGradesCourseCoursesSwipeManager extends CoreSwipeNavigationItemsManager {\n  constructor(source) {\n    super(source);\n  }\n  /**\n   * @inheritdoc\n   */\n  getPageTitle() {\n    const selectedItem = this.getSelectedItem();\n    return selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.courseFullName;\n  }\n}\n/**\n * Swipe manager for participants grades.\n */\nclass CoreGradesCourseParticipantsSwipeManager extends CoreSwipeNavigationItemsManager {\n  constructor(source) {\n    super(source);\n  }\n  /**\n   * @inheritdoc\n   */\n  getPageTitle() {\n    const selectedItem = this.getSelectedItem();\n    return selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.fullname;\n  }\n  /**\n   * @inheritdoc\n   */\n  getSelectedItemPathFromRoute(route) {\n    return route.params.userId;\n  }\n}","map":{"version":3,"names":["CoreDomUtils","CoreGrades","CoreGradesHelper","CoreSites","CoreUtils","CoreNavigator","CoreScreen","Translate","CoreSwipeNavigationItemsManager","CoreRoutedItemsManagerSourcesTracker","CoreUserParticipantsSource","CoreGradesCoursesSource","CoreDom","CoreTime","CoreAnalytics","CoreAnalyticsEventType","i0","ɵɵelement","ɵɵproperty","ɵɵpipeBind1","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵclassProp","column_r4","hiddenPhone","ɵɵpropertyInterpolate","name","ɵɵattribute","colspan","ɵɵadvance","ɵɵtextInterpolate1","row_r5","rowspan","expanded","icon","iconAlt","image","ɵɵsanitizeUrl","itemmodule","ɵɵclassMap","column_r23","ɵɵsanitizeHtml","feedback","ctx_r25","courseId","gradeIcon","gradeIconAlt","ɵɵtemplate","CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_td_3_ion_icon_1_Template","ɵɵclassMapInterpolate1","gradeClass","ɵɵelementContainerStart","CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_td_1_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_td_2_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_td_3_Template","ɵɵelementContainerEnd","undefined","CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_ng_container_1_Template","ctx_r16","columns","CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_td_1_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ion_icon_3_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ion_icon_4_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_img_5_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_core_mod_icon_6_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_ng_container_8_Template","itemtype","expandable","ctx_r10","showSummary","gradeitem","ɵɵlistener","CoreGradesCoursePage_div_14_ng_container_6_tr_2_Template_tr_ariaButtonClick_0_listener","ɵɵrestoreView","_r39","ɵɵnextContext","$implicit","ctx_r37","ɵɵresetView","toggleRow","CoreGradesCoursePage_div_14_ng_container_6_tr_2_ng_container_1_Template","rowclass","ctx_r7","id","rowAriaLabel","detailsid","ɵɵtextInterpolate","weight","grade","range","percentage","lettergrade","rank","average","ctx_r48","contributiontocoursetotal","CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_3_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_4_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_5_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_6_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_7_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_8_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_9_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_10_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_3_ion_item_11_Template","ctx_r8","totalColumnsSpan","CoreGradesCoursePage_div_14_ng_container_6_tr_1_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_2_Template","CoreGradesCoursePage_div_14_ng_container_6_tr_3_Template","CoreGradesCoursePage_div_14_th_4_Template","CoreGradesCoursePage_div_14_ng_container_6_Template","CoreGradesCoursePage_div_14_Template_core_infinite_loading_action_8_listener","$event","_r61","ctx_r60","loadMore","ctx_r1","ɵɵpipeBind3","rows","rowsOnView","length","CoreGradesCoursePage","constructor","route","element","loaded","logView","once","performLogView","_CoreNavigator$getRou","_route$snapshot$data$","_route$snapshot$paren","getRequiredRouteNumberParam","userId","getRouteNumberParam","getCurrentSiteUserId","gradeId","expandLabel","instant","collapseLabel","useLegacyLayout","getRequiredCurrentSite","isVersionGreaterEqualThan","snapshot","data","swipeManagerSource","parent","swipeManager","CoreGradesCourseCoursesSwipeManager","getOrCreateSource","search","getRouteParam","CoreGradesCourseParticipantsSwipeManager","error","showErrorModal","back","isMobile","withinSplitView","ngAfterViewInit","_this","_asyncToGenerator","_this$element$nativeE","_this$swipeManager","nativeElement","parentElement","closest","start","fetchInitialGrades","ngOnDestroy","_this$swipeManager2","destroy","row","actionLabel","ariaLabel","expand","_row$colspan","i","indexOf","previousRow","refreshGrades","refresher","_this2","ignoreErrors","invalidateCourseGradesData","fetchGrades","complete","_this3","find","scrollToElement","showErrorModalDefault","_this4","_ref","_this4$swipeManager$g","_this4$swipeManager","_formattedTable$rows$","table","getCourseGradesTable","formattedTable","formatGradesTable","title","getPageTitle","getRowsOnHeight","reduce","total","column","Math","floor","window","innerHeight","infiniteComplete","_this5","_this5$title","logCourseGradesView","logEvent","type","VIEW_ITEM","ws","userid","category","url","_class","ɵɵdirectiveInject","i1","ActivatedRoute","ElementRef","selectors","decls","vars","consts","template","CoreGradesCoursePage_Template","rf","ctx","CoreGradesCoursePage_Template_ion_refresher_ionRefresh_9_listener","target","CoreGradesCoursePage_core_empty_box_13_Template","CoreGradesCoursePage_div_14_Template","source","selectedItem","getSelectedItem","courseFullName","fullname","getSelectedItemPathFromRoute","params"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/grades/pages/course/course.page.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/grades/pages/course/course.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { ActivatedRoute, ActivatedRouteSnapshot } from '@angular/router';\nimport { AfterViewInit, Component, ElementRef, OnDestroy } from '@angular/core';\n\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreGrades } from '@features/grades/services/grades';\nimport {\n    CoreGradesFormattedTableColumn,\n    CoreGradesFormattedTableRow,\n    CoreGradesGradeOverviewWithCourseData,\n    CoreGradesHelper,\n} from '@features/grades/services/grades-helper';\nimport { CoreSites } from '@services/sites';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreScreen } from '@services/screen';\nimport { Translate } from '@singletons';\nimport { CoreSwipeNavigationItemsManager } from '@classes/items-management/swipe-navigation-items-manager';\nimport { CoreRoutedItemsManagerSourcesTracker } from '@classes/items-management/routed-items-manager-sources-tracker';\nimport { CoreUserParticipantsSource } from '@features/user/classes/participants-source';\nimport { CoreUserData, CoreUserParticipant } from '@features/user/services/user';\nimport { CoreGradesCoursesSource } from '@features/grades/classes/grades-courses-source';\nimport { CoreDom } from '@singletons/dom';\nimport { CoreTime } from '@singletons/time';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\n\n/**\n * Page that displays a course grades.\n */\n@Component({\n    selector: 'page-core-grades-course',\n    templateUrl: 'course.html',\n    styleUrls: ['course.scss'],\n})\nexport class CoreGradesCoursePage implements AfterViewInit, OnDestroy {\n\n    courseId!: number;\n    userId!: number;\n    gradeId?: number;\n    expandLabel!: string;\n    collapseLabel!: string;\n    title?: string;\n    swipeManager?: CoreGradesCourseSwipeManager;\n    columns: CoreGradesFormattedTableColumn[] = [];\n    rows: CoreGradesFormattedTableRow[] = [];\n    rowsOnView = 0;\n    totalColumnsSpan?: number;\n    withinSplitView?: boolean;\n    loaded = false;\n\n    protected useLegacyLayout?: boolean; // Whether to use the layout before 4.1.\n    protected logView: () => void;\n\n    constructor(\n        protected route: ActivatedRoute,\n        protected element: ElementRef<HTMLElement>,\n    ) {\n        this.logView = CoreTime.once(() => this.performLogView());\n\n        try {\n            this.courseId = CoreNavigator.getRequiredRouteNumberParam('courseId', { route });\n            this.userId = CoreNavigator.getRouteNumberParam('userId', { route }) ?? CoreSites.getCurrentSiteUserId();\n            this.gradeId = CoreNavigator.getRouteNumberParam('gradeId', { route });\n\n            this.expandLabel = Translate.instant('core.expand');\n            this.collapseLabel = Translate.instant('core.collapse');\n            this.useLegacyLayout = !CoreSites.getRequiredCurrentSite().isVersionGreaterEqualThan('4.1');\n\n            switch (route.snapshot.data.swipeManagerSource ?? route.snapshot.parent?.data.swipeManagerSource) {\n                case 'courses':\n                    this.swipeManager = new CoreGradesCourseCoursesSwipeManager(\n                        CoreRoutedItemsManagerSourcesTracker.getOrCreateSource(CoreGradesCoursesSource, []),\n                    );\n                    break;\n                case 'participants': {\n                    const search = CoreNavigator.getRouteParam('search');\n\n                    this.swipeManager = new CoreGradesCourseParticipantsSwipeManager(\n                        CoreRoutedItemsManagerSourcesTracker.getOrCreateSource(CoreUserParticipantsSource, [this.courseId, search]),\n                    );\n                }\n                    break;\n            }\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n\n            CoreNavigator.back();\n\n            return;\n        }\n    }\n\n    get showSummary(): boolean {\n        return CoreScreen.isMobile || !!this.withinSplitView;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async ngAfterViewInit(): Promise<void> {\n        this.withinSplitView = !!this.element.nativeElement.parentElement?.closest('core-split-view');\n\n        await this.swipeManager?.start();\n        await this.fetchInitialGrades();\n\n        this.loaded = true;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        this.swipeManager?.destroy();\n    }\n\n    /**\n     * Get aria label for row.\n     *\n     * @param row Row.\n     * @returns Aria label, if applicable.\n     */\n    rowAriaLabel(row: CoreGradesFormattedTableRow): string | undefined {\n        if (!row.expandable || !this.showSummary) {\n            return;\n        }\n\n        const actionLabel = row.expanded ? this.collapseLabel : this.expandLabel;\n\n        return `${actionLabel} ${row.ariaLabel}`;\n    }\n\n    /**\n     * Toggle whether a row is expanded or collapsed.\n     *\n     * @param row Row.\n     * @param expand If defined, force expand or collapse.\n     */\n    toggleRow(row: CoreGradesFormattedTableRow, expand?: boolean): void {\n        if (!this.rows || !this.columns) {\n            return;\n        }\n\n        row.expanded = expand ?? !row.expanded;\n\n        let colspan: number = this.columns.length + (row.colspan ?? 0);\n\n        if (this.useLegacyLayout) {\n            colspan--;\n        }\n\n        for (let i = this.rows.indexOf(row) - 1; i >= 0; i--) {\n            const previousRow = this.rows[i];\n\n            if (\n                !previousRow.rowspan ||\n                !previousRow.colspan ||\n                previousRow.colspan !== colspan ||\n                (!this.useLegacyLayout && previousRow.itemtype !== 'leader') ||\n                (this.useLegacyLayout && previousRow.expandable)\n            ) {\n                continue;\n            }\n\n            colspan++;\n            previousRow.rowspan += row.expanded ? 1 : -1;\n        }\n    }\n\n    /**\n     * Refresh grades.\n     *\n     * @param refresher Refresher.\n     */\n    async refreshGrades(refresher: HTMLIonRefresherElement): Promise<void> {\n        await CoreUtils.ignoreErrors(CoreGrades.invalidateCourseGradesData(this.courseId, this.userId));\n        await CoreUtils.ignoreErrors(this.fetchGrades());\n\n        refresher?.complete();\n    }\n\n    /**\n     * Obtain the initial table of grades.\n     */\n    private async fetchInitialGrades(): Promise<void> {\n        try {\n            await this.fetchGrades();\n\n            if (this.gradeId && this.rows) {\n                const row = this.rows.find((row) => row.id == this.gradeId);\n\n                if (row) {\n                    this.toggleRow(row, true);\n\n                    CoreDom.scrollToElement(\n                        this.element.nativeElement,\n                        '#grade-' + row.id,\n                    );\n                    this.gradeId = undefined;\n                }\n            }\n        } catch (error) {\n            CoreDomUtils.showErrorModalDefault(error, 'Error loading course');\n\n            this.columns = [];\n            this.rows = [];\n            this.rowsOnView = 0;\n        }\n    }\n\n    /**\n     * Update the table of grades.\n     */\n    private async fetchGrades(): Promise<void> {\n        const table = await CoreGrades.getCourseGradesTable(this.courseId, this.userId);\n        const formattedTable = await CoreGradesHelper.formatGradesTable(table);\n\n        this.title = this.swipeManager?.getPageTitle()\n            ?? formattedTable.rows[0]?.gradeitem\n            ?? Translate.instant('core.grades.grades');\n        this.columns = formattedTable.columns;\n        this.rows = formattedTable.rows;\n        this.rowsOnView = this.getRowsOnHeight();\n        this.totalColumnsSpan = formattedTable.columns.reduce((total, column) => total + column.colspan, 0);\n\n        this.logView();\n    }\n\n    /**\n     * Function to get the number of rows that can be shown on the screen.\n     *\n     * @returns The number of rows.\n     */\n    protected getRowsOnHeight(): number {\n        return Math.floor(window.innerHeight / 44);\n    }\n\n    /**\n     * Function to load more rows.\n     *\n     * @param infiniteComplete Infinite scroll complete function. Only used from core-infinite-loading.\n     */\n    loadMore(infiniteComplete?: () => void): void {\n        this.rowsOnView += this.getRowsOnHeight();\n        infiniteComplete && infiniteComplete();\n    }\n\n    /**\n     * Log view.\n     */\n    protected async performLogView(): Promise<void> {\n        await CoreUtils.ignoreErrors(CoreGrades.logCourseGradesView(this.courseId, this.userId));\n\n        CoreAnalytics.logEvent({\n            type: CoreAnalyticsEventType.VIEW_ITEM,\n            ws: 'gradereport_user_view_grade_report',\n            name: this.title ?? '',\n            data: { id: this.courseId, userid: this.userId, category: 'grades' },\n            url: `/grade/report/user/index.php?id=${this.courseId}` +\n                (this.userId !== CoreSites.getCurrentSiteUserId() ? `&userid=${this.userId}` : ''),\n        });\n    }\n\n}\n\n/**\n * Swipe manager helper methods.\n */\ninterface CoreGradesCourseSwipeManager extends CoreSwipeNavigationItemsManager {\n\n    /**\n     * Get title to use in the current page.\n     */\n    getPageTitle(): string | undefined;\n\n}\n\n/**\n * Swipe manager for courses grades.\n */\nclass CoreGradesCourseCoursesSwipeManager extends CoreSwipeNavigationItemsManager<CoreGradesGradeOverviewWithCourseData>\n    implements CoreGradesCourseSwipeManager {\n\n    constructor(source: CoreGradesCoursesSource) {\n        super(source);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getPageTitle(): string | undefined {\n        const selectedItem = this.getSelectedItem();\n\n        return selectedItem?.courseFullName;\n    }\n\n}\n\n/**\n * Swipe manager for participants grades.\n */\nclass CoreGradesCourseParticipantsSwipeManager extends CoreSwipeNavigationItemsManager<CoreUserParticipant | CoreUserData>\n    implements CoreGradesCourseSwipeManager {\n\n    constructor(source: CoreUserParticipantsSource) {\n        super(source);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    getPageTitle(): string | undefined {\n        const selectedItem = this.getSelectedItem();\n\n        return selectedItem?.fullname;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    protected getSelectedItemPathFromRoute(route: ActivatedRouteSnapshot): string | null {\n        return route.params.userId;\n    }\n\n}\n","<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button [text]=\"'core.back' | translate\" />\n        </ion-buttons>\n        <ion-title>\n            <h1>{{ title }}</h1>\n        </ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content [core-swipe-navigation]=\"swipeManager\">\n    <ion-refresher slot=\"fixed\" [disabled]=\"!columns || !rows\" (ionRefresh)=\"refreshGrades($event.target)\">\n        <ion-refresher-content pullingText=\"{{ 'core.pulltorefresh' | translate }}\" />\n    </ion-refresher>\n    <core-loading [hideUntil]=\"loaded\">\n        <core-empty-box *ngIf=\"!rows.length\" icon=\"fas-chart-bar\" [message]=\"'core.grades.nogradesreturned' | translate\" />\n        <div *ngIf=\"rows.length\" class=\"core-grades-container\">\n            <table class=\"core-grades-table\" [class.summary]=\"showSummary\">\n                <thead>\n                    <tr>\n                        <th *ngFor=\"let column of columns\" id=\"{{column.name}}\" class=\"ion-text-start\"\n                            [class.ion-hide-md-down]=\"column.hiddenPhone\" [attr.colspan]=\"column.colspan\">\n                            {{ 'core.grades.' + column.name | translate }}\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <ng-container *ngFor=\"let row of rows | slice:0:rowsOnView\">\n                        <tr *ngIf=\"row.itemtype === 'leader'\">\n                            <td [attr.rowspan]=\"row.rowspan\" class=\"core-grades-table-leader\"></td>\n                        </tr>\n                        <tr [attr.role]=\"row.expandable && showSummary ? 'button row' : 'row'\"\n                            [attr.tabindex]=\"row.expandable && showSummary && 0\" [attr.aria-expanded]=\"row.expanded\"\n                            [attr.aria-label]=\"rowAriaLabel(row)\" [attr.aria-controls]=\"row.detailsid\"\n                            (ariaButtonClick)=\"row.expandable && showSummary && toggleRow(row)\" [class]=\"row.rowclass\"\n                            [class.core-grades-grade-clickable]=\"row.expandable && showSummary\" [id]=\"'grade-'+row.id\"\n                            *ngIf=\"row.itemtype !== 'leader'\">\n                            <ng-container *ngIf=\"row.itemtype\">\n                                <td *ngIf=\"row.itemtype === 'category'\" class=\"core-grades-table-category\" [attr.rowspan]=\"row.rowspan\">\n                                </td>\n                                <th class=\"core-grades-table-gradeitem ion-text-start\" [attr.colspan]=\"row.colspan\">\n                                    <ion-icon *ngIf=\"row.expandable && showSummary\" aria-hidden=\"true\" slot=\"start\" name=\"fas-chevron-right\"\n                                        class=\"expandable-status-icon\" [class.expandable-status-icon-expanded]=\"row.expanded\" />\n                                    <ion-icon *ngIf=\"row.icon\" name=\"{{row.icon}}\" slot=\"start\" [attr.aria-label]=\"row.iconAlt\" />\n                                    <img *ngIf=\"row.image && !row.itemmodule\" [src]=\"row.image\" slot=\"start\" class=\"core-module-icon\"\n                                        [alt]=\"row.iconAlt\" />\n                                    <core-mod-icon *ngIf=\"row.image && row.itemmodule\" [modicon]=\"row.image\" slot=\"start\"\n                                        [modname]=\"row.itemmodule\" />\n                                    <span [innerHTML]=\"row.gradeitem\"></span>\n                                </th>\n                                <ng-container *ngIf=\"row.itemtype !== 'category'\">\n                                    <ng-container *ngFor=\"let column of columns\">\n                                        <td *ngIf=\"column.name !== 'gradeitem' && column.name !== 'feedback' && column.name !== 'grade' &&\n                                        row[column.name] !== undefined\" [class]=\"'ion-text-start core-grades-table-' + column.name\"\n                                            [class.ion-hide-md-down]=\"column.hiddenPhone\" [innerHTML]=\"row[column.name]\">\n                                        </td>\n                                        <td *ngIf=\"column.name === 'feedback' && row.feedback !== undefined\"\n                                            class=\"ion-text-start core-grades-table-feedback\" [class.ion-hide-md-down]=\"column.hiddenPhone\">\n                                            <core-format-text collapsible-item [text]=\"row.feedback\" contextLevel=\"course\"\n                                                [contextInstanceId]=\"courseId\" />\n                                        </td>\n                                        <td *ngIf=\"column.name === 'grade'\" [class.ion-hide-md-down]=\"column.hiddenPhone\"\n                                            class=\"ion-text-start core-grades-table-grade {{row.gradeClass}}\">\n                                            <ion-icon *ngIf=\"row.gradeIcon\" [name]=\"row.gradeIcon\" [attr.aria-label]=\"row.gradeIconAlt\" />\n                                            <span [innerHTML]=\"row[column.name]\"></span>\n                                        </td>\n                                    </ng-container>\n                                </ng-container>\n                            </ng-container>\n                        </tr>\n                        <tr *ngIf=\"row.expandable && row.expanded\" [id]=\"row.detailsid\" [class]=\"row.rowclass\">\n                            <td [attr.colspan]=\"totalColumnsSpan\">\n                                <ion-list>\n                                    <ion-item class=\"ion-text-wrap\" *ngIf=\"row.weight\">\n                                        <ion-label>\n                                            <p class=\"item-heading\">{{ 'core.grades.weight' | translate}}</p>\n                                            <p [innerHTML]=\"row.weight\"></p>\n                                        </ion-label>\n                                    </ion-item>\n\n                                    <ion-item class=\"ion-text-wrap\" *ngIf=\"row.grade\">\n                                        <ion-label>\n                                            <p class=\"item-heading\">{{ 'core.grades.grade' | translate}}</p>\n                                            <p [innerHTML]=\"row.grade\"></p>\n                                        </ion-label>\n                                    </ion-item>\n\n                                    <ion-item class=\"ion-text-wrap\" *ngIf=\"row.range\">\n                                        <ion-label>\n                                            <p class=\"item-heading\">{{ 'core.grades.range' | translate}}</p>\n                                            <p [innerHTML]=\"row.range\"></p>\n                                        </ion-label>\n                                    </ion-item>\n\n                                    <ion-item class=\"ion-text-wrap\" *ngIf=\"row.percentage\">\n                                        <ion-label>\n                                            <p class=\"item-heading\">{{ 'core.grades.percentage' | translate}}</p>\n                                            <p [innerHTML]=\"row.percentage\"></p>\n                                        </ion-label>\n                                    </ion-item>\n\n                                    <ion-item class=\"ion-text-wrap\" *ngIf=\"row.lettergrade\">\n                                        <ion-label>\n                                            <p class=\"item-heading\">{{ 'core.grades.lettergrade' | translate}}</p>\n                                            <p [innerHTML]=\"row.lettergrade\"></p>\n                                        </ion-label>\n                                    </ion-item>\n\n                                    <ion-item class=\"ion-text-wrap\" *ngIf=\"row.rank\">\n                                        <ion-label>\n                                            <p class=\"item-heading\">{{ 'core.grades.rank' | translate}}</p>\n                                            <p [innerHTML]=\"row.rank\"></p>\n                                        </ion-label>\n                                    </ion-item>\n\n                                    <ion-item class=\"ion-text-wrap\" *ngIf=\"row.average\">\n                                        <ion-label>\n                                            <p class=\"item-heading\">{{ 'core.grades.average' | translate}}</p>\n                                            <p [innerHTML]=\"row.average\"></p>\n                                        </ion-label>\n                                    </ion-item>\n\n                                    <ion-item class=\"ion-text-wrap\" *ngIf=\"row.feedback\">\n                                        <ion-label>\n                                            <p class=\"item-heading\">{{ 'core.grades.feedback' | translate}}</p>\n                                            <p>\n                                                <core-format-text collapsible-item [text]=\"row.feedback\" contextLevel=\"course\"\n                                                    [contextInstanceId]=\"courseId\" />\n                                            </p>\n                                        </ion-label>\n                                    </ion-item>\n\n                                    <ion-item class=\"ion-text-wrap\" *ngIf=\"row.contributiontocoursetotal\">\n                                        <ion-label>\n                                            <p class=\"item-heading\">{{ 'core.grades.contributiontocoursetotal' | translate}}</p>\n                                            <p [innerHTML]=\"row.contributiontocoursetotal\"></p>\n                                        </ion-label>\n                                    </ion-item>\n                                </ion-list>\n                            </td>\n                        </tr>\n                    </ng-container>\n                </tbody>\n            </table>\n            <core-infinite-loading [enabled]=\"rowsOnView < rows.length\" (action)=\"loadMore($event)\" />\n        </div>\n    </core-loading>\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}