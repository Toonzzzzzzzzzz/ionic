{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreSites } from '@services/sites';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreMainMenuDelegate } from '../../services/mainmenu-delegate';\nimport { CoreMainMenu } from '../../services/mainmenu';\nimport { CoreEvents } from '@singletons/events';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreCustomURLSchemes } from '@services/urlschemes';\nimport { CoreTextUtils } from '@services/utils/text';\nimport { Translate } from '@singletons';\nimport { CoreMainMenuDeepLinkManager } from '@features/mainmenu/classes/deep-link-manager';\nimport { CoreDom } from '@singletons/dom';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../../../../directives/fa-icon\";\nimport * as i3 from \"../../../../directives/link\";\nimport * as i4 from \"../../../../directives/content\";\nimport * as i5 from \"@ionic/angular\";\nimport * as i6 from \"../../components/user-menu-button/user-menu-button\";\nimport * as i7 from \"@ngx-translate/core\";\nfunction CoreMainMenuMorePage_ion_item_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 10)(1, \"ion-label\");\n    i0.ɵɵelement(2, \"ion-spinner\");\n    i0.ɵɵpipe(3, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(2);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(3, 1, \"core.loading\"));\n  }\n}\nfunction CoreMainMenuMorePage_ion_item_14_ion_badge_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-badge\", 16);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const handler_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"hidden\", handler_r4.loading || !handler_r4.badge);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", handler_r4.badge, \" \");\n  }\n}\nconst _c0 = function (a0) {\n  return {\n    $a: a0\n  };\n};\nfunction CoreMainMenuMorePage_ion_item_14_span_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 17);\n    i0.ɵɵtext(1);\n    i0.ɵɵpipe(2, \"translate\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const handler_r4 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(2, 1, handler_r4.badgeA11yText, i0.ɵɵpureFunction1(4, _c0, handler_r4.badge)), \" \");\n  }\n}\nfunction CoreMainMenuMorePage_ion_item_14_ion_spinner_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"ion-spinner\", 2);\n    i0.ɵɵpipe(1, \"translate\");\n  }\n  if (rf & 2) {\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 1, \"core.loading\"));\n  }\n}\nconst _c1 = function (a1) {\n  return [\"core-moremenu-handler\", a1];\n};\nfunction CoreMainMenuMorePage_ion_item_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 11);\n    i0.ɵɵlistener(\"click\", function CoreMainMenuMorePage_ion_item_14_Template_ion_item_click_0_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const handler_r4 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.openHandler(handler_r4));\n    });\n    i0.ɵɵpipe(1, \"translate\");\n    i0.ɵɵelement(2, \"ion-icon\", 12);\n    i0.ɵɵelementStart(3, \"ion-label\")(4, \"p\", 9);\n    i0.ɵɵtext(5);\n    i0.ɵɵpipe(6, \"translate\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, CoreMainMenuMorePage_ion_item_14_ion_badge_7_Template, 2, 2, \"ion-badge\", 13);\n    i0.ɵɵtemplate(8, CoreMainMenuMorePage_ion_item_14_span_8_Template, 3, 6, \"span\", 14);\n    i0.ɵɵtemplate(9, CoreMainMenuMorePage_ion_item_14_ion_spinner_9_Template, 2, 3, \"ion-spinner\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const handler_r4 = ctx.$implicit;\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(12, _c1, handler_r4.class || \"\"))(\"detail\", true);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(1, 8, handler_r4.title));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"name\", handler_r4.icon);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(6, 10, handler_r4.title));\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", handler_r4.showBadge);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", handler_r4.showBadge && handler_r4.badge && handler_r4.badgeA11yText);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", handler_r4.showBadge && handler_r4.loading);\n  }\n}\nfunction CoreMainMenuMorePage_ng_container_15_ion_item_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-item\", 20);\n    i0.ɵɵelement(1, \"ion-icon\", 12);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"p\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r12 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"href\", item_r12.url)(\"capture\", item_r12.type === \"app\")(\"inApp\", item_r12.type === \"inappbrowser\")(\"detail\", true)(\"detailIcon\", item_r12.type === \"browser\" ? \"open-outline\" : \"chevron-forward\");\n    i0.ɵɵattribute(\"aria-label\", item_r12.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", item_r12.icon);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r12.label);\n  }\n}\nfunction CoreMainMenuMorePage_ng_container_15_ion_item_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r18 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 21);\n    i0.ɵɵlistener(\"click\", function CoreMainMenuMorePage_ng_container_15_ion_item_2_Template_ion_item_click_0_listener() {\n      i0.ɵɵrestoreView(_r18);\n      const item_r12 = i0.ɵɵnextContext().$implicit;\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.openItem(item_r12));\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 12);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"p\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const item_r12 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵproperty(\"detail\", true);\n    i0.ɵɵattribute(\"aria-label\", item_r12.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"name\", item_r12.icon);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r12.label);\n  }\n}\nfunction CoreMainMenuMorePage_ng_container_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵtemplate(1, CoreMainMenuMorePage_ng_container_15_ion_item_1_Template, 5, 8, \"ion-item\", 18);\n    i0.ɵɵtemplate(2, CoreMainMenuMorePage_ng_container_15_ion_item_2_Template, 5, 4, \"ion-item\", 19);\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const item_r12 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r12.type !== \"embedded\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", item_r12.type === \"embedded\");\n  }\n}\nfunction CoreMainMenuMorePage_ion_item_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r21 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-item\", 7);\n    i0.ɵɵlistener(\"click\", function CoreMainMenuMorePage_ion_item_16_Template_ion_item_click_0_listener() {\n      i0.ɵɵrestoreView(_r21);\n      const ctx_r20 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r20.scanQR());\n    });\n    i0.ɵɵelement(1, \"ion-icon\", 22);\n    i0.ɵɵelementStart(2, \"ion-label\")(3, \"p\", 9);\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    i0.ɵɵproperty(\"detail\", true);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(5, 2, \"core.scanqr\"));\n  }\n}\n/**\n * Page that displays the more page of the app.\n */\nexport class CoreMainMenuMorePage {\n  constructor() {\n    var _this = this,\n      _CoreSites$getCurrent;\n    this.handlersLoaded = false;\n    this.langObserver = CoreEvents.on(CoreEvents.LANGUAGE_CHANGED, () => this.loadCustomMenuItems());\n    this.updateSiteObserver = CoreEvents.on(CoreEvents.SITE_UPDATED, /*#__PURE__*/_asyncToGenerator(function* () {\n      _this.customItems = yield CoreMainMenu.getCustomMenuItems();\n    }), CoreSites.getCurrentSiteId());\n    this.loadCustomMenuItems();\n    this.showScanQR = CoreUtils.canScanQR() && !((_CoreSites$getCurrent = CoreSites.getCurrentSite()) !== null && _CoreSites$getCurrent !== void 0 && _CoreSites$getCurrent.isFeatureDisabled('CoreMainMenuDelegate_QrReader'));\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    // Load the handlers.\n    this.subscription = CoreMainMenuDelegate.getHandlersObservable().subscribe(handlers => {\n      this.allHandlers = handlers;\n      this.initHandlers();\n    });\n    this.resizeListener = CoreDom.onWindowResize(() => {\n      this.initHandlers();\n    });\n    const deepLinkManager = new CoreMainMenuDeepLinkManager();\n    deepLinkManager.treatLink();\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnDestroy() {\n    var _this$langObserver, _this$updateSiteObser, _this$subscription, _this$resizeListener;\n    (_this$langObserver = this.langObserver) === null || _this$langObserver === void 0 || _this$langObserver.off();\n    (_this$updateSiteObser = this.updateSiteObserver) === null || _this$updateSiteObser === void 0 || _this$updateSiteObser.off();\n    (_this$subscription = this.subscription) === null || _this$subscription === void 0 || _this$subscription.unsubscribe();\n    (_this$resizeListener = this.resizeListener) === null || _this$resizeListener === void 0 || _this$resizeListener.off();\n  }\n  /**\n   * Init handlers on change (size or handlers).\n   */\n  initHandlers() {\n    if (!this.allHandlers) {\n      return;\n    }\n    // Calculate the main handlers not to display them in this view.\n    const mainHandlers = this.allHandlers.filter(handler => !handler.onlyInMore).slice(0, CoreMainMenu.getNumItems());\n    // Get only the handlers that don't appear in the main view.\n    this.handlers = this.allHandlers.filter(handler => mainHandlers.indexOf(handler) == -1);\n    this.handlersLoaded = CoreMainMenuDelegate.areHandlersLoaded();\n  }\n  /**\n   * Load custom menu items.\n   */\n  loadCustomMenuItems() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.customItems = yield CoreMainMenu.getCustomMenuItems();\n    })();\n  }\n  /**\n   * Open a handler.\n   *\n   * @param handler Handler to open.\n   */\n  openHandler(handler) {\n    const params = handler.pageParams;\n    CoreNavigator.navigateToSitePath(handler.page, {\n      params\n    });\n  }\n  /**\n   * Open an embedded custom item.\n   *\n   * @param item Item to open.\n   */\n  openItem(item) {\n    CoreNavigator.navigateToSitePath('viewer/iframe', {\n      params: {\n        title: item.label,\n        url: item.url\n      }\n    });\n  }\n  /**\n   * Open settings.\n   */\n  openSettings() {\n    CoreNavigator.navigateToSitePath('settings');\n  }\n  /**\n   * Scan and treat a QR code.\n   */\n  scanQR() {\n    return _asyncToGenerator(function* () {\n      // Scan for a QR code.\n      const text = yield CoreUtils.scanQR();\n      if (!text) {\n        return;\n      }\n      if (CoreCustomURLSchemes.isCustomURL(text)) {\n        // Is a custom URL scheme, handle it.\n        CoreCustomURLSchemes.handleCustomURL(text).catch(error => {\n          CoreCustomURLSchemes.treatHandleCustomURLError(error);\n        });\n      } else if (/^[^:]{2,}:\\/\\/[^ ]+$/i.test(text)) {\n        // Check if it's a URL.\n        yield CoreSites.visitLink(text, {\n          checkRoot: true,\n          openBrowserRoot: true\n        });\n      } else {\n        // It's not a URL, open it in a modal so the user can see it and copy it.\n        CoreTextUtils.viewText(Translate.instant('core.qrscanner'), text, {\n          displayCopyButton: true\n        });\n      }\n    })();\n  }\n}\n_class = CoreMainMenuMorePage;\n_class.ɵfac = function CoreMainMenuMorePage_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"page-core-mainmenu-more\"]],\n  decls: 25,\n  vars: 17,\n  consts: [[\"slot\", \"start\"], [3, \"text\"], [\"slot\", \"end\"], [\"class\", \"ion-text-center\", 4, \"ngIf\"], [\"button\", \"\", 3, \"ngClass\", \"detail\", \"click\", 4, \"ngFor\", \"ngForOf\"], [4, \"ngFor\", \"ngForOf\"], [\"button\", \"\", 3, \"detail\", \"click\", 4, \"ngIf\"], [\"button\", \"\", 3, \"detail\", \"click\"], [\"name\", \"fas-gears\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [1, \"item-heading\"], [1, \"ion-text-center\"], [\"button\", \"\", 3, \"ngClass\", \"detail\", \"click\"], [\"slot\", \"start\", \"aria-hidden\", \"true\", 3, \"name\"], [\"slot\", \"end\", \"aria-hidden\", \"true\", 3, \"hidden\", 4, \"ngIf\"], [\"class\", \"sr-only\", 4, \"ngIf\"], [\"slot\", \"end\", 4, \"ngIf\"], [\"slot\", \"end\", \"aria-hidden\", \"true\", 3, \"hidden\"], [1, \"sr-only\"], [\"button\", \"\", \"core-link\", \"\", \"class\", \"core-moremenu-customitem\", 3, \"href\", \"capture\", \"inApp\", \"detail\", \"detailIcon\", 4, \"ngIf\"], [\"button\", \"\", \"class\", \"core-moremenu-customitem\", 3, \"detail\", \"click\", 4, \"ngIf\"], [\"button\", \"\", \"core-link\", \"\", 1, \"core-moremenu-customitem\", 3, \"href\", \"capture\", \"inApp\", \"detail\", \"detailIcon\"], [\"button\", \"\", 1, \"core-moremenu-customitem\", 3, \"detail\", \"click\"], [\"name\", \"fas-qrcode\", \"slot\", \"start\", \"aria-hidden\", \"true\"]],\n  template: function CoreMainMenuMorePage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n      i0.ɵɵelement(3, \"ion-back-button\", 1);\n      i0.ɵɵpipe(4, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ion-title\")(6, \"h1\");\n      i0.ɵɵtext(7);\n      i0.ɵɵpipe(8, \"translate\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(9, \"ion-buttons\", 2);\n      i0.ɵɵelement(10, \"core-user-menu-button\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(11, \"ion-content\")(12, \"ion-list\");\n      i0.ɵɵtemplate(13, CoreMainMenuMorePage_ion_item_13_Template, 4, 3, \"ion-item\", 3);\n      i0.ɵɵtemplate(14, CoreMainMenuMorePage_ion_item_14_Template, 10, 14, \"ion-item\", 4);\n      i0.ɵɵtemplate(15, CoreMainMenuMorePage_ng_container_15_Template, 3, 2, \"ng-container\", 5);\n      i0.ɵɵtemplate(16, CoreMainMenuMorePage_ion_item_16_Template, 6, 4, \"ion-item\", 6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(17, \"ion-footer\")(18, \"ion-item\", 7);\n      i0.ɵɵlistener(\"click\", function CoreMainMenuMorePage_Template_ion_item_click_18_listener() {\n        return ctx.openSettings();\n      });\n      i0.ɵɵpipe(19, \"translate\");\n      i0.ɵɵelement(20, \"ion-icon\", 8);\n      i0.ɵɵelementStart(21, \"ion-label\")(22, \"p\", 9);\n      i0.ɵɵtext(23);\n      i0.ɵɵpipe(24, \"translate\");\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"text\", i0.ɵɵpipeBind1(4, 9, \"core.back\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(8, 11, \"core.more\"));\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", (!ctx.handlers || !ctx.handlers.length) && !ctx.handlersLoaded);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.handlers);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.customItems);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showScanQR);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"detail\", true);\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(19, 13, \"core.settings.appsettings\"));\n      i0.ɵɵadvance(5);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(24, 15, \"core.settings.appsettings\"));\n    }\n  },\n  dependencies: [i1.NgClass, i1.NgForOf, i1.NgIf, i2.CoreFaIconDirective, i3.CoreLinkDirective, i4.CoreContentDirective, i5.IonBadge, i5.IonButtons, i5.IonContent, i5.IonFooter, i5.IonHeader, i5.IonIcon, i5.IonItem, i5.IonLabel, i5.IonList, i5.IonSpinner, i5.IonTitle, i5.IonToolbar, i5.IonBackButton, i6.CoreMainMenuUserButtonComponent, i7.TranslatePipe],\n  styles: [\"ion-item[_ngcontent-%COMP%] {\\n  --border-color: var(--core-more-item-border, var(--ion-border-color));\\n}\\nion-item[_ngcontent-%COMP%]    > ion-icon[slot][_ngcontent-%COMP%] {\\n  color: var(--core-more-icon) !important;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9jb3JlL2ZlYXR1cmVzL21haW5tZW51L3BhZ2VzL21vcmUvbW9yZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0MscUVBQUE7QUFDRDtBQUNJO0VBQ0ksdUNBQUE7QUFDUiIsInNvdXJjZXNDb250ZW50IjpbImlvbi1pdGVtIHtcblx0LS1ib3JkZXItY29sb3I6IHZhcigtLWNvcmUtbW9yZS1pdGVtLWJvcmRlciwgdmFyKC0taW9uLWJvcmRlci1jb2xvcikpO1xuXG4gICAgPiBpb24taWNvbltzbG90XSB7XG4gICAgICAgIGNvbG9yOiB2YXIoLS1jb3JlLW1vcmUtaWNvbikgIWltcG9ydGFudDtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["CoreSites","CoreUtils","CoreMainMenuDelegate","CoreMainMenu","CoreEvents","CoreNavigator","CoreCustomURLSchemes","CoreTextUtils","Translate","CoreMainMenuDeepLinkManager","CoreDom","i0","ɵɵelementStart","ɵɵelement","ɵɵelementEnd","ɵɵadvance","ɵɵattribute","ɵɵpipeBind1","ɵɵtext","ɵɵproperty","handler_r4","loading","badge","ɵɵtextInterpolate1","ɵɵpipeBind2","badgeA11yText","ɵɵpureFunction1","_c0","ɵɵlistener","CoreMainMenuMorePage_ion_item_14_Template_ion_item_click_0_listener","restoredCtx","ɵɵrestoreView","_r11","$implicit","ctx_r10","ɵɵnextContext","ɵɵresetView","openHandler","ɵɵtemplate","CoreMainMenuMorePage_ion_item_14_ion_badge_7_Template","CoreMainMenuMorePage_ion_item_14_span_8_Template","CoreMainMenuMorePage_ion_item_14_ion_spinner_9_Template","_c1","class","title","icon","ɵɵtextInterpolate","showBadge","item_r12","url","type","label","CoreMainMenuMorePage_ng_container_15_ion_item_2_Template_ion_item_click_0_listener","_r18","ctx_r16","openItem","ɵɵelementContainerStart","CoreMainMenuMorePage_ng_container_15_ion_item_1_Template","CoreMainMenuMorePage_ng_container_15_ion_item_2_Template","ɵɵelementContainerEnd","CoreMainMenuMorePage_ion_item_16_Template_ion_item_click_0_listener","_r21","ctx_r20","scanQR","CoreMainMenuMorePage","constructor","_this","_CoreSites$getCurrent","handlersLoaded","langObserver","on","LANGUAGE_CHANGED","loadCustomMenuItems","updateSiteObserver","SITE_UPDATED","_asyncToGenerator","customItems","getCustomMenuItems","getCurrentSiteId","showScanQR","canScanQR","getCurrentSite","isFeatureDisabled","ngOnInit","subscription","getHandlersObservable","subscribe","handlers","allHandlers","initHandlers","resizeListener","onWindowResize","deepLinkManager","treatLink","ngOnDestroy","_this$langObserver","_this$updateSiteObser","_this$subscription","_this$resizeListener","off","unsubscribe","mainHandlers","filter","handler","onlyInMore","slice","getNumItems","indexOf","areHandlersLoaded","_this2","params","pageParams","navigateToSitePath","page","item","openSettings","text","isCustomURL","handleCustomURL","catch","error","treatHandleCustomURLError","test","visitLink","checkRoot","openBrowserRoot","viewText","instant","displayCopyButton","selectors","decls","vars","consts","template","CoreMainMenuMorePage_Template","rf","ctx","CoreMainMenuMorePage_ion_item_13_Template","CoreMainMenuMorePage_ion_item_14_Template","CoreMainMenuMorePage_ng_container_15_Template","CoreMainMenuMorePage_ion_item_16_Template","CoreMainMenuMorePage_Template_ion_item_click_18_listener","length"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/mainmenu/pages/more/more.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/mainmenu/pages/more/more.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnInit, OnDestroy } from '@angular/core';\nimport { Subscription } from 'rxjs';\n\nimport { CoreSites } from '@services/sites';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreMainMenuDelegate, CoreMainMenuHandlerData } from '../../services/mainmenu-delegate';\nimport { CoreMainMenu, CoreMainMenuCustomItem } from '../../services/mainmenu';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreCustomURLSchemes } from '@services/urlschemes';\nimport { CoreTextUtils } from '@services/utils/text';\nimport { Translate } from '@singletons';\nimport { CoreMainMenuDeepLinkManager } from '@features/mainmenu/classes/deep-link-manager';\nimport { CoreDom } from '@singletons/dom';\n\n/**\n * Page that displays the more page of the app.\n */\n@Component({\n    selector: 'page-core-mainmenu-more',\n    templateUrl: 'more.html',\n    styleUrls: ['more.scss'],\n})\nexport class CoreMainMenuMorePage implements OnInit, OnDestroy {\n\n    handlers?: CoreMainMenuHandlerData[];\n    handlersLoaded = false;\n    showScanQR: boolean;\n    customItems?: CoreMainMenuCustomItem[];\n\n    protected allHandlers?: CoreMainMenuHandlerData[];\n    protected subscription!: Subscription;\n    protected langObserver: CoreEventObserver;\n    protected updateSiteObserver: CoreEventObserver;\n    protected resizeListener?: CoreEventObserver;\n\n    constructor() {\n        this.langObserver = CoreEvents.on(CoreEvents.LANGUAGE_CHANGED, () => this.loadCustomMenuItems());\n\n        this.updateSiteObserver = CoreEvents.on(CoreEvents.SITE_UPDATED, async () => {\n            this.customItems = await CoreMainMenu.getCustomMenuItems();\n        }, CoreSites.getCurrentSiteId());\n\n        this.loadCustomMenuItems();\n\n        this.showScanQR = CoreUtils.canScanQR() &&\n                !CoreSites.getCurrentSite()?.isFeatureDisabled('CoreMainMenuDelegate_QrReader');\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnInit(): void {\n        // Load the handlers.\n        this.subscription = CoreMainMenuDelegate.getHandlersObservable().subscribe((handlers) => {\n            this.allHandlers = handlers;\n\n            this.initHandlers();\n        });\n\n        this.resizeListener = CoreDom.onWindowResize(() => {\n            this.initHandlers();\n        });\n\n        const deepLinkManager = new CoreMainMenuDeepLinkManager();\n        deepLinkManager.treatLink();\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        this.langObserver?.off();\n        this.updateSiteObserver?.off();\n        this.subscription?.unsubscribe();\n        this.resizeListener?.off();\n    }\n\n    /**\n     * Init handlers on change (size or handlers).\n     */\n    initHandlers(): void {\n        if (!this.allHandlers) {\n            return;\n        }\n\n        // Calculate the main handlers not to display them in this view.\n        const mainHandlers = this.allHandlers\n            .filter((handler) => !handler.onlyInMore)\n            .slice(0, CoreMainMenu.getNumItems());\n\n        // Get only the handlers that don't appear in the main view.\n        this.handlers = this.allHandlers.filter((handler) => mainHandlers.indexOf(handler) == -1);\n\n        this.handlersLoaded = CoreMainMenuDelegate.areHandlersLoaded();\n    }\n\n    /**\n     * Load custom menu items.\n     */\n    protected async loadCustomMenuItems(): Promise<void> {\n        this.customItems = await CoreMainMenu.getCustomMenuItems();\n    }\n\n    /**\n     * Open a handler.\n     *\n     * @param handler Handler to open.\n     */\n    openHandler(handler: CoreMainMenuHandlerData): void {\n        const params = handler.pageParams;\n\n        CoreNavigator.navigateToSitePath(handler.page, { params });\n    }\n\n    /**\n     * Open an embedded custom item.\n     *\n     * @param item Item to open.\n     */\n    openItem(item: CoreMainMenuCustomItem): void {\n        CoreNavigator.navigateToSitePath('viewer/iframe', { params: { title: item.label, url: item.url } });\n    }\n\n    /**\n     * Open settings.\n     */\n    openSettings(): void {\n        CoreNavigator.navigateToSitePath('settings');\n    }\n\n    /**\n     * Scan and treat a QR code.\n     */\n    async scanQR(): Promise<void> {\n        // Scan for a QR code.\n        const text = await CoreUtils.scanQR();\n\n        if (!text) {\n            return;\n        }\n\n        if (CoreCustomURLSchemes.isCustomURL(text)) {\n            // Is a custom URL scheme, handle it.\n            CoreCustomURLSchemes.handleCustomURL(text).catch((error) => {\n                CoreCustomURLSchemes.treatHandleCustomURLError(error);\n            });\n        } else if (/^[^:]{2,}:\\/\\/[^ ]+$/i.test(text)) { // Check if it's a URL.\n            await CoreSites.visitLink(text, {\n                checkRoot: true,\n                openBrowserRoot: true,\n            });\n        } else {\n            // It's not a URL, open it in a modal so the user can see it and copy it.\n            CoreTextUtils.viewText(Translate.instant('core.qrscanner'), text, {\n                displayCopyButton: true,\n            });\n        }\n    }\n\n}\n","<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button [text]=\"'core.back' | translate\" />\n        </ion-buttons>\n\n        <ion-title>\n            <h1>{{ 'core.more' | translate }}</h1>\n        </ion-title>\n\n        <ion-buttons slot=\"end\">\n            <core-user-menu-button />\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content>\n    <ion-list>\n        <ion-item class=\"ion-text-center\" *ngIf=\"(!handlers || !handlers.length) && !handlersLoaded\">\n            <ion-label>\n                <ion-spinner [attr.aria-label]=\"'core.loading' | translate\" />\n            </ion-label>\n        </ion-item>\n        <ion-item button *ngFor=\"let handler of handlers\" [ngClass]=\"['core-moremenu-handler', handler.class || '']\"\n            (click)=\"openHandler(handler)\" [attr.aria-label]=\"handler.title | translate\" [detail]=\"true\">\n            <ion-icon [name]=\"handler.icon\" slot=\"start\" aria-hidden=\"true\" />\n            <ion-label>\n                <p class=\"item-heading\">{{ handler.title | translate}}</p>\n            </ion-label>\n            <ion-badge slot=\"end\" *ngIf=\"handler.showBadge\" [hidden]=\"handler.loading || !handler.badge\" aria-hidden=\"true\">\n                {{handler.badge}}\n            </ion-badge>\n            <span *ngIf=\"handler.showBadge && handler.badge && handler.badgeA11yText\" class=\"sr-only\">\n                {{ handler.badgeA11yText | translate: {$a : handler.badge } }}\n            </span>\n            <ion-spinner slot=\"end\" *ngIf=\"handler.showBadge && handler.loading\" [attr.aria-label]=\"'core.loading' | translate\" />\n        </ion-item>\n        <ng-container *ngFor=\"let item of customItems\">\n            <ion-item button *ngIf=\"item.type !== 'embedded'\" [href]=\"item.url\" [attr.aria-label]=\"item.label\" core-link\n                [capture]=\"item.type === 'app'\" [inApp]=\"item.type === 'inappbrowser'\" class=\"core-moremenu-customitem\" [detail]=\"true\"\n                [detailIcon]=\"item.type === 'browser' ? 'open-outline' : 'chevron-forward'\">\n                <ion-icon [name]=\"item.icon\" slot=\"start\" aria-hidden=\"true\" />\n                <ion-label>\n                    <p class=\"item-heading\">{{item.label}}</p>\n                </ion-label>\n            </ion-item>\n            <ion-item button *ngIf=\"item.type === 'embedded'\" (click)=\"openItem(item)\" [attr.aria-label]=\"item.label\"\n                class=\"core-moremenu-customitem\" [detail]=\"true\">\n                <ion-icon [name]=\"item.icon\" slot=\"start\" aria-hidden=\"true\" />\n                <ion-label>\n                    <p class=\"item-heading\">{{item.label}}</p>\n                </ion-label>\n            </ion-item>\n        </ng-container>\n        <ion-item button *ngIf=\"showScanQR\" (click)=\"scanQR()\" [detail]=\"true\">\n            <ion-icon name=\"fas-qrcode\" slot=\"start\" aria-hidden=\"true\" />\n            <ion-label>\n                <p class=\"item-heading\">{{ 'core.scanqr' | translate }}</p>\n            </ion-label>\n        </ion-item>\n    </ion-list>\n</ion-content>\n<ion-footer>\n    <ion-item button (click)=\"openSettings()\" [attr.aria-label]=\"'core.settings.appsettings' | translate\" [detail]=\"true\">\n        <ion-icon name=\"fas-gears\" slot=\"start\" aria-hidden=\"true\" />\n        <ion-label>\n            <p class=\"item-heading\">{{ 'core.settings.appsettings' | translate }}</p>\n        </ion-label>\n    </ion-item>\n</ion-footer>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}