{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { CoreCommentsCommentsComponent } from '@features/comments/components/comments/comments';\nimport { CoreComments } from '@features/comments/services/comments';\nimport { CoreCourse } from '@features/course/services/course';\nimport { IonContent } from '@ionic/angular';\nimport { CoreGroups } from '@services/groups';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreEvents } from '@singletons/events';\nimport { AddonModDataComponentsCompileModule } from '../../components/components-compile.module';\nimport { AddonModDataProvider, AddonModData, AddonModDataTemplateType, AddonModDataTemplateMode } from '../../services/data';\nimport { AddonModDataHelper } from '../../services/data-helper';\nimport { AddonModDataSyncProvider } from '../../services/data-sync';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\nimport { CoreTime } from '@singletons/time';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"../../../../../core/components/group-selector/group-selector\";\nimport * as i3 from \"../../../../../core/components/loading/loading\";\nimport * as i4 from \"../../../../../core/components/style/style\";\nimport * as i5 from \"../../../../../core/directives/fa-icon\";\nimport * as i6 from \"../../../../../core/directives/format-text\";\nimport * as i7 from \"../../../../../core/directives/collapsible-footer\";\nimport * as i8 from \"../../../../../core/directives/content\";\nimport * as i9 from \"../../../../../core/directives/update-non-reactive-attributes\";\nimport * as i10 from \"@ionic/angular\";\nimport * as i11 from \"../../../../../core/features/comments/components/comments/comments\";\nimport * as i12 from \"../../../../../core/features/rating/components/aggregate/aggregate\";\nimport * as i13 from \"../../../../../core/features/rating/components/rate/rate\";\nimport * as i14 from \"../../../../../core/features/compile/components/compile-html/compile-html\";\nimport * as i15 from \"@ngx-translate/core\";\nconst _c0 = function (a0) {\n  return {\n    $a: a0\n  };\n};\nfunction AddonModDataEntryPage_ion_card_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\", 14)(1, \"ion-item\");\n    i0.ɵɵelement(2, \"ion-icon\", 15);\n    i0.ɵɵelementStart(3, \"ion-label\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"translate\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 1, \"core.hasdatatosync\", i0.ɵɵpureFunction1(4, _c0, ctx_r0.moduleName)));\n  }\n}\nfunction AddonModDataEntryPage_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵelement(1, \"core-style\", 16);\n    i0.ɵɵelementStart(2, \"core-compile-html\", 17);\n    i0.ɵɵlistener(\"compiling\", function AddonModDataEntryPage_div_15_Template_core_compile_html_compiling_2_listener($event) {\n      i0.ɵɵrestoreView(_r7);\n      const ctx_r6 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r6.setRenderingEntry($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵclassMapInterpolate1(\"addon-data-contents addon-data-entry addon-data-entries-\", ctx_r1.database.id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate1(\"prefix\", \".addon-data-entries-\", ctx_r1.database.id, \"\");\n    i0.ɵɵproperty(\"css\", ctx_r1.database.csstemplate);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"text\", ctx_r1.entryHtml)(\"jsData\", ctx_r1.jsData)(\"extraImports\", ctx_r1.extraImports);\n  }\n}\nfunction AddonModDataEntryPage_core_rating_rate_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"core-rating-rate\", 18);\n    i0.ɵɵlistener(\"onLoading\", function AddonModDataEntryPage_core_rating_rate_16_Template_core_rating_rate_onLoading_0_listener($event) {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r8.setLoadingRating($event));\n    })(\"onUpdate\", function AddonModDataEntryPage_core_rating_rate_16_Template_core_rating_rate_onUpdate_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.ratingUpdated());\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ratingInfo\", ctx_r2.ratingInfo)(\"instanceId\", ctx_r2.database.coursemodule)(\"itemId\", ctx_r2.entry.id)(\"itemSetId\", 0)(\"courseId\", ctx_r2.courseId)(\"aggregateMethod\", ctx_r2.database.assessed)(\"scaleId\", ctx_r2.database.scale)(\"userId\", ctx_r2.entry.userid);\n  }\n}\nfunction AddonModDataEntryPage_core_rating_aggregate_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-rating-aggregate\", 19);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ratingInfo\", ctx_r3.ratingInfo)(\"instanceId\", ctx_r3.database.coursemodule)(\"itemId\", ctx_r3.entry.id)(\"courseId\", ctx_r3.courseId)(\"aggregateMethod\", ctx_r3.database.assessed)(\"scaleId\", ctx_r3.database.scale);\n  }\n}\nfunction AddonModDataEntryPage_core_comments_18_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"core-comments\", 20);\n    i0.ɵɵlistener(\"onLoading\", function AddonModDataEntryPage_core_comments_18_Template_core_comments_onLoading_0_listener($event) {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r11 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r11.setLoadingComments($event));\n    });\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"instanceId\", ctx_r4.database.coursemodule)(\"itemId\", ctx_r4.entry.id)(\"courseId\", ctx_r4.courseId)(\"showItem\", true);\n  }\n}\nfunction AddonModDataEntryPage_div_19_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 21)(1, \"ion-row\", 22)(2, \"ion-col\", 23)(3, \"ion-button\", 24);\n    i0.ɵɵlistener(\"click\", function AddonModDataEntryPage_div_19_Template_ion_button_click_3_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r13.gotoEntry(ctx_r13.offset - 1));\n    });\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelement(5, \"ion-icon\", 25);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(6, \"ion-col\", 26);\n    i0.ɵɵelementStart(7, \"ion-col\", 27)(8, \"ion-button\", 24);\n    i0.ɵɵlistener(\"click\", function AddonModDataEntryPage_div_19_Template_ion_button_click_8_listener() {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r15 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r15.gotoEntry(ctx_r15.offset + 1));\n    });\n    i0.ɵɵpipe(9, \"translate\");\n    i0.ɵɵelement(10, \"ion-icon\", 28);\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"disabled\", !ctx_r5.hasPrevious);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(4, 4, \"core.previous\"));\n    i0.ɵɵadvance(5);\n    i0.ɵɵproperty(\"disabled\", !ctx_r5.hasNext);\n    i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(9, 6, \"core.next\"));\n  }\n}\n/**\n * Page that displays the view entry page.\n */\nexport class AddonModDataEntryPage {\n  constructor(cdr) {\n    this.cdr = cdr;\n    this.fields = {};\n    this.fieldsArray = [];\n    this.sortBy = 0;\n    this.sortDirection = 'DESC';\n    this.moduleId = 0;\n    this.title = '';\n    this.moduleName = 'data';\n    this.component = AddonModDataProvider.COMPONENT;\n    this.entryLoaded = false;\n    this.renderingEntry = false;\n    this.loadingComments = false;\n    this.loadingRating = false;\n    this.selectedGroup = 0;\n    this.hasPrevious = false;\n    this.hasNext = false;\n    this.showComments = false;\n    this.entryHtml = '';\n    this.extraImports = [AddonModDataComponentsCompileModule];\n    this.isPullingToRefresh = false; // Whether the last fetching of data was started by a pull-to-refresh action\n    this.commentsEnabled = false;\n    this.moduleName = CoreCourse.translateModuleName('data');\n    this.siteId = CoreSites.getCurrentSiteId();\n    // Refresh data if this discussion is synchronized automatically.\n    this.syncObserver = CoreEvents.on(AddonModDataSyncProvider.AUTO_SYNCED, data => {\n      var _this$database;\n      if (data.entryId === undefined) {\n        return;\n      }\n      if ((data.entryId == this.entryId || data.offlineEntryId == this.entryId) && ((_this$database = this.database) === null || _this$database === void 0 ? void 0 : _this$database.id) == data.dataId) {\n        if (data.deleted) {\n          // If deleted, go back.\n          CoreNavigator.back();\n        } else {\n          this.entryId = data.entryId;\n          this.entryLoaded = false;\n          this.fetchEntryData(true);\n        }\n      }\n    }, this.siteId);\n    // Refresh entry on change.\n    this.entryChangedObserver = CoreEvents.on(AddonModDataProvider.ENTRY_CHANGED, data => {\n      var _this$database2;\n      if (data.entryId == this.entryId && ((_this$database2 = this.database) === null || _this$database2 === void 0 ? void 0 : _this$database2.id) == data.dataId) {\n        if (data.deleted) {\n          // If deleted, go back.\n          CoreNavigator.back();\n        } else {\n          this.entryLoaded = false;\n          this.fetchEntryData(true);\n        }\n      }\n    }, this.siteId);\n    this.logView = CoreTime.once(() => this.performLogView());\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnInit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        var _CoreNavigator$getRou;\n        _this.moduleId = CoreNavigator.getRequiredRouteNumberParam('cmId');\n        _this.courseId = CoreNavigator.getRequiredRouteNumberParam('courseId');\n        _this.entryId = CoreNavigator.getRouteNumberParam('entryId') || undefined;\n        _this.title = CoreNavigator.getRouteParam('title') || '';\n        _this.selectedGroup = CoreNavigator.getRouteNumberParam('group') || 0;\n        _this.offset = CoreNavigator.getRouteNumberParam('offset');\n        _this.sortDirection = (_CoreNavigator$getRou = CoreNavigator.getRouteParam('sortDirection')) !== null && _CoreNavigator$getRou !== void 0 ? _CoreNavigator$getRou : _this.sortDirection;\n        const sortBy = Number(CoreNavigator.getRouteParam('sortBy'));\n        _this.sortBy = isNaN(sortBy) ? _this.sortBy : sortBy;\n      } catch (error) {\n        CoreDomUtils.showErrorModal(error);\n        CoreNavigator.back();\n        return;\n      }\n      _this.commentsEnabled = !CoreComments.areCommentsDisabledInSite();\n      yield _this.fetchEntryData();\n    })();\n  }\n  /**\n   * Fetch the entry data.\n   *\n   * @param refresh Whether to refresh the current data or not.\n   * @param isPtr Whether is a pull to refresh action.\n   * @returns Resolved when done.\n   */\n  fetchEntryData(refresh = false, isPtr = false) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.isPullingToRefresh = isPtr;\n      try {\n        _this2.database = yield AddonModData.getDatabase(_this2.courseId, _this2.moduleId);\n        _this2.title = _this2.database.name || _this2.title;\n        _this2.fieldsArray = yield AddonModData.getFields(_this2.database.id, {\n          cmId: _this2.moduleId\n        });\n        _this2.fields = CoreUtils.arrayToObject(_this2.fieldsArray, 'id');\n        yield _this2.setEntryFromOffset();\n        _this2.access = yield AddonModData.getDatabaseAccessInformation(_this2.database.id, {\n          cmId: _this2.moduleId\n        });\n        _this2.groupInfo = yield CoreGroups.getActivityGroupInfo(_this2.database.coursemodule);\n        if (_this2.groupInfo.visibleGroups && _this2.groupInfo.groups.length) {\n          // There is a bug in Moodle with All participants and visible groups (MOBILE-3597). Remove it.\n          _this2.groupInfo.groups = _this2.groupInfo.groups.filter(group => group.id !== 0);\n          _this2.groupInfo.defaultGroupId = _this2.groupInfo.groups[0].id;\n        }\n        _this2.selectedGroup = CoreGroups.validateGroupId(_this2.selectedGroup, _this2.groupInfo);\n        const actions = AddonModDataHelper.getActions(_this2.database, _this2.access, _this2.entry, AddonModDataTemplateMode.SHOW);\n        const template = AddonModDataHelper.getTemplate(_this2.database, AddonModDataTemplateType.SINGLE, _this2.fieldsArray);\n        _this2.entryHtml = AddonModDataHelper.displayShowFields(template, _this2.fieldsArray, _this2.entry, AddonModDataTemplateMode.SHOW, actions, {\n          offset: _this2.offset,\n          sortBy: _this2.sortBy,\n          sortDirection: _this2.sortDirection\n        });\n        _this2.showComments = actions.comments;\n        const entries = {};\n        entries[_this2.entryId] = _this2.entry;\n        // Pass the input data to the component.\n        _this2.jsData = {\n          fields: _this2.fields,\n          entries: entries,\n          database: _this2.database,\n          title: _this2.title,\n          group: _this2.selectedGroup,\n          access: _this2.access\n        };\n        _this2.logView();\n      } catch (error) {\n        if (!refresh) {\n          // Some call failed, retry without using cache since it might be a new activity.\n          return _this2.refreshAllData(isPtr);\n        }\n        CoreDomUtils.showErrorModalDefault(error, 'core.course.errorgetmodule', true);\n      } finally {\n        var _this2$content;\n        (_this2$content = _this2.content) === null || _this2$content === void 0 || _this2$content.scrollToTop();\n        _this2.entryLoaded = true;\n      }\n    })();\n  }\n  /**\n   * Go to selected entry without changing state.\n   *\n   * @param offset Entry offset.\n   * @returns Resolved when done.\n   */\n  gotoEntry(offset) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      _this3.offset = offset;\n      _this3.entryId = undefined;\n      _this3.entry = undefined;\n      _this3.entryLoaded = false;\n      _this3.logView = CoreTime.once(() => _this3.performLogView()); // Log again after loading data.\n      yield _this3.fetchEntryData();\n    })();\n  }\n  /**\n   * Refresh all the data.\n   *\n   * @param isPtr Whether is a pull to refresh action.\n   * @returns Promise resolved when done.\n   */\n  refreshAllData(isPtr) {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      const promises = [];\n      promises.push(AddonModData.invalidateDatabaseData(_this4.courseId));\n      if (_this4.database) {\n        promises.push(AddonModData.invalidateEntryData(_this4.database.id, _this4.entryId));\n        promises.push(CoreGroups.invalidateActivityGroupInfo(_this4.database.coursemodule));\n        promises.push(AddonModData.invalidateEntriesData(_this4.database.id));\n        promises.push(AddonModData.invalidateFieldsData(_this4.database.id));\n        if (_this4.database.comments && _this4.entry && _this4.entry.id > 0 && _this4.commentsEnabled && _this4.comments) {\n          // Refresh comments. Don't add it to promises because we don't want the comments fetch to block the entry fetch.\n          _this4.comments.doRefresh().catch(() => {\n            // Ignore errors.\n          });\n        }\n      }\n      yield Promise.all(promises).finally(() => _this4.fetchEntryData(true, isPtr));\n    })();\n  }\n  /**\n   * Refresh the data.\n   *\n   * @param refresher Refresher.\n   */\n  refreshDatabase(refresher) {\n    if (!this.entryLoaded) {\n      return;\n    }\n    this.refreshAllData(true).finally(() => {\n      refresher === null || refresher === void 0 || refresher.complete();\n    });\n  }\n  /**\n   * Set group to see the database.\n   *\n   * @param groupId Group identifier to set.\n   * @returns Resolved when done.\n   */\n  setGroup(groupId) {\n    var _this5 = this;\n    return _asyncToGenerator(function* () {\n      _this5.selectedGroup = groupId;\n      _this5.offset = undefined;\n      _this5.entry = undefined;\n      _this5.entryId = undefined;\n      _this5.entryLoaded = false;\n      yield _this5.fetchEntryData();\n    })();\n  }\n  /**\n   * Convenience function to fetch the entry and set next/previous entries.\n   *\n   * @returns Resolved when done.\n   */\n  setEntryFromOffset() {\n    var _this6 = this;\n    return _asyncToGenerator(function* () {\n      if (_this6.offset === undefined && _this6.entryId !== undefined) {\n        // Entry id passed as navigation parameter instead of the offset.\n        // We don't display next/previous buttons in this case.\n        _this6.hasNext = false;\n        _this6.hasPrevious = false;\n        const entry = yield AddonModDataHelper.fetchEntry(_this6.database, _this6.fieldsArray, _this6.entryId);\n        _this6.entry = entry.entry;\n        _this6.ratingInfo = entry.ratinginfo;\n        return;\n      }\n      const perPage = AddonModDataProvider.PER_PAGE;\n      const page = _this6.offset !== undefined && _this6.offset >= 0 ? Math.floor(_this6.offset / perPage) : 0;\n      const entries = yield AddonModDataHelper.fetchEntries(_this6.database, _this6.fieldsArray, {\n        groupId: _this6.selectedGroup,\n        sort: _this6.sortBy,\n        order: _this6.sortDirection,\n        page,\n        perPage\n      });\n      const pageEntries = (entries.offlineEntries || []).concat(entries.entries);\n      // Index of the entry when concatenating offline and online page entries.\n      let pageIndex = 0;\n      if (_this6.offset === undefined) {\n        // No offset passed, display the first entry.\n        pageIndex = 0;\n        _this6.offset = 0;\n      } else if (_this6.offset > 0) {\n        var _entries$offlineEntri;\n        // Online entry.\n        pageIndex = _this6.offset % perPage + (((_entries$offlineEntri = entries.offlineEntries) === null || _entries$offlineEntri === void 0 ? void 0 : _entries$offlineEntri.length) || 0);\n      } else {\n        var _entries$offlineEntri2;\n        // Offline entry.\n        pageIndex = _this6.offset + (((_entries$offlineEntri2 = entries.offlineEntries) === null || _entries$offlineEntri2 === void 0 ? void 0 : _entries$offlineEntri2.length) || 0);\n      }\n      _this6.entry = pageEntries[pageIndex];\n      _this6.entryId = _this6.entry.id;\n      _this6.hasPrevious = page > 0 || pageIndex > 0;\n      if (pageIndex + 1 < pageEntries.length) {\n        // Not the last entry on the page;\n        _this6.hasNext = true;\n      } else if (pageEntries.length < perPage) {\n        // Last entry of the last page.\n        _this6.hasNext = false;\n      } else {\n        var _entries$entries;\n        // Last entry of the page, check if there are more pages.\n        const entries = yield AddonModData.getEntries(_this6.database.id, {\n          groupId: _this6.selectedGroup,\n          page: page + 1,\n          perPage: perPage\n        });\n        _this6.hasNext = (entries === null || entries === void 0 || (_entries$entries = entries.entries) === null || _entries$entries === void 0 ? void 0 : _entries$entries.length) > 0;\n      }\n      if (_this6.entryId > 0) {\n        // Online entry, we need to fetch the the rating info.\n        const entry = yield AddonModData.getEntry(_this6.database.id, _this6.entryId, {\n          cmId: _this6.moduleId\n        });\n        _this6.ratingInfo = entry.ratinginfo;\n      }\n    })();\n  }\n  /**\n   * Function called when entry is being rendered.\n   */\n  setRenderingEntry(rendering) {\n    this.renderingEntry = rendering;\n    this.cdr.detectChanges();\n  }\n  /**\n   * Function called when comments component is loading data.\n   */\n  setLoadingComments(loading) {\n    this.loadingComments = loading;\n    this.cdr.detectChanges();\n  }\n  /**\n   * Function called when rate component is loading data.\n   */\n  setLoadingRating(loading) {\n    this.loadingRating = loading;\n    this.cdr.detectChanges();\n  }\n  /**\n   * Function called when rating is updated online.\n   */\n  ratingUpdated() {\n    AddonModData.invalidateEntryData(this.database.id, this.entryId);\n  }\n  /**\n   * Log view.\n   */\n  performLogView() {\n    var _this7 = this;\n    return _asyncToGenerator(function* () {\n      if (!_this7.database) {\n        return;\n      }\n      yield CoreUtils.ignoreErrors(AddonModData.logView(_this7.database.id));\n      // Store module viewed because this page also updates recent accessed items block.\n      CoreCourse.storeModuleViewed(_this7.courseId, _this7.moduleId);\n      CoreAnalytics.logEvent({\n        type: CoreAnalyticsEventType.VIEW_ITEM,\n        ws: 'mod_data_view_database',\n        name: _this7.database.name,\n        data: {\n          id: _this7.entryId,\n          databaseid: _this7.database.id,\n          category: 'data'\n        },\n        url: `/mod/data/view.php?d=${_this7.database.id}&rid=${_this7.entryId}`\n      });\n    })();\n  }\n  /**\n   * @inheritdoc\n   */\n  ngOnDestroy() {\n    var _this$syncObserver, _this$entryChangedObs;\n    (_this$syncObserver = this.syncObserver) === null || _this$syncObserver === void 0 || _this$syncObserver.off();\n    (_this$entryChangedObs = this.entryChangedObserver) === null || _this$entryChangedObs === void 0 || _this$entryChangedObs.off();\n  }\n}\n_class = AddonModDataEntryPage;\n_class.ɵfac = function AddonModDataEntryPage_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i0.ChangeDetectorRef));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"page-addon-mod-data-entry\"]],\n  viewQuery: function AddonModDataEntryPage_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(IonContent, 5);\n      i0.ɵɵviewQuery(CoreCommentsCommentsComponent, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.content = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.comments = _t.first);\n    }\n  },\n  decls: 20,\n  vars: 20,\n  consts: [[\"slot\", \"start\"], [3, \"text\"], [\"contextLevel\", \"module\", 3, \"text\", \"contextInstanceId\", \"courseId\"], [1, \"limited-width\"], [\"slot\", \"fixed\", 3, \"disabled\", \"ionRefresh\"], [3, \"pullingText\"], [3, \"hideUntil\"], [\"class\", \"core-warning-card\", 4, \"ngIf\"], [3, \"groupInfo\", \"selected\", \"courseId\", \"selectedChange\"], [3, \"class\", 4, \"ngIf\"], [\"contextLevel\", \"module\", 3, \"ratingInfo\", \"instanceId\", \"itemId\", \"itemSetId\", \"courseId\", \"aggregateMethod\", \"scaleId\", \"userId\", \"onLoading\", \"onUpdate\", 4, \"ngIf\"], [\"contextLevel\", \"module\", 3, \"ratingInfo\", \"instanceId\", \"itemId\", \"courseId\", \"aggregateMethod\", \"scaleId\", 4, \"ngIf\"], [\"contextLevel\", \"module\", \"component\", \"mod_data\", \"area\", \"database_entry\", 3, \"instanceId\", \"itemId\", \"courseId\", \"showItem\", \"onLoading\", 4, \"ngIf\"], [\"collapsible-footer\", \"\", \"slot\", \"fixed\", \"appearOnBottom\", \"\", 4, \"ngIf\"], [1, \"core-warning-card\"], [\"name\", \"fas-triangle-exclamation\", \"slot\", \"start\", \"aria-hidden\", \"true\"], [3, \"css\", \"prefix\"], [3, \"text\", \"jsData\", \"extraImports\", \"compiling\"], [\"contextLevel\", \"module\", 3, \"ratingInfo\", \"instanceId\", \"itemId\", \"itemSetId\", \"courseId\", \"aggregateMethod\", \"scaleId\", \"userId\", \"onLoading\", \"onUpdate\"], [\"contextLevel\", \"module\", 3, \"ratingInfo\", \"instanceId\", \"itemId\", \"courseId\", \"aggregateMethod\", \"scaleId\"], [\"contextLevel\", \"module\", \"component\", \"mod_data\", \"area\", \"database_entry\", 3, \"instanceId\", \"itemId\", \"courseId\", \"showItem\", \"onLoading\"], [\"collapsible-footer\", \"\", \"slot\", \"fixed\", \"appearOnBottom\", \"\"], [1, \"ion-justify-content-between\", \"ion-align-items-center\", \"ion-no-padding\", \"ion-wrap\"], [\"size\", \"auto\", 1, \"ion-text-start\", \"ion-no-padding\", \"core-navigation-arrow\"], [\"fill\", \"clear\", 3, \"disabled\", \"click\"], [\"name\", \"fas-chevron-left\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"], [1, \"ion-text-center\"], [\"size\", \"auto\", 1, \"ion-text-end\", \"ion-no-padding\", \"core-navigation-arrow\"], [\"name\", \"fas-chevron-right\", \"slot\", \"icon-only\", \"aria-hidden\", \"true\"]],\n  template: function AddonModDataEntryPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-buttons\", 0);\n      i0.ɵɵelement(3, \"ion-back-button\", 1);\n      i0.ɵɵpipe(4, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(5, \"ion-title\")(6, \"h1\");\n      i0.ɵɵelement(7, \"core-format-text\", 2);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(8, \"ion-content\", 3)(9, \"ion-refresher\", 4);\n      i0.ɵɵlistener(\"ionRefresh\", function AddonModDataEntryPage_Template_ion_refresher_ionRefresh_9_listener($event) {\n        return ctx.refreshDatabase($event.target);\n      });\n      i0.ɵɵelement(10, \"ion-refresher-content\", 5);\n      i0.ɵɵpipe(11, \"translate\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"core-loading\", 6);\n      i0.ɵɵtemplate(13, AddonModDataEntryPage_ion_card_13_Template, 6, 6, \"ion-card\", 7);\n      i0.ɵɵelementStart(14, \"core-group-selector\", 8);\n      i0.ɵɵlistener(\"selectedChange\", function AddonModDataEntryPage_Template_core_group_selector_selectedChange_14_listener($event) {\n        return ctx.selectedGroup = $event;\n      })(\"selectedChange\", function AddonModDataEntryPage_Template_core_group_selector_selectedChange_14_listener() {\n        return ctx.setGroup(ctx.selectedGroup);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(15, AddonModDataEntryPage_div_15_Template, 3, 8, \"div\", 9);\n      i0.ɵɵtemplate(16, AddonModDataEntryPage_core_rating_rate_16_Template, 1, 8, \"core-rating-rate\", 10);\n      i0.ɵɵtemplate(17, AddonModDataEntryPage_core_rating_aggregate_17_Template, 1, 6, \"core-rating-aggregate\", 11);\n      i0.ɵɵtemplate(18, AddonModDataEntryPage_core_comments_18_Template, 1, 4, \"core-comments\", 12);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(19, AddonModDataEntryPage_div_19_Template, 11, 8, \"div\", 13);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"text\", i0.ɵɵpipeBind1(4, 16, \"core.back\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"text\", ctx.title)(\"contextInstanceId\", ctx.moduleId)(\"courseId\", ctx.courseId);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", !ctx.entryLoaded || !(ctx.isPullingToRefresh || !ctx.renderingEntry && !ctx.loadingRating && !ctx.loadingComments));\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"pullingText\", i0.ɵɵpipeBind1(11, 18, \"core.pulltorefresh\"));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"hideUntil\", ctx.entryLoaded && (ctx.isPullingToRefresh || !ctx.renderingEntry && !ctx.loadingRating && !ctx.loadingComments));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.entry && ctx.entry.hasOffline);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"groupInfo\", ctx.groupInfo)(\"selected\", ctx.selectedGroup)(\"courseId\", ctx.courseId);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.database && ctx.entry);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.database && ctx.entry && ctx.ratingInfo && (!ctx.database.approval || ctx.entry.approved));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.database && ctx.entry && ctx.ratingInfo);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.database && ctx.database.comments && ctx.entry && ctx.entry.id > 0 && ctx.commentsEnabled);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.entryLoaded && ctx.hasPrevious || ctx.hasNext);\n    }\n  },\n  dependencies: [i1.NgIf, i2.CoreGroupSelectorComponent, i3.CoreLoadingComponent, i4.CoreStyleComponent, i5.CoreFaIconDirective, i6.CoreFormatTextDirective, i7.CoreCollapsibleFooterDirective, i8.CoreContentDirective, i9.CoreUpdateNonReactiveAttributesDirective, i10.IonButton, i10.IonButtons, i10.IonCard, i10.IonCol, i10.IonContent, i10.IonHeader, i10.IonIcon, i10.IonItem, i10.IonLabel, i10.IonRefresher, i10.IonRefresherContent, i10.IonRow, i10.IonTitle, i10.IonToolbar, i10.IonBackButton, i11.CoreCommentsCommentsComponent, i12.CoreRatingAggregateComponent, i13.CoreRatingRateComponent, i14.CoreCompileHtmlComponent, i15.TranslatePipe],\n  styles: [\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n[_nghost-%COMP%] {\\n  --border-color: var(--stroke);\\n}\\n\\n.addon-data-contents[_ngcontent-%COMP%] {\\n  overflow: visible;\\n  white-space: normal;\\n  word-break: break-word;\\n  padding: 16px;\\n  background-color: var(--ion-item-background);\\n  border-bottom: 1px solid var(--border-color);\\n}\\n.addon-data-contents[_ngcontent-%COMP%]     table, .addon-data-contents[_ngcontent-%COMP%]     tbody {\\n  display: block;\\n}\\n.addon-data-contents[_ngcontent-%COMP%]     tr {\\n  display: flex;\\n  flex-wrap: wrap;\\n  padding: 0;\\n}\\n@media (max-width: 575.98px) {\\n  .addon-data-contents[_ngcontent-%COMP%]     tr {\\n    flex-direction: column;\\n  }\\n}\\n.addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th {\\n  -webkit-padding-start: var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));\\n  padding-inline-start: var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));\\n  -webkit-padding-end: var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));\\n  padding-inline-end: var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));\\n  padding-top: var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));\\n  padding-bottom: var(--ion-grid-column-padding-xs, var(--ion-grid-column-padding, 5px));\\n  margin-left: 0;\\n  margin-right: 0;\\n  margin-top: 0;\\n  margin-bottom: 0;\\n  box-sizing: border-box;\\n  position: relative;\\n  flex-basis: 0;\\n  flex-grow: 1;\\n  width: 100%;\\n  max-width: 100%;\\n  min-height: auto;\\n}\\n@media (min-width: 576px) {\\n  .addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th {\\n    -webkit-padding-start: var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));\\n    padding-inline-start: var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));\\n    -webkit-padding-end: var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));\\n    padding-inline-end: var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));\\n    padding-top: var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));\\n    padding-bottom: var(--ion-grid-column-padding-sm, var(--ion-grid-column-padding, 5px));\\n  }\\n}\\n@media (min-width: 768px) {\\n  .addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th {\\n    -webkit-padding-start: var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));\\n    padding-inline-start: var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));\\n    -webkit-padding-end: var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));\\n    padding-inline-end: var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));\\n    padding-top: var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));\\n    padding-bottom: var(--ion-grid-column-padding-md, var(--ion-grid-column-padding, 5px));\\n  }\\n}\\n@media (min-width: 992px) {\\n  .addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th {\\n    -webkit-padding-start: var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));\\n    padding-inline-start: var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));\\n    -webkit-padding-end: var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));\\n    padding-inline-end: var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));\\n    padding-top: var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));\\n    padding-bottom: var(--ion-grid-column-padding-lg, var(--ion-grid-column-padding, 5px));\\n  }\\n}\\n@media (min-width: 1200px) {\\n  .addon-data-contents[_ngcontent-%COMP%]     td, .addon-data-contents[_ngcontent-%COMP%]     th {\\n    -webkit-padding-start: var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));\\n    padding-inline-start: var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));\\n    -webkit-padding-end: var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));\\n    padding-inline-end: var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));\\n    padding-top: var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));\\n    padding-bottom: var(--ion-grid-column-padding-xl, var(--ion-grid-column-padding, 5px));\\n  }\\n}\\n.addon-data-contents[_ngcontent-%COMP%]     address, .addon-data-contents[_ngcontent-%COMP%]     article, .addon-data-contents[_ngcontent-%COMP%]     aside, .addon-data-contents[_ngcontent-%COMP%]     blockquote, .addon-data-contents[_ngcontent-%COMP%]     canvas, .addon-data-contents[_ngcontent-%COMP%]     dd, .addon-data-contents[_ngcontent-%COMP%]     div, .addon-data-contents[_ngcontent-%COMP%]     dl, .addon-data-contents[_ngcontent-%COMP%]     dt, .addon-data-contents[_ngcontent-%COMP%]     fieldset, .addon-data-contents[_ngcontent-%COMP%]     figcaption, .addon-data-contents[_ngcontent-%COMP%]     figure, .addon-data-contents[_ngcontent-%COMP%]     footer, .addon-data-contents[_ngcontent-%COMP%]     form, .addon-data-contents[_ngcontent-%COMP%]     h1, .addon-data-contents[_ngcontent-%COMP%]     h2, .addon-data-contents[_ngcontent-%COMP%]     h3, .addon-data-contents[_ngcontent-%COMP%]     h4, .addon-data-contents[_ngcontent-%COMP%]     h5, .addon-data-contents[_ngcontent-%COMP%]     h6, .addon-data-contents[_ngcontent-%COMP%]     header, .addon-data-contents[_ngcontent-%COMP%]     li, .addon-data-contents[_ngcontent-%COMP%]     main, .addon-data-contents[_ngcontent-%COMP%]     nav, .addon-data-contents[_ngcontent-%COMP%]     noscript, .addon-data-contents[_ngcontent-%COMP%]     ol, .addon-data-contents[_ngcontent-%COMP%]     p, .addon-data-contents[_ngcontent-%COMP%]     pre, .addon-data-contents[_ngcontent-%COMP%]     section, .addon-data-contents[_ngcontent-%COMP%]     table, .addon-data-contents[_ngcontent-%COMP%]     tfoot, .addon-data-contents[_ngcontent-%COMP%]     ul, .addon-data-contents[_ngcontent-%COMP%]     video {\\n  width: auto !important;\\n  height: auto !important;\\n  min-width: auto !important;\\n  min-height: auto !important;\\n  max-height: none !important;\\n}\\n.addon-data-contents[_ngcontent-%COMP%]     hr {\\n  border-top: 1px solid var(--stroke);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuc3RyaW5nLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvdGhlbWUvaGVscGVycy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2lvbmljLm1peGlucy5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2hlbHBlcnMvaW9uaWMuY29tcG9uZW50cy5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9oZWxwZXJzL2N1c3RvbS5taXhpbnMuc2NzcyIsIndlYnBhY2s6Ly8uL3NyYy90aGVtZS9nbG9iYWxzLmN1c3RvbS5zY3NzIiwid2VicGFjazovLy4vc3JjL3RoZW1lL2dsb2JhbHMudmFyaWFibGVzLnNjc3MiLCJ3ZWJwYWNrOi8vLi9zcmMvYWRkb25zL21vZC9kYXRhL2RhdGEuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7OztFQUFBO0FDQUE7Ozs7O0VBQUE7QUNBQTs7Ozs7RUFBQTtBQ0FBOzs7OztFQUFBO0FDQUE7Ozs7OztFQUFBO0FDRUE7Ozs7RUFBQTtBQTRHQTs7RUFBQTtBQzlHQTs7OztFQUFBO0FDQUE7Ozs7RUFBQTtBQStEQTs7OztFQUFBO0FDakRBO0VBQ0ksNkJBQUE7QUF3Q0o7O0FBckNBO0VBQ0ksaUJBQUE7RUFDQSxtQkFBQTtFQUNBLHNCQUFBO0VBQ0EsYUFBQTtFQUVBLDRDQUFBO0VBQ0EsNENBQUE7QUF1Q0o7QUFwQ1E7RUFDSSxjQUFBO0FBc0NaO0FBbkNRO0VBRUksYUFBQTtFQUNBLGVBQUE7RUFFQSxVQUFBO0FBbUNaO0FMc0dJO0VLOUlJO0lBT1Esc0JBQUE7RUFxQ2Q7QUFDRjtBQWxDUTtFTDBRSiw2RkNyUlk7RURzUlosNEZDdFJZO0VEdVJaLDJGQ3ZSWTtFRHdSWiwwRkN4Ulk7RURzU2QsbUZDdFNjO0VEdVNkLHNGQ3ZTYztFRGlSWixjS25Rd0I7RUxvUXhCLGVLcFF3QjtFTHdSMUIsYUt4UjBCO0VMeVIxQixnQkt6UjBCO0VBQ2hCLHNCQUFBO0VBQ0Esa0JBQUE7RUFDQSxhQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxlQUFBO0VBQ0EsZ0JBQUE7QUEyQ1o7QUxxQ0k7RUsxRkk7SUwwUUosNkZDclJZO0lEc1JaLDRGQ3RSWTtJRHVSWiwyRkN2Ulk7SUR3UlosMEZDeFJZO0lEc1NkLG1GQ3RTYztJRHVTZCxzRkN2U2M7RUl5RWQ7QUFDRjtBTDJCSTtFSzFGSTtJTDBRSiw2RkNyUlk7SURzUlosNEZDdFJZO0lEdVJaLDJGQ3ZSWTtJRHdSWiwwRkN4Ulk7SURzU2QsbUZDdFNjO0lEdVNkLHNGQ3ZTYztFSW1GZDtBQUNGO0FMaUJJO0VLMUZJO0lMMFFKLDZGQ3JSWTtJRHNSWiw0RkN0Ulk7SUR1UlosMkZDdlJZO0lEd1JaLDBGQ3hSWTtJRHNTZCxtRkN0U2M7SUR1U2Qsc0ZDdlNjO0VJNkZkO0FBQ0Y7QUxPSTtFSzFGSTtJTDBRSiw2RkNyUlk7SURzUlosNEZDdFJZO0lEdVJaLDJGQ3ZSWTtJRHdSWiwwRkN4Ulk7SURzU2QsbUZDdFNjO0lEdVNkLHNGQ3ZTYztFSXVHZDtBQUNGO0FBL0VROzs7RUFHSSxzQkFBQTtFQUNBLHVCQUFBO0VBQ0EsMEJBQUE7RUFDQSwyQkFBQTtFQUVBLDJCQUFBO0FBZ0ZaO0FBN0VRO0VBQ0ksbUNBQUE7QUErRVoiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEFwcCBHbG9iYWwgdmFyaWFibGVzIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBsYWNlIGhlcmUgdGhlIGRpZmZlcmVudCBmaWxlcyB5b3Ugc2hvdWxkIGltcG9ydCB0byB1c2UgZ2xvYmFsIHZhcmlhYmxlcy5cbiAqL1xuXG4kZm9udC1wYXRoOiBcIi4uL2Fzc2V0cy9mb250c1wiO1xuJGFzc2V0cy1wYXRoOiBcIi4uL2Fzc2V0c1wiO1xuXG5AaW1wb3J0IFwiLi9oZWxwZXJzL2hlbHBlcnMuc2Nzc1wiO1xuQGltcG9ydCBcIi4vZ2xvYmFscy5jdXN0b20uc2Nzc1wiO1xuQGltcG9ydCBcIi4vZ2xvYmFscy52YXJpYWJsZXMuc2Nzc1wiO1xuIiwiLyoqXG4gKiBJbXBvcnRlZCBpb25pYyBzdHJpbmcgZnVuY3Rpb25zIGZvciBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBFeHRyYWN0ZWQgZnJvbVxuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL3RoZW1lcy9pb25pYy5mdW5jdGlvbnMuc3RyaW5nLnNjc3NcbiAqL1xuXG5cbi8vIFN0cmluZyBVdGlsaXR5IEZ1bmN0aW9uc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuLy8gU3RyaW5nIFJlcGxhY2UgRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBmdW5jdGlvbiBzdHItcmVwbGFjZSgkc3RyaW5nLCAkc2VhcmNoLCAkcmVwbGFjZTogXCJcIikge1xuICAkaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc2VhcmNoKTtcblxuICBAaWYgJGluZGV4IHtcbiAgICBAcmV0dXJuIHN0ci1zbGljZSgkc3RyaW5nLCAxLCAkaW5kZXggLSAxKSArICRyZXBsYWNlICsgc3RyLXJlcGxhY2Uoc3RyLXNsaWNlKCRzdHJpbmcsICRpbmRleCArIHN0ci1sZW5ndGgoJHNlYXJjaCkpLCAkc2VhcmNoLCAkcmVwbGFjZSk7XG4gIH1cblxuICBAcmV0dXJuICRzdHJpbmc7XG59XG5cbi8vIFN0cmluZyBTcGxpdCBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG5AZnVuY3Rpb24gc3RyLXNwbGl0KCRzdHJpbmcsICRzZXBhcmF0b3IpIHtcbiAgLy8gZW1wdHkgYXJyYXkvbGlzdFxuICAkc3BsaXQtYXJyOiAoKTtcbiAgLy8gZmlyc3QgaW5kZXggb2Ygc2VwYXJhdG9yIGluIHN0cmluZ1xuICAkaW5kZXg6IHN0ci1pbmRleCgkc3RyaW5nLCAkc2VwYXJhdG9yKTtcbiAgLy8gbG9vcCB0aHJvdWdoIHN0cmluZ1xuICBAd2hpbGUgJGluZGV4ICE9IG51bGwge1xuICAgIC8vIGdldCB0aGUgc3Vic3RyaW5nIGZyb20gdGhlIGZpcnN0IGNoYXJhY3RlciB0byB0aGUgc2VwYXJhdG9yXG4gICAgJGl0ZW06IHN0ci1zbGljZSgkc3RyaW5nLCAxLCAkaW5kZXggLSAxKTtcbiAgICAvLyBwdXNoIGl0ZW0gdG8gYXJyYXlcbiAgICAkc3BsaXQtYXJyOiBhcHBlbmQoJHNwbGl0LWFyciwgJGl0ZW0pO1xuICAgIC8vIHJlbW92ZSBpdGVtIGFuZCBzZXBhcmF0b3IgZnJvbSBzdHJpbmdcbiAgICAkc3RyaW5nOiBzdHItc2xpY2UoJHN0cmluZywgJGluZGV4ICsgMSk7XG4gICAgLy8gZmluZCBuZXcgaW5kZXggb2Ygc2VwYXJhdG9yXG4gICAgJGluZGV4OiBzdHItaW5kZXgoJHN0cmluZywgJHNlcGFyYXRvcik7XG4gIH1cbiAgLy8gYWRkIHRoZSByZW1haW5pbmcgc3RyaW5nIHRvIGxpc3QgKHRoZSBsYXN0IGl0ZW0pXG4gICRzcGxpdC1hcnI6IGFwcGVuZCgkc3BsaXQtYXJyLCAkc3RyaW5nKTtcblxuICBAcmV0dXJuICRzcGxpdC1hcnI7XG59XG5cblxuLy8gU3RyaW5nIEV4dHJhY3QgRnVuY3Rpb25cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBmdW5jdGlvbiBzdHItZXh0cmFjdCgkc3RyaW5nLCAkc3RhcnQsICRlbmQpIHtcbiAgJHN0YXJ0LWluZGV4OiBzdHItaW5kZXgoJHN0cmluZywgJHN0YXJ0KTtcblxuICBAaWYgJHN0YXJ0LWluZGV4IHtcbiAgICAkcG9zdDogc3RyLXNsaWNlKCRzdHJpbmcsICRzdGFydC1pbmRleCArIHN0ci1sZW5ndGgoJHN0YXJ0KSk7XG4gICAgJGVuZC1pbmRleDogc3RyLWluZGV4KCRwb3N0LCAkZW5kKTtcblxuICAgIEBpZiAkZW5kLWluZGV4IHtcbiAgICAgIEByZXR1cm4gc3RyLXNsaWNlKCRwb3N0LCAxLCAkZW5kLWluZGV4IC0gMSk7XG4gICAgfVxuICB9XG5cbiAgQHJldHVybiBudWxsO1xufVxuXG5cbi8vIFN0cmluZyBDb250YWlucyBGdW5jdGlvblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIHN0ci1jb250YWlucygkc3RyaW5nLCAkbmVlZGxlKSB7XG4gIEBpZiAodHlwZS1vZigkc3RyaW5nKSA9PSBzdHJpbmcpIHtcbiAgICBAcmV0dXJuIHN0ci1pbmRleCgkc3RyaW5nLCAkbmVlZGxlKSAhPSBudWxsO1xuICB9XG5cbiAgQHJldHVybiBmYWxzZTtcbn1cblxuXG4vLyBVUkwgRW5jb2RlIEZ1bmN0aW9uXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AZnVuY3Rpb24gdXJsLWVuY29kZSgkdmFsKSB7XG4gICRzcGFjZXM6IHN0ci1yZXBsYWNlKCR2YWwsIFwiIFwiLCBcIiUyMFwiKTtcbiAgJGVuY29kZWQ6IHN0ci1yZXBsYWNlKCRzcGFjZXMsIFwiI1wiLCBcIiUyM1wiKTtcbiAgQHJldHVybiAkZW5jb2RlZDtcbn1cblxuXG4vLyBBZGQgUm9vdCBTZWxlY3RvclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIEFkZHMgYSByb290IHNlbGVjdG9yIHVzaW5nIGhvc3QgYmFzZWQgb24gdGhlIHNlbGVjdG9yIHBhc3NlZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQGZ1bmN0aW9uIGFkZC1yb290LXNlbGVjdG9yKCRyb290LCAkYWRkSG9zdFNlbGVjdG9yKSB7XG4gICRzZWxlY3RvcnM6IHN0ci1zcGxpdCgkcm9vdCwgXCIsXCIpO1xuXG4gICRsaXN0OiAoKTtcblxuICBAZWFjaCAkc2VsZWN0b3IgaW4gJHNlbGVjdG9ycyB7XG4gICAgLy8gSWYgdGhlIHNlbGVjdG9yIGNvbnRhaW5zIDpob3N0KCBpdCBtZWFucyBpdCBpcyB0YXJnZXRpbmcgYSBjbGFzcyBvbiB0aGUgaG9zdFxuICAgIC8vIGVsZW1lbnQgc28gd2UgbmVlZCB0byBjaGFuZ2UgaG93IHdlIHRhcmdldCBpdDpcbiAgICAvLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcIjpob3N0KC5maXhlZClcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLmZpeGVkKVxuICAgIC8vIC0tPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkuZml4ZWRcbiAgICBAaWYgc3RyLWNvbnRhaW5zKCRzZWxlY3RvciwgXCI6aG9zdChcIikge1xuICAgICAgLy8gQGluY2x1ZGUgYWRkLXJvb3Qtc2VsZWN0b3IoXCI6aG9zdCguZml4ZWQpXCIsIFwiW2Rpcj1ydGxdXCIpXG4gICAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLmZpeGVkKVxuICAgICAgJHNoYWRvdy1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2VsZWN0b3IsIFwiOmhvc3QoXCIsIFwiOmhvc3QtY29udGV4dCgjeyRhZGRIb3N0U2VsZWN0b3J9KTpob3N0KFwiKTtcbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsICRzaGFkb3ctZWxlbWVudCwgY29tbWEpO1xuXG4gICAgICAkbmV3LWVsZW1lbnQ6ICgpO1xuICAgICAgJGVsZW1lbnRzOiBzdHItc3BsaXQoJHNlbGVjdG9yLCBcIiBcIik7XG5cbiAgICAgIEBlYWNoICRlbGVtZW50IGluICRlbGVtZW50cyB7XG4gICAgICAgIEBpZiBzdHItY29udGFpbnMoJGVsZW1lbnQsIFwiOmhvc3QoXCIpIHtcbiAgICAgICAgICAkc2NvcGVkLWVsZW1lbnQ6ICRlbGVtZW50O1xuXG4gICAgICAgICAgLy8gUmVwbGFjZSB0aGUgOmhvc3QoIGFuZCApIHNvIGFsbCB3ZSBoYXZlIGxlZnQgaXMgdGhlIGNsYXNzXG4gICAgICAgICAgLy8gaW5zaWRlIG9mIGl0OlxuICAgICAgICAgIC8vIDpob3N0KC5maXhlZCkgLT4gLmZpeGVkXG4gICAgICAgICAgJHNjb3BlZC1lbGVtZW50OiBzdHItcmVwbGFjZSgkc2NvcGVkLWVsZW1lbnQsIFwiKVwiLCBcIlwiKTtcbiAgICAgICAgICAkc2NvcGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzY29wZWQtZWxlbWVudCwgXCI6aG9zdChcIiwgXCJcIik7XG5cbiAgICAgICAgICAvLyBBZGQgdGhlIGNsYXNzIGJhY2sgaW5zaWRlIG9mIGhvc3Qgd2l0aCB0aGUgcnRsIHNlbGVjdG9yOlxuICAgICAgICAgIC8vIC5maXhlZCAtPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkuZml4ZWRcbiAgICAgICAgICAkc2NvcGVkLWVsZW1lbnQ6IHN0ci1yZXBsYWNlKCRzY29wZWQtZWxlbWVudCwgJHNjb3BlZC1lbGVtZW50LCBcIjpob3N0LWNvbnRleHQoI3skYWRkSG9zdFNlbGVjdG9yfSkjeyRzY29wZWQtZWxlbWVudH1cIik7XG5cbiAgICAgICAgICAvLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcIjpob3N0KC5maXhlZClcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAgICAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pLmZpeGVkXG4gICAgICAgICAgJG5ldy1lbGVtZW50OiBhcHBlbmQoJG5ldy1lbGVtZW50LCAkc2NvcGVkLWVsZW1lbnQsIHNwYWNlKTtcbiAgICAgICAgfSBAZWxzZSB7XG4gICAgICAgICAgLy8gQWRkIGJhY2sgYW55IHNlbGVjdG9ycyB0aGF0IGZvbGxvd2VkIHRoZSBob3N0IGFmdGVyIHRyYW5zZm9ybWluZyB0aGVcbiAgICAgICAgICAvLyBmaXJzdCBzZWxlY3RvcjpcbiAgICAgICAgICAvLyA6aG9zdCguZml4ZWQpIDo6c2xvdHRlZChpb24taWNvbilcbiAgICAgICAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pOmhvc3QoLmZpeGVkKSA6OnNsb3R0ZWQoaW9uLWljb24pXG4gICAgICAgICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKS5maXhlZCA6OnNsb3R0ZWQoaW9uLWljb24pXG4gICAgICAgICAgJG5ldy1lbGVtZW50OiBhcHBlbmQoJG5ldy1lbGVtZW50LCAkZWxlbWVudCwgc3BhY2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsICRuZXctZWxlbWVudCwgY29tbWEpO1xuICAgIC8vIElmIHRoZSBzZWxlY3RvciBjb250YWlucyA6aG9zdCB3aXRob3V0IGEgcGFyYW50aGVzZXNcbiAgICAvLyBpdCBtZWFucyBpdCBpcyB0YXJnZXRpbmcganVzdCB0aGUgaG9zdFxuICAgIC8vIGVsZW1lbnQgc28gd2UgY2FuIGNoYW5nZSBpdCB0byBsb29rIGZvciBob3N0LWNvbnRleHRcbiAgICAvLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcIjpob3N0XCIsIFwiW2Rpcj1ydGxdXCIpXG4gICAgLy8gLS0+IDpob3N0LWNvbnRleHQoW2Rpcj1ydGxdKVxuICAgIC8vIC0tPiA6aG9zdDpkaXIocnRsKVxuICAgIH0gQGVsc2UgaWYgc3RyLWNvbnRhaW5zKCRzZWxlY3RvciwgXCI6aG9zdFwiKSB7XG4gICAgICAkbmV3LWVsZW1lbnQ6ICgpO1xuICAgICAgJGVsZW1lbnRzOiBzdHItc3BsaXQoJHNlbGVjdG9yLCBcIiBcIik7XG5cbiAgICAgIEBlYWNoICRlbGVtZW50IGluICRlbGVtZW50cyB7XG4gICAgICAgIEBpZiBzdHItY29udGFpbnMoJGVsZW1lbnQsIFwiOmhvc3RcIikge1xuICAgICAgICAgIC8vIFJlcGxhY2UgdGhlIDpob3N0IHdpdGggdGhlIGFkZEhvc3RTZWxlY3RvcjpcbiAgICAgICAgICAvLyA6aG9zdCAtPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSlcbiAgICAgICAgICAkdXBkYXRlZC1lbGVtZW50OiBzdHItcmVwbGFjZSgkZWxlbWVudCwgXCI6aG9zdFwiLCBcIjpob3N0LWNvbnRleHQoI3skYWRkSG9zdFNlbGVjdG9yfSlcIik7XG5cbiAgICAgICAgICAvLyBBZGQgdGhlIGZpbmFsIHNlbGVjdG9yIGFmdGVyIGFsbCB0cmFuc2Zvcm1hdGlvbnM6XG4gICAgICAgICAgLy8gOmhvc3QgLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pXG4gICAgICAgICAgJG5ldy1lbGVtZW50OiBhcHBlbmQoJG5ldy1lbGVtZW50LCAkdXBkYXRlZC1lbGVtZW50LCBzcGFjZSk7XG4gICAgICAgIH0gQGVsc2Uge1xuICAgICAgICAgIC8vIEFkZCBiYWNrIGFueSBzZWxlY3RvcnMgdGhhdCBmb2xsb3dlZCB0aGUgaG9zdCBhZnRlciB0cmFuc2Zvcm1pbmcgdGhlXG4gICAgICAgICAgLy8gZmlyc3Qgc2VsZWN0b3I6XG4gICAgICAgICAgLy8gOmhvc3QgOjpzbG90dGVkKGlvbi1pY29uKSAtPiA6aG9zdC1jb250ZXh0KFtkaXI9cnRsXSkgOjpzbG90dGVkKGlvbi1pY29uKVxuICAgICAgICAgICRuZXctZWxlbWVudDogYXBwZW5kKCRuZXctZWxlbWVudCwgJGVsZW1lbnQsIHNwYWNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAkbGlzdDogYXBwZW5kKCRsaXN0LCAkbmV3LWVsZW1lbnQsIGNvbW1hKTtcbiAgICAvLyBJZiB0aGUgc2VsZWN0b3IgZG9lcyBub3QgY29udGFpbiBob3N0IGF0IGFsbCBpdCBpcyBlaXRoZXIgYSBzaGFkb3dcbiAgICAvLyBvciBub3JtYWwgZWxlbWVudCBzbyBhcHBlbmQgYm90aCB0aGUgYWRkSG9zdFNlbGVjdG9yIGFuZCBob3N0LWNvbnRleHRcbiAgICAvLyBAaW5jbHVkZSBhZGQtcm9vdC1zZWxlY3RvcihcImlvbi1jb21wb25lbnRcIiwgXCJbZGlyPXJ0bF1cIilcbiAgICAvLyAtLT4gOmhvc3QtY29udGV4dChbZGlyPXJ0bF0pIGlvbi1jb21wb25lbnRcbiAgICAvLyAtLT4gW2Rpcj1ydGxdIGlvbi1jb21wb25lbnRcbiAgICB9IEBlbHNlIHtcbiAgICAgICRsaXN0OiBhcHBlbmQoJGxpc3QsIFwiI3skYWRkSG9zdFNlbGVjdG9yfSAjeyRzZWxlY3Rvcn1cIiwgY29tbWEpO1xuICAgICAgJGxpc3Q6IGFwcGVuZCgkbGlzdCwgXCI6aG9zdC1jb250ZXh0KCN7JGFkZEhvc3RTZWxlY3Rvcn0pICN7JHNlbGVjdG9yfVwiLCBjb21tYSk7XG4gICAgfVxuICB9XG5cbiAgQHJldHVybiAkbGlzdDtcbn1cbiIsIi8qKlxuICogSW1wb3J0ZWQgaW9uaWMgY29sb3IgZnVuY3Rpb25zIGZvciBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBFeHRyYWN0ZWQgZnJvbVxuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL3RoZW1lcy9pb25pYy5mdW5jdGlvbnMuY29sb3Iuc2Nzc1xuICovXG5cbi8vIEdldHMgdGhlIGFjdGl2ZSBjb2xvcidzIGNzcyB2YXJpYWJsZSBmcm9tIGEgdmFyaWF0aW9uLiBBbHBoYSBpcyBvcHRpb25hbC5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBFeGFtcGxlIHVzYWdlOlxuLy8gY3VycmVudC1jb2xvcihiYXNlKSA9PiB2YXIoLS1pb24tY29sb3ItYmFzZSlcbi8vIGN1cnJlbnQtY29sb3IoY29udHJhc3QsIDAuMSkgPT4gcmdiYSh2YXIoLS1pb24tY29sb3ItY29udHJhc3QtcmdiKSwgMC4xKVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBjdXJyZW50LWNvbG9yKCR2YXJpYXRpb24sICRhbHBoYTogbnVsbCkge1xuICBAaWYgJGFscGhhID09IG51bGwge1xuICAgIEByZXR1cm4gdmFyKC0taW9uLWNvbG9yLSN7JHZhcmlhdGlvbn0pO1xuICB9IEBlbHNlIHtcbiAgICBAcmV0dXJuIHJnYmEodmFyKC0taW9uLWNvbG9yLSN7JHZhcmlhdGlvbn0tcmdiKSwgI3skYWxwaGF9KTtcbiAgfVxufVxuXG4vLyBHZXRzIHRoZSBzcGVjaWZpYyBjb2xvcidzIGNzcyB2YXJpYWJsZSBmcm9tIHRoZSBuYW1lIGFuZCB2YXJpYXRpb24uIEFscGhhL3JnYiBhcmUgb3B0aW9uYWwuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gRXhhbXBsZSB1c2FnZTpcbi8vIGlvbi1jb2xvcihwcmltYXJ5LCBiYXNlKSA9PiB2YXIoLS1pb24tY29sb3ItcHJpbWFyeSwgIzM4ODBmZilcbi8vIGlvbi1jb2xvcihzZWNvbmRhcnksIGNvbnRyYXN0KSA9PiB2YXIoLS1pb24tY29sb3Itc2Vjb25kYXJ5LWNvbnRyYXN0KVxuLy8gaW9uLWNvbG9yKHByaW1hcnksIGJhc2UsIDAuNSkgPT4gcmdiYSh2YXIoLS1pb24tY29sb3ItcHJpbWFyeS1yZ2IsIDU2LCAxMjgsIDI1NSksIDAuNSlcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gaW9uLWNvbG9yKCRuYW1lLCAkdmFyaWF0aW9uLCAkYWxwaGE6IG51bGwsICRyZ2I6IG51bGwpIHtcbiAgJHZhbHVlczogbWFwLWdldCgkY29sb3JzLCAkbmFtZSk7XG4gICR2YWx1ZTogbWFwLWdldCgkdmFsdWVzLCAkdmFyaWF0aW9uKTtcbiAgJHZhcmlhYmxlOiAtLWlvbi1jb2xvci0jeyRuYW1lfS0jeyR2YXJpYXRpb259O1xuXG4gIEBpZiAoJHZhcmlhdGlvbiA9PSBiYXNlKSB7XG4gICAgJHZhcmlhYmxlOiAtLWlvbi1jb2xvci0jeyRuYW1lfTtcbiAgfVxuXG4gIEBpZiAoJGFscGhhKSB7XG4gICAgJHZhbHVlOiBjb2xvci10by1yZ2ItbGlzdCgkdmFsdWUpO1xuICAgIEByZXR1cm4gcmdiYSh2YXIoI3skdmFyaWFibGV9LXJnYiwgJHZhbHVlKSwgJGFscGhhKTtcbiAgfVxuICBAaWYgKCRyZ2IpIHtcbiAgICAkdmFsdWU6IGNvbG9yLXRvLXJnYi1saXN0KCR2YWx1ZSk7XG4gICAgJHZhcmlhYmxlOiAjeyR2YXJpYWJsZX0tcmdiO1xuICB9XG5cbiAgQHJldHVybiB2YXIoI3skdmFyaWFibGV9LCAkdmFsdWUpO1xufVxuXG4vLyBNaXhlcyBhIGNvbG9yIHdpdGggYmxhY2sgdG8gY3JlYXRlIGl0cyBzaGFkZS5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AZnVuY3Rpb24gZ2V0LWNvbG9yLXNoYWRlKCRjb2xvcikge1xuICBAcmV0dXJuIG1peCgjMDAwLCAkY29sb3IsIDEyJSk7XG59XG5cbi8vIE1peGVzIGEgY29sb3Igd2l0aCB3aGl0ZSB0byBjcmVhdGUgaXRzIHRpbnQuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGdldC1jb2xvci10aW50KCRjb2xvcikge1xuICBAcmV0dXJuIG1peCgjZmZmLCAkY29sb3IsIDEwJSk7XG59XG5cbi8vIENvbnZlcnRzIGEgY29sb3IgdG8gYSBjb21tYSBzZXBhcmF0ZWQgcmdiLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBjb2xvci10by1yZ2ItbGlzdCgkY29sb3IpIHtcbiAgQHJldHVybiAje3JlZCgkY29sb3IpfSwje2dyZWVuKCRjb2xvcil9LCN7Ymx1ZSgkY29sb3IpfTtcbn1cbiIsIi8qKlxuICogSW1wb3J0ZWQgaW9uaWMgbWl4aW5zIGZvciBTQ1NTXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBFeHRyYWN0ZWQgZnJvbVxuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL3RoZW1lcy9pb25pYy5taXhpbnMuc2Nzc1xuICovXG5cbkBtaXhpbiBpbnB1dC1jb3ZlcigpIHtcbiAgQGluY2x1ZGUgcG9zaXRpb24oMCwgbnVsbCwgbnVsbCwgMCk7XG4gIEBpbmNsdWRlIG1hcmdpbigwKTtcblxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgd2lkdGg6IDEwMCU7XG4gIGhlaWdodDogMTAwJTtcblxuICBib3JkZXI6IDA7XG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50O1xuICBjdXJzb3I6IHBvaW50ZXI7XG5cbiAgYXBwZWFyYW5jZTogbm9uZTtcbiAgb3V0bGluZTogbm9uZTtcblxuICAmOjotbW96LWZvY3VzLWlubmVyIHtcbiAgICBib3JkZXI6IDA7XG4gIH1cbn1cblxuQG1peGluIHZpc3VhbGx5LWhpZGRlbigpIHtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuXG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgcmlnaHQ6IDA7XG4gIGJvdHRvbTogMDtcblxuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiAxMDAlO1xuXG4gIG1hcmdpbjogMDtcbiAgcGFkZGluZzogMDtcblxuICBib3JkZXI6IDA7XG4gIG91dGxpbmU6IDA7XG4gIGNsaXA6IHJlY3QoMCAwIDAgMCk7XG5cbiAgb3BhY2l0eTogMDtcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcblxuICAtd2Via2l0LWFwcGVhcmFuY2U6IG5vbmU7XG4gIC1tb3otYXBwZWFyYW5jZTogbm9uZTtcbn1cblxuQG1peGluIHRleHQtaW5oZXJpdCgpIHtcbiAgZm9udC1mYW1pbHk6IGluaGVyaXQ7XG4gIGZvbnQtc2l6ZTogaW5oZXJpdDtcbiAgZm9udC1zdHlsZTogaW5oZXJpdDtcbiAgZm9udC13ZWlnaHQ6IGluaGVyaXQ7XG4gIGxldHRlci1zcGFjaW5nOiBpbmhlcml0O1xuICB0ZXh0LWRlY29yYXRpb246IGluaGVyaXQ7XG4gIHRleHQtaW5kZW50OiBpbmhlcml0O1xuICB0ZXh0LW92ZXJmbG93OiBpbmhlcml0O1xuICB0ZXh0LXRyYW5zZm9ybTogaW5oZXJpdDtcbiAgdGV4dC1hbGlnbjogaW5oZXJpdDtcbiAgd2hpdGUtc3BhY2U6IGluaGVyaXQ7XG4gIGNvbG9yOiBpbmhlcml0O1xufVxuXG5AbWl4aW4gYnV0dG9uLXN0YXRlKCkge1xuICBAaW5jbHVkZSBwb3NpdGlvbigwLCAwLCAwLCAwKTtcblxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG5cbiAgY29udGVudDogXCJcIjtcblxuICBvcGFjaXR5OiAwO1xufVxuXG4vLyBGb250IHNtb290aGluZ1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIGZvbnQtc21vb3RoaW5nKCkge1xuICAtbW96LW9zeC1mb250LXNtb290aGluZzogZ3JheXNjYWxlO1xuICAtd2Via2l0LWZvbnQtc21vb3RoaW5nOiBhbnRpYWxpYXNlZDtcbn1cblxuLy8gR2V0IHRoZSBrZXkgZnJvbSBhIG1hcCBiYXNlZCBvbiB0aGUgaW5kZXhcbkBmdW5jdGlvbiBpbmRleC10by1rZXkoJG1hcCwgJGluZGV4KSB7XG4gICRrZXlzOiBtYXAta2V5cygkbWFwKTtcblxuICBAcmV0dXJuIG50aCgka2V5cywgJGluZGV4KTtcbn1cblxuXG4vLyBCcmVha3BvaW50IE1peGluc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIEJyZWFrcG9pbnQgdmlld3BvcnQgc2l6ZXMgYW5kIG1lZGlhIHF1ZXJpZXMuXG4vL1xuLy8gQnJlYWtwb2ludHMgYXJlIGRlZmluZWQgYXMgYSBtYXAgb2YgKG5hbWU6IG1pbmltdW0gd2lkdGgpLCBvcmRlciBmcm9tIHNtYWxsIHRvIGxhcmdlOlxuLy9cbi8vICAgICh4czogMCwgc206IDU3NnB4LCBtZDogNzY4cHgsIGxnOiA5OTJweCwgeGw6IDEyMDBweClcbi8vXG4vLyBUaGUgbWFwIGRlZmluZWQgaW4gdGhlIGAkc2NyZWVuLWJyZWFrcG9pbnRzYCBnbG9iYWwgdmFyaWFibGUgaXMgdXNlZCBhcyB0aGUgYCRicmVha3BvaW50c2AgYXJndW1lbnQgYnkgZGVmYXVsdC5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbi8vIE1pbmltdW0gYnJlYWtwb2ludCB3aWR0aC4gTnVsbCBmb3IgdGhlIHNtYWxsZXN0IChmaXJzdCkgYnJlYWtwb2ludC5cbi8vXG4vLyAgICA+PiBicmVha3BvaW50LW1pbihzbSwgKHhzOiAwLCBzbTogNTc2cHgsIG1kOiA3NjhweCwgbGc6IDk5MnB4LCB4bDogMTIwMHB4KSlcbi8vICAgIDU3NnB4XG5AZnVuY3Rpb24gYnJlYWtwb2ludC1taW4oJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xuICAkbWluOiBtYXAtZ2V0KCRicmVha3BvaW50cywgJG5hbWUpO1xuXG4gIEByZXR1cm4gaWYoJG5hbWUgIT0gaW5kZXgtdG8ta2V5KCRicmVha3BvaW50cywgMSksICRtaW4sIG51bGwpO1xufVxuXG4vLyBSZXR1cm5zIGEgYmxhbmsgc3RyaW5nIGlmIHNtYWxsZXN0IGJyZWFrcG9pbnQsIG90aGVyd2lzZSByZXR1cm5zIHRoZSBuYW1lIHdpdGggYSBkYXNoIGluZnJvbnQuXG4vLyBVc2VmdWwgZm9yIG1ha2luZyByZXNwb25zaXZlIHV0aWxpdGllcy5cbi8vXG4vLyAgICA+PiBicmVha3BvaW50LWluZml4KHhzLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxuLy8gICAgXCJcIiAgKFJldHVybnMgYSBibGFuayBzdHJpbmcpXG4vLyAgICA+PiBicmVha3BvaW50LWluZml4KHNtLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxuLy8gICAgXCItc21cIlxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtaW5maXgoJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xuICBAcmV0dXJuIGlmKGJyZWFrcG9pbnQtbWluKCRuYW1lLCAkYnJlYWtwb2ludHMpID09IG51bGwsIFwiXCIsIFwiLSN7JG5hbWV9XCIpO1xufVxuXG4vLyBNZWRpYSBvZiBhdCBsZWFzdCB0aGUgbWluaW11bSBicmVha3BvaW50IHdpZHRoLiBObyBxdWVyeSBmb3IgdGhlIHNtYWxsZXN0IGJyZWFrcG9pbnQuXG4vLyBNYWtlcyB0aGUgQGNvbnRlbnQgYXBwbHkgdG8gdGhlIGdpdmVuIGJyZWFrcG9pbnQgYW5kIHdpZGVyLlxuQG1peGluIG1lZGlhLWJyZWFrcG9pbnQtdXAoJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xuICAkbWluOiBicmVha3BvaW50LW1pbigkbmFtZSwgJGJyZWFrcG9pbnRzKTtcbiAgQGlmICRtaW4ge1xuICAgIEBtZWRpYSAobWluLXdpZHRoOiAkbWluKSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cbi8vIE5hbWUgb2YgdGhlIG5leHQgYnJlYWtwb2ludCwgb3IgbnVsbCBmb3IgdGhlIGxhc3QgYnJlYWtwb2ludC5cbi8vXG4vLyAgICA+PiBicmVha3BvaW50LW5leHQoc20pXG4vLyAgICBtZFxuLy8gICAgPj4gYnJlYWtwb2ludC1uZXh0KHNtLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxuLy8gICAgbWRcbi8vICAgID4+IGJyZWFrcG9pbnQtbmV4dChzbSwgJGJyZWFrcG9pbnQtbmFtZXM6ICh4cyBzbSBtZCBsZyB4bCkpXG4vLyAgICBtZFxuQGZ1bmN0aW9uIGJyZWFrcG9pbnQtbmV4dCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzLCAkYnJlYWtwb2ludC1uYW1lczogbWFwLWtleXMoJGJyZWFrcG9pbnRzKSkge1xuICAkbjogaW5kZXgoJGJyZWFrcG9pbnQtbmFtZXMsICRuYW1lKTtcbiAgQHJldHVybiBpZigkbiA8IGxlbmd0aCgkYnJlYWtwb2ludC1uYW1lcyksIG50aCgkYnJlYWtwb2ludC1uYW1lcywgJG4gKyAxKSwgbnVsbCk7XG59XG5cbi8vIE1heGltdW0gYnJlYWtwb2ludCB3aWR0aC4gTnVsbCBmb3IgdGhlIHNtYWxsZXN0IChmaXJzdCkgYnJlYWtwb2ludC5cbi8vIFRoZSBtYXhpbXVtIHZhbHVlIGlzIHJlZHVjZWQgYnkgMC4wMnB4IHRvIHdvcmsgYXJvdW5kIHRoZSBsaW1pdGF0aW9ucyBvZlxuLy8gYG1pbi1gIGFuZCBgbWF4LWAgcHJlZml4ZXMgYW5kIHZpZXdwb3J0cyB3aXRoIGZyYWN0aW9uYWwgd2lkdGhzLlxuLy9cbi8vIFNlZSBodHRwczovL3d3dy53My5vcmcvVFIvbWVkaWFxdWVyaWVzLTQvI21xLW1pbi1tYXhcbi8vIFVzZXMgMC4wMnB4IHJhdGhlciB0aGFuIDAuMDFweCB0byB3b3JrIGFyb3VuZCBhIGN1cnJlbnQgcm91bmRpbmcgYnVnIGluIFNhZmFyaS5cdC8vIFVzZXMgMC4wMnB4IHJhdGhlciB0aGFuIDAuMDFweCB0byB3b3JrIGFyb3VuZCBhIGN1cnJlbnQgcm91bmRpbmcgYnVnIGluIFNhZmFyaS5cbi8vIFNlZSBodHRwczovL2J1Z3Mud2Via2l0Lm9yZy9zaG93X2J1Zy5jZ2k/aWQ9MTc4MjYxXHQvLyBTZWUgaHR0cHM6Ly9idWdzLndlYmtpdC5vcmcvc2hvd19idWcuY2dpP2lkPTE3ODI2MVxuLy9cbi8vICAgID4+IGJyZWFrcG9pbnQtbWF4KG1kLCAoeHM6IDAsIHNtOiA1NzZweCwgbWQ6IDc2OHB4LCBsZzogOTkycHgsIHhsOiAxMjAwcHgpKVxuLy8gICAgNzY3Ljk4cHhcbkBmdW5jdGlvbiBicmVha3BvaW50LW1heCgkbmFtZSwgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gICRtYXg6IG1hcC1nZXQoJGJyZWFrcG9pbnRzLCAkbmFtZSk7XG4gIEByZXR1cm4gaWYoJG1heCBhbmQgJG1heCA+IDAsICRtYXggLSAuMDIsIG51bGwpO1xufVxuXG4vLyBNZWRpYSBvZiBhdCBtb3N0IHRoZSBtYXhpbXVtIGJyZWFrcG9pbnQgd2lkdGguIE5vIHF1ZXJ5IGZvciB0aGUgbGFyZ2VzdCBicmVha3BvaW50LlxuLy8gTWFrZXMgdGhlIEBjb250ZW50IGFwcGx5IHRvIHRoZSBnaXZlbiBicmVha3BvaW50IGFuZCBuYXJyb3dlci5cbkBtaXhpbiBtZWRpYS1icmVha3BvaW50LWRvd24oJG5hbWUsICRicmVha3BvaW50czogJHNjcmVlbi1icmVha3BvaW50cykge1xuICAkbWF4OiBicmVha3BvaW50LW1heCgkbmFtZSwgJGJyZWFrcG9pbnRzKTtcbiAgQGlmICRtYXgge1xuICAgIEBtZWRpYSAobWF4LXdpZHRoOiAkbWF4KSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBjb250ZW50O1xuICB9XG59XG5cblxuLy8gVGV4dCBEaXJlY3Rpb24gLSBsdHIgLyBydGxcbi8vXG4vLyBDU1MgZGVmYXVsdHMgdG8gdXNlIHRoZSBsdHIgY3NzLCBhbmQgYWRkcyBbZGlyPXJ0bF0gc2VsZWN0b3JzXG4vLyB0byBvdmVycmlkZSBsdHIgZGVmYXVsdHMuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBtaXhpbiBtdWx0aS1kaXIoKSB7XG4gIEBjb250ZW50O1xuXG4gIC8vICRyb290OiAjeyZ9O1xuICAvLyBAYXQtcm9vdCBbZGlyXSB7XG4gIC8vICAgI3skcm9vdH0ge1xuICAvLyAgICAgQGNvbnRlbnQ7XG4gIC8vICAgfVxuICAvLyB9XG59XG5cbkBtaXhpbiBydGwoKSB7XG4gICRyb290OiAjeyZ9O1xuXG4gICRyb290U3BsaXQ6IHN0ci1zcGxpdCgkcm9vdCwgXCIsXCIpO1xuICAkc2VsZWN0b3JzOiAje2FkZC1yb290LXNlbGVjdG9yKCRyb290LCBcIltkaXI9cnRsXVwiKX07XG4gICRzZWxlY3RvcnNTcGxpdDogc3RyLXNwbGl0KCRzZWxlY3RvcnMsIFwiLFwiKTtcblxuICAkaG9zdENvbnRleHRTZWxlY3RvcnM6ICgpO1xuICAkcmVzdFNlbGVjdG9yczogKCk7XG4gICRkaXJTZWxlY3RvcnM6ICgpO1xuXG4gIC8vIFNlbGVjdG9ycyBtdXN0IGJlIHNwbGl0IGludG8gaW5kaXZpZHVhbCBzZWxlY3RvcnMgaW4gY2FzZSB0aGUgYnJvd3NlclxuICAvLyBkb2Vzbid0IHN1cHBvcnQgYSBzcGVjaWZpYyBzZWxlY3Rvci5cbiAgLy8gRm9yIGV4YW1wbGUsIEZpcmVmb3ggYW5kIFNhZmFyaSBkb2Vzbid0IHN1cHBvcnQgYDpob3N0LWNvbnRleHQoKWAuXG4gIC8vIElmIGFuIGludmFsaWQgc2VsZWN0b3IgaXMgdXNlZCwgdGhlbiB0aGUgZW50aXJlIGdyb3VwIG9mIHNlbGVjdG9yc1xuICAvLyB3aWxsIGJlIGlnbm9yZWQuXG4gIC8vIEBsaW5rIGh0dHBzOi8vd3d3LnczLm9yZy9UUi9zZWxlY3RvcnMtMy8jZ3JvdXBpbmdcbiAgQGVhY2ggJHNlbGVjdG9yIGluICRzZWxlY3RvcnNTcGxpdCB7XG4gICAgLy8gR3JvdXAgdGhlIHNlbGVjdG9ycyBiYWNrIGludG8gYSBzaW5nbGUgc2VsZWN0b3IgdG8gb3B0aW1pemUgdGhlIG91dHB1dC5cbiAgICBAaWYgc3RyLWluZGV4KCRzZWxlY3RvciwgXCI6aG9zdC1jb250ZXh0XCIpIHtcbiAgICAgICRob3N0Q29udGV4dFNlbGVjdG9yczogYXBwZW5kKCRob3N0Q29udGV4dFNlbGVjdG9ycywgJHNlbGVjdG9yLCBjb21tYSk7XG4gICAgfSBAZWxzZSB7XG4gICAgICAvLyBHcm91cCB0aGUgc2VsZWN0b3JzIGJhY2sgaW50byBhIHNpbmdsZSBzZWxlY3RvciB0byBvcHRpbWl6ZSB0aGUgb3V0cHV0LlxuICAgICAgJHJlc3RTZWxlY3RvcnM6IGFwcGVuZCgkcmVzdFNlbGVjdG9ycywgJHNlbGVjdG9yLCBjb21tYSk7XG4gICAgfVxuICB9XG5cbiAgLy8gU3VwcG9ydGVkIGJ5IENocm9tZS5cbiAgQGlmIGxlbmd0aCgkaG9zdENvbnRleHRTZWxlY3RvcnMpID4gMCB7XG4gICAgQGF0LXJvb3QgI3skaG9zdENvbnRleHRTZWxlY3RvcnN9IHtcbiAgICAgIEBjb250ZW50O1xuICAgIH1cbiAgfVxuXG4gIC8vIFN1cHBvcnRlZCBieSBhbGwgYnJvd3NlcnMuXG4gIEBpZiBsZW5ndGgoJHJlc3RTZWxlY3RvcnMpID4gMCB7XG4gICAgQGF0LXJvb3QgI3skcmVzdFNlbGVjdG9yc30ge1xuICAgICAgQGNvbnRlbnQ7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgYnJvd3NlciBjYW4gc3VwcG9ydCBgOmRpcigpYCwgdGhlbiBhZGQgdGhlIGA6ZGlyKClgIHNlbGVjdG9ycy5cbiAgLy8gQHN1cHBvcnRzIHNlbGVjdG9yKDpkaXIocnRsKSkgeyAvLyBAIElNUE9UQU5UIE5PVEU6IFRoaXMgaGFzIGJlZW4gcmVtb3ZlZCBiZWNhdXNlIHNlbGVjdG9yIGZ1bmN0aW9uIGlzIG5vdCBzdXBwb3J0ZWQgaW4gY3VycmVudCBTQ1NTXG4gIC8vIEFkZGluZyA6ZGlyKCkgaW4gY2FzZSB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgYDpob3N0LWNvbnRleHQoKWAgYW5kIGRvZXMgc3VwcG9ydCBgOmRpcigpYC5cbiAgLy8gYDpob3N0LWNvbnRleHQoKWAgaXMgYWRkZWQ6XG4gIC8vIC0gdGhyb3VnaCB0aGUgYGFkZC1yb290LXNlbGVjdG9yKClgIGZ1bmN0aW9uLlxuICAvLyAtIGZpcnN0IHNvIHRoYXQgaXQgdGFrZXMgcHJlY2VkZW5jZSBvdmVyIGA6ZGlyKClgLlxuICAvLyBGb3IgZXhhbXBsZSxcbiAgLy8gLSBGaXJlZm94IGRvZXNuJ3Qgc3VwcG9ydCBgOmhvc3QtY29udGV4dCgpYCwgYnV0IGRvZXMgc3VwcG9ydCBgOmRpcigpYC5cbiAgLy8gLSBTYWZhcmkgZG9lc24ndCBzdXBwb3J0IGA6aG9zdC1jb250ZXh0KClgLCBidXQgU2FmYXJpIDE2LjQrIHN1cHBvcnRzIGA6ZGlyKClgXG4gIC8vIEBsaW5rIGh0dHBzOi8vd2Via2l0Lm9yZy9ibG9nLzEzOTY2L3dlYmtpdC1mZWF0dXJlcy1pbi1zYWZhcmktMTYtNC9cbiAgQGVhY2ggJHNlbGVjdG9yIGluICRyb290U3BsaXQge1xuICAgICRkaXJTZWxlY3RvcjogXCIjeyRzZWxlY3Rvcn06ZGlyKHJ0bClcIjtcbiAgICAvLyBHcm91cCB0aGUgc2VsZWN0b3JzIGJhY2sgaW50byBhIHNpbmdsZSBzZWxlY3RvciB0byBvcHRpbWl6ZSB0aGUgb3V0cHV0LlxuICAgICRkaXJTZWxlY3RvcnM6IGFwcGVuZCgkZGlyU2VsZWN0b3JzLCAkZGlyU2VsZWN0b3IsIGNvbW1hKTtcbiAgfVxuXG4gIC8vIFN1cHBvcnRlZCBieSBGaXJlZm94LlxuICBAaWYgbGVuZ3RoKCRkaXJTZWxlY3RvcnMpID4gMCB7XG4gICAgQGF0LXJvb3QgI3skZGlyU2VsZWN0b3JzfSB7XG4gICAgICBAY29udGVudDtcbiAgICB9XG4gIH1cbiAgLy99XG59XG5cbkBtaXhpbiBsdHIoKSB7XG4gIEBjb250ZW50O1xufVxuXG5cbi8vIFNWRyBCYWNrZ3JvdW5kIEltYWdlIE1peGluXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN2Z1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHN2Zy1iYWNrZ3JvdW5kLWltYWdlKCRzdmcsICRmbGlwLXJ0bDogZmFsc2UpIHtcbiAgJHVybDogdXJsLWVuY29kZSgkc3ZnKTtcbiAgJHZpZXdCb3g6IHN0ci1zcGxpdChzdHItZXh0cmFjdCgkc3ZnLCBcInZpZXdCb3g9J1wiLCBcIidcIiksIFwiIFwiKTtcblxuICBAaWYgJGZsaXAtcnRsICE9IHRydWUgb3IgJHZpZXdCb3ggPT0gbnVsbCB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO2NoYXJzZXQ9dXRmLTgsI3skdXJsfVwiKTtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgICR0cmFuc2Zvcm06IFwidHJhbnNmb3JtPSd0cmFuc2xhdGUoI3tudGgoJHZpZXdCb3gsIDMpfSwgMCkgc2NhbGUoLTEsIDEpJ1wiO1xuICAgICRmbGlwcGVkLXVybDogJHN2ZztcbiAgICAkZmxpcHBlZC11cmw6IHN0ci1yZXBsYWNlKCRmbGlwcGVkLXVybCwgXCI8cGF0aFwiLCBcIjxwYXRoICN7JHRyYW5zZm9ybX1cIik7XG4gICAgJGZsaXBwZWQtdXJsOiBzdHItcmVwbGFjZSgkZmxpcHBlZC11cmwsIFwiPGxpbmVcIiwgXCI8bGluZSAjeyR0cmFuc2Zvcm19XCIpO1xuICAgICRmbGlwcGVkLXVybDogc3RyLXJlcGxhY2UoJGZsaXBwZWQtdXJsLCBcIjxwb2x5Z29uXCIsIFwiPHBvbHlnb24gI3skdHJhbnNmb3JtfVwiKTtcbiAgICAkZmxpcHBlZC11cmw6IHVybC1lbmNvZGUoJGZsaXBwZWQtdXJsKTtcblxuICAgIEBpbmNsdWRlIGx0ciAoKSB7XG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwjeyR1cmx9XCIpO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoXCJkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwjeyRmbGlwcGVkLXVybH1cIik7XG4gICAgfVxuICB9XG59XG5cbi8vIEFkZCBwcm9wZXJ0eSBob3Jpem9udGFsXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHByb3BlcnR5LWhvcml6b250YWwoJHByb3AsICRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XG4gIEBpZiAkc3RhcnQgPT0gMCBhbmQgJGVuZCA9PSAwIHtcbiAgICAjeyRwcm9wfS1sZWZ0OiAkc3RhcnQ7XG4gICAgI3skcHJvcH0tcmlnaHQ6ICRlbmQ7XG5cbiAgfSBAZWxzZSB7XG4gICAgLXdlYmtpdC0jeyRwcm9wfS1zdGFydDogJHN0YXJ0O1xuICAgICN7JHByb3B9LWlubGluZS1zdGFydDogJHN0YXJ0O1xuICAgIC13ZWJraXQtI3skcHJvcH0tZW5kOiAkZW5kO1xuICAgICN7JHByb3B9LWlubGluZS1lbmQ6ICRlbmQ7XG4gIH1cbn1cblxuLy8gQWRkIHByb3BlcnR5IGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICRwcm9wXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyBAcGFyYW0ge2Jvb2xlYW59ICRjb250ZW50IGluY2x1ZGUgY29udGVudCBvciB1c2UgZGVmYXVsdFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHByb3BlcnR5KCRwcm9wLCAkdG9wLCAkZW5kOiAkdG9wLCAkYm90dG9tOiAkdG9wLCAkc3RhcnQ6ICRlbmQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHktaG9yaXpvbnRhbCgkcHJvcCwgJHN0YXJ0LCAkZW5kKTtcbiAgI3skcHJvcH0tdG9wOiAkdG9wO1xuICAjeyRwcm9wfS1ib3R0b206ICRib3R0b207XG59XG5cbi8vIEFkZCBwYWRkaW5nIGhvcml6b250YWxcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc3RhcnRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcGFkZGluZy1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XG4gIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwocGFkZGluZywgJHN0YXJ0LCAkZW5kKTtcbn1cblxuLy8gQWRkIHBhZGRpbmcgZm9yIGFsbCBkaXJlY3Rpb25zXG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcGFkZGluZygkdG9wLCAkZW5kOiAkdG9wLCAkYm90dG9tOiAkdG9wLCAkc3RhcnQ6ICRlbmQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHkocGFkZGluZywgJHRvcCwgJGVuZCwgJGJvdHRvbSwgJHN0YXJ0KTtcbn1cblxuLy8gQWRkIG1hcmdpbiBob3Jpem9udGFsXG4vLyBAcGFyYW0ge3N0cmluZ30gJHN0YXJ0XG4vLyBAcGFyYW0ge3N0cmluZ30gJGVuZFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIG1hcmdpbi1ob3Jpem9udGFsKCRzdGFydCwgJGVuZDogJHN0YXJ0KSB7XG4gIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwobWFyZ2luLCAkc3RhcnQsICRlbmQpO1xufVxuXG4vLyBBZGQgbWFyZ2luIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIG1hcmdpbigkdG9wLCAkZW5kOiAkdG9wLCAkYm90dG9tOiAkdG9wLCAkc3RhcnQ6ICRlbmQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHkobWFyZ2luLCAkdG9wLCAkZW5kLCAkYm90dG9tLCAkc3RhcnQpO1xufVxuXG4vLyBBZGQgcG9zaXRpb24gaG9yaXpvbnRhbFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydCAtIGFtb3VudCB0byBwb3NpdGlvbiBzdGFydFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRlbmQgLSBhbW91bnQgdG8gbGVmdDogMDsgZW5kXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5AbWl4aW4gcG9zaXRpb24taG9yaXpvbnRhbCgkc3RhcnQ6IG51bGwsICRlbmQ6IG51bGwpIHtcbiAgQGlmICRzdGFydCA9PSAkZW5kIHtcbiAgICBAaW5jbHVkZSBtdWx0aS1kaXIoKSB7XG4gICAgICBsZWZ0OiAkc3RhcnQ7XG4gICAgICByaWdodDogJGVuZDtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBhdC1yb290IHtcbiAgICAgIEBzdXBwb3J0cyAoaW5zZXQtaW5saW5lLXN0YXJ0OiAwKSB7XG4gICAgICAgICYge1xuICAgICAgICAgIGluc2V0LWlubGluZS1zdGFydDogJHN0YXJ0O1xuICAgICAgICAgIGluc2V0LWlubGluZS1lbmQ6ICRlbmQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBUT0RPIEZXLTM3NjZcbiAgICBAYXQtcm9vdCB7XG4gICAgICBAc3VwcG9ydHMgbm90IChpbnNldC1pbmxpbmUtc3RhcnQ6IDApIHtcbiAgICAgICAgJiB7XG4gICAgICAgICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgICAgICAgbGVmdDogJHN0YXJ0O1xuICAgICAgICAgICAgcmlnaHQ6ICRlbmQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgICAgICAgIGxlZnQ6IHVuc2V0O1xuICAgICAgICAgICAgcmlnaHQ6IHVuc2V0O1xuXG4gICAgICAgICAgICBsZWZ0OiAkZW5kO1xuICAgICAgICAgICAgcmlnaHQ6ICRzdGFydDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gQWRkIHBvc2l0aW9uIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIHBvc2l0aW9uKCR0b3A6IG51bGwsICRlbmQ6IG51bGwsICRib3R0b206IG51bGwsICRzdGFydDogbnVsbCkge1xuICBAaW5jbHVkZSBwb3NpdGlvbi1ob3Jpem9udGFsKCRzdGFydCwgJGVuZCk7XG4gIHRvcDogJHRvcDtcbiAgYm90dG9tOiAkYm90dG9tO1xufVxuXG4vLyBBZGQgYm9yZGVyIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0b3Bcbi8vIEBwYXJhbSB7c3RyaW5nfSAkZW5kXG4vLyBAcGFyYW0ge3N0cmluZ30gJGJvdHRvbVxuLy8gQHBhcmFtIHtzdHJpbmd9ICRzdGFydFxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQG1peGluIGJvcmRlcigkdG9wLCAkZW5kOiAkdG9wLCAkYm90dG9tOiAkdG9wLCAkc3RhcnQ6ICRlbmQpIHtcbiAgQGluY2x1ZGUgcHJvcGVydHkoYm9yZGVyLCAkdG9wLCAkZW5kLCAkYm90dG9tLCAkc3RhcnQpO1xufVxuXG4vLyBBZGQgYm9yZGVyIHJhZGl1cyBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkdG9wLXN0YXJ0XG4vLyBAcGFyYW0ge3N0cmluZ30gJHRvcC1lbmRcbi8vIEBwYXJhbSB7c3RyaW5nfSAkYm90dG9tLWVuZFxuLy8gQHBhcmFtIHtzdHJpbmd9ICRib3R0b20tc3RhcnRcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBtaXhpbiBib3JkZXItcmFkaXVzKCR0b3Atc3RhcnQsICR0b3AtZW5kOiAkdG9wLXN0YXJ0LCAkYm90dG9tLWVuZDogJHRvcC1zdGFydCwgJGJvdHRvbS1zdGFydDogJHRvcC1lbmQpIHtcbiAgQGlmICR0b3Atc3RhcnQgPT0gJHRvcC1lbmQgYW5kICR0b3Atc3RhcnQgPT0gJGJvdHRvbS1lbmQgYW5kICR0b3Atc3RhcnQgPT0gJGJvdHRvbS1zdGFydCB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgYm9yZGVyLXJhZGl1czogJHRvcC1zdGFydDtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBpbmNsdWRlIGx0cigpIHtcbiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6ICR0b3Atc3RhcnQ7XG4gICAgICBib3JkZXItdG9wLXJpZ2h0LXJhZGl1czogJHRvcC1lbmQ7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogJGJvdHRvbS1lbmQ7XG4gICAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiAkYm90dG9tLXN0YXJ0O1xuICAgIH1cblxuICAgIEBpbmNsdWRlIHJ0bCgpIHtcbiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6ICR0b3AtZW5kO1xuICAgICAgYm9yZGVyLXRvcC1yaWdodC1yYWRpdXM6ICR0b3Atc3RhcnQ7XG4gICAgICBib3JkZXItYm90dG9tLXJpZ2h0LXJhZGl1czogJGJvdHRvbS1zdGFydDtcbiAgICAgIGJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6ICRib3R0b20tZW5kO1xuICAgIH1cbiAgfVxufVxuXG4vLyBBZGQgZGlyZWN0aW9uIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICRkaXIgLSBEaXJlY3Rpb24gb24gTFRSXG5AbWl4aW4gZGlyZWN0aW9uKCRkaXIpIHtcbiAgJG90aGVyLWRpcjogbnVsbDtcblxuICBAaWYgJGRpciA9PSBsdHIge1xuICAgICRvdGhlci1kaXI6IHJ0bDtcbiAgfSBAZWxzZSB7XG4gICAgJG90aGVyLWRpcjogbHRyO1xuICB9XG5cbiAgQGluY2x1ZGUgbHRyKCkge1xuICAgIGRpcmVjdGlvbjogJGRpcjtcbiAgfVxuICBAaW5jbHVkZSBydGwoKSB7XG4gICAgZGlyZWN0aW9uOiAkb3RoZXItZGlyO1xuICB9XG59XG5cbi8vIEFkZCBmbG9hdCBmb3IgYWxsIGRpcmVjdGlvbnNcbi8vIEBwYXJhbSB7c3RyaW5nfSAkc2lkZVxuLy8gQHBhcmFtIHtzdHJpbmd9ICRkZWNvcmF0b3IgLSAhaW1wb3J0YW50XG5AbWl4aW4gZmxvYXQoJHNpZGUsICRkZWNvcmF0b3I6IG51bGwpIHtcbiAgQGlmICRzaWRlID09IHN0YXJ0IHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICBmbG9hdDogbGVmdCAkZGVjb3JhdG9yO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICBmbG9hdDogcmlnaHQgJGRlY29yYXRvcjtcbiAgICB9XG4gIH0gQGVsc2UgaWYgJHNpZGUgPT0gZW5kIHtcbiAgICBAaW5jbHVkZSBsdHIoKSB7XG4gICAgICBmbG9hdDogcmlnaHQgJGRlY29yYXRvcjtcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgZmxvYXQ6IGxlZnQgJGRlY29yYXRvcjtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIGZsb2F0OiAkc2lkZSAkZGVjb3JhdG9yO1xuICAgIH1cbiAgfVxufVxuXG5AbWl4aW4gYmFja2dyb3VuZC1wb3NpdGlvbigkaG9yaXpvbnRhbCwgJGhvcml6b250YWwtYW1vdW50OiBudWxsLCAkdmVydGljYWw6IG51bGwsICR2ZXJ0aWNhbC1hbW91bnQ6IG51bGwpIHtcbiAgQGlmICRob3Jpem9udGFsID09IHN0YXJ0IG9yICRob3Jpem9udGFsID09IGVuZCB7XG4gICAgJGhvcml6b250YWwtbHRyOiBudWxsO1xuICAgICRob3Jpem9udGFsLXJ0bDogbnVsbDtcbiAgICBAaWYgJGhvcml6b250YWwgPT0gc3RhcnQge1xuICAgICAgJGhvcml6b250YWwtbHRyOiBsZWZ0O1xuICAgICAgJGhvcml6b250YWwtcnRsOiByaWdodDtcbiAgICB9IEBlbHNlIHtcbiAgICAgICRob3Jpem9udGFsLWx0cjogcmlnaHQ7XG4gICAgICAkaG9yaXpvbnRhbC1ydGw6IGxlZnQ7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogJGhvcml6b250YWwtbHRyICRob3Jpem9udGFsLWFtb3VudCAkdmVydGljYWwgJHZlcnRpY2FsLWFtb3VudDtcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogJGhvcml6b250YWwtcnRsICRob3Jpem9udGFsLWFtb3VudCAkdmVydGljYWwgJHZlcnRpY2FsLWFtb3VudDtcbiAgICB9XG4gIH0gQGVsc2Uge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIGJhY2tncm91bmQtcG9zaXRpb246ICRob3Jpem9udGFsICRob3Jpem9udGFsLWFtb3VudCAkdmVydGljYWwgJHZlcnRpY2FsLWFtb3VudDtcbiAgICB9XG4gIH1cbn1cblxuQG1peGluIHRyYW5zZm9ybS1vcmlnaW4oJHgtYXhpcywgJHktYXhpczogbnVsbCkge1xuICBAaWYgJHgtYXhpcyA9PSBzdGFydCB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCAkeS1heGlzO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiByaWdodCAkeS1heGlzO1xuICAgIH1cbiAgfSBAZWxzZSBpZiAkeC1heGlzID09IGVuZCB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogcmlnaHQgJHktYXhpcztcbiAgICB9XG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogbGVmdCAkeS1heGlzO1xuICAgIH1cbiAgfSBAZWxzZSBpZiAkeC1heGlzID09IGxlZnQgb3IgJHgtYXhpcyA9PSByaWdodCB7XG4gICAgQGluY2x1ZGUgbXVsdGktZGlyKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogJHgtYXhpcyAkeS1heGlzO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgdHJhbnNmb3JtLW9yaWdpbjogJHgtYXhpcyAkeS1heGlzO1xuICAgIH1cbiAgICBAaW5jbHVkZSBydGwoKSB7XG4gICAgICB0cmFuc2Zvcm0tb3JpZ2luOiBjYWxjKDEwMCUgLSAjeyR4LWF4aXN9KSAkeS1heGlzO1xuICAgIH1cbiAgfVxufVxuXG4vLyBBZGQgdHJhbnNmb3JtIGZvciBhbGwgZGlyZWN0aW9uc1xuLy8gQHBhcmFtIHtzdHJpbmd9ICR0cmFuc2Zvcm1zIC0gY29tbWEgc2VwYXJhdGVkIGxpc3Qgb2YgdHJhbnNmb3Jtc1xuQG1peGluIHRyYW5zZm9ybSgkdHJhbnNmb3Jtcy4uLikge1xuICAkZXh0cmE6IG51bGw7XG5cbiAgJHg6IG51bGw7XG4gICRsdHItdHJhbnNsYXRlOiBudWxsO1xuICAkcnRsLXRyYW5zbGF0ZTogbnVsbDtcblxuICBAZWFjaCAkdHJhbnNmb3JtIGluICR0cmFuc2Zvcm1zIHtcbiAgICBAaWYgKHN0ci1pbmRleCgkdHJhbnNmb3JtLCB0cmFuc2xhdGUzZCkpIHtcbiAgICAgICR0cmFuc2Zvcm06IHN0ci1yZXBsYWNlKCR0cmFuc2Zvcm0sICd0cmFuc2xhdGUzZCgnKTtcbiAgICAgICR0cmFuc2Zvcm06IHN0ci1yZXBsYWNlKCR0cmFuc2Zvcm0sICcpJyk7XG5cbiAgICAgICRjb29yZGluYXRlczogc3RyLXNwbGl0KCR0cmFuc2Zvcm0sICcsJyk7XG5cbiAgICAgICR4OiBudGgoJGNvb3JkaW5hdGVzLCAxKTtcbiAgICAgICR5OiBudGgoJGNvb3JkaW5hdGVzLCAyKTtcbiAgICAgICR6OiBudGgoJGNvb3JkaW5hdGVzLCAzKTtcblxuICAgICAgJGx0ci10cmFuc2xhdGU6IHRyYW5zbGF0ZTNkKCR4LCAkeSwgJHopO1xuICAgICAgJHJ0bC10cmFuc2xhdGU6IHRyYW5zbGF0ZTNkKGNhbGMoLTEgKiAjeyR4fSksICR5LCAkeik7XG4gICAgfSBAZWxzZSB7XG4gICAgICBAaWYgJGV4dHJhID09IG51bGwge1xuICAgICAgICAkZXh0cmE6ICR0cmFuc2Zvcm07XG4gICAgICB9IEBlbHNlIHtcbiAgICAgICAgJGV4dHJhOiAkZXh0cmEgJHRyYW5zZm9ybTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBAaWYgJHggPT0gJzAnIG9yICR4ID09IG51bGwge1xuICAgIEBpbmNsdWRlIG11bHRpLWRpcigpIHtcbiAgICAgIHRyYW5zZm9ybTogJGx0ci10cmFuc2xhdGUgJGV4dHJhO1xuICAgIH1cbiAgfSBAZWxzZSB7XG4gICAgQGluY2x1ZGUgbHRyKCkge1xuICAgICAgdHJhbnNmb3JtOiAkbHRyLXRyYW5zbGF0ZSAkZXh0cmE7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgcnRsKCkge1xuICAgICAgdHJhbnNmb3JtOiAkcnRsLXRyYW5zbGF0ZSAkZXh0cmE7XG4gICAgfVxuICB9XG59XG4iLCIvKipcbiAqIEltcG9ydGVkIGlvbmljIG1peGlucyBmb3IgU0NTUyBmcm9tIGRpZmZlcmVudCBjb21wb25lbnRzXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gKiBFeHRyYWN0ZWQgZnJvbVxuICogaHR0cHM6Ly9naXRodWIuY29tL2lvbmljLXRlYW0vaW9uaWMtZnJhbWV3b3JrL2Jsb2IvbWFzdGVyL2NvcmUvc3JjL2NvbXBvbmVudHMvZ3JpZC9ncmlkLm1peGlucy5zY3NzXG4gKiBodHRwczovL2dpdGh1Yi5jb20vaW9uaWMtdGVhbS9pb25pYy1mcmFtZXdvcmsvYmxvYi9tYXN0ZXIvY29yZS9zcmMvY29tcG9uZW50cy9pdGVtL2l0ZW0ubWl4aW5zLnNjc3NcbiAqL1xuXG4vLyBSZXNwb25zaXZlIE1peGluc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuXG4vLyBDcmVhdGVzIGEgZml4ZWQgd2lkdGggZm9yIHRoZSBncmlkIGJhc2VkIG9uIHRoZSBzY3JlZW4gc2l6ZVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbkBtaXhpbiBtYWtlLWdyaWQtd2lkdGhzKCR3aWR0aHM6ICRncmlkLXdpZHRocywgJGJyZWFrcG9pbnRzOiAkc2NyZWVuLWJyZWFrcG9pbnRzKSB7XG4gIEBlYWNoICRicmVha3BvaW50LCAkd2lkdGggaW4gJHdpZHRocyB7XG4gICAgQGluY2x1ZGUgbWVkaWEtYnJlYWtwb2ludC11cCgkYnJlYWtwb2ludCwgJGJyZWFrcG9pbnRzKSB7XG4gICAgICB3aWR0aDogJHdpZHRoO1xuICAgIH1cbiAgfVxuXG4gIG1heC13aWR0aDogMTAwJTtcbn1cblxuXG4vLyBBZGRzIHBhZGRpbmcgdG8gdGhlIGVsZW1lbnQgYmFzZWQgb24gYnJlYWtwb2ludHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5AbWl4aW4gbWFrZS1icmVha3BvaW50LXBhZGRpbmcoJHBhZGRpbmdzKSB7XG4gIEBlYWNoICRicmVha3BvaW50IGluIG1hcC1rZXlzKCRwYWRkaW5ncykge1xuICAgIEBpbmNsdWRlIG1lZGlhLWJyZWFrcG9pbnQtdXAoJGJyZWFrcG9pbnQpIHtcbiAgICAgICRwYWRkaW5nOiBtYXAtZ2V0KCRwYWRkaW5ncywgJGJyZWFrcG9pbnQpO1xuXG4gICAgICBAaW5jbHVkZSBwYWRkaW5nKCRwYWRkaW5nKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vLyBJdGVtIE1peGluc1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuQG1peGluIGl0ZW0tcHVzaC1zdmctdXJsKCRmaWxsKSB7XG4gICRpdGVtLWRldGFpbC1wdXNoLXN2ZzogXCI8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDEyIDIwJz48cGF0aCBkPSdNMiwyMGwtMi0ybDgtOEwwLDJsMi0ybDEwLDEwTDIsMjB6JyBmaWxsPScjeyRmaWxsfScvPjwvc3ZnPlwiO1xuXG4gIEBpbmNsdWRlIHN2Zy1iYWNrZ3JvdW5kLWltYWdlKCRpdGVtLWRldGFpbC1wdXNoLXN2ZywgdHJ1ZSk7XG59XG4iLCJAdXNlIFwic2FzczptYXRoXCIgYXMgbWF0aDtcblxuLyoqXG4gKiBBcHAgY3VzdG9tIG1peGlucyBmb3IgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUGxhY2UgaGVyZSBvdXIgY3VzdG9tIG1peGlucy5cbiAqL1xuXG4vLyBNaXhlcyBhIGNvbG9yIHdpdGggYmxhY2sgdG8gY3JlYXRlIGl0cyBzaGFkZS5cbi8vIERlZmF1bHQgdG8gYm9vdHN0cmFwIGxldmVsIDYuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuQGZ1bmN0aW9uIGdldC1jb2xvci1zaGFkZS1wZXJjZW50KCRjb2xvciwgJHBlcmNlbnQ6IDQ4JSkge1xuICAgIEByZXR1cm4gbWl4KCMwMDAsICRjb2xvciwgJHBlcmNlbnQpO1xufVxuXG4vLyBNaXhlcyBhIGNvbG9yIHdpdGggd2hpdGUgdG8gY3JlYXRlIGl0cyB0aW50LlxuLy8gRGVmYXVsdCB0byBib290c3RyYXAgbGV2ZWwgLTEwLlxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbkBmdW5jdGlvbiBnZXQtY29sb3ItdGludC1wZXJjZW50KCRjb2xvciwgJHBlcmNlbnQ6IDgwJSkge1xuICAgIEByZXR1cm4gbWl4KCNmZmYsICRjb2xvciwgJHBlcmNlbnQpO1xufVxuXG4vLyBJb25pYyBDb2xvcnNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4vLyBHZW5lcmF0ZXMgdGhlIGNvbG9yIGNsYXNzZXMgYW5kIHZhcmlhYmxlcyBiYXNlZCBvbiB0aGVcbi8vIGNvbG9ycyBtYXBcblxuQG1peGluIGdlbmVyYXRlLWNvbG9yKCRjb2xvci1uYW1lLCAkY29sb3JzLCAkdGhlbWUpIHtcbiAgICAkY29sb3ItdGhlbWVzOiBtYXAtZ2V0KCRjb2xvcnMsICRjb2xvci1uYW1lKTtcbiAgICAkYmFzZTogbWFwLWdldCgkY29sb3ItdGhlbWVzLCAkdGhlbWUpO1xuXG4gICAgQGlmICR0aGVtZSA9PSAnZGFyaycge1xuICAgICAgICAkYmFzZTogbWl4KG1hcC1nZXQoJGNvbG9yLXRoZW1lcywgJ2xpZ2h0JyksIHdoaXRlLCA4MCUpICFkZWZhdWx0O1xuICAgIH1cblxuICAgIEBpbmNsdWRlIGdlbmVyYXRlLWNvbG9yLXZhcmlhbnRzKCRjb2xvci1uYW1lLCAkYmFzZSk7XG59XG5cbkBtaXhpbiBnZW5lcmF0ZS1jb2xvci12YXJpYW50cygkY29sb3ItbmFtZSwgJGJhc2UpIHtcbiAgICAkY29udHJhc3Q6IGdldF9jb250cmFzdF9jb2xvcigkYmFzZSk7XG4gICAgJHNoYWRlOiBnZXQtY29sb3Itc2hhZGUtcGVyY2VudCgkYmFzZSk7XG4gICAgJHRpbnQ6IGdldC1jb2xvci10aW50LXBlcmNlbnQoJGJhc2UpO1xuXG4gICAgLS0jeyRjb2xvci1uYW1lfTogI3skYmFzZX07XG4gICAgLS0jeyRjb2xvci1uYW1lfS1zaGFkZTogI3skc2hhZGV9O1xuICAgIC0tI3skY29sb3ItbmFtZX0tdGludDogI3skdGludH07XG4gICAgLS0jeyRjb2xvci1uYW1lfS1jb250cmFzdDogI3skY29udHJhc3R9O1xuXG4gICAgLy8gSW50ZXJuYWwgaW9uaWMgdXNlIG9ubHkuXG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX06IHZhcigtLSN7JGNvbG9yLW5hbWV9KTtcbiAgICAtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1iYXNlOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0pO1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXJnYjogI3tjb2xvci10by1yZ2ItbGlzdCgkYmFzZSl9O1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0OiAjeyRjb250cmFzdH07XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tY29udHJhc3QtcmdiOiAje2NvbG9yLXRvLXJnYi1saXN0KCRjb250cmFzdCl9O1xuICAgIC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LXNoYWRlOiAjeyRzaGFkZX07XG4gICAgLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tdGludDogI3skdGludH07XG5cbiAgICAuaW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9IHtcbiAgICAgICAgLS1pb24tY29sb3I6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfSk7XG4gICAgICAgIC0taW9uLWNvbG9yLWJhc2U6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1iYXNlKTtcbiAgICAgICAgLS1pb24tY29sb3ItcmdiOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tcmdiKTtcbiAgICAgICAgLS1pb24tY29sb3ItY29udHJhc3Q6IHZhcigtLWlvbi1jb2xvci0jeyRjb2xvci1uYW1lfS1jb250cmFzdCk7XG4gICAgICAgIC0taW9uLWNvbG9yLWNvbnRyYXN0LXJnYjogdmFyKC0taW9uLWNvbG9yLSN7JGNvbG9yLW5hbWV9LWNvbnRyYXN0LXJnYik7XG4gICAgICAgIC0taW9uLWNvbG9yLXNoYWRlOiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tc2hhZGUpO1xuICAgICAgICAtLWlvbi1jb2xvci10aW50OiB2YXIoLS1pb24tY29sb3ItI3skY29sb3ItbmFtZX0tdGludCk7XG4gICAgfVxufVxuXG5AbWl4aW4gY29yZS1mb2N1cygpIHtcbiAgICBvdXRsaW5lOiBub25lO1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgICAmOjphZnRlciB7XG4gICAgICAgIEBpbmNsdWRlIHBvc2l0aW9uKDAsIDAsIDAsIDApO1xuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgICAgIGNvbnRlbnQ6IFwiXCI7XG4gICAgICAgIG9wYWNpdHk6IDE7XG4gICAgICAgIHotaW5kZXg6IDE7XG4gICAgICAgIEBpbmNsdWRlIGNvcmUtZm9jdXMtc3R5bGUoKTtcbiAgICB9XG59XG5cbkBtaXhpbiBjb3JlLWZvY3VzLXN0eWxlKCkge1xuICAgIGJveC1zaGFkb3c6IGluc2V0IDAgMCB2YXIoLS1hMTF5LWZvY3VzLXdpZHRoKSAxcHggdmFyKC0tYTExeS1mb2N1cy1jb2xvcik7XG4gICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyLXJhZGl1cyk7XG4gICAgLy8gVGhpY2tlciBvcHRpb246XG4gICAgLy8gYm9yZGVyOiB2YXIoLS1hMTF5LWZvY3VzLXdpZHRoKSBzb2xpZCB2YXIoLS1hMTF5LWZvY3VzLWNvbG9yKTtcbn1cblxuQG1peGluIGNvcmUtdHJhbnNpdGlvbigkcHJvcGVydGllczogYWxsLCAkZHVyYXRpb246IDUwMG1zLCAkdGltaW5nLWZ1bmN0aW9uOiBlYXNlLWluLW91dCkge1xuICAgICR0cmFuc2l0aW9uczogKCk7XG4gICAgQGVhY2ggJHByb3BlcnR5IGluICRwcm9wZXJ0aWVzIHtcbiAgICAgICR0cmFuc2l0aW9uczogYXBwZW5kKCR0cmFuc2l0aW9ucywgJHByb3BlcnR5ICRkdXJhdGlvbiAkdGltaW5nLWZ1bmN0aW9uLCBjb21tYSk7XG4gICAgfVxuXG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiAkdHJhbnNpdGlvbnM7XG4gICAgdHJhbnNpdGlvbjogJHRyYW5zaXRpb25zO1xufVxuXG5AbWl4aW4gc3Itb25seSgpIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgd2lkdGg6IDFweDtcbiAgICBoZWlnaHQ6IDFweDtcbiAgICBwYWRkaW5nOiAwO1xuICAgIG1hcmdpbjogLTFweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIGNsaXA6IHJlY3QoMCwgMCwgMCwgMCk7XG4gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgICBib3JkZXI6IDA7XG59XG5cbi8qKlxuICogU2FtZSBhcyBpdGVtLXB1c2gtc3ZnLXVybCBidXQgYWRtaXRzIGZsaXAtcnRsXG4gKi9cbkBtaXhpbiBwdXNoLWFycm93LWNvbG9yKCRmaWxsOiA2MjYyNjIsICRmbGlwLXJ0bDogZmFsc2UpIHtcbiAgICAkaXRlbS1kZXRhaWwtcHVzaC1zdmc6IFwiPHN2ZyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHZpZXdCb3g9JzAgMCAxMiAyMCc+PHBhdGggZD0nTTIsMjBsLTItMmw4LThMMCwybDItMmwxMCwxMEwyLDIweicgZmlsbD0nI3skZmlsbH0nLz48L3N2Zz5cIjtcblxuICAgIEBpbmNsdWRlIHN2Zy1iYWNrZ3JvdW5kLWltYWdlKCRpdGVtLWRldGFpbC1wdXNoLXN2ZywgJGZsaXAtcnRsKTtcbn1cblxuQG1peGluIGJvcmRlci1zdGFydCgkcHgsICR0eXBlOiBudWxsLCAkY29sb3I6IG51bGwpIHtcbiAgICBAaW5jbHVkZSBwcm9wZXJ0eS1ob3Jpem9udGFsKGJvcmRlciwgJHB4ICR0eXBlICRjb2xvciwgbnVsbCk7XG59XG5cbkBtaXhpbiBib3JkZXItZW5kKCRweCwgJHR5cGU6IG51bGwsICRjb2xvcjogbnVsbCkge1xuICAgIEBpbmNsdWRlIHByb3BlcnR5LWhvcml6b250YWwoYm9yZGVyLCBudWxsLCAkcHggJHR5cGUgJGNvbG9yKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1ib3JkZXItc3RhcnQoJHB4LCAkdHlwZSwgJGNvbG9yKSB7XG4gICAgJHNhZmUtYXJlYS1wb3NpdGlvbjogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skcHh9KTtcblxuICAgIEBpbmNsdWRlIGJvcmRlci1zdGFydCgkc2FmZS1hcmVhLXBvc2l0aW9uLCAkdHlwZSwgJGNvbG9yKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1ib3JkZXItZW5kKCRweCwgJHR5cGUsICRjb2xvcikge1xuICAgICRzYWZlLWFyZWEtcG9zaXRpb246IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRweH0pO1xuXG4gICAgQGluY2x1ZGUgYm9yZGVyLWVuZCgkc2FmZS1hcmVhLXBvc2l0aW9uLCAkdHlwZSwgJGNvbG9yKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1tYXJnaW4taG9yaXpvbnRhbCgkc3RhcnQsICRlbmQ6ICRzdGFydCkge1xuICAgICRzYWZlLWFyZWEtZW5kOiBudWxsO1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IG51bGw7XG5cbiAgICBAaWYgKCRlbmQpIHtcbiAgICAgICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcbiAgICB9XG4gICAgQGlmICgkc3RhcnQpIHtcbiAgICAgICAgJHNhZmUtYXJlYS1zdGFydDogY2FsYyh2YXIoLS1pb24tc2FmZS1hcmVhLWxlZnQpICsgI3skc3RhcnR9KTtcbiAgICB9XG5cbiAgICBAaW5jbHVkZSBtYXJnaW4taG9yaXpvbnRhbCgkc2FmZS1hcmVhLXN0YXJ0LCAkc2FmZS1hcmVhLWVuZCk7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtbWFyZ2luLXN0YXJ0KCRzdGFydCwgJGVuZCkge1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XG5cbiAgICBAaW5jbHVkZSBtYXJnaW4taG9yaXpvbnRhbCgkc2FmZS1hcmVhLXN0YXJ0LCAkZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1tYXJnaW4tZW5kKCRzdGFydCwgJGVuZCkge1xuICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XG5cbiAgICBAaW5jbHVkZSBtYXJnaW4taG9yaXpvbnRhbCgkc3RhcnQsICRzYWZlLWFyZWEtZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1wYWRkaW5nLWhvcml6b250YWwoJHN0YXJ0LCAkZW5kOiAkc3RhcnQpIHtcbiAgICAkc2FmZS1hcmVhLWVuZDogbnVsbDtcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBudWxsO1xuXG4gICAgQGlmICgkZW5kKSB7XG4gICAgICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XG4gICAgfVxuICAgIEBpZiAoJHN0YXJ0KSB7XG4gICAgICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XG4gICAgfVxuXG4gICAgQGluY2x1ZGUgcGFkZGluZy1ob3Jpem9udGFsKCRzYWZlLWFyZWEtc3RhcnQsICRzYWZlLWFyZWEtZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1wYWRkaW5nLXN0YXJ0KCRzdGFydCwgJGVuZCkge1xuICAgICRzYWZlLWFyZWEtc3RhcnQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1sZWZ0KSArICN7JHN0YXJ0fSk7XG5cbiAgICBAaW5jbHVkZSBwYWRkaW5nLWhvcml6b250YWwoJHNhZmUtYXJlYS1zdGFydCwgJGVuZCk7XG59XG5cbkBtaXhpbiBzYWZlLWFyZWEtcGFkZGluZy1lbmQoJHN0YXJ0LCAkZW5kKSB7XG4gICAgJHNhZmUtYXJlYS1lbmQ6IGNhbGModmFyKC0taW9uLXNhZmUtYXJlYS1yaWdodCkgKyAjeyRlbmR9KTtcblxuICAgIEBpbmNsdWRlIHBhZGRpbmctaG9yaXpvbnRhbCgkc3RhcnQsICRzYWZlLWFyZWEtZW5kKTtcbn1cblxuQG1peGluIHNhZmUtYXJlYS1wb3NpdGlvbigkdG9wOiBudWxsLCAkZW5kOiBudWxsLCAkYm90dG9tOiBudWxsLCAkc3RhcnQ6IG51bGwpIHtcbiAgICAkc2FmZS1hcmVhLXN0YXJ0OiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtbGVmdCkgKyAjeyRzdGFydH0pO1xuICAgICRzYWZlLWFyZWEtZW5kOiBjYWxjKHZhcigtLWlvbi1zYWZlLWFyZWEtcmlnaHQpICsgI3skZW5kfSk7XG5cbiAgICBAaW5jbHVkZSBwb3NpdGlvbigkdG9wLCAkc2FmZS1hcmVhLWVuZCwgJGJvdHRvbSwgJHNhZmUtYXJlYS1zdGFydCk7XG59XG5cbkBtaXhpbiBjb3JlLWhlYWRpbmdzKCkge1xuICAgIGgxIHtcbiAgICAgICAgZm9udC1zaXplOiAyNnB4O1xuICAgIH1cbiAgICBoMiwgLml0ZW0taGVhZGluZyB7XG4gICAgICAgIGZvbnQtc2l6ZTogMjRweDtcbiAgICB9XG4gICAgaDMge1xuICAgICAgICBmb250LXNpemU6IDIycHg7XG4gICAgfVxuICAgIGg0IHtcbiAgICAgICAgZm9udC1zaXplOiAyMHB4O1xuICAgIH1cbiAgICBoNSB7XG4gICAgICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICB9XG4gICAgaDYge1xuICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgfVxufVxuXG5AbWl4aW4gZGFya21vZGUoKSB7XG4gICAgJHJvb3Q6ICN7Jn07XG5cbiAgICBAYXQtcm9vdCAje2FkZC1yb290LXNlbGVjdG9yKCRyb290LCBcImh0bWwuZGFya1wiKX0ge1xuICAgICAgICBAY29udGVudDtcbiAgICB9XG59XG5cbkBtaXhpbiBob3Jpem9udGFsX3Njcm9sbF9pdGVtKCR3aWR0aCwgJG1pbi13aWR0aCwgJG1heC13aWR0aCkge1xuICAgIGZsZXg6IDAgMCAkd2lkdGg7XG4gICAgbWluLXdpZHRoOiAkbWluLXdpZHRoO1xuICAgIG1heC13aWR0aDogJG1heC13aWR0aDtcbiAgICBhbGlnbi1zZWxmOiBzdHJldGNoO1xuICAgIGRpc3BsYXk6IGJsb2NrO1xuXG4gICAgaW9uLWNhcmQge1xuICAgICAgICAtLXZlcnRpY2FsLW1hcmdpbjogMTBweDtcbiAgICAgICAgLS1ob3Jpem9udGFsLW1hcmdpbjogMTBweDtcblxuICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gdmFyKC0taG9yaXpvbnRhbC1tYXJnaW4pIC0gdmFyKC0taG9yaXpvbnRhbC1tYXJnaW4pKTtcbiAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSB2YXIoLS12ZXJ0aWNhbC1tYXJnaW4pIC0gdmFyKC0tdmVydGljYWwtbWFyZ2luKSk7XG4gICAgICAgIG1hcmdpbjogdmFyKC0tdmVydGljYWwtbWFyZ2luKSB2YXIoLS1ob3Jpem9udGFsLW1hcmdpbik7XG5cbiAgICAgICAgQG1lZGlhIChtYXgtd2lkdGg6IDM2MHB4KSB7XG4gICAgICAgICAgICAtLWhvcml6b250YWwtbWFyZ2luOiA2cHg7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIENvbG9yIG1peGlucy5cbkBmdW5jdGlvbiBnZXRfYnJpZ2h0bmVzcygkY29sb3IpIHtcbiAgICBAcmV0dXJuIG1hdGguZGl2KHJlZCgkY29sb3IpICsgZ3JlZW4oJGNvbG9yKSArIGJsdWUoJGNvbG9yKSwgMyk7XG59XG5cbi8vIEdldCB0aGUgYmV0dGVyIGNvbG9yIGNvbnRyYXN0IHVzaW5nIFdDQUcgYWxnb3J5dGhtLlxuQGZ1bmN0aW9uIGdldF9jb250cmFzdF9jb2xvcigkY29sb3IpIHtcbiAgICAkbHVtaWFuY2U6IGx1bWluYW5jZSgkY29sb3IpO1xuXG4gICAgLy8gV2hpdGUgbHVtaWFuY2UgaXMgMS5cbiAgICAkd2hpdGVDb250cmFzdDogbWF0aC5kaXYoJGx1bWlhbmNlICsgMC4wNSwgMSArIDAuMDUpO1xuICAgIC8vIFdoaXRlIGx1bWlhbmNlIGlzIDAuXG4gICAgJGJsYWNrQ29udHJhc3Q6IG1hdGguZGl2KDAuMDUsICRsdW1pYW5jZSArIDAuMDUpO1xuXG4gICAgQHJldHVybiBpZigkd2hpdGVDb250cmFzdCA8ICRibGFja0NvbnRyYXN0LCB3aGl0ZSwgYmxhY2spO1xufVxuXG4vLyBDb2xvciBjb250cmFzdCB1c2luZyB5aXEgYXByb3hpbWF0aW9uIHdpdGggMTUwIHRocmVzaG9sZC5cbkBmdW5jdGlvbiBnZXRfY29udHJhc3RfY29sb3JfeWlxKCRjb2xvciwgJGRhcms6IGJsYWNrLCAkbGlnaHQ6IHdoaXRlKSB7XG4gICAgJHI6IHJlZCgkY29sb3IpO1xuICAgICRnOiBncmVlbigkY29sb3IpO1xuICAgICRiOiBibHVlKCRjb2xvcik7XG5cbiAgICAkeWlxOiBtYXRoLmRpdigoJHIgKiAyOTkpICsgKCRnICogNTg3KSArICgkYiAqIDExNCksIDEwMDApO1xuXG4gICAgQHJldHVybiBpZigkeWlxID49IDEyOCwgJGRhcmssICRsaWdodCk7XG59XG5cbi8vIFdDQUcgY29udHJhc3QgYWxnb3JpdGhtXG5AZnVuY3Rpb24gY2hlY2stY29udHJhc3QoJGZvcmVncm91bmQsICRiYWNrZ3JvdW5kKSB7XG4gICAgJGZvcmVncm91bmRMdW1pYW5jZTogbHVtaW5hbmNlKCRmb3JlZ3JvdW5kKTtcbiAgICAkYmFja2dyb3VuZEx1bWluYW5jZTogbHVtaW5hbmNlKCRiYWNrZ3JvdW5kKTtcblxuICAgIEBpZiAoJGJhY2tncm91bmRMdW1pbmFuY2UgPCAkZm9yZWdyb3VuZEx1bWlhbmNlKSB7XG4gICAgICAgIEByZXR1cm4gbWF0aC5kaXYoJGJhY2tncm91bmRMdW1pbmFuY2UgKyAwLjA1LCAkZm9yZWdyb3VuZEx1bWlhbmNlICsgMC4wNSk7XG4gICAgfSBAZWxzZSB7XG4gICAgICAgIEByZXR1cm4gbWF0aC5kaXYoJGZvcmVncm91bmRMdW1pYW5jZSArIDAuMDUsICRiYWNrZ3JvdW5kTHVtaW5hbmNlICsgMC4wNSk7XG4gICAgfVxufVxuXG5AZnVuY3Rpb24gbHVtaW5hbmNlKCRjb2xvcikge1xuICAgICRyOiByZWQoJGNvbG9yKTtcbiAgICAkZzogZ3JlZW4oJGNvbG9yKTtcbiAgICAkYjogYmx1ZSgkY29sb3IpO1xuXG4gICAgJHI6IGNvbXBvbmVudC1sdW1pbmFuY2UoJHIpO1xuICAgICRnOiBjb21wb25lbnQtbHVtaW5hbmNlKCRnKTtcbiAgICAkYjogY29tcG9uZW50LWx1bWluYW5jZSgkYik7XG5cbiAgICBAcmV0dXJuICRyICogMC4yMTI2ICsgJGcgKiAwLjcxNTIgKyAkYiAqIDAuMDcyMjtcbn1cblxuQGZ1bmN0aW9uIGNvbXBvbmVudC1sdW1pbmFuY2UoJHZhbHVlKSB7XG4gICAgJHZhbHVlOiBtYXRoLmRpdigkdmFsdWUsIDI1NSk7XG5cbiAgICBAaWYgKCR2YWx1ZSA8PSAwLjAzOTI4KSB7XG4gICAgICAgIEByZXR1cm4gbWF0aC5kaXYoJHZhbHVlLCAxMi45Mik7XG4gICAgfSBAZWxzZSB7XG4gICAgICAgIEByZXR1cm4gbWF0aC5wb3cobWF0aC5kaXYoJHZhbHVlICsgMC4wNTUsIDEuMDU1KSwgMi40KTtcbiAgICB9XG59XG4iLCIvKlxuICogQXBwIEN1c3RvbSBBcHAgdmFyaWFibGVzIFNDU1NcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAqIFBsYWNlIGhlcmUgYWxsIGN1c3RvbSBhcHAgdmFyaWFibGVzLlxuICovXG4iLCIvKlxuICogQXBwIEdsb2JhbCB2YXJpYWJsZXMgU0NTU1xuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICogUGxhY2UgaGVyZSBhbGwgZ2xvYmFsIHZhcmlhYmxlcy5cbiAqL1xuXG4kd2hpdGU6ICAgICAgICNmZmZmZmYgIWRlZmF1bHQ7XG4kZ3JheS0xMDA6ICAgICNmOGY5ZmEgIWRlZmF1bHQ7XG4kZ3JheS0yMDA6ICAgICNlOWVjZWYgIWRlZmF1bHQ7XG4kZ3JheS0zMDA6ICAgICNkZWUyZTYgIWRlZmF1bHQ7IC8vIFN0cm9rZVxuJGdyYXktNDAwOiAgICAjY2VkNGRhICFkZWZhdWx0O1xuJGdyYXktNTAwOiAgICAjOGY5NTllICFkZWZhdWx0OyAvLyBTdHJva2Ugb24gaW5wdXRzXG4kZ3JheS02MDA6ICAgICM2YTczN2IgIWRlZmF1bHQ7XG4kZ3JheS03MDA6ICAgICM0OTUwNTcgIWRlZmF1bHQ7XG4kZ3JheS04MDA6ICAgICMzNDNhNDAgIWRlZmF1bHQ7XG4kZ3JheS05MDA6ICAgICMyODI4MjggIWRlZmF1bHQ7IC8vIENvcHkgdGV4dFxuJGJsYWNrOiAgICAgICAjMDAwMDAwICFkZWZhdWx0OyAvLyBBdm9pZCB1c2FnZVxuXG4kYmx1ZTogICAgICAgICMwZjZjYmYgIWRlZmF1bHQ7XG4kY3lhbjogICAgICAgICMwMDgxOTYgIWRlZmF1bHQ7IC8vIE5vdCB1c2VkLlxuJGdyZWVuOiAgICAgICAjMzU3YTMyICFkZWZhdWx0O1xuJHJlZDogICAgICAgICAjY2EzMTIwICFkZWZhdWx0O1xuJHllbGxvdzogICAgICAjZjBhZDRlICFkZWZhdWx0O1xuXG4kYnJhbmQtY29sb3I6ICNmOTgwMTIgIWRlZmF1bHQ7XG5cbiR0ZXh0LWNvbG9yOiAgICAgICAgICAgICAgICRncmF5LTkwMCAhZGVmYXVsdDtcbiR0ZXh0LWNvbG9yLXJnYjogICAgICAgICAgIGNvbG9yLXRvLXJnYi1saXN0KCR0ZXh0LWNvbG9yKSAhZGVmYXVsdDtcbiR0ZXh0LWNvbG9yLWRhcms6ICAgICAgICAgICR3aGl0ZSAhZGVmYXVsdDtcbiR0ZXh0LWNvbG9yLWRhcmstcmdiOiAgICAgIGNvbG9yLXRvLXJnYi1saXN0KCR0ZXh0LWNvbG9yLWRhcmspICFkZWZhdWx0O1xuXG4kYmFja2dyb3VuZC1jb2xvcjogICAgICAgICAgJHdoaXRlICFkZWZhdWx0O1xuJGJhY2tncm91bmQtY29sb3ItcmdiOiAgICAgIGNvbG9yLXRvLXJnYi1saXN0KCRiYWNrZ3JvdW5kLWNvbG9yKSAhZGVmYXVsdDtcbiRiYWNrZ3JvdW5kLWNvbG9yLWRhcms6ICAgICAkZ3JheS05MDAgIWRlZmF1bHQ7IC8vICMxYTFhMWFcbiRiYWNrZ3JvdW5kLWNvbG9yLWRhcmstcmdiOiBjb2xvci10by1yZ2ItbGlzdCgkYmFja2dyb3VuZC1jb2xvci1kYXJrKSAhZGVmYXVsdDtcblxuJGlvbi1pdGVtLWJhY2tncm91bmQ6ICAgICAgJHdoaXRlICFkZWZhdWx0O1xuJGlvbi1pdGVtLWJhY2tncm91bmQtcmdiOiAgY29sb3ItdG8tcmdiLWxpc3QoJGlvbi1pdGVtLWJhY2tncm91bmQpICFkZWZhdWx0O1xuJGlvbi1pdGVtLWJhY2tncm91bmQtZGFyazogJGdyYXktOTAwICFkZWZhdWx0O1xuJGlvbi1pdGVtLWJhY2tncm91bmQtZGFyay1yZ2I6IGNvbG9yLXRvLXJnYi1saXN0KCRpb24taXRlbS1iYWNrZ3JvdW5kLWRhcmspICFkZWZhdWx0O1xuXG4kcHJpbWFyeTogICAgJGJyYW5kLWNvbG9yICFkZWZhdWx0O1xuJHNlY29uZGFyeTogICRncmF5LTMwMCAhZGVmYXVsdDtcbiRkYW5nZXI6ICAgICAkcmVkICFkZWZhdWx0O1xuJHdhcm5pbmc6ICAgICR5ZWxsb3cgIWRlZmF1bHQ7XG4kc3VjY2VzczogICAgJGdyZWVuICFkZWZhdWx0O1xuJGluZm86ICAgICAgICRibHVlICFkZWZhdWx0O1xuJGxpZ2h0OiAgICAgICRncmF5LTEwMCAhZGVmYXVsdDtcbiRtZWRpdW06ICAgICAkZ3JheS03MDAgIWRlZmF1bHQ7XG4kZGFyazogICAgICAgJGdyYXktOTAwICFkZWZhdWx0O1xuXG4kY29sb3JzOiAgKFxuICAgIHByaW1hcnk6IChsaWdodDogJHByaW1hcnksIGRhcms6ICRwcmltYXJ5KSxcbiAgICBzZWNvbmRhcnk6IChsaWdodDogJHNlY29uZGFyeSwgZGFyazogJGdyYXktNzAwKSxcbiAgICBzdWNjZXNzOiAobGlnaHQ6ICRzdWNjZXNzKSxcbiAgICB3YXJuaW5nOiAobGlnaHQ6ICR3YXJuaW5nKSxcbiAgICBkYW5nZXI6ICAobGlnaHQ6ICRkYW5nZXIpLFxuICAgIGluZm86IChsaWdodDogJGluZm8pLFxuICAgIGxpZ2h0OiAobGlnaHQ6ICRsaWdodCwgZGFyazogJGRhcmspLFxuICAgIG1lZGl1bTogKGxpZ2h0OiAkbWVkaXVtLCBkYXJrOiAkZ3JheS0yMDApLFxuICAgIGRhcms6IChsaWdodDogJGRhcmssIGRhcms6ICRsaWdodCksXG4pICFkZWZhdWx0O1xuXG4vKipcbiAqIExheW91dCBCcmVha3BvaW50c1xuICpcbiAqIGh0dHBzOi8vaW9uaWNmcmFtZXdvcmsuY29tL2RvY3MvbGF5b3V0L2dyaWQjZGVmYXVsdC1icmVha3BvaW50c1xuICovXG5cbi8vIFRoZSBtaW5pbXVtIGRpbWVuc2lvbnMgYXQgd2hpY2ggeW91ciBsYXlvdXQgd2lsbCBjaGFuZ2UsXG4vLyBhZGFwdGluZyB0byBkaWZmZXJlbnQgc2NyZWVuIHNpemVzLCBmb3IgdXNlIGluIG1lZGlhIHF1ZXJpZXNcbiRzY3JlZW4tYnJlYWtwb2ludHM6IChcbiAgICB4czogMHB4LFxuICAgIHNtOiA1NzZweCxcbiAgICBtZDogNzY4cHgsXG4gICAgbGc6IDk5MnB4LFxuICAgIHRhYmxldDogOTkycHgsXG4gICAgeGw6IDEyMDBweFxuKSAhZGVmYXVsdDtcblxuJGNvcmUtY291cnNlLWltYWdlLWJhY2tncm91bmQ6ICM4MWVjZWMsICM3NGI5ZmYsICNhMjliZmUsICNkZmU2ZTksICMwMGI4OTQsICMwOTg0ZTMsICNiMmJlYzMsICNmZGNiNmUsICNmZDc5YTgsICM2YzVjZTcgIWRlZmF1bHQ7XG4kY29yZS1kZC1xdWVzdGlvbi1jb2xvcnM6ICNGRkZGRkYsICNCMEM0REUsICNEQ0RDREMsICNEOEJGRDgsICM4N0NFRkEsICNEQUE1MjAsICNGRkQ3MDAsICNGMEU2OEMgIWRlZmF1bHQ7XG4kY29yZS10ZXh0LWhpZ2h0bGlnaHQtYmFja2dyb3VuZC1jb2xvcjogbGlnaHRlbigkYmx1ZSwgNDAlKSAhZGVmYXVsdDtcblxuJGNvcmUtZml4ZWQtdXJsOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWRhc2hib2FyZC1sb2dvOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWFsd2F5cy1zaG93LW1haW4tbWVudTogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1mb3JtYXQtdGV4dC1uZXZlci1zaG9ydGVuOiBmYWxzZSAhZGVmYXVsdDtcblxuJGNvcmUtaGlkZS1jb3Vyc2VpbWFnZS1vbi1jb3Vyc2U6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtaGlkZS1wcm9ncmVzcy1vbi1jb3Vyc2U6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtaGlkZS1wcm9ncmVzcy1vbi1zZWN0aW9uLXNlbGVjdG9yOiBmYWxzZSAhZGVmYXVsdDtcblxuJGNvcmUtY291cnNlLWhpZGUtdGh1bWItb24tY2FyZHM6IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtY291cnNlLXRodW1iLW9uLWNhcmRzLWJhY2tncm91bmQ6IG51bGwgIWRlZmF1bHQ7XG4kY29yZS1jb3Vyc2UtaGlkZS1wcm9ncmVzcy1vbi1jYXJkczogZmFsc2UgIWRlZmF1bHQ7XG5cbi8vIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgbG9naW4gcGFnZS5cbiRjb3JlLWxvZ2luLWJ1dHRvbi1vdXRsaW5lOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLWxvZ2luLWJ1dHRvbi1vdXRsaW5lLWRhcms6ICRjb3JlLWxvZ2luLWJ1dHRvbi1vdXRsaW5lICFkZWZhdWx0O1xuJGNvcmUtbG9naW4tbG9hZGluZy1jb2xvcjogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1sb2FkaW5nLWNvbG9yLWRhcms6ICR0ZXh0LWNvbG9yLWRhcmsgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1oaWRlLWZvcmdvdC1wYXNzd29yZDogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1oaWRlLW5lZWQtaGVscDogZmFsc2UgIWRlZmF1bHQ7XG4kY29yZS1sb2dpbi1oaWRlLXFyY29kZTogZmFsc2UgIWRlZmF1bHQ7XG5cbi8vIENvbmZpZ3VyYXRpb24gb3B0aW9ucyBmb3IgbW9yZSBwYWdlLiAoZGVwcmVjYXRlZCBvbiA0LjApXG4kY29yZS1tb3JlLWhpZGUtc2l0ZWluZm86IGZhbHNlICFkZWZhdWx0O1xuJGNvcmUtbW9yZS1oaWRlLXNpdGVuYW1lOiBmYWxzZSAhZGVmYXVsdDtcbiRjb3JlLW1vcmUtaGlkZS1zaXRldXJsOiBmYWxzZSAhZGVmYXVsdDtcblxuLy8gQ29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB1c2VyIHBhZ2UuXG4kY29yZS11c2VyLWhpZGUtc2l0ZWluZm86ICRjb3JlLW1vcmUtaGlkZS1zaXRlaW5mbyAhZGVmYXVsdDtcbiRjb3JlLXVzZXItaGlkZS1zaXRlbmFtZTogJGNvcmUtbW9yZS1oaWRlLXNpdGVuYW1lICFkZWZhdWx0O1xuJGNvcmUtdXNlci1oaWRlLXNpdGV1cmw6ICRjb3JlLW1vcmUtaGlkZS1zaXRldXJsICFkZWZhdWx0O1xuXG4vLyBBY3Rpdml0eSBpY29uIGJhY2tncm91bmQgY29sb3JzLlxuJGFjdGl2aXR5LWljb24tY29sb3JzOiAoXG4gICAgYWRtaW5pc3RyYXRpb246ICM1ZDYzZjYsXG4gICAgYXNzZXNzbWVudDogI2ViNjZhMixcbiAgICBjb2xsYWJvcmF0aW9uOiAjZjc2MzRkLFxuICAgIGNvbW11bmljYXRpb246ICMxMWE2NzYsXG4gICAgY29udGVudDogIzM5OWJlMixcbiAgICBpbnRlcmZhY2U6ICNhMzc4ZmZcbikgIWRlZmF1bHQ7XG5cbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jYXRlZ29yeTogIzhlMjRhYSAhZGVmYXVsdDtcbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jb3Vyc2U6ICRyZWQgIWRlZmF1bHQ7XG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktZ3JvdXA6ICR5ZWxsb3cgIWRlZmF1bHQ7XG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktdXNlcjogJGJsdWUgIWRlZmF1bHQ7XG4kY2FsZW5kYXItZXZlbnQtY2F0ZWdvcnktc2l0ZTogJGdyZWVuICFkZWZhdWx0O1xuXG4vLyBDYWxlbmRhciBldmVudCBjYXRlZ29yeSBiYWNrZ3JvdW5kIGNvbG9ycy5cbiRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1jb2xvcnM6IChcbiAgICBjYXRlZ29yeTogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNhdGVnb3J5LFxuICAgIGNvdXJzZTogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWNvdXJzZSxcbiAgICBncm91cDogJGNhbGVuZGFyLWV2ZW50LWNhdGVnb3J5LWdyb3VwLFxuICAgIHVzZXI6ICRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS11c2VyLFxuICAgIHNpdGU6ICRjYWxlbmRhci1ldmVudC1jYXRlZ29yeS1zaXRlLFxuKSAhZGVmYXVsdDtcbiIsIkB1c2UgXCJ0aGVtZS9nbG9iYWxzXCIgYXMgKjtcblxuLy8vIEBwcm9wIC0gVGhlIHBhZGRpbmcgZm9yIHRoZSBncmlkIGNvbHVtblxuJGdyaWQtY29sdW1uLXBhZGRpbmc6ICAgICAgICB2YXIoLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZywgNXB4KSAhZGVmYXVsdDtcblxuLy8vIEBwcm9wIC0gVGhlIHBhZGRpbmcgZm9yIHRoZSBjb2x1bW4gYXQgZGlmZmVyZW50IGJyZWFrcG9pbnRzXG4kZ3JpZC1jb2x1bW4tcGFkZGluZ3M6IChcbiAgeHM6IHZhcigtLWlvbi1ncmlkLWNvbHVtbi1wYWRkaW5nLXhzLCAkZ3JpZC1jb2x1bW4tcGFkZGluZyksXG4gIHNtOiB2YXIoLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZy1zbSwgJGdyaWQtY29sdW1uLXBhZGRpbmcpLFxuICBtZDogdmFyKC0taW9uLWdyaWQtY29sdW1uLXBhZGRpbmctbWQsICRncmlkLWNvbHVtbi1wYWRkaW5nKSxcbiAgbGc6IHZhcigtLWlvbi1ncmlkLWNvbHVtbi1wYWRkaW5nLWxnLCAkZ3JpZC1jb2x1bW4tcGFkZGluZyksXG4gIHhsOiB2YXIoLS1pb24tZ3JpZC1jb2x1bW4tcGFkZGluZy14bCwgJGdyaWQtY29sdW1uLXBhZGRpbmcpXG4pICFkZWZhdWx0O1xuXG46aG9zdCB7XG4gICAgLS1ib3JkZXItY29sb3I6IHZhcigtLXN0cm9rZSk7XG59XG5cbi5hZGRvbi1kYXRhLWNvbnRlbnRzIHtcbiAgICBvdmVyZmxvdzogdmlzaWJsZTtcbiAgICB3aGl0ZS1zcGFjZTogbm9ybWFsO1xuICAgIHdvcmQtYnJlYWs6IGJyZWFrLXdvcmQ7XG4gICAgcGFkZGluZzogMTZweDtcblxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWlvbi1pdGVtLWJhY2tncm91bmQpO1xuICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCB2YXIoLS1ib3JkZXItY29sb3IpO1xuXG4gICAgOjpuZy1kZWVwIHtcbiAgICAgICAgdGFibGUsIHRib2R5IHtcbiAgICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xuICAgICAgICB9XG5cbiAgICAgICAgdHIge1xuICAgICAgICAgICAgLy8gSW1wb3J0ZWQgZm9ybSBpb24tcm93O1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGZsZXgtd3JhcDogd3JhcDtcblxuICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgIEBpbmNsdWRlIG1lZGlhLWJyZWFrcG9pbnQtZG93bihzbSkge1xuICAgICAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0ZCwgdGgge1xuICAgICAgICAgICAgLy8gSW1wb3J0ZWQgZm9ybSBpb24tY29sO1xuICAgICAgICAgICAgQGluY2x1ZGUgbWFrZS1icmVha3BvaW50LXBhZGRpbmcoJGdyaWQtY29sdW1uLXBhZGRpbmdzKTtcbiAgICAgICAgICAgIEBpbmNsdWRlIG1hcmdpbigwKTtcbiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gICAgICAgICAgICBmbGV4LWJhc2lzOiAwO1xuICAgICAgICAgICAgZmxleC1ncm93OiAxO1xuICAgICAgICAgICAgd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBtYXgtd2lkdGg6IDEwMCU7XG4gICAgICAgICAgICBtaW4taGVpZ2h0OiBhdXRvO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG8gbm90IGxldCBibG9jayBlbGVtZW50cyB0byBkZWZpbmUgd2lkdGhzIG9yIGhlaWdodHMuXG4gICAgICAgIGFkZHJlc3MsIGFydGljbGUsIGFzaWRlLCBibG9ja3F1b3RlLCBjYW52YXMsIGRkLCBkaXYsIGRsLCBkdCwgZmllbGRzZXQsIGZpZ2NhcHRpb24sIGZpZ3VyZSwgZm9vdGVyLCBmb3JtLFxuICAgICAgICBoMSwgaDIsIGgzLCBoNCwgaDUsIGg2LFxuICAgICAgICBoZWFkZXIsIGxpLCBtYWluLCBuYXYsIG5vc2NyaXB0LCBvbCwgcCwgcHJlLCBzZWN0aW9uLCB0YWJsZSwgdGZvb3QsIHVsLCB2aWRlbyB7XG4gICAgICAgICAgICB3aWR0aDogYXV0byAhaW1wb3J0YW50O1xuICAgICAgICAgICAgaGVpZ2h0OiBhdXRvICFpbXBvcnRhbnQ7XG4gICAgICAgICAgICBtaW4td2lkdGg6IGF1dG8gIWltcG9ydGFudDtcbiAgICAgICAgICAgIG1pbi1oZWlnaHQ6IGF1dG8gIWltcG9ydGFudDtcbiAgICAgICAgICAgIC8vIEF2b2lkIGhhdmluZyBvbmUgZW50cnkgb3ZlciBhbm90aGVyLlxuICAgICAgICAgICAgbWF4LWhlaWdodDogbm9uZSAhaW1wb3J0YW50O1xuICAgICAgICB9XG5cbiAgICAgICAgaHIge1xuICAgICAgICAgICAgYm9yZGVyLXRvcDogMXB4IHNvbGlkIHZhcigtLXN0cm9rZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"names":["CoreCommentsCommentsComponent","CoreComments","CoreCourse","IonContent","CoreGroups","CoreNavigator","CoreSites","CoreDomUtils","CoreUtils","CoreEvents","AddonModDataComponentsCompileModule","AddonModDataProvider","AddonModData","AddonModDataTemplateType","AddonModDataTemplateMode","AddonModDataHelper","AddonModDataSyncProvider","CoreAnalytics","CoreAnalyticsEventType","CoreTime","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","ɵɵpipeBind2","ɵɵpureFunction1","_c0","ctx_r0","moduleName","ɵɵlistener","AddonModDataEntryPage_div_15_Template_core_compile_html_compiling_2_listener","$event","ɵɵrestoreView","_r7","ctx_r6","ɵɵnextContext","ɵɵresetView","setRenderingEntry","ɵɵclassMapInterpolate1","ctx_r1","database","id","ɵɵpropertyInterpolate1","ɵɵproperty","csstemplate","entryHtml","jsData","extraImports","AddonModDataEntryPage_core_rating_rate_16_Template_core_rating_rate_onLoading_0_listener","_r9","ctx_r8","setLoadingRating","AddonModDataEntryPage_core_rating_rate_16_Template_core_rating_rate_onUpdate_0_listener","ctx_r10","ratingUpdated","ctx_r2","ratingInfo","coursemodule","entry","courseId","assessed","scale","userid","ctx_r3","AddonModDataEntryPage_core_comments_18_Template_core_comments_onLoading_0_listener","_r12","ctx_r11","setLoadingComments","ctx_r4","AddonModDataEntryPage_div_19_Template_ion_button_click_3_listener","_r14","ctx_r13","gotoEntry","offset","AddonModDataEntryPage_div_19_Template_ion_button_click_8_listener","ctx_r15","ctx_r5","hasPrevious","ɵɵattribute","ɵɵpipeBind1","hasNext","AddonModDataEntryPage","constructor","cdr","fields","fieldsArray","sortBy","sortDirection","moduleId","title","component","COMPONENT","entryLoaded","renderingEntry","loadingComments","loadingRating","selectedGroup","showComments","isPullingToRefresh","commentsEnabled","translateModuleName","siteId","getCurrentSiteId","syncObserver","on","AUTO_SYNCED","data","_this$database","entryId","undefined","offlineEntryId","dataId","deleted","back","fetchEntryData","entryChangedObserver","ENTRY_CHANGED","_this$database2","logView","once","performLogView","ngOnInit","_this","_asyncToGenerator","_CoreNavigator$getRou","getRequiredRouteNumberParam","getRouteNumberParam","getRouteParam","Number","isNaN","error","showErrorModal","areCommentsDisabledInSite","refresh","isPtr","_this2","getDatabase","name","getFields","cmId","arrayToObject","setEntryFromOffset","access","getDatabaseAccessInformation","groupInfo","getActivityGroupInfo","visibleGroups","groups","length","filter","group","defaultGroupId","validateGroupId","actions","getActions","SHOW","template","getTemplate","SINGLE","displayShowFields","comments","entries","refreshAllData","showErrorModalDefault","_this2$content","content","scrollToTop","_this3","_this4","promises","push","invalidateDatabaseData","invalidateEntryData","invalidateActivityGroupInfo","invalidateEntriesData","invalidateFieldsData","doRefresh","catch","Promise","all","finally","refreshDatabase","refresher","complete","setGroup","groupId","_this5","_this6","fetchEntry","ratinginfo","perPage","PER_PAGE","page","Math","floor","fetchEntries","sort","order","pageEntries","offlineEntries","concat","pageIndex","_entries$offlineEntri","_entries$offlineEntri2","_entries$entries","getEntries","getEntry","rendering","detectChanges","loading","_this7","ignoreErrors","storeModuleViewed","logEvent","type","VIEW_ITEM","ws","databaseid","category","url","ngOnDestroy","_this$syncObserver","_this$entryChangedObs","off","ɵɵdirectiveInject","ChangeDetectorRef","selectors","viewQuery","AddonModDataEntryPage_Query","rf","ctx","AddonModDataEntryPage_Template_ion_refresher_ionRefresh_9_listener","target","ɵɵtemplate","AddonModDataEntryPage_ion_card_13_Template","AddonModDataEntryPage_Template_core_group_selector_selectedChange_14_listener","AddonModDataEntryPage_div_15_Template","AddonModDataEntryPage_core_rating_rate_16_Template","AddonModDataEntryPage_core_rating_aggregate_17_Template","AddonModDataEntryPage_core_comments_18_Template","AddonModDataEntryPage_div_19_Template","ɵɵpropertyInterpolate","hasOffline","approval","approved"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/data/pages/entry/entry.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/addons/mod/data/pages/entry/entry.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, OnDestroy, ViewChild, ChangeDetectorRef, OnInit, Type } from '@angular/core';\nimport { CoreCommentsCommentsComponent } from '@features/comments/components/comments/comments';\nimport { CoreComments } from '@features/comments/services/comments';\nimport { CoreCourse } from '@features/course/services/course';\nimport { CoreRatingInfo } from '@features/rating/services/rating';\nimport { IonContent } from '@ionic/angular';\nimport { CoreGroups, CoreGroupInfo } from '@services/groups';\nimport { CoreNavigator } from '@services/navigator';\nimport { CoreSites } from '@services/sites';\nimport { CoreDomUtils } from '@services/utils/dom';\nimport { CoreUtils } from '@services/utils/utils';\nimport { CoreEventObserver, CoreEvents } from '@singletons/events';\nimport { AddonModDataComponentsCompileModule } from '../../components/components-compile.module';\nimport { AddonModDataProvider,\n    AddonModData,\n    AddonModDataData,\n    AddonModDataGetDataAccessInformationWSResponse,\n    AddonModDataField,\n    AddonModDataTemplateType,\n    AddonModDataTemplateMode,\n    AddonModDataEntry,\n} from '../../services/data';\nimport { AddonModDataHelper } from '../../services/data-helper';\nimport { AddonModDataSyncProvider } from '../../services/data-sync';\nimport { CoreAnalytics, CoreAnalyticsEventType } from '@services/analytics';\nimport { CoreTime } from '@singletons/time';\n\n/**\n * Page that displays the view entry page.\n */\n@Component({\n    selector: 'page-addon-mod-data-entry',\n    templateUrl: 'entry.html',\n    styleUrls: ['../../data.scss'],\n})\nexport class AddonModDataEntryPage implements OnInit, OnDestroy {\n\n    @ViewChild(IonContent) content?: IonContent;\n    @ViewChild(CoreCommentsCommentsComponent) comments?: CoreCommentsCommentsComponent;\n\n    protected entryId?: number;\n    protected syncObserver: CoreEventObserver; // It will observe the sync auto event.\n    protected entryChangedObserver: CoreEventObserver; // It will observe the changed entry event.\n    protected fields: Record<number, AddonModDataField> = {};\n    protected fieldsArray: AddonModDataField[] = [];\n    protected sortBy = 0;\n    protected sortDirection = 'DESC';\n    protected logView: () => void;\n\n    moduleId = 0;\n    courseId!: number;\n    offset?: number;\n    title = '';\n    moduleName = 'data';\n    component = AddonModDataProvider.COMPONENT;\n    entryLoaded = false;\n    renderingEntry = false;\n    loadingComments = false;\n    loadingRating = false;\n    selectedGroup = 0;\n    entry?: AddonModDataEntry;\n    hasPrevious = false;\n    hasNext = false;\n    access?: AddonModDataGetDataAccessInformationWSResponse;\n    database?: AddonModDataData;\n    groupInfo?: CoreGroupInfo;\n    showComments = false;\n    entryHtml = '';\n    siteId: string;\n    extraImports: Type<unknown>[] = [AddonModDataComponentsCompileModule];\n    jsData?: {\n        fields: Record<number, AddonModDataField>;\n        entries: Record<number, AddonModDataEntry>;\n        database: AddonModDataData;\n        title: string;\n        group: number;\n        access: AddonModDataGetDataAccessInformationWSResponse | undefined;\n    };\n\n    ratingInfo?: CoreRatingInfo;\n    isPullingToRefresh = false; // Whether the last fetching of data was started by a pull-to-refresh action\n    commentsEnabled = false;\n\n    constructor(\n        private cdr: ChangeDetectorRef,\n    ) {\n        this.moduleName = CoreCourse.translateModuleName('data');\n        this.siteId = CoreSites.getCurrentSiteId();\n\n        // Refresh data if this discussion is synchronized automatically.\n        this.syncObserver = CoreEvents.on(AddonModDataSyncProvider.AUTO_SYNCED, (data) => {\n            if (data.entryId === undefined) {\n                return;\n            }\n\n            if ((data.entryId == this.entryId || data.offlineEntryId == this.entryId) && this.database?.id == data.dataId) {\n                if (data.deleted) {\n                    // If deleted, go back.\n                    CoreNavigator.back();\n                } else {\n                    this.entryId = data.entryId;\n                    this.entryLoaded = false;\n                    this.fetchEntryData(true);\n                }\n            }\n        }, this.siteId);\n\n        // Refresh entry on change.\n        this.entryChangedObserver = CoreEvents.on(AddonModDataProvider.ENTRY_CHANGED, (data) => {\n            if (data.entryId == this.entryId && this.database?.id == data.dataId) {\n                if (data.deleted) {\n                    // If deleted, go back.\n                    CoreNavigator.back();\n                } else {\n                    this.entryLoaded = false;\n                    this.fetchEntryData(true);\n                }\n            }\n        }, this.siteId);\n\n        this.logView = CoreTime.once(() => this.performLogView());\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async ngOnInit(): Promise<void> {\n        try {\n            this.moduleId = CoreNavigator.getRequiredRouteNumberParam('cmId');\n            this.courseId = CoreNavigator.getRequiredRouteNumberParam('courseId');\n            this.entryId = CoreNavigator.getRouteNumberParam('entryId') || undefined;\n            this.title = CoreNavigator.getRouteParam<string>('title') || '';\n            this.selectedGroup = CoreNavigator.getRouteNumberParam('group') || 0;\n            this.offset = CoreNavigator.getRouteNumberParam('offset');\n            this.sortDirection = CoreNavigator.getRouteParam('sortDirection') ?? this.sortDirection;\n            const sortBy = Number(CoreNavigator.getRouteParam('sortBy'));\n            this.sortBy = isNaN(sortBy) ? this.sortBy : sortBy;\n        } catch (error) {\n            CoreDomUtils.showErrorModal(error);\n\n            CoreNavigator.back();\n\n            return;\n        }\n\n        this.commentsEnabled = !CoreComments.areCommentsDisabledInSite();\n\n        await this.fetchEntryData();\n    }\n\n    /**\n     * Fetch the entry data.\n     *\n     * @param refresh Whether to refresh the current data or not.\n     * @param isPtr Whether is a pull to refresh action.\n     * @returns Resolved when done.\n     */\n    protected async fetchEntryData(refresh = false, isPtr = false): Promise<void> {\n        this.isPullingToRefresh = isPtr;\n\n        try {\n            this.database = await AddonModData.getDatabase(this.courseId, this.moduleId);\n            this.title = this.database.name || this.title;\n\n            this.fieldsArray = await AddonModData.getFields(this.database.id, { cmId: this.moduleId });\n            this.fields = CoreUtils.arrayToObject(this.fieldsArray, 'id');\n\n            await this.setEntryFromOffset();\n\n            this.access = await AddonModData.getDatabaseAccessInformation(this.database.id, { cmId: this.moduleId });\n\n            this.groupInfo = await CoreGroups.getActivityGroupInfo(this.database.coursemodule);\n            if (this.groupInfo.visibleGroups && this.groupInfo.groups.length) {\n                // There is a bug in Moodle with All participants and visible groups (MOBILE-3597). Remove it.\n                this.groupInfo.groups = this.groupInfo.groups.filter(group => group.id !== 0);\n                this.groupInfo.defaultGroupId = this.groupInfo.groups[0].id;\n            }\n\n            this.selectedGroup = CoreGroups.validateGroupId(this.selectedGroup, this.groupInfo);\n\n            const actions = AddonModDataHelper.getActions(this.database, this.access, this.entry!, AddonModDataTemplateMode.SHOW);\n\n            const template = AddonModDataHelper.getTemplate(this.database, AddonModDataTemplateType.SINGLE, this.fieldsArray);\n            this.entryHtml = AddonModDataHelper.displayShowFields(\n                template,\n                this.fieldsArray,\n                this.entry!,\n                AddonModDataTemplateMode.SHOW,\n                actions,\n                {\n                    offset: this.offset,\n                    sortBy: this.sortBy,\n                    sortDirection: this.sortDirection,\n                },\n            );\n\n            this.showComments = actions.comments;\n\n            const entries: Record<number, AddonModDataEntry> = {};\n            entries[this.entryId!] = this.entry!;\n\n            // Pass the input data to the component.\n            this.jsData = {\n                fields: this.fields,\n                entries: entries,\n                database: this.database,\n                title: this.title,\n                group: this.selectedGroup,\n                access: this.access,\n            };\n\n            this.logView();\n        } catch (error) {\n            if (!refresh) {\n                // Some call failed, retry without using cache since it might be a new activity.\n                return this.refreshAllData(isPtr);\n            }\n\n            CoreDomUtils.showErrorModalDefault(error, 'core.course.errorgetmodule', true);\n        } finally {\n            this.content?.scrollToTop();\n            this.entryLoaded = true;\n        }\n    }\n\n    /**\n     * Go to selected entry without changing state.\n     *\n     * @param offset Entry offset.\n     * @returns Resolved when done.\n     */\n    async gotoEntry(offset: number): Promise<void> {\n        this.offset = offset;\n        this.entryId = undefined;\n        this.entry = undefined;\n        this.entryLoaded = false;\n        this.logView = CoreTime.once(() => this.performLogView()); // Log again after loading data.\n\n        await this.fetchEntryData();\n    }\n\n    /**\n     * Refresh all the data.\n     *\n     * @param isPtr Whether is a pull to refresh action.\n     * @returns Promise resolved when done.\n     */\n    protected async refreshAllData(isPtr?: boolean): Promise<void> {\n        const promises: Promise<void>[] = [];\n\n        promises.push(AddonModData.invalidateDatabaseData(this.courseId));\n        if (this.database) {\n            promises.push(AddonModData.invalidateEntryData(this.database.id, this.entryId!));\n            promises.push(CoreGroups.invalidateActivityGroupInfo(this.database.coursemodule));\n            promises.push(AddonModData.invalidateEntriesData(this.database.id));\n            promises.push(AddonModData.invalidateFieldsData(this.database.id));\n\n            if (this.database.comments && this.entry && this.entry.id > 0 && this.commentsEnabled && this.comments) {\n                // Refresh comments. Don't add it to promises because we don't want the comments fetch to block the entry fetch.\n                this.comments.doRefresh().catch(() => {\n                    // Ignore errors.\n                });\n            }\n        }\n\n        await Promise.all(promises).finally(() =>\n            this.fetchEntryData(true, isPtr));\n    }\n\n    /**\n     * Refresh the data.\n     *\n     * @param refresher Refresher.\n     */\n    refreshDatabase(refresher?: HTMLIonRefresherElement): void {\n        if (!this.entryLoaded) {\n            return;\n        }\n\n        this.refreshAllData(true).finally(() => {\n            refresher?.complete();\n        });\n    }\n\n    /**\n     * Set group to see the database.\n     *\n     * @param groupId Group identifier to set.\n     * @returns Resolved when done.\n     */\n    async setGroup(groupId: number): Promise<void> {\n        this.selectedGroup = groupId;\n        this.offset = undefined;\n        this.entry = undefined;\n        this.entryId = undefined;\n        this.entryLoaded = false;\n\n        await this.fetchEntryData();\n    }\n\n    /**\n     * Convenience function to fetch the entry and set next/previous entries.\n     *\n     * @returns Resolved when done.\n     */\n    protected async setEntryFromOffset(): Promise<void> {\n        if (this.offset === undefined && this.entryId !== undefined) {\n            // Entry id passed as navigation parameter instead of the offset.\n            // We don't display next/previous buttons in this case.\n            this.hasNext = false;\n            this.hasPrevious = false;\n\n            const entry = await AddonModDataHelper.fetchEntry(this.database!, this.fieldsArray, this.entryId);\n            this.entry = entry.entry;\n            this.ratingInfo = entry.ratinginfo;\n\n            return;\n        }\n\n        const perPage = AddonModDataProvider.PER_PAGE;\n        const page = this.offset !== undefined && this.offset >= 0\n            ? Math.floor(this.offset / perPage)\n            : 0;\n\n        const entries = await AddonModDataHelper.fetchEntries(this.database!, this.fieldsArray, {\n            groupId: this.selectedGroup,\n            sort: this.sortBy,\n            order: this.sortDirection,\n            page,\n            perPage,\n        });\n\n        const pageEntries = (entries.offlineEntries || []).concat(entries.entries);\n\n        // Index of the entry when concatenating offline and online page entries.\n        let pageIndex = 0;\n        if (this.offset === undefined) {\n            // No offset passed, display the first entry.\n            pageIndex = 0;\n            this.offset = 0;\n        } else if (this.offset > 0) {\n            // Online entry.\n            pageIndex = this.offset % perPage + (entries.offlineEntries?.length || 0);\n        } else {\n            // Offline entry.\n            pageIndex = this.offset + (entries.offlineEntries?.length || 0);\n        }\n\n        this.entry = pageEntries[pageIndex];\n        this.entryId = this.entry.id;\n\n        this.hasPrevious = page > 0 || pageIndex > 0;\n\n        if (pageIndex + 1 < pageEntries.length) {\n            // Not the last entry on the page;\n            this.hasNext = true;\n        } else if (pageEntries.length < perPage) {\n            // Last entry of the last page.\n            this.hasNext = false;\n        } else {\n            // Last entry of the page, check if there are more pages.\n            const entries = await AddonModData.getEntries(this.database!.id, {\n                groupId: this.selectedGroup,\n                page: page + 1,\n                perPage: perPage,\n            });\n            this.hasNext = entries?.entries?.length > 0;\n        }\n\n        if (this.entryId > 0) {\n            // Online entry, we need to fetch the the rating info.\n            const entry = await AddonModData.getEntry(this.database!.id, this.entryId, { cmId: this.moduleId });\n            this.ratingInfo = entry.ratinginfo;\n        }\n    }\n\n    /**\n     * Function called when entry is being rendered.\n     */\n    setRenderingEntry(rendering: boolean): void {\n        this.renderingEntry = rendering;\n        this.cdr.detectChanges();\n    }\n\n    /**\n     * Function called when comments component is loading data.\n     */\n    setLoadingComments(loading: boolean): void {\n        this.loadingComments = loading;\n        this.cdr.detectChanges();\n    }\n\n    /**\n     * Function called when rate component is loading data.\n     */\n    setLoadingRating(loading: boolean): void {\n        this.loadingRating = loading;\n        this.cdr.detectChanges();\n    }\n\n    /**\n     * Function called when rating is updated online.\n     */\n    ratingUpdated(): void {\n        AddonModData.invalidateEntryData(this.database!.id, this.entryId!);\n    }\n\n    /**\n     * Log view.\n     */\n    protected async performLogView(): Promise<void> {\n        if (!this.database) {\n            return;\n        }\n\n        await CoreUtils.ignoreErrors(AddonModData.logView(this.database.id));\n\n        // Store module viewed because this page also updates recent accessed items block.\n        CoreCourse.storeModuleViewed(this.courseId, this.moduleId);\n\n        CoreAnalytics.logEvent({\n            type: CoreAnalyticsEventType.VIEW_ITEM,\n            ws: 'mod_data_view_database',\n            name: this.database.name,\n            data: { id: this.entryId, databaseid: this.database.id, category: 'data' },\n            url: `/mod/data/view.php?d=${this.database.id}&rid=${this.entryId}`,\n        });\n    }\n\n    /**\n     * @inheritdoc\n     */\n    ngOnDestroy(): void {\n        this.syncObserver?.off();\n        this.entryChangedObserver?.off();\n    }\n\n}\n","<ion-header>\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button [text]=\"'core.back' | translate\" />\n        </ion-buttons>\n        <ion-title>\n            <h1>\n                <core-format-text [text]=\"title\" contextLevel=\"module\" [contextInstanceId]=\"moduleId\" [courseId]=\"courseId\" />\n            </h1>\n        </ion-title>\n    </ion-toolbar>\n</ion-header>\n<ion-content class=\"limited-width\">\n    <ion-refresher slot=\"fixed\" [disabled]=\"!entryLoaded || !(isPullingToRefresh || !renderingEntry && !loadingRating && !loadingComments)\"\n        (ionRefresh)=\"refreshDatabase($event.target)\">\n        <ion-refresher-content pullingText=\"{{ 'core.pulltorefresh' | translate }}\" />\n    </ion-refresher>\n    <core-loading [hideUntil]=\"entryLoaded && (isPullingToRefresh || !renderingEntry && !loadingRating && !loadingComments)\">\n        <!-- Database entries found to be synchronized -->\n        <ion-card class=\"core-warning-card\" *ngIf=\"entry && entry.hasOffline\">\n            <ion-item>\n                <ion-icon name=\"fas-triangle-exclamation\" slot=\"start\" aria-hidden=\"true\" />\n                <ion-label>{{ 'core.hasdatatosync' | translate: {$a: moduleName} }}</ion-label>\n            </ion-item>\n        </ion-card>\n\n        <core-group-selector [groupInfo]=\"groupInfo\" [(selected)]=\"selectedGroup\" (selectedChange)=\"setGroup(selectedGroup)\"\n            [courseId]=\"courseId\" />\n\n        <div class=\"addon-data-contents addon-data-entry addon-data-entries-{{database.id}}\" *ngIf=\"database && entry\">\n            <core-style [css]=\"database.csstemplate\" prefix=\".addon-data-entries-{{database.id}}\" />\n\n            <core-compile-html [text]=\"entryHtml\" [jsData]=\"jsData\" [extraImports]=\"extraImports\" (compiling)=\"setRenderingEntry($event)\" />\n        </div>\n\n        <core-rating-rate *ngIf=\"database && entry && ratingInfo && (!database.approval || entry.approved)\" [ratingInfo]=\"ratingInfo\"\n            contextLevel=\"module\" [instanceId]=\"database.coursemodule\" [itemId]=\"entry.id\" [itemSetId]=\"0\" [courseId]=\"courseId\"\n            [aggregateMethod]=\"database.assessed\" [scaleId]=\"database.scale\" [userId]=\"entry.userid\" (onLoading)=\"setLoadingRating($event)\"\n            (onUpdate)=\"ratingUpdated()\" />\n        <core-rating-aggregate *ngIf=\"database && entry && ratingInfo\" [ratingInfo]=\"ratingInfo\" contextLevel=\"module\"\n            [instanceId]=\"database.coursemodule\" [itemId]=\"entry.id\" [courseId]=\"courseId\" [aggregateMethod]=\"database.assessed\"\n            [scaleId]=\"database.scale\" />\n\n        <core-comments *ngIf=\"database && database.comments && entry && entry.id > 0 && commentsEnabled\" contextLevel=\"module\"\n            [instanceId]=\"database.coursemodule\" component=\"mod_data\" [itemId]=\"entry.id\" area=\"database_entry\" [courseId]=\"courseId\"\n            (onLoading)=\"setLoadingComments($event)\" [showItem]=\"true\" />\n    </core-loading>\n    <div collapsible-footer *ngIf=\"entryLoaded && hasPrevious || hasNext\" slot=\"fixed\" appearOnBottom>\n        <ion-row class=\"ion-justify-content-between ion-align-items-center ion-no-padding ion-wrap\">\n            <ion-col class=\"ion-text-start ion-no-padding core-navigation-arrow\" size=\"auto\">\n                <ion-button [disabled]=\"!hasPrevious\" fill=\"clear\" [attr.aria-label]=\"'core.previous' | translate\"\n                    (click)=\"gotoEntry(offset! -1)\">\n                    <ion-icon name=\"fas-chevron-left\" slot=\"icon-only\" aria-hidden=\"true\" />\n                </ion-button>\n            </ion-col>\n            <ion-col class=\"ion-text-center\" />\n            <ion-col class=\"ion-text-end ion-no-padding core-navigation-arrow\" size=\"auto\">\n                <ion-button [disabled]=\"!hasNext\" fill=\"clear\" [attr.aria-label]=\" 'core.next' | translate\"\n                    (click)=\"gotoEntry(offset! + 1)\">\n                    <ion-icon name=\"fas-chevron-right\" slot=\"icon-only\" aria-hidden=\"true\" />\n                </ion-button>\n            </ion-col>\n        </ion-row>\n    </div>\n</ion-content>\n"],"mappings":";;AAeA,SAASA,6BAA6B,QAAQ,iDAAiD;AAC/F,SAASC,YAAY,QAAQ,sCAAsC;AACnE,SAASC,UAAU,QAAQ,kCAAkC;AAE7D,SAASC,UAAU,QAAQ,gBAAgB;AAC3C,SAASC,UAAU,QAAuB,kBAAkB;AAC5D,SAASC,aAAa,QAAQ,qBAAqB;AACnD,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,YAAY,QAAQ,qBAAqB;AAClD,SAASC,SAAS,QAAQ,uBAAuB;AACjD,SAA4BC,UAAU,QAAQ,oBAAoB;AAClE,SAASC,mCAAmC,QAAQ,4CAA4C;AAChG,SAASC,oBAAoB,EACzBC,YAAY,EAIZC,wBAAwB,EACxBC,wBAAwB,QAErB,qBAAqB;AAC5B,SAASC,kBAAkB,QAAQ,4BAA4B;AAC/D,SAASC,wBAAwB,QAAQ,0BAA0B;AACnE,SAASC,aAAa,EAAEC,sBAAsB,QAAQ,qBAAqB;AAC3E,SAASC,QAAQ,QAAQ,kBAAkB;;;;;;;;;;;;;;;;;;;;;;;;ICpBnCC,EAAA,CAAAC,cAAA,mBAAsE;IAE9DD,EAAA,CAAAE,SAAA,mBAA4E;IAC5EF,EAAA,CAAAC,cAAA,gBAAW;IAAAD,EAAA,CAAAG,MAAA,GAAwD;;IAAAH,EAAA,CAAAI,YAAA,EAAY;;;;IAApEJ,EAAA,CAAAK,SAAA,GAAwD;IAAxDL,EAAA,CAAAM,iBAAA,CAAAN,EAAA,CAAAO,WAAA,6BAAAP,EAAA,CAAAQ,eAAA,IAAAC,GAAA,EAAAC,MAAA,CAAAC,UAAA,GAAwD;;;;;;IAO3EX,EAAA,CAAAC,cAAA,UAA+G;IAC3GD,EAAA,CAAAE,SAAA,qBAAwF;IAExFF,EAAA,CAAAC,cAAA,4BAAgI;IAA1CD,EAAA,CAAAY,UAAA,uBAAAC,6EAAAC,MAAA;MAAAd,EAAA,CAAAe,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAjB,EAAA,CAAAkB,aAAA;MAAA,OAAalB,EAAA,CAAAmB,WAAA,CAAAF,MAAA,CAAAG,iBAAA,CAAAN,MAAA,CAAyB;IAAA,EAAC;IAA7Hd,EAAA,CAAAI,YAAA,EAAgI;;;;IAH/HJ,EAAA,CAAAqB,sBAAA,6DAAAC,MAAA,CAAAC,QAAA,CAAAC,EAAA,KAA+E;IACvCxB,EAAA,CAAAK,SAAA,GAA4C;IAA5CL,EAAA,CAAAyB,sBAAA,mCAAAH,MAAA,CAAAC,QAAA,CAAAC,EAAA,KAA4C;IAAzExB,EAAA,CAAA0B,UAAA,QAAAJ,MAAA,CAAAC,QAAA,CAAAI,WAAA,CAA4B;IAErB3B,EAAA,CAAAK,SAAA,GAAkB;IAAlBL,EAAA,CAAA0B,UAAA,SAAAJ,MAAA,CAAAM,SAAA,CAAkB,WAAAN,MAAA,CAAAO,MAAA,kBAAAP,MAAA,CAAAQ,YAAA;;;;;;IAGzC9B,EAAA,CAAAC,cAAA,2BAGmC;IAD0DD,EAAA,CAAAY,UAAA,uBAAAmB,yFAAAjB,MAAA;MAAAd,EAAA,CAAAe,aAAA,CAAAiB,GAAA;MAAA,MAAAC,MAAA,GAAAjC,EAAA,CAAAkB,aAAA;MAAA,OAAalB,EAAA,CAAAmB,WAAA,CAAAc,MAAA,CAAAC,gBAAA,CAAApB,MAAA,CAAwB;IAAA,EAAC,sBAAAqB,wFAAA;MAAAnC,EAAA,CAAAe,aAAA,CAAAiB,GAAA;MAAA,MAAAI,OAAA,GAAApC,EAAA,CAAAkB,aAAA;MAAA,OACnHlB,EAAA,CAAAmB,WAAA,CAAAiB,OAAA,CAAAC,aAAA,EAAe;IAAA,EADoG;IAFnIrC,EAAA,CAAAI,YAAA,EAGmC;;;;IAHiEJ,EAAA,CAAA0B,UAAA,eAAAY,MAAA,CAAAC,UAAA,CAAyB,eAAAD,MAAA,CAAAf,QAAA,CAAAiB,YAAA,YAAAF,MAAA,CAAAG,KAAA,CAAAjB,EAAA,8BAAAc,MAAA,CAAAI,QAAA,qBAAAJ,MAAA,CAAAf,QAAA,CAAAoB,QAAA,aAAAL,MAAA,CAAAf,QAAA,CAAAqB,KAAA,YAAAN,MAAA,CAAAG,KAAA,CAAAI,MAAA;;;;;IAI7H7C,EAAA,CAAAE,SAAA,gCAEiC;;;;IAF8BF,EAAA,CAAA0B,UAAA,eAAAoB,MAAA,CAAAP,UAAA,CAAyB,eAAAO,MAAA,CAAAvB,QAAA,CAAAiB,YAAA,YAAAM,MAAA,CAAAL,KAAA,CAAAjB,EAAA,cAAAsB,MAAA,CAAAJ,QAAA,qBAAAI,MAAA,CAAAvB,QAAA,CAAAoB,QAAA,aAAAG,MAAA,CAAAvB,QAAA,CAAAqB,KAAA;;;;;;IAIxF5C,EAAA,CAAAC,cAAA,wBAEiE;IAA7DD,EAAA,CAAAY,UAAA,uBAAAmC,mFAAAjC,MAAA;MAAAd,EAAA,CAAAe,aAAA,CAAAiC,IAAA;MAAA,MAAAC,OAAA,GAAAjD,EAAA,CAAAkB,aAAA;MAAA,OAAalB,EAAA,CAAAmB,WAAA,CAAA8B,OAAA,CAAAC,kBAAA,CAAApC,MAAA,CAA0B;IAAA,EAAC;IAF5Cd,EAAA,CAAAI,YAAA,EAEiE;;;;IAD7DJ,EAAA,CAAA0B,UAAA,eAAAyB,MAAA,CAAA5B,QAAA,CAAAiB,YAAA,CAAoC,WAAAW,MAAA,CAAAV,KAAA,CAAAjB,EAAA,cAAA2B,MAAA,CAAAT,QAAA;;;;;;IAG5C1C,EAAA,CAAAC,cAAA,cAAkG;IAIlFD,EAAA,CAAAY,UAAA,mBAAAwC,kEAAA;MAAApD,EAAA,CAAAe,aAAA,CAAAsC,IAAA;MAAA,MAAAC,OAAA,GAAAtD,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAAmC,OAAA,CAAAC,SAAA,CAAAD,OAAA,CAAAE,MAAA,GAAmB,CAAC,CAAC;IAAA,EAAC;;IAC/BxD,EAAA,CAAAE,SAAA,mBAAwE;IAC5EF,EAAA,CAAAI,YAAA,EAAa;IAEjBJ,EAAA,CAAAE,SAAA,kBAAmC;IACnCF,EAAA,CAAAC,cAAA,kBAA+E;IAEvED,EAAA,CAAAY,UAAA,mBAAA6C,kEAAA;MAAAzD,EAAA,CAAAe,aAAA,CAAAsC,IAAA;MAAA,MAAAK,OAAA,GAAA1D,EAAA,CAAAkB,aAAA;MAAA,OAASlB,EAAA,CAAAmB,WAAA,CAAAuC,OAAA,CAAAH,SAAA,CAAAG,OAAA,CAAAF,MAAA,GAAoB,CAAC,CAAC;IAAA,EAAC;;IAChCxD,EAAA,CAAAE,SAAA,oBAAyE;IAC7EF,EAAA,CAAAI,YAAA,EAAa;;;;IAVDJ,EAAA,CAAAK,SAAA,GAAyB;IAAzBL,EAAA,CAAA0B,UAAA,cAAAiC,MAAA,CAAAC,WAAA,CAAyB;IAAc5D,EAAA,CAAA6D,WAAA,eAAA7D,EAAA,CAAA8D,WAAA,wBAA+C;IAOtF9D,EAAA,CAAAK,SAAA,GAAqB;IAArBL,EAAA,CAAA0B,UAAA,cAAAiC,MAAA,CAAAI,OAAA,CAAqB;IAAc/D,EAAA,CAAA6D,WAAA,eAAA7D,EAAA,CAAA8D,WAAA,oBAA4C;;;ADhB3G;;;AAQA,OAAM,MAAOE,qBAAqB;EAgD9BC,YACYC,GAAsB;IAAtB,KAAAA,GAAG,GAAHA,GAAG;IAzCL,KAAAC,MAAM,GAAsC,EAAE;IAC9C,KAAAC,WAAW,GAAwB,EAAE;IACrC,KAAAC,MAAM,GAAG,CAAC;IACV,KAAAC,aAAa,GAAG,MAAM;IAGhC,KAAAC,QAAQ,GAAG,CAAC;IAGZ,KAAAC,KAAK,GAAG,EAAE;IACV,KAAA7D,UAAU,GAAG,MAAM;IACnB,KAAA8D,SAAS,GAAGlF,oBAAoB,CAACmF,SAAS;IAC1C,KAAAC,WAAW,GAAG,KAAK;IACnB,KAAAC,cAAc,GAAG,KAAK;IACtB,KAAAC,eAAe,GAAG,KAAK;IACvB,KAAAC,aAAa,GAAG,KAAK;IACrB,KAAAC,aAAa,GAAG,CAAC;IAEjB,KAAAnB,WAAW,GAAG,KAAK;IACnB,KAAAG,OAAO,GAAG,KAAK;IAIf,KAAAiB,YAAY,GAAG,KAAK;IACpB,KAAApD,SAAS,GAAG,EAAE;IAEd,KAAAE,YAAY,GAAoB,CAACxC,mCAAmC,CAAC;IAWrE,KAAA2F,kBAAkB,GAAG,KAAK,CAAC,CAAC;IAC5B,KAAAC,eAAe,GAAG,KAAK;IAKnB,IAAI,CAACvE,UAAU,GAAG7B,UAAU,CAACqG,mBAAmB,CAAC,MAAM,CAAC;IACxD,IAAI,CAACC,MAAM,GAAGlG,SAAS,CAACmG,gBAAgB,EAAE;IAE1C;IACA,IAAI,CAACC,YAAY,GAAGjG,UAAU,CAACkG,EAAE,CAAC3F,wBAAwB,CAAC4F,WAAW,EAAGC,IAAI,IAAI;MAAA,IAAAC,cAAA;MAC7E,IAAID,IAAI,CAACE,OAAO,KAAKC,SAAS,EAAE;QAC5B;;MAGJ,IAAI,CAACH,IAAI,CAACE,OAAO,IAAI,IAAI,CAACA,OAAO,IAAIF,IAAI,CAACI,cAAc,IAAI,IAAI,CAACF,OAAO,KAAK,EAAAD,cAAA,OAAI,CAACnE,QAAQ,cAAAmE,cAAA,uBAAbA,cAAA,CAAelE,EAAE,KAAIiE,IAAI,CAACK,MAAM,EAAE;QAC3G,IAAIL,IAAI,CAACM,OAAO,EAAE;UACd;UACA9G,aAAa,CAAC+G,IAAI,EAAE;SACvB,MAAM;UACH,IAAI,CAACL,OAAO,GAAGF,IAAI,CAACE,OAAO;UAC3B,IAAI,CAAChB,WAAW,GAAG,KAAK;UACxB,IAAI,CAACsB,cAAc,CAAC,IAAI,CAAC;;;IAGrC,CAAC,EAAE,IAAI,CAACb,MAAM,CAAC;IAEf;IACA,IAAI,CAACc,oBAAoB,GAAG7G,UAAU,CAACkG,EAAE,CAAChG,oBAAoB,CAAC4G,aAAa,EAAGV,IAAI,IAAI;MAAA,IAAAW,eAAA;MACnF,IAAIX,IAAI,CAACE,OAAO,IAAI,IAAI,CAACA,OAAO,IAAI,EAAAS,eAAA,OAAI,CAAC7E,QAAQ,cAAA6E,eAAA,uBAAbA,eAAA,CAAe5E,EAAE,KAAIiE,IAAI,CAACK,MAAM,EAAE;QAClE,IAAIL,IAAI,CAACM,OAAO,EAAE;UACd;UACA9G,aAAa,CAAC+G,IAAI,EAAE;SACvB,MAAM;UACH,IAAI,CAACrB,WAAW,GAAG,KAAK;UACxB,IAAI,CAACsB,cAAc,CAAC,IAAI,CAAC;;;IAGrC,CAAC,EAAE,IAAI,CAACb,MAAM,CAAC;IAEf,IAAI,CAACiB,OAAO,GAAGtG,QAAQ,CAACuG,IAAI,CAAC,MAAM,IAAI,CAACC,cAAc,EAAE,CAAC;EAC7D;EAEA;;;EAGMC,QAAQA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MACV,IAAI;QAAA,IAAAC,qBAAA;QACAF,KAAI,CAAClC,QAAQ,GAAGtF,aAAa,CAAC2H,2BAA2B,CAAC,MAAM,CAAC;QACjEH,KAAI,CAAC/D,QAAQ,GAAGzD,aAAa,CAAC2H,2BAA2B,CAAC,UAAU,CAAC;QACrEH,KAAI,CAACd,OAAO,GAAG1G,aAAa,CAAC4H,mBAAmB,CAAC,SAAS,CAAC,IAAIjB,SAAS;QACxEa,KAAI,CAACjC,KAAK,GAAGvF,aAAa,CAAC6H,aAAa,CAAS,OAAO,CAAC,IAAI,EAAE;QAC/DL,KAAI,CAAC1B,aAAa,GAAG9F,aAAa,CAAC4H,mBAAmB,CAAC,OAAO,CAAC,IAAI,CAAC;QACpEJ,KAAI,CAACjD,MAAM,GAAGvE,aAAa,CAAC4H,mBAAmB,CAAC,QAAQ,CAAC;QACzDJ,KAAI,CAACnC,aAAa,IAAAqC,qBAAA,GAAG1H,aAAa,CAAC6H,aAAa,CAAC,eAAe,CAAC,cAAAH,qBAAA,cAAAA,qBAAA,GAAIF,KAAI,CAACnC,aAAa;QACvF,MAAMD,MAAM,GAAG0C,MAAM,CAAC9H,aAAa,CAAC6H,aAAa,CAAC,QAAQ,CAAC,CAAC;QAC5DL,KAAI,CAACpC,MAAM,GAAG2C,KAAK,CAAC3C,MAAM,CAAC,GAAGoC,KAAI,CAACpC,MAAM,GAAGA,MAAM;OACrD,CAAC,OAAO4C,KAAK,EAAE;QACZ9H,YAAY,CAAC+H,cAAc,CAACD,KAAK,CAAC;QAElChI,aAAa,CAAC+G,IAAI,EAAE;QAEpB;;MAGJS,KAAI,CAACvB,eAAe,GAAG,CAACrG,YAAY,CAACsI,yBAAyB,EAAE;MAEhE,MAAMV,KAAI,CAACR,cAAc,EAAE;IAAC;EAChC;EAEA;;;;;;;EAOgBA,cAAcA,CAACmB,OAAO,GAAG,KAAK,EAAEC,KAAK,GAAG,KAAK;IAAA,IAAAC,MAAA;IAAA,OAAAZ,iBAAA;MACzDY,MAAI,CAACrC,kBAAkB,GAAGoC,KAAK;MAE/B,IAAI;QACAC,MAAI,CAAC/F,QAAQ,SAAS/B,YAAY,CAAC+H,WAAW,CAACD,MAAI,CAAC5E,QAAQ,EAAE4E,MAAI,CAAC/C,QAAQ,CAAC;QAC5E+C,MAAI,CAAC9C,KAAK,GAAG8C,MAAI,CAAC/F,QAAQ,CAACiG,IAAI,IAAIF,MAAI,CAAC9C,KAAK;QAE7C8C,MAAI,CAAClD,WAAW,SAAS5E,YAAY,CAACiI,SAAS,CAACH,MAAI,CAAC/F,QAAQ,CAACC,EAAE,EAAE;UAAEkG,IAAI,EAAEJ,MAAI,CAAC/C;QAAQ,CAAE,CAAC;QAC1F+C,MAAI,CAACnD,MAAM,GAAG/E,SAAS,CAACuI,aAAa,CAACL,MAAI,CAAClD,WAAW,EAAE,IAAI,CAAC;QAE7D,MAAMkD,MAAI,CAACM,kBAAkB,EAAE;QAE/BN,MAAI,CAACO,MAAM,SAASrI,YAAY,CAACsI,4BAA4B,CAACR,MAAI,CAAC/F,QAAQ,CAACC,EAAE,EAAE;UAAEkG,IAAI,EAAEJ,MAAI,CAAC/C;QAAQ,CAAE,CAAC;QAExG+C,MAAI,CAACS,SAAS,SAAS/I,UAAU,CAACgJ,oBAAoB,CAACV,MAAI,CAAC/F,QAAQ,CAACiB,YAAY,CAAC;QAClF,IAAI8E,MAAI,CAACS,SAAS,CAACE,aAAa,IAAIX,MAAI,CAACS,SAAS,CAACG,MAAM,CAACC,MAAM,EAAE;UAC9D;UACAb,MAAI,CAACS,SAAS,CAACG,MAAM,GAAGZ,MAAI,CAACS,SAAS,CAACG,MAAM,CAACE,MAAM,CAACC,KAAK,IAAIA,KAAK,CAAC7G,EAAE,KAAK,CAAC,CAAC;UAC7E8F,MAAI,CAACS,SAAS,CAACO,cAAc,GAAGhB,MAAI,CAACS,SAAS,CAACG,MAAM,CAAC,CAAC,CAAC,CAAC1G,EAAE;;QAG/D8F,MAAI,CAACvC,aAAa,GAAG/F,UAAU,CAACuJ,eAAe,CAACjB,MAAI,CAACvC,aAAa,EAAEuC,MAAI,CAACS,SAAS,CAAC;QAEnF,MAAMS,OAAO,GAAG7I,kBAAkB,CAAC8I,UAAU,CAACnB,MAAI,CAAC/F,QAAQ,EAAE+F,MAAI,CAACO,MAAM,EAAEP,MAAI,CAAC7E,KAAM,EAAE/C,wBAAwB,CAACgJ,IAAI,CAAC;QAErH,MAAMC,QAAQ,GAAGhJ,kBAAkB,CAACiJ,WAAW,CAACtB,MAAI,CAAC/F,QAAQ,EAAE9B,wBAAwB,CAACoJ,MAAM,EAAEvB,MAAI,CAAClD,WAAW,CAAC;QACjHkD,MAAI,CAAC1F,SAAS,GAAGjC,kBAAkB,CAACmJ,iBAAiB,CACjDH,QAAQ,EACRrB,MAAI,CAAClD,WAAW,EAChBkD,MAAI,CAAC7E,KAAM,EACX/C,wBAAwB,CAACgJ,IAAI,EAC7BF,OAAO,EACP;UACIhF,MAAM,EAAE8D,MAAI,CAAC9D,MAAM;UACnBa,MAAM,EAAEiD,MAAI,CAACjD,MAAM;UACnBC,aAAa,EAAEgD,MAAI,CAAChD;SACvB,CACJ;QAEDgD,MAAI,CAACtC,YAAY,GAAGwD,OAAO,CAACO,QAAQ;QAEpC,MAAMC,OAAO,GAAsC,EAAE;QACrDA,OAAO,CAAC1B,MAAI,CAAC3B,OAAQ,CAAC,GAAG2B,MAAI,CAAC7E,KAAM;QAEpC;QACA6E,MAAI,CAACzF,MAAM,GAAG;UACVsC,MAAM,EAAEmD,MAAI,CAACnD,MAAM;UACnB6E,OAAO,EAAEA,OAAO;UAChBzH,QAAQ,EAAE+F,MAAI,CAAC/F,QAAQ;UACvBiD,KAAK,EAAE8C,MAAI,CAAC9C,KAAK;UACjB6D,KAAK,EAAEf,MAAI,CAACvC,aAAa;UACzB8C,MAAM,EAAEP,MAAI,CAACO;SAChB;QAEDP,MAAI,CAACjB,OAAO,EAAE;OACjB,CAAC,OAAOY,KAAK,EAAE;QACZ,IAAI,CAACG,OAAO,EAAE;UACV;UACA,OAAOE,MAAI,CAAC2B,cAAc,CAAC5B,KAAK,CAAC;;QAGrClI,YAAY,CAAC+J,qBAAqB,CAACjC,KAAK,EAAE,4BAA4B,EAAE,IAAI,CAAC;OAChF,SAAS;QAAA,IAAAkC,cAAA;QACN,CAAAA,cAAA,GAAA7B,MAAI,CAAC8B,OAAO,cAAAD,cAAA,eAAZA,cAAA,CAAcE,WAAW,EAAE;QAC3B/B,MAAI,CAAC3C,WAAW,GAAG,IAAI;;IAC1B;EACL;EAEA;;;;;;EAMMpB,SAASA,CAACC,MAAc;IAAA,IAAA8F,MAAA;IAAA,OAAA5C,iBAAA;MAC1B4C,MAAI,CAAC9F,MAAM,GAAGA,MAAM;MACpB8F,MAAI,CAAC3D,OAAO,GAAGC,SAAS;MACxB0D,MAAI,CAAC7G,KAAK,GAAGmD,SAAS;MACtB0D,MAAI,CAAC3E,WAAW,GAAG,KAAK;MACxB2E,MAAI,CAACjD,OAAO,GAAGtG,QAAQ,CAACuG,IAAI,CAAC,MAAMgD,MAAI,CAAC/C,cAAc,EAAE,CAAC,CAAC,CAAC;MAE3D,MAAM+C,MAAI,CAACrD,cAAc,EAAE;IAAC;EAChC;EAEA;;;;;;EAMgBgD,cAAcA,CAAC5B,KAAe;IAAA,IAAAkC,MAAA;IAAA,OAAA7C,iBAAA;MAC1C,MAAM8C,QAAQ,GAAoB,EAAE;MAEpCA,QAAQ,CAACC,IAAI,CAACjK,YAAY,CAACkK,sBAAsB,CAACH,MAAI,CAAC7G,QAAQ,CAAC,CAAC;MACjE,IAAI6G,MAAI,CAAChI,QAAQ,EAAE;QACfiI,QAAQ,CAACC,IAAI,CAACjK,YAAY,CAACmK,mBAAmB,CAACJ,MAAI,CAAChI,QAAQ,CAACC,EAAE,EAAE+H,MAAI,CAAC5D,OAAQ,CAAC,CAAC;QAChF6D,QAAQ,CAACC,IAAI,CAACzK,UAAU,CAAC4K,2BAA2B,CAACL,MAAI,CAAChI,QAAQ,CAACiB,YAAY,CAAC,CAAC;QACjFgH,QAAQ,CAACC,IAAI,CAACjK,YAAY,CAACqK,qBAAqB,CAACN,MAAI,CAAChI,QAAQ,CAACC,EAAE,CAAC,CAAC;QACnEgI,QAAQ,CAACC,IAAI,CAACjK,YAAY,CAACsK,oBAAoB,CAACP,MAAI,CAAChI,QAAQ,CAACC,EAAE,CAAC,CAAC;QAElE,IAAI+H,MAAI,CAAChI,QAAQ,CAACwH,QAAQ,IAAIQ,MAAI,CAAC9G,KAAK,IAAI8G,MAAI,CAAC9G,KAAK,CAACjB,EAAE,GAAG,CAAC,IAAI+H,MAAI,CAACrE,eAAe,IAAIqE,MAAI,CAACR,QAAQ,EAAE;UACpG;UACAQ,MAAI,CAACR,QAAQ,CAACgB,SAAS,EAAE,CAACC,KAAK,CAAC,MAAK;YACjC;UAAA,CACH,CAAC;;;MAIV,MAAMC,OAAO,CAACC,GAAG,CAACV,QAAQ,CAAC,CAACW,OAAO,CAAC,MAChCZ,MAAI,CAACtD,cAAc,CAAC,IAAI,EAAEoB,KAAK,CAAC,CAAC;IAAC;EAC1C;EAEA;;;;;EAKA+C,eAAeA,CAACC,SAAmC;IAC/C,IAAI,CAAC,IAAI,CAAC1F,WAAW,EAAE;MACnB;;IAGJ,IAAI,CAACsE,cAAc,CAAC,IAAI,CAAC,CAACkB,OAAO,CAAC,MAAK;MACnCE,SAAS,aAATA,SAAS,eAATA,SAAS,CAAEC,QAAQ,EAAE;IACzB,CAAC,CAAC;EACN;EAEA;;;;;;EAMMC,QAAQA,CAACC,OAAe;IAAA,IAAAC,MAAA;IAAA,OAAA/D,iBAAA;MAC1B+D,MAAI,CAAC1F,aAAa,GAAGyF,OAAO;MAC5BC,MAAI,CAACjH,MAAM,GAAGoC,SAAS;MACvB6E,MAAI,CAAChI,KAAK,GAAGmD,SAAS;MACtB6E,MAAI,CAAC9E,OAAO,GAAGC,SAAS;MACxB6E,MAAI,CAAC9F,WAAW,GAAG,KAAK;MAExB,MAAM8F,MAAI,CAACxE,cAAc,EAAE;IAAC;EAChC;EAEA;;;;;EAKgB2B,kBAAkBA,CAAA;IAAA,IAAA8C,MAAA;IAAA,OAAAhE,iBAAA;MAC9B,IAAIgE,MAAI,CAAClH,MAAM,KAAKoC,SAAS,IAAI8E,MAAI,CAAC/E,OAAO,KAAKC,SAAS,EAAE;QACzD;QACA;QACA8E,MAAI,CAAC3G,OAAO,GAAG,KAAK;QACpB2G,MAAI,CAAC9G,WAAW,GAAG,KAAK;QAExB,MAAMnB,KAAK,SAAS9C,kBAAkB,CAACgL,UAAU,CAACD,MAAI,CAACnJ,QAAS,EAAEmJ,MAAI,CAACtG,WAAW,EAAEsG,MAAI,CAAC/E,OAAO,CAAC;QACjG+E,MAAI,CAACjI,KAAK,GAAGA,KAAK,CAACA,KAAK;QACxBiI,MAAI,CAACnI,UAAU,GAAGE,KAAK,CAACmI,UAAU;QAElC;;MAGJ,MAAMC,OAAO,GAAGtL,oBAAoB,CAACuL,QAAQ;MAC7C,MAAMC,IAAI,GAAGL,MAAI,CAAClH,MAAM,KAAKoC,SAAS,IAAI8E,MAAI,CAAClH,MAAM,IAAI,CAAC,GACpDwH,IAAI,CAACC,KAAK,CAACP,MAAI,CAAClH,MAAM,GAAGqH,OAAO,CAAC,GACjC,CAAC;MAEP,MAAM7B,OAAO,SAASrJ,kBAAkB,CAACuL,YAAY,CAACR,MAAI,CAACnJ,QAAS,EAAEmJ,MAAI,CAACtG,WAAW,EAAE;QACpFoG,OAAO,EAAEE,MAAI,CAAC3F,aAAa;QAC3BoG,IAAI,EAAET,MAAI,CAACrG,MAAM;QACjB+G,KAAK,EAAEV,MAAI,CAACpG,aAAa;QACzByG,IAAI;QACJF;OACH,CAAC;MAEF,MAAMQ,WAAW,GAAG,CAACrC,OAAO,CAACsC,cAAc,IAAI,EAAE,EAAEC,MAAM,CAACvC,OAAO,CAACA,OAAO,CAAC;MAE1E;MACA,IAAIwC,SAAS,GAAG,CAAC;MACjB,IAAId,MAAI,CAAClH,MAAM,KAAKoC,SAAS,EAAE;QAC3B;QACA4F,SAAS,GAAG,CAAC;QACbd,MAAI,CAAClH,MAAM,GAAG,CAAC;OAClB,MAAM,IAAIkH,MAAI,CAAClH,MAAM,GAAG,CAAC,EAAE;QAAA,IAAAiI,qBAAA;QACxB;QACAD,SAAS,GAAGd,MAAI,CAAClH,MAAM,GAAGqH,OAAO,IAAI,EAAAY,qBAAA,GAAAzC,OAAO,CAACsC,cAAc,cAAAG,qBAAA,uBAAtBA,qBAAA,CAAwBtD,MAAM,KAAI,CAAC,CAAC;OAC5E,MAAM;QAAA,IAAAuD,sBAAA;QACH;QACAF,SAAS,GAAGd,MAAI,CAAClH,MAAM,IAAI,EAAAkI,sBAAA,GAAA1C,OAAO,CAACsC,cAAc,cAAAI,sBAAA,uBAAtBA,sBAAA,CAAwBvD,MAAM,KAAI,CAAC,CAAC;;MAGnEuC,MAAI,CAACjI,KAAK,GAAG4I,WAAW,CAACG,SAAS,CAAC;MACnCd,MAAI,CAAC/E,OAAO,GAAG+E,MAAI,CAACjI,KAAK,CAACjB,EAAE;MAE5BkJ,MAAI,CAAC9G,WAAW,GAAGmH,IAAI,GAAG,CAAC,IAAIS,SAAS,GAAG,CAAC;MAE5C,IAAIA,SAAS,GAAG,CAAC,GAAGH,WAAW,CAAClD,MAAM,EAAE;QACpC;QACAuC,MAAI,CAAC3G,OAAO,GAAG,IAAI;OACtB,MAAM,IAAIsH,WAAW,CAAClD,MAAM,GAAG0C,OAAO,EAAE;QACrC;QACAH,MAAI,CAAC3G,OAAO,GAAG,KAAK;OACvB,MAAM;QAAA,IAAA4H,gBAAA;QACH;QACA,MAAM3C,OAAO,SAASxJ,YAAY,CAACoM,UAAU,CAAClB,MAAI,CAACnJ,QAAS,CAACC,EAAE,EAAE;UAC7DgJ,OAAO,EAAEE,MAAI,CAAC3F,aAAa;UAC3BgG,IAAI,EAAEA,IAAI,GAAG,CAAC;UACdF,OAAO,EAAEA;SACZ,CAAC;QACFH,MAAI,CAAC3G,OAAO,GAAG,CAAAiF,OAAO,aAAPA,OAAO,gBAAA2C,gBAAA,GAAP3C,OAAO,CAAEA,OAAO,cAAA2C,gBAAA,uBAAhBA,gBAAA,CAAkBxD,MAAM,IAAG,CAAC;;MAG/C,IAAIuC,MAAI,CAAC/E,OAAO,GAAG,CAAC,EAAE;QAClB;QACA,MAAMlD,KAAK,SAASjD,YAAY,CAACqM,QAAQ,CAACnB,MAAI,CAACnJ,QAAS,CAACC,EAAE,EAAEkJ,MAAI,CAAC/E,OAAO,EAAE;UAAE+B,IAAI,EAAEgD,MAAI,CAACnG;QAAQ,CAAE,CAAC;QACnGmG,MAAI,CAACnI,UAAU,GAAGE,KAAK,CAACmI,UAAU;;IACrC;EACL;EAEA;;;EAGAxJ,iBAAiBA,CAAC0K,SAAkB;IAChC,IAAI,CAAClH,cAAc,GAAGkH,SAAS;IAC/B,IAAI,CAAC5H,GAAG,CAAC6H,aAAa,EAAE;EAC5B;EAEA;;;EAGA7I,kBAAkBA,CAAC8I,OAAgB;IAC/B,IAAI,CAACnH,eAAe,GAAGmH,OAAO;IAC9B,IAAI,CAAC9H,GAAG,CAAC6H,aAAa,EAAE;EAC5B;EAEA;;;EAGA7J,gBAAgBA,CAAC8J,OAAgB;IAC7B,IAAI,CAAClH,aAAa,GAAGkH,OAAO;IAC5B,IAAI,CAAC9H,GAAG,CAAC6H,aAAa,EAAE;EAC5B;EAEA;;;EAGA1J,aAAaA,CAAA;IACT7C,YAAY,CAACmK,mBAAmB,CAAC,IAAI,CAACpI,QAAS,CAACC,EAAE,EAAE,IAAI,CAACmE,OAAQ,CAAC;EACtE;EAEA;;;EAGgBY,cAAcA,CAAA;IAAA,IAAA0F,MAAA;IAAA,OAAAvF,iBAAA;MAC1B,IAAI,CAACuF,MAAI,CAAC1K,QAAQ,EAAE;QAChB;;MAGJ,MAAMnC,SAAS,CAAC8M,YAAY,CAAC1M,YAAY,CAAC6G,OAAO,CAAC4F,MAAI,CAAC1K,QAAQ,CAACC,EAAE,CAAC,CAAC;MAEpE;MACA1C,UAAU,CAACqN,iBAAiB,CAACF,MAAI,CAACvJ,QAAQ,EAAEuJ,MAAI,CAAC1H,QAAQ,CAAC;MAE1D1E,aAAa,CAACuM,QAAQ,CAAC;QACnBC,IAAI,EAAEvM,sBAAsB,CAACwM,SAAS;QACtCC,EAAE,EAAE,wBAAwB;QAC5B/E,IAAI,EAAEyE,MAAI,CAAC1K,QAAQ,CAACiG,IAAI;QACxB/B,IAAI,EAAE;UAAEjE,EAAE,EAAEyK,MAAI,CAACtG,OAAO;UAAE6G,UAAU,EAAEP,MAAI,CAAC1K,QAAQ,CAACC,EAAE;UAAEiL,QAAQ,EAAE;QAAM,CAAE;QAC1EC,GAAG,EAAE,wBAAwBT,MAAI,CAAC1K,QAAQ,CAACC,EAAE,QAAQyK,MAAI,CAACtG,OAAO;OACpE,CAAC;IAAC;EACP;EAEA;;;EAGAgH,WAAWA,CAAA;IAAA,IAAAC,kBAAA,EAAAC,qBAAA;IACP,CAAAD,kBAAA,OAAI,CAACtH,YAAY,cAAAsH,kBAAA,eAAjBA,kBAAA,CAAmBE,GAAG,EAAE;IACxB,CAAAD,qBAAA,OAAI,CAAC3G,oBAAoB,cAAA2G,qBAAA,eAAzBA,qBAAA,CAA2BC,GAAG,EAAE;EACpC;;SAhZS9I,qBAAqB;;mBAArBA,MAAqB,EAAAhE,EAAA,CAAA+M,iBAAA,CAAA/M,EAAA,CAAAgN,iBAAA;AAAA;;QAArBhJ,MAAqB;EAAAiJ,SAAA;EAAAC,SAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;qBAEnBrO,UAAU;qBACVH,6BAA6B;;;;;;;;;;;;;MCpD5CoB,EAAA,CAAAC,cAAA,iBAAY;MAGAD,EAAA,CAAAE,SAAA,yBAAoD;;MACxDF,EAAA,CAAAI,YAAA,EAAc;MACdJ,EAAA,CAAAC,cAAA,gBAAW;MAEHD,EAAA,CAAAE,SAAA,0BAA8G;MAClHF,EAAA,CAAAI,YAAA,EAAK;MAIjBJ,EAAA,CAAAC,cAAA,qBAAmC;MAE3BD,EAAA,CAAAY,UAAA,wBAAA0M,mEAAAxM,MAAA;QAAA,OAAcuM,GAAA,CAAAjD,eAAA,CAAAtJ,MAAA,CAAAyM,MAAA,CAA8B;MAAA,EAAC;MAC7CvN,EAAA,CAAAE,SAAA,gCAA8E;;MAClFF,EAAA,CAAAI,YAAA,EAAgB;MAChBJ,EAAA,CAAAC,cAAA,uBAAyH;MAErHD,EAAA,CAAAwN,UAAA,KAAAC,0CAAA,sBAKW;MAEXzN,EAAA,CAAAC,cAAA,8BAC4B;MADiBD,EAAA,CAAAY,UAAA,4BAAA8M,8EAAA5M,MAAA;QAAA,OAAAuM,GAAA,CAAAtI,aAAA,GAAAjE,MAAA;MAAA,EAA4B,4BAAA4M,8EAAA;QAAA,OAAmBL,GAAA,CAAA9C,QAAA,CAAA8C,GAAA,CAAAtI,aAAA,CAAuB;MAAA,EAA1C;MAAzE/E,EAAA,CAAAI,YAAA,EAC4B;MAE5BJ,EAAA,CAAAwN,UAAA,KAAAG,qCAAA,iBAIM;MAEN3N,EAAA,CAAAwN,UAAA,KAAAI,kDAAA,+BAGmC;MACnC5N,EAAA,CAAAwN,UAAA,KAAAK,uDAAA,oCAEiC;MAEjC7N,EAAA,CAAAwN,UAAA,KAAAM,+CAAA,4BAEiE;MACrE9N,EAAA,CAAAI,YAAA,EAAe;MACfJ,EAAA,CAAAwN,UAAA,KAAAO,qCAAA,mBAgBM;MACV/N,EAAA,CAAAI,YAAA,EAAc;;;MA7DeJ,EAAA,CAAAK,SAAA,GAAgC;MAAhCL,EAAA,CAAA0B,UAAA,SAAA1B,EAAA,CAAA8D,WAAA,qBAAgC;MAI3B9D,EAAA,CAAAK,SAAA,GAAc;MAAdL,EAAA,CAAA0B,UAAA,SAAA2L,GAAA,CAAA7I,KAAA,CAAc,sBAAA6I,GAAA,CAAA9I,QAAA,cAAA8I,GAAA,CAAA3K,QAAA;MAMhB1C,EAAA,CAAAK,SAAA,GAA2G;MAA3GL,EAAA,CAAA0B,UAAA,cAAA2L,GAAA,CAAA1I,WAAA,MAAA0I,GAAA,CAAApI,kBAAA,KAAAoI,GAAA,CAAAzI,cAAA,KAAAyI,GAAA,CAAAvI,aAAA,KAAAuI,GAAA,CAAAxI,eAAA,EAA2G;MAE5G7E,EAAA,CAAAK,SAAA,GAAoD;MAApDL,EAAA,CAAAgO,qBAAA,gBAAAhO,EAAA,CAAA8D,WAAA,+BAAoD;MAEjE9D,EAAA,CAAAK,SAAA,GAA0G;MAA1GL,EAAA,CAAA0B,UAAA,cAAA2L,GAAA,CAAA1I,WAAA,KAAA0I,GAAA,CAAApI,kBAAA,KAAAoI,GAAA,CAAAzI,cAAA,KAAAyI,GAAA,CAAAvI,aAAA,KAAAuI,GAAA,CAAAxI,eAAA,EAA0G;MAE/E7E,EAAA,CAAAK,SAAA,GAA+B;MAA/BL,EAAA,CAAA0B,UAAA,SAAA2L,GAAA,CAAA5K,KAAA,IAAA4K,GAAA,CAAA5K,KAAA,CAAAwL,UAAA,CAA+B;MAO/CjO,EAAA,CAAAK,SAAA,GAAuB;MAAvBL,EAAA,CAAA0B,UAAA,cAAA2L,GAAA,CAAAtF,SAAA,CAAuB,aAAAsF,GAAA,CAAAtI,aAAA,cAAAsI,GAAA,CAAA3K,QAAA;MAG0C1C,EAAA,CAAAK,SAAA,GAAuB;MAAvBL,EAAA,CAAA0B,UAAA,SAAA2L,GAAA,CAAA9L,QAAA,IAAA8L,GAAA,CAAA5K,KAAA,CAAuB;MAM1FzC,EAAA,CAAAK,SAAA,GAA+E;MAA/EL,EAAA,CAAA0B,UAAA,SAAA2L,GAAA,CAAA9L,QAAA,IAAA8L,GAAA,CAAA5K,KAAA,IAAA4K,GAAA,CAAA9K,UAAA,MAAA8K,GAAA,CAAA9L,QAAA,CAAA2M,QAAA,IAAAb,GAAA,CAAA5K,KAAA,CAAA0L,QAAA,EAA+E;MAI1EnO,EAAA,CAAAK,SAAA,GAAqC;MAArCL,EAAA,CAAA0B,UAAA,SAAA2L,GAAA,CAAA9L,QAAA,IAAA8L,GAAA,CAAA5K,KAAA,IAAA4K,GAAA,CAAA9K,UAAA,CAAqC;MAI7CvC,EAAA,CAAAK,SAAA,GAA+E;MAA/EL,EAAA,CAAA0B,UAAA,SAAA2L,GAAA,CAAA9L,QAAA,IAAA8L,GAAA,CAAA9L,QAAA,CAAAwH,QAAA,IAAAsE,GAAA,CAAA5K,KAAA,IAAA4K,GAAA,CAAA5K,KAAA,CAAAjB,EAAA,QAAA6L,GAAA,CAAAnI,eAAA,CAA+E;MAI1ElF,EAAA,CAAAK,SAAA,GAA2C;MAA3CL,EAAA,CAAA0B,UAAA,SAAA2L,GAAA,CAAA1I,WAAA,IAAA0I,GAAA,CAAAzJ,WAAA,IAAAyJ,GAAA,CAAAtJ,OAAA,CAA2C"},"metadata":{},"sourceType":"module","externalDependencies":[]}