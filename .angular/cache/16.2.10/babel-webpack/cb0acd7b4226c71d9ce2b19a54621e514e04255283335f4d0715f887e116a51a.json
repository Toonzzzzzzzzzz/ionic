{"ast":null,"code":"var _class;\nimport { CoreUtils } from '@services/utils/utils';\nimport { ModalController } from '@singletons';\nimport * as i0 from \"@angular/core\";\nfunction CoreViewerTextComponent_ion_card_11_core_file_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"core-file\", 7);\n  }\n  if (rf & 2) {\n    const file_r3 = ctx.$implicit;\n    const ctx_r2 = i0.ɵɵnextContext(2);\n    i0.ɵɵproperty(\"file\", file_r3)(\"component\", ctx_r2.component)(\"componentId\", ctx_r2.componentId);\n  }\n}\nfunction CoreViewerTextComponent_ion_card_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ion-card\");\n    i0.ɵɵtemplate(1, CoreViewerTextComponent_ion_card_11_core_file_1_Template, 1, 3, \"core-file\", 6);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.files);\n  }\n}\nfunction CoreViewerTextComponent_ion_footer_12_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"ion-footer\")(1, \"ion-button\", 8);\n    i0.ɵɵlistener(\"click\", function CoreViewerTextComponent_ion_footer_12_Template_ion_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r4.copyText());\n    });\n    i0.ɵɵelement(2, \"ion-icon\", 9);\n    i0.ɵɵtext(3);\n    i0.ɵɵpipe(4, \"translate\");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind1(4, 1, \"core.copytoclipboard\"), \" \");\n  }\n}\n/**\n * Modal component to render a certain text.\n */\nexport class CoreViewerTextComponent {\n  /**\n   * Close modal.\n   */\n  closeModal() {\n    ModalController.dismiss();\n  }\n  /**\n   * Copy the text to clipboard.\n   */\n  copyText() {\n    CoreUtils.copyToClipboard(this.content || '');\n  }\n}\n_class = CoreViewerTextComponent;\n_class.ɵfac = function CoreViewerTextComponent_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"page-core-viewer-text\"]],\n  inputs: {\n    title: \"title\",\n    content: \"content\",\n    component: \"component\",\n    componentId: \"componentId\",\n    files: \"files\",\n    filter: \"filter\",\n    contextLevel: \"contextLevel\",\n    instanceId: \"instanceId\",\n    courseId: \"courseId\",\n    displayCopyButton: \"displayCopyButton\"\n  },\n  decls: 13,\n  vars: 13,\n  consts: [[\"slot\", \"end\"], [\"fill\", \"clear\", 3, \"click\"], [\"slot\", \"icon-only\", \"name\", \"fas-xmark\", \"aria-hidden\", \"true\"], [1, \"ion-padding\"], [3, \"text\", \"component\", \"componentId\", \"filter\", \"contextLevel\", \"contextInstanceId\", \"courseId\"], [4, \"ngIf\"], [3, \"file\", \"component\", \"componentId\", 4, \"ngFor\", \"ngForOf\"], [3, \"file\", \"component\", \"componentId\"], [\"expand\", \"block\", \"fill\", \"outline\", 3, \"click\"], [\"name\", \"fas-copy\", \"aria-hidden\", \"true\", \"slot\", \"start\"]],\n  template: function CoreViewerTextComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ion-header\")(1, \"ion-toolbar\")(2, \"ion-title\")(3, \"h1\");\n      i0.ɵɵtext(4);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(5, \"ion-buttons\", 0)(6, \"ion-button\", 1);\n      i0.ɵɵlistener(\"click\", function CoreViewerTextComponent_Template_ion_button_click_6_listener() {\n        return ctx.closeModal();\n      });\n      i0.ɵɵpipe(7, \"translate\");\n      i0.ɵɵelement(8, \"ion-icon\", 2);\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(9, \"ion-content\", 3);\n      i0.ɵɵelement(10, \"core-format-text\", 4);\n      i0.ɵɵtemplate(11, CoreViewerTextComponent_ion_card_11_Template, 2, 1, \"ion-card\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(12, CoreViewerTextComponent_ion_footer_12_Template, 5, 3, \"ion-footer\", 5);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(4);\n      i0.ɵɵtextInterpolate(ctx.title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵattribute(\"aria-label\", i0.ɵɵpipeBind1(7, 11, \"core.close\"));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"text\", ctx.content)(\"component\", ctx.component)(\"componentId\", ctx.componentId)(\"filter\", ctx.filter)(\"contextLevel\", ctx.contextLevel)(\"contextInstanceId\", ctx.instanceId)(\"courseId\", ctx.courseId);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.files == null ? null : ctx.files.length);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.displayCopyButton);\n    }\n  },\n  styles: [\"ion-footer[_ngcontent-%COMP%] {\\n  padding: 6px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9jb3JlL2ZlYXR1cmVzL3ZpZXdlci9jb21wb25lbnRzL3RleHQvdGV4dC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtBQUNKIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLWZvb3RlciB7XG4gICAgcGFkZGluZzogNnB4O1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["CoreUtils","ModalController","i0","ɵɵelement","ɵɵproperty","file_r3","ctx_r2","component","componentId","ɵɵelementStart","ɵɵtemplate","CoreViewerTextComponent_ion_card_11_core_file_1_Template","ɵɵelementEnd","ɵɵadvance","ctx_r0","files","ɵɵlistener","CoreViewerTextComponent_ion_footer_12_Template_ion_button_click_1_listener","ɵɵrestoreView","_r5","ctx_r4","ɵɵnextContext","ɵɵresetView","copyText","ɵɵtext","ɵɵtextInterpolate1","ɵɵpipeBind1","CoreViewerTextComponent","closeModal","dismiss","copyToClipboard","content","selectors","inputs","title","filter","contextLevel","instanceId","courseId","displayCopyButton","decls","vars","consts","template","CoreViewerTextComponent_Template","rf","ctx","CoreViewerTextComponent_Template_ion_button_click_6_listener","CoreViewerTextComponent_ion_card_11_Template","CoreViewerTextComponent_ion_footer_12_Template","ɵɵtextInterpolate","ɵɵattribute","length"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/viewer/components/text/text.ts","/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/viewer/components/text/text.html"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Component, Input } from '@angular/core';\nimport { CoreFileEntry } from '@services/file-helper';\n\nimport { CoreUtils } from '@services/utils/utils';\nimport { ModalController } from '@singletons';\n\n/**\n * Modal component to render a certain text.\n */\n@Component({\n    selector: 'page-core-viewer-text',\n    templateUrl: 'text.html',\n    styleUrls: ['text.scss'],\n})\nexport class CoreViewerTextComponent {\n\n    @Input() title?: string; // Modal title.\n    @Input() content?: string; // Modal content.\n    @Input() component?: string; // Component to use in format-text.\n    @Input() componentId?: string | number; // Component ID to use in format-text.\n    @Input() files?: CoreFileEntry[]; // List of files.\n    @Input() filter?: boolean; // Whether to filter the text.\n    @Input() contextLevel?: string; // The context level.\n    @Input() instanceId?: number; // The instance ID related to the context.\n    @Input() courseId?: number; // Course ID the text belongs to. It can be used to improve performance with filters.\n    @Input() displayCopyButton?: boolean; // Whether to display a button to copy the contents.\n\n    /**\n     * Close modal.\n     */\n    closeModal(): void {\n        ModalController.dismiss();\n    }\n\n    /**\n     * Copy the text to clipboard.\n     */\n    copyText(): void {\n        CoreUtils.copyToClipboard(this.content || '');\n    }\n\n}\n","<ion-header>\n    <ion-toolbar>\n        <ion-title>\n            <h1>{{ title }}</h1>\n        </ion-title>\n        <ion-buttons slot=\"end\">\n            <ion-button fill=\"clear\" (click)=\"closeModal()\" [attr.aria-label]=\"'core.close' | translate\">\n                <ion-icon slot=\"icon-only\" name=\"fas-xmark\" aria-hidden=\"true\" />\n            </ion-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n<ion-content class=\"ion-padding\">\n    <core-format-text [text]=\"content\" [component]=\"component\" [componentId]=\"componentId\" [filter]=\"filter\" [contextLevel]=\"contextLevel\"\n        [contextInstanceId]=\"instanceId\" [courseId]=\"courseId\" />\n\n    <ion-card *ngIf=\"files?.length\">\n        <core-file *ngFor=\"let file of files\" [file]=\"file\" [component]=\"component\" [componentId]=\"componentId\" />\n    </ion-card>\n</ion-content>\n<ion-footer *ngIf=\"displayCopyButton\">\n    <ion-button expand=\"block\" fill=\"outline\" (click)=\"copyText()\">\n        <ion-icon name=\"fas-copy\" aria-hidden=\"true\" slot=\"start\" />\n        {{ 'core.copytoclipboard' | translate }}\n    </ion-button>\n</ion-footer>\n"],"mappings":";AAiBA,SAASA,SAAS,QAAQ,uBAAuB;AACjD,SAASC,eAAe,QAAQ,aAAa;;;;ICDrCC,EAAA,CAAAC,SAAA,mBAA0G;;;;;IAApED,EAAA,CAAAE,UAAA,SAAAC,OAAA,CAAa,cAAAC,MAAA,CAAAC,SAAA,iBAAAD,MAAA,CAAAE,WAAA;;;;;IADvDN,EAAA,CAAAO,cAAA,eAAgC;IAC5BP,EAAA,CAAAQ,UAAA,IAAAC,wDAAA,uBAA0G;IAC9GT,EAAA,CAAAU,YAAA,EAAW;;;;IADqBV,EAAA,CAAAW,SAAA,GAAQ;IAARX,EAAA,CAAAE,UAAA,YAAAU,MAAA,CAAAC,KAAA,CAAQ;;;;;;IAG5Cb,EAAA,CAAAO,cAAA,iBAAsC;IACQP,EAAA,CAAAc,UAAA,mBAAAC,2EAAA;MAAAf,EAAA,CAAAgB,aAAA,CAAAC,GAAA;MAAA,MAAAC,MAAA,GAAAlB,EAAA,CAAAmB,aAAA;MAAA,OAASnB,EAAA,CAAAoB,WAAA,CAAAF,MAAA,CAAAG,QAAA,EAAU;IAAA,EAAC;IAC1DrB,EAAA,CAAAC,SAAA,kBAA4D;IAC5DD,EAAA,CAAAsB,MAAA,GACJ;;IAAAtB,EAAA,CAAAU,YAAA,EAAa;;;IADTV,EAAA,CAAAW,SAAA,GACJ;IADIX,EAAA,CAAAuB,kBAAA,MAAAvB,EAAA,CAAAwB,WAAA,oCACJ;;;ADJJ;;;AAQA,OAAM,MAAOC,uBAAuB;EAahC;;;EAGAC,UAAUA,CAAA;IACN3B,eAAe,CAAC4B,OAAO,EAAE;EAC7B;EAEA;;;EAGAN,QAAQA,CAAA;IACJvB,SAAS,CAAC8B,eAAe,CAAC,IAAI,CAACC,OAAO,IAAI,EAAE,CAAC;EACjD;;SAzBSJ,uBAAuB;;mBAAvBA,MAAuB;AAAA;;QAAvBA,MAAuB;EAAAK,SAAA;EAAAC,MAAA;IAAAC,KAAA;IAAAH,OAAA;IAAAxB,SAAA;IAAAC,WAAA;IAAAO,KAAA;IAAAoB,MAAA;IAAAC,YAAA;IAAAC,UAAA;IAAAC,QAAA;IAAAC,iBAAA;EAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,iCAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MC5BpC3C,EAAA,CAAAO,cAAA,iBAAY;MAGIP,EAAA,CAAAsB,MAAA,GAAW;MAAAtB,EAAA,CAAAU,YAAA,EAAK;MAExBV,EAAA,CAAAO,cAAA,qBAAwB;MACKP,EAAA,CAAAc,UAAA,mBAAA+B,6DAAA;QAAA,OAASD,GAAA,CAAAlB,UAAA,EAAY;MAAA,EAAC;;MAC3C1B,EAAA,CAAAC,SAAA,kBAAiE;MACrED,EAAA,CAAAU,YAAA,EAAa;MAIzBV,EAAA,CAAAO,cAAA,qBAAiC;MAC7BP,EAAA,CAAAC,SAAA,2BAC6D;MAE7DD,EAAA,CAAAQ,UAAA,KAAAsC,4CAAA,sBAEW;MACf9C,EAAA,CAAAU,YAAA,EAAc;MACdV,EAAA,CAAAQ,UAAA,KAAAuC,8CAAA,wBAKa;;;MAtBG/C,EAAA,CAAAW,SAAA,GAAW;MAAXX,EAAA,CAAAgD,iBAAA,CAAAJ,GAAA,CAAAZ,KAAA,CAAW;MAGiChC,EAAA,CAAAW,SAAA,GAA4C;MAA5CX,EAAA,CAAAiD,WAAA,eAAAjD,EAAA,CAAAwB,WAAA,sBAA4C;MAOlFxB,EAAA,CAAAW,SAAA,GAAgB;MAAhBX,EAAA,CAAAE,UAAA,SAAA0C,GAAA,CAAAf,OAAA,CAAgB,cAAAe,GAAA,CAAAvC,SAAA,iBAAAuC,GAAA,CAAAtC,WAAA,YAAAsC,GAAA,CAAAX,MAAA,kBAAAW,GAAA,CAAAV,YAAA,uBAAAU,GAAA,CAAAT,UAAA,cAAAS,GAAA,CAAAR,QAAA;MAGvBpC,EAAA,CAAAW,SAAA,GAAmB;MAAnBX,EAAA,CAAAE,UAAA,SAAA0C,GAAA,CAAA/B,KAAA,kBAAA+B,GAAA,CAAA/B,KAAA,CAAAqC,MAAA,CAAmB;MAIrBlD,EAAA,CAAAW,SAAA,GAAuB;MAAvBX,EAAA,CAAAE,UAAA,SAAA0C,GAAA,CAAAP,iBAAA,CAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}