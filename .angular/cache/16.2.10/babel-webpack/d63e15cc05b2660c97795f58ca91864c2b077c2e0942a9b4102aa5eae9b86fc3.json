{"ast":null,"code":"import _asyncToGenerator from \"/home/toon/works/gitionic7/ionic-github/ionic/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\nimport { CoreSitePluginsBaseHandler } from './base-handler';\nimport { CoreSitePluginsCourseFormatComponent } from '../../components/course-format/course-format';\n/**\n * Handler to support a course format using a site plugin.\n */\nexport class CoreSitePluginsCourseFormatHandler extends CoreSitePluginsBaseHandler {\n  constructor(name, format, handlerSchema) {\n    super(name);\n    this.format = format;\n    this.handlerSchema = handlerSchema;\n  }\n  /**\n   * @inheritdoc\n   */\n  canViewAllSections() {\n    var _this$handlerSchema$c;\n    return (_this$handlerSchema$c = this.handlerSchema.canviewallsections) !== null && _this$handlerSchema$c !== void 0 ? _this$handlerSchema$c : true;\n  }\n  /**\n   * @inheritdoc\n   */\n  displayCourseIndex() {\n    var _this$handlerSchema$d;\n    // Use displaysectionselector while is not completely deprecated.\n    return (_this$handlerSchema$d = this.handlerSchema.displaycourseindex) !== null && _this$handlerSchema$d !== void 0 ? _this$handlerSchema$d : true;\n  }\n  /**\n   * @inheritdoc\n   */\n  getCourseFormatComponent() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.handlerSchema.method) {\n        return CoreSitePluginsCourseFormatComponent;\n      }\n    })();\n  }\n}","map":{"version":3,"names":["CoreSitePluginsBaseHandler","CoreSitePluginsCourseFormatComponent","CoreSitePluginsCourseFormatHandler","constructor","name","format","handlerSchema","canViewAllSections","_this$handlerSchema$c","canviewallsections","displayCourseIndex","_this$handlerSchema$d","displaycourseindex","getCourseFormatComponent","_this","_asyncToGenerator","method"],"sources":["/home/toon/works/gitionic7/ionic-github/ionic/src/core/features/siteplugins/classes/handlers/course-format-handler.ts"],"sourcesContent":["// (C) Copyright 2015 Moodle Pty Ltd.\n//\n// Licensed under the Apache License, Version 2.0 (the \"License\");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n//\n//     http://www.apache.org/licenses/LICENSE-2.0\n//\n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an \"AS IS\" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n\nimport { Type } from '@angular/core';\n\nimport { CoreCourseFormatHandler } from '@features/course/services/format-delegate';\nimport { CoreSitePluginsCourseFormatHandlerData } from '@features/siteplugins/services/siteplugins';\nimport { CoreSitePluginsBaseHandler } from './base-handler';\nimport { CoreSitePluginsCourseFormatComponent } from '../../components/course-format/course-format';\n\n/**\n * Handler to support a course format using a site plugin.\n */\nexport class CoreSitePluginsCourseFormatHandler extends CoreSitePluginsBaseHandler implements CoreCourseFormatHandler {\n\n    constructor(name: string, public format: string, protected handlerSchema: CoreSitePluginsCourseFormatHandlerData) {\n        super(name);\n    }\n\n    /**\n     * @inheritdoc\n     */\n    canViewAllSections(): boolean {\n        return this.handlerSchema.canviewallsections ?? true;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    displayCourseIndex(): boolean {\n        // Use displaysectionselector while is not completely deprecated.\n        return this.handlerSchema.displaycourseindex ?? true;\n    }\n\n    /**\n     * @inheritdoc\n     */\n    async getCourseFormatComponent(): Promise<Type<unknown> | undefined> {\n        if (this.handlerSchema.method) {\n            return CoreSitePluginsCourseFormatComponent;\n        }\n    }\n\n}\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA,SAASA,0BAA0B,QAAQ,gBAAgB;AAC3D,SAASC,oCAAoC,QAAQ,8CAA8C;AAEnG;;;AAGA,OAAM,MAAOC,kCAAmC,SAAQF,0BAA0B;EAE9EG,YAAYC,IAAY,EAASC,MAAc,EAAYC,aAAqD;IAC5G,KAAK,CAACF,IAAI,CAAC;IADkB,KAAAC,MAAM,GAANA,MAAM;IAAoB,KAAAC,aAAa,GAAbA,aAAa;EAExE;EAEA;;;EAGAC,kBAAkBA,CAAA;IAAA,IAAAC,qBAAA;IACd,QAAAA,qBAAA,GAAO,IAAI,CAACF,aAAa,CAACG,kBAAkB,cAAAD,qBAAA,cAAAA,qBAAA,GAAI,IAAI;EACxD;EAEA;;;EAGAE,kBAAkBA,CAAA;IAAA,IAAAC,qBAAA;IACd;IACA,QAAAA,qBAAA,GAAO,IAAI,CAACL,aAAa,CAACM,kBAAkB,cAAAD,qBAAA,cAAAA,qBAAA,GAAI,IAAI;EACxD;EAEA;;;EAGME,wBAAwBA,CAAA;IAAA,IAAAC,KAAA;IAAA,OAAAC,iBAAA;MAC1B,IAAID,KAAI,CAACR,aAAa,CAACU,MAAM,EAAE;QAC3B,OAAOf,oCAAoC;;IAC9C;EACL"},"metadata":{},"sourceType":"module","externalDependencies":[]}